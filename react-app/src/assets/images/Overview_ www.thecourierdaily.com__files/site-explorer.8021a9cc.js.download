!function(){var e,t,r,a,o,i,n={24090:function(e,t,r){"use strict";r.r(t),r.d(t,{$$Array:function(){},$$Map:function(){},$$Option:function(){},$$Range:function(){},$$Set:function(){},$$String:function(){},$plus$plus$plus:function(){return a},Atd:function(){},Bool:function(){},Float:function(){},Fn:function(){},Fresh:function(){},HashMap:function(){},HashSet:function(){},Id:function(){},Int:function(){},List:function(){},MutableMap:function(){},MutableSet:function(){},MutableStack:function(){},Result:function(){},SortArray:function(){},Variant:function(){}});var a=r(91239).spaceConcat},48639:function(e,t,r){"use strict";r.r(t),r.d(t,{blit:function(){return K},blitUnsafe:function(){return q},cmp:function(){return ke},cmpU:function(){return he},concat:function(){return A},concatMany:function(){return R},eq:function(){return ye},eqU:function(){return ve},every:function(){return ge},every2:function(){return fe},every2U:function(){return me},everyU:function(){return ue},fill:function(){return B},filter:function(){return De},filterMap:function(){return Fe},filterWithIndex:function(){return Se},flatten:function(){return we},forEach:function(){return W},forEachU:function(){return x},forEachWithIndex:function(){return z},forEachWithIndexU:function(){return H},get:function(){return g},getBy:function(){return $},getByU:function(){return N},getExn:function(){return m},getIndexBy:function(){return G},getIndexByU:function(){return I},groupBy:function(){return c},joinWithNewLine:function(){return l},joinWithU:function(){return le},keep:function(){return Te},keepMap:function(){return Pe},keepMapU:function(){return j},keepU:function(){return Q},keepWithIndex:function(){return be},keepWithIndexU:function(){return V},last:function(){return u},make:function(){return y},makeBy:function(){return C},makeByAndShuffle:function(){return T},makeByAndShuffleU:function(){return w},makeByU:function(){return F},map:function(){return O},map2:function(){return Ce},mapU:function(){return U},mapWithIndex:function(){return J},mapWithIndexU:function(){return Y},partition:function(){return Z},partitionU:function(){return X},range:function(){return D},rangeBy:function(){return S},reduce:function(){return te},reduceReverse:function(){return ae},reduceReverse2:function(){return ie},reduceReverse2U:function(){return oe},reduceReverseU:function(){return re},reduceU:function(){return ee},reduceWithIndex:function(){return se},reduceWithIndexU:function(){return ne},reverse:function(){return v},reverseInPlace:function(){return k},set:function(){return f},setExn:function(){return p},shuffle:function(){return h},shuffleInPlace:function(){return _},slice:function(){return L},sliceToEnd:function(){return E},smallArrayUnique:function(){return d},some:function(){return ce},some2:function(){return _e},some2U:function(){return pe},someU:function(){return de},unzip:function(){return M},zip:function(){return b},zipBy:function(){return Me},zipByU:function(){return P}});var a=r(45972),o=r(36205),i=r(56719),n=r(16677),s=r(29414);function l(e){return e.join("\n")}function d(e){return s.keepWithIndex(e,(function(t,r){return e.indexOf(t)===r}))}function c(e,t,r){var l=o.comparable(r),d=i.make(l);return i.toArray(i.map(s.reduce(e,d,(function(e,r){return i.update(e,a._1(t,r),(function(e){return void 0!==e?{hd:r,tl:e}:{hd:r,tl:0}}))})),n.toArray))}function u(e){return s.get(e,e.length-1|0)}var g=s.get,m=s.getExn,f=s.set,p=s.setExn,_=s.shuffleInPlace,h=s.shuffle,k=s.reverseInPlace,v=s.reverse,y=s.make,D=s.range,S=s.rangeBy,F=s.makeByU,C=s.makeBy,w=s.makeByAndShuffleU,T=s.makeByAndShuffle,b=s.zip,P=s.zipByU,M=s.unzip,A=s.concat,R=s.concatMany,L=s.slice,E=s.sliceToEnd,B=s.fill,K=s.blit,q=s.blitUnsafe,x=s.forEachU,W=s.forEach,U=s.mapU,O=s.map,N=s.getByU,$=s.getBy,I=s.getIndexByU,G=s.getIndexBy,Q=s.keepU,V=s.keepWithIndexU,j=s.keepMapU,H=s.forEachWithIndexU,z=s.forEachWithIndex,Y=s.mapWithIndexU,J=s.mapWithIndex,X=s.partitionU,Z=s.partition,ee=s.reduceU,te=s.reduce,re=s.reduceReverseU,ae=s.reduceReverse,oe=s.reduceReverse2U,ie=s.reduceReverse2,ne=s.reduceWithIndexU,se=s.reduceWithIndex,le=s.joinWithU,de=s.someU,ce=s.some,ue=s.everyU,ge=s.every,me=s.every2U,fe=s.every2,pe=s.some2U,_e=s.some2,he=s.cmpU,ke=s.cmp,ve=s.eqU,ye=s.eq,De=s.keep,Se=s.keepWithIndex,Fe=s.keepMap,Ce=s.zipBy,we=s.concatMany,Te="Use_Array_filter_instead",be="Use_Array_filterWithIndex_instead",Pe="Use_Array_filterMap_instead",Me="Use_Array_map2_instead"},93939:function(e,t,r){"use strict";r.r(t),r.d(t,{add:function(){return L},cmp:function(){return Me},cmpByLength:function(){return be},cmpU:function(){return Pe},concat:function(){return $},concatMany:function(){return I},drop:function(){return U},eq:function(){return Re},eqU:function(){return Ae},every:function(){return ye},every2:function(){return Ce},every2U:function(){return Fe},everyU:function(){return ve},filter:function(){return Xe},filterMap:function(){return et},filterWithIndex:function(){return Ze},findOpt:function(){return _},flatMap:function(){return k},flatten:function(){return Q},forEach:function(){return u},forEach2:function(){return fe},forEach2U:function(){return me},forEachU:function(){return c},forEachWithIndex:function(){return oe},forEachWithIndexU:function(){return ae},forEachWithReturn:function(){return nt},fromArray:function(){return X},get:function(){return E},getAssoc:function(){return Ie},getAssocU:function(){return $e},getBy:function(){return Ke},getByU:function(){return Be},getByWithMap:function(){return C},getExn:function(){return B},getIndex:function(){return w},has:function(){return Ee},hasAssoc:function(){return Qe},hasAssocU:function(){return Ge},hasU:function(){return Le},head:function(){return P},headExn:function(){return M},intersperse:function(){return p},intersperseWithIndex:function(){return f},joinWith:function(){return l},joinWithNewLine:function(){return d},keep:function(){return rt},keepMap:function(){return ot},keepMapU:function(){return We},keepU:function(){return qe},keepWithIndex:function(){return at},keepWithIndexU:function(){return xe},length:function(){return T},make:function(){return K},makeBy:function(){return x},makeByU:function(){return q},map:function(){return j},map2:function(){return tt},map3WithIndex:function(){return g},mapFromArray:function(){return S},mapReverse:function(){return re},mapReverse2:function(){return ge},mapReverse2U:function(){return ue},mapReverseU:function(){return te},mapU:function(){return V},mapWithIndex:function(){return J},mapWithIndexU:function(){return Y},partition:function(){return Oe},partitionMap:function(){return v},partitionU:function(){return Ue},range:function(){return F},reduce:function(){return ne},reduce2:function(){return _e},reduce2U:function(){return pe},reduce3WithIndex:function(){return m},reduceReverse:function(){return ce},reduceReverse2:function(){return ke},reduceReverse2U:function(){return he},reduceReverseU:function(){return de},reduceU:function(){return ie},reduceWithIndex:function(){return le},reduceWithIndexU:function(){return se},removeAssoc:function(){return je},removeAssocU:function(){return Ve},reverse:function(){return ee},reverseConcat:function(){return G},setAssoc:function(){return ze},setAssocU:function(){return He},shuffle:function(){return W},size:function(){return b},slice:function(){return D},some:function(){return Se},some2:function(){return Te},some2U:function(){return we},someU:function(){return De},sort:function(){return Je},sortU:function(){return Ye},splitAt:function(){return N},tail:function(){return A},tailExn:function(){return R},take:function(){return O},toArray:function(){return Z},toggleValue:function(){return y},uniq:function(){return h},unzip:function(){return Ne},zip:function(){return H},zipBy:function(){return it},zipByU:function(){return z}});var a=r(52377),o=r(45972),i=r(78449),n=r(16677),s=r(96797);function l(e,t){return i.concat(t,e)}function d(e){return i.concat("\n",e)}function c(e,t){for(;;){var r=e;if(!r)return;t(r.hd),e=r.tl}}function u(e,t){return c(e,o.__1(t))}function g(e,t,r,i){for(var n=0,s=0,l=t,d=r,c=i;;){var u=c,g=d,m=l,f=s,p=n;if(!m)return a.rev(f);if(!g)return a.rev(f);if(!u)return a.rev(f);c=u.tl,d=g.tl,l=m.tl,s={hd:o._4(e,p,m.hd,g.hd,u.hd),tl:f},n=p+1|0}}function m(e,t,r,a,i){for(var n=0,s=a,l=e,d=t,c=r;;){var u=c,g=d,m=l,f=s,p=n;if(!m)return f;if(!g)return f;if(!u)return f;c=u.tl,d=g.tl,l=m.tl,s=o._5(i,p,f,m.hd,g.hd,u.hd),n=p+1|0}}function f(e,t){for(var r=0,a=0,i=e;;){var s=i,l=a,d=r;if(!s)return n.reverse(l);var c=s.tl,u=s.hd;if(!c)return n.reverse({hd:u,tl:l});i=c,a={hd:o._1(t,d+1|0),tl:{hd:u,tl:l}},r=d+2|0}}function p(e,t){return f(e,(function(e){return o._1(t,void 0)}))}function _(e,t){for(;;){var r=e;if(!r)return;var a=o._1(t,r.hd);if(s.isSome(a))return a;e=r.tl}}function h(e,t){for(var r=0,a=e;;){var o=a,i=r;if(!o)return n.reverse(i);var s=o.tl,l=o.hd;n.has(s,l,t)?a=s:(a=s,r={hd:l,tl:i})}}function k(e,t){return n.flatten(n.map(e,t))}function v(e,t){for(var r=0,i=0,n=e;;){var s=n,l=i,d=r;if(!s)return[a.rev(d),a.rev(l)];var c=s.tl,u=o._1(t,s.hd);"string"!=typeof u?"right"!==u.NAME?(n=c,r={hd:u.VAL,tl:d}):(n=c,i={hd:u.VAL,tl:l}):n=c}}function y(e,t,r){for(var a=0,i=e;;){var s=i,l=a;if(!s)return n.reverse({hd:t,tl:l});var d=s.tl,c=s.hd;if(o._2(r,c,t))return n.reverse(n.concat(n.reverse(d),l));i=d,a={hd:c,tl:l}}}function D(e,t,r){return n.keepWithIndex(r,(function(r,a){return a>=e&&a<t}))}function S(e,t){return n.map(n.fromArray(e),t)}function F(e,t){for(var r=t,a=0;;){if(r<e)return a;a={hd:r,tl:a},r=r-1|0}}function C(e,t){return s.flatMap(n.getBy(e,(function(e){return s.isSome(o._1(t,e))})),t)}function w(e,t){for(var r=e,a=0;;){var i=a,n=r;if(!n)return;if(o._1(t,n.hd))return i;a=i+1|0,r=n.tl}}var T=n.length,b=n.size,P=n.head,M=n.headExn,A=n.tail,R=n.tailExn,L=n.add,E=n.get,B=n.getExn,K=n.make,q=n.makeByU,x=n.makeBy,W=n.shuffle,U=n.drop,O=n.take,N=n.splitAt,$=n.concat,I=n.concatMany,G=n.reverseConcat,Q=n.flatten,V=n.mapU,j=n.map,H=n.zip,z=n.zipByU,Y=n.mapWithIndexU,J=n.mapWithIndex,X=n.fromArray,Z=n.toArray,ee=n.reverse,te=n.mapReverseU,re=n.mapReverse,ae=n.forEachWithIndexU,oe=n.forEachWithIndex,ie=n.reduceU,ne=n.reduce,se=n.reduceWithIndexU,le=n.reduceWithIndex,de=n.reduceReverseU,ce=n.reduceReverse,ue=n.mapReverse2U,ge=n.mapReverse2,me=n.forEach2U,fe=n.forEach2,pe=n.reduce2U,_e=n.reduce2,he=n.reduceReverse2U,ke=n.reduceReverse2,ve=n.everyU,ye=n.every,De=n.someU,Se=n.some,Fe=n.every2U,Ce=n.every2,we=n.some2U,Te=n.some2,be=n.cmpByLength,Pe=n.cmpU,Me=n.cmp,Ae=n.eqU,Re=n.eq,Le=n.hasU,Ee=n.has,Be=n.getByU,Ke=n.getBy,qe=n.keepU,xe=n.keepWithIndexU,We=n.keepMapU,Ue=n.partitionU,Oe=n.partition,Ne=n.unzip,$e=n.getAssocU,Ie=n.getAssoc,Ge=n.hasAssocU,Qe=n.hasAssoc,Ve=n.removeAssocU,je=n.removeAssoc,He=n.setAssocU,ze=n.setAssoc,Ye=n.sortU,Je=n.sort,Xe=n.keep,Ze=n.keepWithIndex,et=n.keepMap,tt=n.zipBy,rt="Use_List_filter_instead",at="Use_List_filterWithIndex_instead",ot="Use_List_filterMap_instead",it="Use_List_map2_instead",nt=n.forEach},96797:function(e,t,r){"use strict";r.r(t),r.d(t,{cmp:function(){return T},cmpU:function(){return w},eq:function(){return C},eqU:function(){return F},flatMap:function(){return v},flatMap2:function(){return n},flatMapU:function(){return k},forEach:function(){return g},forEachU:function(){return u},getExn:function(){return m},getWithDefault:function(){return y},isNone:function(){return S},isSome:function(){return D},map:function(){return h},map2:function(){return s},map2WithDefault:function(){return d},map4:function(){return l},map4WithDefault:function(){return c},mapU:function(){return _},mapWithDefault:function(){return p},mapWithDefaultU:function(){return f}});var a=r(45972),o=r(58098),i=r(59330);function n(e,t,r){if(void 0!==e&&void 0!==t)return a._2(r,i.valFromOption(e),i.valFromOption(t))}function s(e,t,r){if(void 0!==e&&void 0!==t)return i.some(a._2(r,i.valFromOption(e),i.valFromOption(t)))}function l(e,t,r,o,n){if(void 0!==e&&void 0!==t&&void 0!==r&&void 0!==o)return i.some(a._4(n,i.valFromOption(e),i.valFromOption(t),i.valFromOption(r),i.valFromOption(o)))}function d(e,t,r,o){return void 0!==t&&void 0!==r?a._2(o,i.valFromOption(t),i.valFromOption(r)):e}function c(e,t,r,o,n,s){return void 0!==t&&void 0!==r&&void 0!==o&&void 0!==n?a._4(s,i.valFromOption(t),i.valFromOption(r),i.valFromOption(o),i.valFromOption(n)):e}var u=o.forEachU,g=o.forEach,m=o.getExn,f=o.mapWithDefaultU,p=o.mapWithDefault,_=o.mapU,h=o.map,k=o.flatMapU,v=o.flatMap,y=o.getWithDefault,D=o.isSome,S=o.isNone,F=o.eqU,C=o.eq,w=o.cmpU,T=o.cmp},77996:function(e,t,r){"use strict";r.r(t),r.d(t,{$$String:function(){return s},Dict:function(){return l},Int:function(){return n},add:function(){return f},checkInvariantInternal:function(){return j},cmp:function(){return S},diff:function(){return y},eq:function(){return F},every:function(){return M},everyU:function(){return P},forEach:function(){return w},forEachU:function(){return C},fromArray:function(){return c},fromList:function(){return i},fromSortedArrayUnsafe:function(){return u},get:function(){return I},getData:function(){return H},getExn:function(){return Q},getId:function(){return z},getUndefined:function(){return G},has:function(){return m},intersect:function(){return v},isEmpty:function(){return g},keep:function(){return E},keepU:function(){return L},make:function(){return d},maxUndefined:function(){return $},maximum:function(){return N},mergeMany:function(){return p},minUndefined:function(){return O},minimum:function(){return U},packIdData:function(){return Y},partition:function(){return K},partitionU:function(){return B},reduce:function(){return b},reduceU:function(){return T},remove:function(){return _},removeMany:function(){return h},size:function(){return q},some:function(){return R},someU:function(){return A},split:function(){return V},subset:function(){return D},toArray:function(){return x},toList:function(){return W},union:function(){return k}});var a=r(40372),o=r(16677);function i(e,t){return a.fromArray(o.toArray(e),t)}var n=a.Int,s=a.$$String,l=a.Dict,d=a.make,c=a.fromArray,u=a.fromSortedArrayUnsafe,g=a.isEmpty,m=a.has,f=a.add,p=a.mergeMany,_=a.remove,h=a.removeMany,k=a.union,v=a.intersect,y=a.diff,D=a.subset,S=a.cmp,F=a.eq,C=a.forEachU,w=a.forEach,T=a.reduceU,b=a.reduce,P=a.everyU,M=a.every,A=a.someU,R=a.some,L=a.keepU,E=a.keep,B=a.partitionU,K=a.partition,q=a.size,x=a.toArray,W=a.toList,U=a.minimum,O=a.minUndefined,N=a.maximum,$=a.maxUndefined,I=a.get,G=a.getUndefined,Q=a.getExn,V=a.split,j=a.checkInvariantInternal,H=a.getData,z=a.getId,Y=a.packIdData},25270:function(e,t,r){"use strict";r.r(t),r.d(t,{$$String:function(){return i},Int:function(){return o},binarySearchBy:function(){return p},binarySearchByU:function(){return f},diff:function(){return D},diffU:function(){return y},intersect:function(){return v},intersectU:function(){return k},isSorted:function(){return d},isSortedU:function(){return l},stableSortBy:function(){return m},stableSortByU:function(){return g},stableSortInPlaceBy:function(){return u},stableSortInPlaceByU:function(){return c},strictlySortedLength:function(){return s},strictlySortedLengthU:function(){return n},union:function(){return h},unionU:function(){return _}});var a=r(42937),o=a.Int,i=a.$$String,n=a.strictlySortedLengthU,s=a.strictlySortedLength,l=a.isSortedU,d=a.isSorted,c=a.stableSortInPlaceByU,u=a.stableSortInPlaceBy,g=a.stableSortByU,m=a.stableSortBy,f=a.binarySearchByU,p=a.binarySearchBy,_=a.unionU,h=a.union,k=a.intersectU,v=a.intersect,y=a.diffU,D=a.diff},91239:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return c},caseInsensitiveCompare:function(){return v},caseInsensitiveIncludes:function(){return y},compare:function(){return C},equal:function(){return w},get:function(){return T},getNotBlank:function(){return f},getOpt:function(){return d},isBlank:function(){return u},isNotBlank:function(){return g},match_:function(){return _},replaceBlank:function(){return m},replacePart:function(){return F},spaceConcat:function(){return h},splitByNewlines:function(){return S},stripNullChars:function(){return k},toWeakIntHash:function(){return D},trimTo:function(){return p}});var a=r(78449),o=r(29414),i=r(93939),n=r(58098),s=r(59330),l=r(48639);function d(e,t){var r=e.charAt(t);return""===r?void 0:r}function c(e){return""===e?"":e.charAt(0).toUpperCase()+e.substring(1)}function u(e){return""===e.trim()}function g(e){return""!==e.trim()}function m(e,t){return""===e.trim()?t:e}function f(e){if(""!==e.trim())return a.trim(e)}function p(e,t){return e.length>t?a.trim(e.substring(0,t))+"…":e}function _(e,t){return n.map(s.null_to_opt(e.match(t)),(function(e){return o.map(e,(function(e){return""===e?void 0:e}))}))}function h(e,t){return""===e?t:""===t?e:e+" "+t}function k(e){return e.replace(/\0/g,"")}function v(e,t){return a.compare(e.toLowerCase(),t.toLowerCase())}function y(e,t){return e.toLowerCase().includes(t.toLowerCase())}function D(e){for(var t=0,r=0,a=e.length;r<a;++r){var o=e.codePointAt(r);void 0!==o&&(t=(o+(t<<5)|0)-t|0)}return t}function S(e){return l.filterMap(e.split(/\r?\n/),(function(e){return e}))}function F(e,t,r,a){return i.joinWith({hd:a.slice(0,e),tl:{hd:r,tl:{hd:a.slice(t),tl:0}}},"")}var C=a.compare,w=a.equal,T="Use_String_getOpt_instead"},15379:function(e,t,r){"use strict";r.r(t),r.d(t,{limits:function(){return dx}});var a=r(35748),o=r(70587),i=r(71714),n=r(97284),s=r(45972),l=r(59330),d=r(25413),c=r(83920),u=r(21328),g=r(72917),m=r(90858),f=r(98900),p=r(27759),_=r(93759),h=r(62103),k=r(73306),v=r(77957),y=r(77373),D=r(98967),S=r(36799),F=r(62628),C=r(79482),w=r(85362),T=r(29800),b=r(17614),P=r(52500),M=r(70202);function A(e,t,r){return d.performNew(e,void 0,void 0,void 0,void 0,t,r)}function R(e,t,r){return d.performResult(e,void 0,t,r)}function L(e,t,r,a,o){var i=void 0!==r?r:"";return d.exportWithError(void 0,void 0,t,void 0,i,e,c.read_commonError,a,o)}function E(e){return"string"==typeof e||"Compared"!==e.NAME?void 0:l.some(e.VAL.comparedWith)}function B(e,t,r,a,o,i,n,s,l){return R(e,m.request,{aggregation:s,se_params:{history_mode:o,since:i,target:t,mode:r,protocol:a},params:n})}function K(e,t,r,a,o,i,n,s,l,d,c){return R(e,k.request,{se_params:{se_params:{history_mode:o,since:i,target:t,mode:r,protocol:a},group_key:s,group_witness:l},params:n,signedEnvironment:d})}function q(e,t,r,a,o,i,n,s){return R(e,f.request,{se_params:{history_mode:o,since:i,target:t,mode:r,protocol:a},params:n})}function x(e,t,r,a,o,i,n){return R(e,C.request,{args:{mode:r,protocol:a,url:t,reportMode:o},filter:i})}function W(e,t,r,a,o){return R(void 0,p.request,{protocol:o.protocol,target:n.Protocolless_url.show(o.url),mode:o.mode,keyword:e,country:t,last_update:r,language:a})}function U(e){return A(void 0,h.request,{keywords:e})}function O(e){return R(void 0,M.request,n.Protocolless_url.show(e.url))}function N(e){return R(void 0,T.request,e.url)}function $(e,t,r,a,o,i,n){return R(e,b.request,{args:{mode:r,protocol:a,url:t,reportMode:o},filter:i})}function I(e,t,r,a,o,i,n,s,l){return L(e,t,void 0,y.request,{se_params:{history_mode:n,since:o,target:r,mode:a,protocol:i},params:s,with_new_lost:l})}function G(e,t,r,a,o,i,n,s,l){return L(e,t,void 0,v.request,{aggregation:l,se_params:{history_mode:n,since:o,target:r,mode:a,protocol:i},params:s})}function Q(e,t,r,a,o,i,n,s,l,d){return L(e,t,void 0,F.request,{se_params:{se_params:{history_mode:n,since:o,target:r,mode:a,protocol:i},group_key:l,group_witness:d},params:s})}var V=r(64455),j=r(57738),H=r(93302),z=(r(22488),r(3184)),Y=r(6486),J=r(27031),X=r(49596),Z=r(80094),ee=r(36205),te=r(96806),re=r(29639),ae=r(84496),oe=r(49654),ie=r(40691),ne=r(10999),se=r(38613),le=r(9634),de=r(83356),ce=r(93939),ue=r(57128),ge=r(48639),me=r(96797),fe=r(41237),pe=r(12078),_e=r(21258),he=r(86506),ke=(r(18477),r(33666),r(10199)),ve=(r(7178),r(29848)),ye=2!==o.env;function De(e){if(e<15)return!0;switch(e){case 15:case 16:case 17:return o.env<2}}function Se(e){return X.cleanupExportFilename(ce.joinWith(ce.filterMap(e,(function(e){return e})),"-")).substr(0,45)}var Fe={hd:_e.Color.Chart.blue,tl:{hd:_e.Color.Chart.blueMidMuted,tl:{hd:_e.Color.Chart.orange,tl:{hd:_e.Color.Chart.yellowMidMuted,tl:{hd:_e.Color.Chart.green,tl:{hd:_e.Color.Chart.greenMidMuted,tl:{hd:_e.Color.Chart.red,tl:{hd:_e.Color.Chart.redMidMuted,tl:{hd:_e.Color.Chart.violet,tl:{hd:_e.Color.Chart.violetMidMuted,tl:0}}}}}}}}}},Ce=re.momentUtc(["DD/MM/YYYY"],"01/03/2013"),we=re.momentUtc(["DD/MM/YYYY"],"08/08/2022");function Te(e){if("string"==typeof e)return ne.moment(void 0,Z(),"dateWithDashes");if("Compared"!==e.NAME)return ne.dateUtc(void 0,e.VAL,"dateWithDashes");var t=e.VAL;return s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-vs-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-vs-%s"}),ne.dateUtc(void 0,t.actual,"dateWithDashes"),ne.dateUtc(void 0,t.comparedWith,"dateWithDashes"))}function be(e,t){return Te(e)===Te(t)}function Pe(e){return 0|Math.round(pe.USD.to_float(e))}function Me(e){return"$"+ae.Float.full(e)}function Ae(e){return"$"+ae.Float.tableAbbr(e/100)}function Re(e,t){if(e)return ce.map(e,(function(e){return[t,e]}))}function Le(e,t,r,a,o,i){return{args:{mode:a.mode,protocol:a.protocol,url:a.url,reportMode:i,country:o},order_by:r,filterTable:e,filterChart:t}}function Ee(e,t,r,a,o,i){var n=me.getWithDefault(ce.get(ce.filterMap(e,(function(e){if(void 0!==e&&0===e.TAG)return l.some(e._0.reqId)})),0),void 0);if(!ce.some(e,(function(e){return void 0!==e&&0!==e.TAG&&"SeRowsPerReportLimitReached"===e._0})))return z.createElement(le.make,{reqId:n,onClick:function(e){return s._1(r,void 0)}});var d={isUpgradable:a};return void 0!==t&&(d.onResetPagination=l.valFromOption(t)),z.createElement(ve.RowsPerReportLimitReached.make,d)}function Be(e,t,r){var a={hd:de.getError(e),tl:0};return function(e){return Ee(a,void 0,t,r)}}function Ke(e,t,r,a){var o=t,i={hd:de.getError(e),tl:0};return function(e){return Ee(i,o,r,a)}}function qe(e,t,r){var a={hd:de.getError(e[0]),tl:{hd:de.getError(e[1]),tl:0}};return function(e){return Ee(a,void 0,t,r)}}function xe(e){if(e)return e._0}var We=ee.MakeComparable({cmp:se.compare});function Ue(e,t){var r,o,i=ue.use(t);if(void 0!==e)if("number"==typeof t)r="number"==typeof i||2!==i.TAG?0:oe.getWithDefault(i._0,e,0);else switch(0|t.TAG){case 0:case 1:r=0;break;case 2:r=oe.getWithDefault(t._0,e,0)}else r=0;var n=0;if(void 0!==e)if("number"==typeof t)n="number"==typeof i||2!==i.TAG?1:2;else switch(0|t.TAG){case 0:n=1;break;case 1:case 2:n=2}else n=1;switch(n){case 1:o=z.createElement(Y.Icon.make,{size:"sm"});break;case 2:var l={resultsStr:a.s(ae.Int.full(r)),results:r};o=z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"c3e2e3e1295b50b0d74c9b16bbe79a7a",defaultMessage:"{resultsStr} {results, plural, zero {keywords} one {keyword} few {keywords} other {keywords}}"},l)})}return[r,o]}function Oe(e){return fe.canUpgradeToExtendHistory(e.isUpgradable,e.reportHistoricalPermissions)}function Ne(e,t,r){var a=e?de.isLoading(t)||de.isLoading(r):de.isLoading(t),o=te.Table.getFailureState(t),i=te.Table.getFailureState(r);return[a,e&&0===o?i:o]}function $e(e){return e.replace(/,/g,",,")}function Ie(e,t){z.useEffect((function(){he.replace(i.makeStringWithQueryDict(i.makePathname(e),l.some(t),void 0,void 0,void 0))}),[])}function Ge(e){return e.signal.aborted}var Qe=se.us,Ve=r(58226),je=r(25366).create("SeUrl.PageDoesntExist");function He(e,t){var r=function(e){var t=i.parseQuery(e,void 0,void 0,void 0),r=[0,"example.net"];try{return me.mapWithDefault(Ve.Deprecated.getter(t),r,(function(e){return e.startsWith("http://")?[1,e.replace("http://","")]:e.startsWith("https://")?[2,e.replace("https://","")]:[0,e]}))}catch(e){return r}}(t),a=function(e){var t;if(e){var r=e.hd,a=e.tl;if(a){var o=a.tl;if(o)if(o.tl||r!==j.V2.toolStr)t=[void 0,""];else{var i=j.V2.reportFromString(a.hd);t=void 0!==i&&De(i)?[i,o.hd]:[void 0,""]}else if("user"===r){if("login"===e.tl.hd)throw{RE_EXN_ID:je,_1:"Page doesn't exist",Error:new Error};t=[void 0,""]}else t=[void 0,""]}else t=[void 0,""]}else t=[void 0,""];return[t[0],V.fromStr(t[1])]}(e),o=Ve.make(r[0],r[1],a[1],void 0);return[a[0],o]}var ze=r(47388),Ye=r(89099),Je=r(35095),Xe=r(84604),Ze=r(53741),et=r(53660),tt=r(18709),rt=et.style([et.label("header"),et.display("flex"),et.backgroundColor(_e.ColorAlt.Background.box),et.padding4(tt.NewSize.px4,tt.NewSize.px16,tt.NewSize.px12,tt.NewSize.px16)]),at=et.style([et.label("settingsButtonWrapper"),et.display("flex"),et.unsafe("alignItems","center"),et.marginLeft(tt.NewSize.px16)]),ot=et.style([et.label("gdsDropdown"),et.marginLeft("auto")]),it=r(45894),nt=r(60550),st=function(e){var t=e.target,r=e.onChangeTarget,a=e.onToggleSettingsModal;return z.createElement("div",{className:rt},z.createElement(nt.make,{protocol:t.protocol,mode:t.mode,url:t.url,onChangeProtocol:function(e){return s._1(r,{protocol:e,url:t.url,mode:t.mode})},onChangeMode:function(e){return s._1(r,{protocol:t.protocol,url:t.url,mode:e})},onSuggestionSelected:function(e){return s._1(r,{protocol:t.protocol,url:e,mode:t.mode})},onSubmit:function(e,t,a){return s._1(r,{protocol:e,url:0===a.length?"example.net":a,mode:t})}}),z.createElement("div",{className:at},z.createElement(it.make,{color:"darkMuted",onClick:function(e){return s._1(a,void 0)},children:null},z.createElement(Xe.Setting.make,Xe.Setting.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"0ffcf1ab2f35f5bd4584360d6ffc2202",defaultMessage:"Settings"}))),z.createElement("div",{className:ot},z.createElement(Je.make,{fullHeight:!0,align:"center",children:z.createElement(Ze.make,{product:0,toggleElementSize:"lg"})})))},lt=r(59648),dt=r(75606),ct=r(26594),ut=r(704),gt=r(93512),mt=r(69638),ft=r(28113),pt=r(81407),_t=r(16727),ht=r(35287),kt=r(9585),vt=r(27733),yt=r(58551),Dt=r(7081),St=r(26566),Ft=r(11472),Ct=r(55156),wt=s._1(ke.Message.to_s,{id:"25a130e5c4cbca827c969e0e3d40cd25",defaultMessage:"Something went wrong. Please try again or contact support if this keeps happening."});function Tt(e){return"string"==typeof e?"SeInvalidUrl"===e||"SeRowsPerReportLimitReached"===e||"SeDomainIsNotVerified"===e||"SeReportDomainsWeeklyLimitReached"===e||"SeReportUrlsWeeklyLimitReached"===e||"SeRowsMonthlyLimitReached"===e?wt:"ExportRowsLimitReachedOnActiveStoppedSubscription"===e?s._1(ke.Message.to_s,{id:"a3de20ae9d9548e0ca57f80fd67cd58d",defaultMessage:"Export rows per month limit reached. Your subscription is stopped and pay-as-you-go addon can’t be purchased. Please contact support."}):s._1(ke.Message.to_s,{id:"a73315c19b93ff180b7079f7cc5a2b3b",defaultMessage:"Export rows per month limit reached."}):s._1(ke.Message.to_s,{id:"0eefe57d0a6820214fe284603054e0b7",defaultMessage:"Reports per month limit reached."})}var bt=function(e){var t,r=e.exportFunc,o=e.isTrial,i=e.limitResetDate,n=e.totalResults,d=e.maxRowsAllowed,c=e.limitedByMaxRows,u=e.target,g=e.intialExportNumberOfRows,m=e.showNumberOfRowsSection,f=e.limitsFunc,p=e.color,_=void 0!==c?c:"",h=void 0!==g?g:1,k=void 0===m||m,v=void 0!==p?p:"outline",y=z.useReducer((function(e,t){return function(e,t,r){if("number"==typeof r)switch(r){case 0:return{isExportModalOpen:!0,remoteExport:t.remoteExport,remoteLimits:1,exportEncoding:t.exportEncoding,exportNumberOfRows:t.exportNumberOfRows,exportRowsError:t.exportRowsError};case 1:return{isExportModalOpen:!1,remoteExport:t.remoteExport,remoteLimits:t.remoteLimits,exportEncoding:t.exportEncoding,exportNumberOfRows:t.exportNumberOfRows,exportRowsError:t.exportRowsError};case 2:return{isExportModalOpen:t.isExportModalOpen,remoteExport:1,remoteLimits:t.remoteLimits,exportEncoding:t.exportEncoding,exportNumberOfRows:t.exportNumberOfRows,exportRowsError:t.exportRowsError}}else switch(0|r.TAG){case 0:var a=r._0;return{isExportModalOpen:t.isExportModalOpen,remoteExport:t.remoteExport,remoteLimits:a,exportEncoding:t.exportEncoding,exportNumberOfRows:de.mapWithDefault(a,t.exportNumberOfRows,(function(r){var a=r.exportMonthlyLimit;if(!a)return 2;var o=a._0,i=r.exportRowsPerReport,n=o.limit-o.usage|0,s=i<n?i:n;return 1===t.exportNumberOfRows&&(s<=1e3||me.getWithDefault(e,1e6)<=1e3)?2:t.exportNumberOfRows})),exportRowsError:t.exportRowsError};case 1:return{isExportModalOpen:t.isExportModalOpen,remoteExport:t.remoteExport,remoteLimits:t.remoteLimits,exportEncoding:t.exportEncoding,exportNumberOfRows:t.exportNumberOfRows,exportRowsError:r._0};case 2:var o=r._0;return{isExportModalOpen:!de.isSuccess(o),remoteExport:o,remoteLimits:t.remoteLimits,exportEncoding:t.exportEncoding,exportNumberOfRows:t.exportNumberOfRows,exportRowsError:t.exportRowsError};case 3:return{isExportModalOpen:t.isExportModalOpen,remoteExport:t.remoteExport,remoteLimits:t.remoteLimits,exportEncoding:r._0,exportNumberOfRows:t.exportNumberOfRows,exportRowsError:t.exportRowsError};case 4:return{isExportModalOpen:t.isExportModalOpen,remoteExport:t.remoteExport,remoteLimits:t.remoteLimits,exportEncoding:t.exportEncoding,exportNumberOfRows:r._0,exportRowsError:r._1}}}(n,e,t)}),{isExportModalOpen:!1,remoteExport:0,remoteLimits:0,exportEncoding:0,exportNumberOfRows:h,exportRowsError:void 0}),D=y[1],S=y[0],F=S.remoteLimits,C=0;if("number"==typeof F||2!==F.TAG)C=1;else{var w=F._0,T=w.exportMonthlyLimit,b=w.exportRowsPerReport,P=0;if(T){var M=T._0;M.usage>=M.limit?t=[s._1(ke.Message.to_s,{id:"70a7e37f228ff8211f388ecfe9f166fe",defaultMessage:"Export rows per month limit reached"}),l.some(z.createElement(kt.make,{gap:"px10",children:null},z.createElement(ht.make,{color:"accent",href:vt.pricing,children:s._1(ke.Message.to_s,{id:"ec89e28eff93fbf2f06b184231e47fa3",defaultMessage:"Upgrade plan"})}),z.createElement(ht.make,{color:"outline",onClick:function(e){return s._1(D,1)},children:s._1(ke.Message.to_s,{id:"aa451a2c56b2cbf86ff223abc48ef9d5",defaultMessage:"Cancel"})}))),!1,T,b]:P=2}else P=2;2===P&&(t=[s._1(ke.Message.to_s,{id:"fe927c09607e8f86b81f1dbbd70464b8",defaultMessage:"Export to CSV"}),void 0,!0,T,b])}1===C&&(t=["",l.some(null),!1,{_0:{limit:0,usage:0}},0]);var A,R=t[4],L=t[3];if(L){var E=L._0,B=St.caml_int_min(E.limit-E.usage|0,R);A=me.mapWithDefault(n,B,(function(e){return B<e?B:e}))}else A=me.mapWithDefault(n,R,(function(e){return R<e?R:e}));var K,q=S.remoteLimits,x=0;if("number"==typeof q||2!==q.TAG)x=1;else{var W=q._0,U=W.exportMonthlyLimit,O=W.exportRowsPerReport,N=0;if(U){var $=U._0;if($.usage>=$.limit){var I={date:a.s(ne.dateUtc(void 0,i,"dayFullMonth"))};K=z.createElement(ct.make,{gap:"px24",children:z.createElement(pt.make,{children:s._2(ke.Message.format_to_s,{id:"f9f3b6414ebf1837d9ef4b97a208a146",defaultMessage:"Please wait for this limit to reset on {date} or upgrade your plan now."},I)})})}else N=2}else N=2;if(2===N){var G,Q,V=S.remoteExport;if("number"==typeof V||1!==V.TAG)G=null;else{var j=V._0;G=0===j.TAG?z.createElement(_t.make,{alertType:"error",children:a.s(wt)}):z.createElement(_t.make,{alertType:"error",children:a.s(Tt(j._0))})}if(k){var H;if(U){var Y=U._0,J=Y.usage,X=Y.limit,Z=0;if(void 0!==d&&d<O&&d<(X-J|0)?H=[d,_]:Z=3,3===Z){var ee=X-J|0;H=O<ee?[O,s._1(ke.Message.to_s,{id:"18753a40eb664ffeebb3a9a7cc551044",defaultMessage:"(limited by plan)"})]:[ee,s._1(ke.Message.to_s,{id:"4bcf8cec0e3c3673f6e3c0be0b302886",defaultMessage:"(limited by available monthly export rows)"})]}}else H=void 0!==d&&d<O?[d,_]:[O,s._1(ke.Message.to_s,{id:"18753a40eb664ffeebb3a9a7cc551044",defaultMessage:"(limited by plan)"})];var te={options:{hd:1,tl:{hd:2,tl:{hd:{_0:void 0},tl:0}}},value:S.exportNumberOfRows,maxRows:H[0],limitedByLabel:H[1],onChange:function(e,t){return s._1(D,{TAG:4,_0:t,_1:e})}};void 0!==n&&(te.totalNumberOfRows=l.valFromOption(n)),void 0!==S.exportRowsError&&(te.error=l.valFromOption(S.exportRowsError)),Q=z.createElement(yt.make,te)}else Q=null;K=z.createElement(ct.make,{gap:"px24",children:null},G,Q,z.createElement(Ft.make,{selectedEncoding:S.exportEncoding,onChange:function(e){return s._1(D,{TAG:3,_0:e})}}))}}1===x&&(K=z.createElement(ct.make,{gap:"px24",layout:{hd:{NAME:"px",VAL:82},tl:0},children:z.createElement(Ct.make,{size:"xl",isCenter:!0})}));var re={title:t[0],isOpen:S.isExportModalOpen,isExporting:de.isLoading(S.remoteExport),showLimit:t[2],monthlyLimit:L,limitResetDate:i,isUpgradable:!0,isTrial:o,isExportDisabled:de.isLoading(S.remoteLimits),onClose:function(e){return s._1(D,1)},onExport:function(e){var t,a=S.exportNumberOfRows;if("number"==typeof a)switch(a){case 0:s._1(D,{TAG:1,_0:0}),t=void 0;break;case 1:t=1e3;break;case 2:t=me.mapWithDefault(d,A,(function(e){return A<e?A:e}))}else{var o=a._0;void 0!==o?t=o>A?void 0:me.mapWithDefault(d,o,(function(e){return o>e?void 0:o})):(s._1(D,{TAG:1,_0:0}),t=void 0)}return me.forEach(t,(function(e){return s._1(D,2),Ye.forEach(s._2(r,S.exportEncoding,e),(function(e){return s._1(D,{TAG:2,_0:de.ofResult(e)})}))}))},children:K},ae=t[1];return void 0!==ae&&(re.footer=l.valFromOption(ae)),z.createElement(z.Fragment,void 0,z.createElement(ht.make,{color:v,onClick:function(e){return s._1(D,0),Ye.forEach(s._1(f,u),(function(e){return s._1(D,{TAG:0,_0:e})}))},children:null},z.createElement(Xe.Export.make,Xe.Export.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"601e96c14cea6af2259a933caeca884d",defaultMessage:"Export"})),z.createElement(Dt.make,re))},Pt=r(57042);function Mt(e){return"string"==typeof e||"Compared"!==e.NAME?"actual":"compare"}var At=r(92761),Rt=r(21424),Lt=r(51542),Et=r(25217),Bt=r(25655),Kt=r(98596),qt=r(47430),xt=r(8828),Wt=r(43060),Ut=r(6907),Ot=r(56433),Nt=r(2256),$t=r(17793),It=r(43652),Gt=r(42198),Qt=r(87132),Vt=r(19749);function jt(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"6f56491bfd76205442353c87af3111ce",defaultMessage:"All"});case 1:return s._1(ke.Message.to_s,{id:"dce91d1fbaecd5f0c55b6e33d9234fad",defaultMessage:"2Y"});case 2:return s._1(ke.Message.to_s,{id:"043c95482cc857ef4ad2d00cc2609f3c",defaultMessage:"1Y"});case 3:return s._1(ke.Message.to_s,{id:"a3cc09ca8e3801b767afb836d6416873",defaultMessage:"6M"});case 4:return s._1(ke.Message.to_s,{id:"9941661540a1acac46e8320c6158b766",defaultMessage:"1M"})}}function Ht(e){switch(e){case 0:return"all";case 1:return"2y";case 2:return"1y";case 3:return"6m";case 4:return"1m"}}var zt=[4,3,2,1,0];function Yt(e){var t,r;switch(e){case 0:t=Gt.seHistoryStartDate;break;case 1:var a=re.Moment.subtract,o=Bt.nowUtc(void 0);r=Z.duration(2,"years"),t=s._2(a,r,o);break;case 2:var i=re.Moment.subtract,n=Bt.nowUtc(void 0);t=function(e){return s._2(i,e,n)}(Z.duration(1,"years"));break;case 3:var l=re.Moment.subtract,d=Bt.nowUtc(void 0);t=function(e){return s._2(l,e,d)}(Z.duration(6,"months"));break;case 4:var c=re.Moment.subtract,u=Bt.nowUtc(void 0);t=function(e){return s._2(c,e,u)}(Z.duration(1,"months"))}return[re.Moment.startOf("day",t),re.Moment.endOf("day",Bt.nowUtc(void 0))]}function Jt(e,t){var r=Bt.toUtc($t.getMinDate(e)),a=Yt(t);return r.isSameOrBefore(a[0],"day")}function Xt(e){return ce.getBy({hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:0}}}}},(function(t){return Jt(e,t)}))}function Zt(e){return me.getWithDefault(Xt(e),4)}var er=It.Make({key:"chartInterval",$$default:0,localStorageKey:void 0,toString:function(e){switch(e){case 0:return"all";case 1:return"twoYears";case 2:return"year";case 3:return"halfYear";case 4:return"month"}},ofString:function(e){if(void 0!==e)switch(e){case"all":return 0;case"halfYear":return 3;case"month":return 4;case"twoYears":return 1;case"year":return 2;default:return}}}),tr=er.key,rr=er.localStorageKey,ar=er.getDefault,or=er.toString,ir=er.ofString,nr=er.getter,sr=er.setter,lr=er.isApplied,dr=er.ofQueryWithCustomDefault,cr=er.toQuery;function ur(e,t,r,a){var o=s._1(ir,r),i=me.getWithDefault(Xt(e),4);return void 0!==o?Jt(e,o)?o:i:void 0!==t&&Jt(e,t)?t:i}function gr(e,t,r,a){return ur(t,r,s._1(nr,e))}var mr={key:tr,localStorageKey:rr,getDefault:ar,toString:or,getter:nr,setter:sr,isApplied:lr,ofQueryWithCustomDefault:dr,toQuery:cr,ofString:ur,ofQuery:gr,ofQueryWithDefault:gr},fr=function(e){var t=e.historicalPermissions,r=e.value,o=e.onClearFilters,i=e.tooltipTarget,n=e.disabledTooltip,d=e.onChange,c=void 0!==n?n:function(e){return Vt.fullHistory};return z.createElement(Qt.make,{children:ge.map(zt,(function(e){var n=function(e,t){return me.mapWithDefault(e,!1,(function(e){return!Jt(e,t)}))}(t,e),u={isSelected:r===e,disabled:n,onClick:function(t){return s._1(d,e)},children:a.s(jt(e)),key:jt(e)},g=n?l.some(s._1(c,o)):void 0;return void 0!==g&&(u.tooltip=l.valFromOption(g)),void 0!==i&&(u.tooltipTarget=l.valFromOption(i)),z.createElement(Qt.Button.make,u)}))})},pr=gr,_r=r(19289),hr=r(94675);function kr(e,t){var r=e?[!1,!0]:0!==t?[!1,!1]:[!0,!0];return[r[0],r[1]]}function vr(e){if(1!==e.length)return[3,e];var t=e[0];switch(0|t.TAG){case 0:case 1:return[3,e];case 2:var r=t._0;return[1,[At.Config.makeArea(r.dataKey,r.color,void 0,void 0,r.name,void 0,r.type_,r.yAxisId,r.hide,void 0,void 0)]]}}function yr(e,t,r){var a,o=function(t){var a,i=re.Moment.subtract,n=Bt.toUtc(t);switch(r){case 0:a="days";break;case 1:a="weeks";break;case 2:a="months"}var l,d,c=(l=Z.duration(1,a),s._2(i,l,n));switch(r){case 0:d="day";break;case 1:d="isoWeek";break;case 2:d="month"}var u=re.Moment.startOf(d,c);return u.isSameOrAfter(e)?{hd:t,tl:o(u)}:{hd:t,tl:0}},i=Bt.toUtc(t);switch(r){case 0:a="day";break;case 1:a="isoWeek";break;case 2:a="month"}return ce.reverse(o(re.Moment.startOf(a,i)))}function Dr(e,t){switch(t){case 0:return ne.moment(void 0,e,"dayShortMonthYear");case 1:var r=re.Moment.add(Z.duration(6,"days"),e),a=r.isBefore(Z())?r:Z();return ne.range(e,a);case 2:return ne.moment(void 0,e,"fullMonthYear")}}function Sr(e){var t=Wt.classify(e);return"number"==typeof t||0!==t.TAG?void 0:t._0}var Fr=function(e){return e},Cr=function(e){return e},wr=function(e){return e},Tr=function(e){},br=function(e){var t=Wt.classify(e);return"number"==typeof t||1!==t.TAG?void 0:0|t._0},Pr=function(e){var t=Wt.classify(e);return"number"==typeof t||1!==t.TAG?void 0:t._0},Mr=function(e){return me.flatMap(e,Sr)},Ar=function(e){return me.mapWithDefault(me.flatMap(e,Sr),Z(),Bt.fromStringUtc)};function Rr(e,t,r,a){var o=void 0===t||t;return z.createElement(Ut.make,{checked:e,indeterminate:!o,onChange:function(e){return s._1(r,void 0)}})}function Lr(e,t,r,o,i,n){var l=i.value;return z.createElement(ut.make,{content:Ot.renderContent(s._2(e,l,r)),children:z.createElement("div",void 0,z.createElement(Nt.make,{label:a.s(s._2(t,l,r)),color:i.color,checked:i.show,onChange:function(e){return s._1(n,void 0)},key:i.dataKey}))})}var Er=function(e,t,r,a,o,i){if(e&&t)return me.forEach(null==o?void 0:l.some(o),(function(e){var t=e.activeLabel;if("string"==typeof r)return"HistoryUnlimited"===r&&void 0!==t?s._1(a,t):void 0;var o=r.VAL;if("string"!=typeof o){var i=o.NAME;return"Months"===i?void 0!==t&&$t.monthBack(o.VAL).isBefore(re.moment(void 0,t))?s._1(a,t):void 0:"Days"===i&&void 0!==t&&$t.dayBack(o.VAL).isBefore(re.moment(void 0,t))?s._1(a,t):void 0}}))},Br=function(e,t,r,a,o,i){if(e&&t)return me.forEach(null==o?void 0:l.some(o),(function(e){var t=e.activeLabel;if(void 0!==t){var o=void 0!==r&&r!==t?re.moment(void 0,r).isBefore(re.moment(void 0,t))?[r,t]:[t,r]:[void 0,t],i=o[1],n=o[0],l=hr.fromString(i),d=void 0!==n?_r.fromStringWithCurrent(n,l):"DontCompare";return s._4(a,n,i,d,l)}}))},Kr=function(e,t,r,a,o){if(e)return me.forEach(null==a?void 0:l.some(a),(function(e){var a=e.activeLabel;if("string"==typeof t)return"HistoryUnlimited"===t&&void 0!==a?s._1(r,a):void 0;var o=t.VAL;if("string"!=typeof o){var i=o.NAME;return"Months"===i?void 0!==a&&$t.monthBack(o.VAL).isBefore(re.moment(void 0,a))?s._1(r,a):void 0:"Days"===i&&void 0!==a&&$t.dayBack(o.VAL).isBefore(re.moment(void 0,a))?s._1(r,a):void 0}}))};function qr(e){return ce.filter(e,(function(e){return e.show}))}function xr(e,t){var r=Yt(e),a=yr(r[0],r[1],t);return ce.toArray(ce.map(a,(function(e){var t={};return t[xt.dateKey]=ne.moment(void 0,e,"dateWithDashes"),t})))}var Wr={hd:At.YAxisConfig.getStubAxis(!1),tl:0},Ur=r(87657),Or=et.style([et.label("notSuccess"),et.unsafe("position","absolute"),et.top("zero"),et.left("zero"),et.width({NAME:"percent",VAL:100}),et.height({NAME:"percent",VAL:100})]),Nr=r(72204),$r=r(89795),Ir=r(13465),Gr=r(92227),Qr=r(74732);function Vr(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"69822e32ceb59e7315f4e337df4c8c8b",defaultMessage:"Last 6 months"});case 1:return s._1(ke.Message.to_s,{id:"5a65ec91b2beec962748dd7558a44a97",defaultMessage:"Last year"});case 2:return s._1(ke.Message.to_s,{id:"7f8149ee90503ee74f1f592609bd969f",defaultMessage:"Last 2 years"});case 3:return s._1(ke.Message.to_s,{id:"57e53f21952b342267436c5434e259e6",defaultMessage:"All time"})}}var jr={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:0}}}};function Hr(e){var t,r;switch(e){case 0:var a=re.Moment.subtract,o=Bt.nowUtc(void 0);r=Z.duration(6,"months"),t=s._2(a,r,o);break;case 1:var i=re.Moment.subtract,n=Bt.nowUtc(void 0);t=function(e){return s._2(i,e,n)}(Z.duration(1,"years"));break;case 2:var l=re.Moment.subtract,d=Bt.nowUtc(void 0);t=function(e){return s._2(l,e,d)}(Z.duration(2,"years"));break;case 3:t=Gt.seHistoryStartDate}return[re.Moment.startOf("day",t),re.Moment.endOf("day",Bt.nowUtc(void 0))]}function zr(e,t){var r=Bt.toUtc($t.getMinDate(e)),a=Hr(t);return r.isSameOrBefore(a[0],"day")}function Yr(e){return ce.getBy({hd:3,tl:{hd:2,tl:{hd:1,tl:{hd:0,tl:0}}}},(function(t){return zr(e,t)}))}function Jr(e){switch(e){case 0:return 3;case 1:return 2;case 2:return 1;case 3:return 0}}var Xr=function(e){var t=e.selectedValue,r=e.onChange,o=e.historicalPermissions,i=void 0!==r?r:Ir.noop,n=Yr(o);z.useEffect((function(){if(void 0!==n)switch(n){case 0:void 0!==t&&0!==t&&s._1(i,0);break;case 1:void 0!==t&&t>=2&&s._1(i,1);break;case 2:void 0!==t&&t>=3&&s._1(i,2)}else void 0!==t&&s._1(i,void 0)}),[t]);var l=s._1(ke.Message.to_s,{id:"d4b4aeef7fce87ac1143a9341d6ad7b9",defaultMessage:"Trends"});return z.createElement(Gr.make,{menuPlacement:"bottomStart",defaultLabel:a.s(l),selectedLabelPrefix:a.s(l+": "),selectedValue:t,isEqual:Qr.equal,onChange:function(e){return s._1(i,e)},contentType:{_0:230},children:null},z.createElement($r.Hint.make,{position:0,children:z.createElement(ct.make,{gap:"px6",children:null},s._1(ke.Message.to_s,{id:"ef426b68a48b70301a2439e84bee4945",defaultMessage:"This affects the history trend chart and total traffic."}),void 0!==n&&n>=3?null:Vt.fullHistory)}),a.list(ce.map(jr,(function(e){return z.createElement(Gr.Item.make,{label:Vr(e),isDisabled:!zr(o,e),value:e})}))))},Zr=r(69875),ea=r(89250),ta=r(9920),ra=r(24090),aa=s._1(Rt.css,{hd:Rt.label("container"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.alignItems("center"),tl:{hd:Rt.justifyContent("center"),tl:{hd:Rt.height({NAME:"px",VAL:104}),tl:{hd:Rt.width("fitContent"),tl:0}}}}}}}),oa=s._1(Rt.css,{hd:Rt.label("showOnHoverOnly"),tl:0}),ia=s._1(Rt.css,{hd:Rt.label("upgradeText"),tl:{hd:Rt.position("absolute"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.alignItems("center"),tl:{hd:Rt.justifyContent("center"),tl:{hd:Rt.top("zero"),tl:{hd:Rt.left("zero"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.height({NAME:"percent",VAL:100}),tl:{hd:Rt.selectAncestor(oa)({hd:Rt.visibility("hidden"),tl:0}),tl:{hd:Rt.selectAncestor(Rt.selectHover(oa))({hd:Rt.visibility("visible"),tl:0}),tl:0}}}}}}}}}}}),na=z.createElement("svg",{height:"104",width:"400",fill:"none",viewBox:"0 0 400 104",xmlns:"http://www.w3.org/2000/svg"},z.createElement("g",{clipPath:"url(#clip0_698_42723)"},z.createElement("path",{d:"M400 105H401V104V39V38H400C380.368 38 369.977 29.7002 359.699 21.2283C359.522 21.0825 359.345 20.9365 359.168 20.7905C349.027 12.4276 338.808 4 320 4C301.436 4 291.759 12.2126 282.04 20.4604C281.735 20.7193 281.43 20.9782 281.124 21.237C276.107 25.4867 271.027 29.6613 264.601 32.7883C258.194 35.9067 250.41 38 240 38C229.299 38 221.215 40.1567 214.523 43.4133C207.85 46.6613 202.6 50.9867 197.583 55.237C197.294 55.4818 197.005 55.7265 196.717 55.9707C187.011 64.2055 177.824 72 160 72C141.626 72 131.241 63.712 120.625 55.2191L120.583 55.1861C109.963 46.6895 99.1009 38 80 38C60.7293 38 47.9484 51.8986 36.428 65.3495C35.7825 66.1031 35.141 66.8554 34.5026 67.6042C29.3953 73.5937 24.4804 79.3575 19.2365 83.7995C13.3563 88.7803 7.17242 92 0 92H-1V93V104V105H0H400Z",fill:"url(#paint0_linear_698_42723)",stroke:Rt.colorToString(_e.Color.Chart.empty),strokeWidth:"2"}),z.createElement("rect",{height:"104",width:"40",fill:"url(#paint1_linear_698_42723)"}),z.createElement("rect",{height:"104",width:"40",fill:"url(#paint2_linear_698_42723)",x:"360"}),z.createElement("path",{d:"M320 8C322.209 8 324 6.20914 324 4C324 1.79086 322.209 0 320 0C317.791 0 316 1.79086 316 4C316 6.20914 317.791 8 320 8Z",fill:Rt.colorToString(_e.Color.Chart.empty)}),z.createElement("path",{d:"M80 42C82.2091 42 84 40.2091 84 38C84 35.7909 82.2091 34 80 34C77.7909 34 76 35.7909 76 38C76 40.2091 77.7909 42 80 42Z",fill:Rt.colorToString(_e.Color.Chart.empty)}),z.createElement("path",{d:"M160 76C162.209 76 164 74.2091 164 72C164 69.7909 162.209 68 160 68C157.791 68 156 69.7909 156 72C156 74.2091 157.791 76 160 76Z",fill:Rt.colorToString(_e.Color.Chart.empty)}),z.createElement("path",{d:"M244 38C244 40.2091 242.209 42 240 42C237.791 42 236 40.2091 236 38C236 35.7909 237.791 34 240 34C242.209 34 244 35.7909 244 38Z",fill:Rt.colorToString(_e.Color.Chart.empty)})),z.createElement("defs",void 0,z.createElement("linearGradient",{id:"paint0_linear_698_42723",gradientUnits:"userSpaceOnUse",x1:"200",x2:"200",y1:"5",y2:"104"},z.createElement("stop",{stopColor:Rt.colorToString(_e.Color.Chart.empty),stopOpacity:"0.3"}),z.createElement("stop",{offset:"1",stopColor:Rt.colorToString(_e.Color.Chart.empty),stopOpacity:"0"})),z.createElement("linearGradient",{id:"paint1_linear_698_42723",gradientUnits:"userSpaceOnUse",x1:"0",x2:"40",y1:"52",y2:"52"},z.createElement("stop",{stopColor:Rt.colorToString(_e.Color.Background.box)}),z.createElement("stop",{offset:"1",stopColor:Rt.colorToString(_e.Color.Background.box),stopOpacity:"0"})),z.createElement("linearGradient",{id:"paint2_linear_698_42723",gradientUnits:"userSpaceOnUse",x1:"360",x2:"400",y1:"52",y2:"52"},z.createElement("stop",{stopColor:Rt.colorToString(_e.Color.Background.box),stopOpacity:"0"}),z.createElement("stop",{offset:"1",stopColor:Rt.colorToString(_e.Color.Background.box)})),z.createElement("clipPath",{id:"clip0_698_42723"},z.createElement("rect",{height:"104",width:"400",fill:Rt.colorToString(_e.Color.Background.box)})))),sa=function(e){var t,r=e.messageVisibility;if(0!==r){var o={a:function(e){return z.createElement(ta.make,{color:"underlinedMuted",href:vt.pricing,mode:3,children:a.s(e)})}};t=z.createElement("div",{className:ia},z.createElement(pt.make,{color:"secondary",fontSize:"md",children:s._2(ke.Message.format_to_s,{id:"165bad40e80032aa04261f985920e30c",defaultMessage:"<a>Upgrade</a> to unlock performance history chart"},o)}))}else t=null;return z.createElement("div",{className:ra.$plus$plus$plus(aa,ea.ifTrue(oa,r>=2))},na,t)};function la(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"342cd014d3562c949b21ea259be5b5ac",defaultMessage:"Avg. traffic"});case 1:return s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"});case 2:return s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"})}}function da(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"29838f06d643fd8150a4865311358aac",defaultMessage:"An estimation of the average monthly number of visits that your target gets from an ad."});case 1:return s._1(ke.Message.to_s,{id:"1e35bc31b60ef73ec41fd27d7e9d2119",defaultMessage:"The total number of unique keywords that your target ranks for with an ad each month."});case 2:return s._1(ke.Message.to_s,{id:"4d4c18e0bd5c4adf8bfa7b0b319f746a",defaultMessage:"The total number of URLs an ad links to each month."})}}var ca={hd:{elementType:2,dataKey:"traffic",yAxisId:"traffic",name:s._1(ke.Message.to_s,{id:"342cd014d3562c949b21ea259be5b5ac",defaultMessage:"Avg. traffic"}),stackId:void 0,value:0,type_:"linear",color:_e.Color.Chart.blue,reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:{hd:{elementType:2,dataKey:"keywords",yAxisId:"keywords",name:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"}),stackId:void 0,value:1,type_:"linear",color:_e.Color.Chart.orange,reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:{hd:{elementType:2,dataKey:"pages",yAxisId:"pages",name:s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"}),stackId:void 0,value:2,type_:"linear",color:_e.Color.Chart.green,reversed:!1,show:!1,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:0}}},ua=function(e){var t=e.spec,r=e.setSpec;return z.createElement(Et.Horizontal.make,{renderItem:function(e,o,i){var n=o.dataKey;return z.createElement(ut.make,{content:a.s(da(o.value)),children:z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Nt.make,{label:a.s(o.name),size:0,color:o.color,checked:o.show,onChange:function(e){return s._1(r,ce.map(t,(function(e){return n===e.dataKey?{elementType:e.elementType,dataKey:e.dataKey,yAxisId:e.yAxisId,name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:!e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}:e})))},key:n})})})},spec:t})};function ga(e,t){var r=t.color,o=ae.Float.defaultRound,i=function(e){return 0===e?"10":"0"};return z.createElement(Lt.YAxis,s.app(Zr.makeProps(1)("number",void 0,!1,void 0,!1,void 0,t.dataKey,void 0,void 0,t.hide),[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,{top:1,bottom:1},t.reversed,void 0,function(e){var t=e.index,n=e.payload,l=e.x,d=e.y;return 0===t?null:z.createElement("g",void 0,z.createElement("text",{dx:"0",dy:i(t),fill:Rt.colorToString(r),fontSize:"11px",textAnchor:e.textAnchor,x:l.toString(),y:d.toString()},a.s(me.mapWithDefault(n,"",(function(e){return s._1(o,e.value)})))))},void 0,function(e){return me.mapWithDefault(Kt.fromString(e),"",ae.Float.defaultRound)},!1,void 0,void 0,void 0,void 0,40,t.yAxisId,void 0,void 0]))}var ma=function(e){var t=e.data,r=e.spec,o=e.volumeMode,i=e.granularity,n=e.historicalPermissions,d=e.upgradeMessageVisibility,c=e.timeFrame,u=e.onRefetch,g=0;if("string"==typeof n){if("HistoryUnlimited"!==n)return z.createElement(ct.make,{align:"center",vAlign:"center",fullHeight:!0,children:z.createElement(sa,{messageVisibility:d})});g=1}else g=1;if(1===g){var m=0;if("number"==typeof t)m=2;else switch(0|t.TAG){case 1:return z.createElement("div",{className:Or},z.createElement(ct.make,{align:"center",vAlign:"center",fullHeight:!0,children:z.createElement(Je.make,{gap:"px4",fitToContent:!0,fullHeight:!0,align:"center",children:null},z.createElement(pt.make,{color:"secondary",children:s._1(ke.Message.to_s,{id:"e51afc5ed75c7a7f459aa67c72e16aeb",defaultMessage:"Couldn’t fetch data."})}),z.createElement(it.make,{color:"neutral",onClick:function(e){return s._1(u,void 0)},children:s._1(ke.Message.to_s,{id:"55904534df4327be910ce4940639cc81",defaultMessage:"Try again"})}))}));case 2:var f,p=function(e,t,r){var a=ce.reduce(r,void 0,(function(e,t){var r=ne.apiDateUtc(t.date);return Ur.set(e,r,{date:r,pages:t.pages,traffic:t.traffic,trafficAvg:t.traffic_avg,keywords:t.keywords})})),o=Hr(e),i=yr(o[0],o[1],t);return ce.toArray(ce.map(i,(function(e){var t=ne.moment(void 0,e,"dateWithDashes");return me.getWithDefault(Ur.get(a,t),{date:t,pages:0,traffic:0,trafficAvg:0,keywords:0})})))}(c,i,t._0),_=ce.map(ce.map(r,(function(e){return{elementType:e.elementType,dataKey:e.dataKey,yAxisId:e.yAxisId,name:la(e.value),stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}})),(function(e){return 0===e.value?{elementType:e.elementType,dataKey:"Average"===o?"trafficAvg":"traffic",yAxisId:e.yAxisId,name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}:e})),h=Nr.getConfigsFromSpec(_),k=ce.map(h[1],(function(e){return{dataKey:e.dataKey,yAxisId:e.yAxisId,label:void 0,allowDataOverflow:!0,domain:e.domain,unit:e.unit,hide:e.hide,allowDecimals:e.allowDecimals,tickFormatter:e.tickFormatter,color:e.color,reversed:e.reversed,ticks:e.ticks}})),v=vr(h[0]),y=v[1],D=0;if(k){var S=k.tl,F=k.hd;S?S.tl?D=3:f=[ga("left",F),ga("right",S.hd)]:f=ga("right",F)}else D=3;return 3===D&&(f=a.list(ce.map(k,(function(e){return ga("left",{dataKey:e.dataKey,yAxisId:e.yAxisId,label:e.label,allowDataOverflow:e.allowDataOverflow,domain:e.domain,unit:e.unit,hide:!0,allowDecimals:e.allowDecimals,tickFormatter:e.tickFormatter,color:e.color,reversed:e.reversed,ticks:e.ticks})})))),z.createElement(At.make,{chartType:v[0],data:p,charts:y,chartHeight:104,xAxisPadding:[1,1],xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(p,(function(e){return Bt.fromStringUtc(e.date)}),i,t)},hideXAxis:!0,yAxisConfig:0,renderTooltip:function(e,t){var r=me.getWithDefault(l.nullable_to_opt(e.payload),[]),o=ge.filterMap(r,(function(e){return e.value<0?void 0:{color:e.color,label:a.s(e.name),value:a.s(ae.Float.full(e.value))}}));return 0!==o.length?z.createElement(qt.make,{hideColors:y.length<=1,label:Dr(re.moment(void 0,e.label),i),config:o}):null},showHorizontalGrid:!0,children:f});default:m=2}if(2===m)return z.createElement("div",{className:Or},z.createElement(ct.make,{align:"center",vAlign:"center",fullHeight:!0,children:z.createElement(Y.Icon.make,{size:"sm"})}))}},fa=r(65006),pa=r(97366),_a=r(85443),ha=r(77996),ka=r(59452),va=r(13303),ya=r(65302),Da=r(25412),Sa=r(97136),Fa=r(12661),Ca=r(59952),wa=s._1(Rt.css,{hd:Rt.label("delta"),tl:{hd:Rt.height(tt.NewSize.px18),tl:{hd:Rt.lineHeight(tt.NewSize.px18),tl:0}}}),Ta=s._1(Rt.css,{hd:Rt.label("stat"),tl:{hd:Rt.selector(":not(:last-of-type)",{hd:Rt.marginBottom(tt.NewSize.px4),tl:0}),tl:0}}),ba=r(94524),Pa=r(39038),Ma=r(67267),Aa=r(67154),Ra=r(11810),La=r(86778),Ea=r(12737),Ba=ee.MakeComparable({cmp:dt.compare});function Ka(e){return"string"!=typeof e&&"Compared"===e.NAME?s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdMerged.get,ft.Se_shared.AdsCompared.AdMerged.hash)),0):s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.hash)),0)}var qa=function(e,t,r){var a=ce.map(t,(function(e){return e[0]}));return ce.map(ha.toList(Ra.foldRows(Ka(e),(function(e,t){return Fa.getValue(a,e,t)}),(function(e,t,r,a){return s._1(t,ha.add(e,a))}),ha.make(Ba),r.rows)),(function(e){return e}))},xa=ya.Sort.MakeFilter({$$default:1,toString:function(e){switch(e){case 0:return"totaltraffic";case 1:return"traffic";case 2:return"keywords";case 3:return"pages"}},ofString:function(e){switch(e){case"keywords":return 2;case"pages":return 3;case"totaltraffic":return 0;case"traffic":return 1;default:return}},defaultDirection:"Desc"}),Wa=xa.getDefault,Ua=xa.isApplied,Oa=xa.ofQueryWithDefault,Na=xa.toQuery,$a={Name:xa.Name,Direction:xa.Direction,getDefault:Wa,isApplied:Ua,ofQueryWithDefault:Oa,toQuery:Na,toActualFieldName:function(e,t){switch(t){case 0:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsActual.SumTraffic.get,ft.Se_shared.AdsActual.SumTraffic.sum_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsActual.SumTraffic.get,ft.Se_shared.AdsActual.SumTraffic.sum_traffic)),tl:0};case 1:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.traffic)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.keywords)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.pages)),tl:0}}},toComparedFieldName:function(e,t){switch(t){case 0:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsCompared.SumTraffic.get,ft.Se_shared.AdsCompared.SumTraffic.sum_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsCompared.SumTraffic.get,ft.Se_shared.AdsCompared.SumTraffic.sum_traffic)),tl:0};case 1:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.traffic)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.keywords)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.pages)),tl:0}}}},Ia={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:0}}}}}}}}}}}}}}}}}}}}};function Ga(e,t,r){var a=void 0!==e?e:Ia,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(Na,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Pa.toQuery,e,r.volumeMode);case 3:return s._2(Sa.WithoutAll.Filter.Country.toQuery,e,r.country);case 4:return s._2(Sa.WithoutAll.Filter.IsUserCountry.toQuery,e,r.isUserCountry);case 5:return s._2(fa.Ads.AdTitle.Filter.toQuery,e,r.adTitle);case 6:return s._2(fa.Ads.AdDisplayUrl.Filter.toQuery,e,r.adDisplayUrl);case 7:return s._2(fa.Ads.AdDescription.Filter.toQuery,e,r.adDescription);case 8:return s._2(ba.Filter.toQuery,e,r.adStatus);case 9:return s._2(pa.AdTraffic.Filter.toQuery,e,r.adTraffic);case 10:return s._2(pa.PaidKeywords.Filter.toQuery,e,r.adKeywords);case 11:return s._2(fa.$$URL.Filter.toQuery,e,r.url);case 12:return s._2(pa.Volume.Filter.toQuery,e,r.volume);case 13:return s._2(pa.KD.Filter.toQuery,e,r.kd);case 14:return s._2(pa.CPC.Filter.toQuery,e,r.cpc);case 15:return s._2(pa.PaidKeywordTraffic.Filter.toQuery,e,r.paidKeywordTraffic);case 16:return s._2(pa.Words.Filter.toQuery,e,r.words);case 17:return s._2(fa.Keyword.Filter.toQuery,e,r.keyword);case 18:return ka.Filter.toQuery(e,r.serp);case 19:return s._2(Pt.CurrentDate.toQuery,e,r.currentDate);case 20:return s._2(Pt.CompareDate.toQuery,e,r.compareDate)}}))}var Qa={all:{hd:2,tl:{hd:3,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:0}}}}}}}}}}}}}}}},equal:function(e,t){return i.stringifyQueryDict(Ga(void 0,void 0,e),void 0,void 0)===i.stringifyQueryDict(Ga(void 0,void 0,t),void 0,void 0)}},Va={getDefault:function(e){return{sort:s._1(Wa,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),volumeMode:s._1(Pa.getDefault,void 0),country:s._1(Sa.WithoutAll.Filter.Country.getDefault,void 0),isUserCountry:s._1(Sa.WithoutAll.Filter.IsUserCountry.getDefault,void 0),adTitle:s._1(fa.Ads.AdTitle.Filter.getDefault,void 0),adDisplayUrl:s._1(fa.Ads.AdDisplayUrl.Filter.getDefault,void 0),adDescription:s._1(fa.Ads.AdDescription.Filter.getDefault,void 0),adStatus:s._1(ba.Filter.getDefault,void 0),adTraffic:s._1(pa.AdTraffic.Filter.getDefault,void 0),adKeywords:s._1(pa.PaidKeywords.Filter.getDefault,void 0),url:s._1(fa.$$URL.Filter.getDefault,void 0),volume:s._1(pa.Volume.Filter.getDefault,void 0),kd:s._1(pa.KD.Filter.getDefault,void 0),cpc:s._1(pa.CPC.Filter.getDefault,void 0),paidKeywordTraffic:s._1(pa.PaidKeywordTraffic.Filter.getDefault,void 0),words:s._1(pa.Words.Filter.getDefault,void 0),keyword:s._1(fa.Keyword.Filter.getDefault,void 0),serp:ka.Filter.getDefault(void 0),currentDate:s._1(Pt.CurrentDate.getDefault,void 0),compareDate:s._1(Pt.CompareDate.getDefault,void 0)}},all:Ia,isFilterApplied:function(e,t){switch(t){case 0:return s._1(Ua,e);case 1:return s._1(ya.Pagination.Filter.isApplied,e);case 2:return s._1(Pa.isApplied,e);case 3:return s._1(Sa.WithoutAll.Filter.Country.isApplied,e);case 4:return s._1(Sa.WithoutAll.Filter.IsUserCountry.isApplied,e);case 5:return s._1(fa.Ads.AdTitle.Filter.isApplied,e);case 6:return s._1(fa.Ads.AdDisplayUrl.Filter.isApplied,e);case 7:return s._1(fa.Ads.AdDescription.Filter.isApplied,e);case 8:return s._1(ba.Filter.isApplied,e);case 9:return s._1(pa.AdTraffic.Filter.isApplied,e);case 10:return s._1(pa.PaidKeywords.Filter.isApplied,e);case 11:return s._1(fa.$$URL.Filter.isApplied,e);case 12:return s._1(pa.Volume.Filter.isApplied,e);case 13:return s._1(pa.KD.Filter.isApplied,e);case 14:return s._1(pa.CPC.Filter.isApplied,e);case 15:return s._1(pa.PaidKeywordTraffic.Filter.isApplied,e);case 16:return s._1(pa.Words.Filter.isApplied,e);case 17:return s._1(fa.Keyword.Filter.isApplied,e);case 18:return ka.Filter.isApplied(e);case 19:return s._1(Pt.CurrentDate.isApplied,e);case 20:return s._1(Pt.CompareDate.isApplied,e)}},ofQuery:function(e,t){var r=Pt.CurrentDate.ofQueryWithDefault,a=s._2(r,e.reportHistoricalPermissions,t);return{sort:s._1(Oa,t),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,t),volumeMode:s._2(Pa.ofQueryWithCustomDefault,t,e.settings.paidPagesVolumeMode),country:s._1(Sa.WithoutAll.Filter.Country.ofQueryWithDefault,t),isUserCountry:s._1(Sa.WithoutAll.Filter.IsUserCountry.ofQueryWithDefault,t),adTitle:s._1(fa.Ads.AdTitle.Filter.ofQueryWithDefault,t),adDisplayUrl:s._1(fa.Ads.AdDisplayUrl.Filter.ofQueryWithDefault,t),adDescription:s._1(fa.Ads.AdDescription.Filter.ofQueryWithDefault,t),adStatus:s._1(ba.Filter.ofQueryWithDefault,t),adTraffic:s._1(pa.AdTraffic.Filter.ofQueryWithDefault,t),adKeywords:s._1(pa.PaidKeywords.Filter.ofQueryWithDefault,t),url:s._1(fa.$$URL.Filter.ofQueryWithDefault,t),volume:s._1(pa.Volume.Filter.ofQueryWithDefault,t),kd:s._1(pa.KD.Filter.ofQueryWithDefault,t),cpc:s._1(pa.CPC.Filter.ofQueryWithDefault,t),paidKeywordTraffic:s._1(pa.PaidKeywordTraffic.Filter.ofQueryWithDefault,t),words:s._1(pa.Words.Filter.ofQueryWithDefault,t),keyword:s._1(fa.Keyword.Filter.ofQueryWithDefault,t),serp:ka.Filter.ofQueryWithDefault(t),currentDate:a,compareDate:Pt.CompareDate.ofQueryWithDefault(e.reportHistoricalPermissions,a,e.settings.paidPagesCompare,t,void 0)}},toQuery:Ga,TopLevel:Qa};function ja(e){return{TAG:1,_0:z.createElement(pt.make,{color:"primary",fontSize:"sm",children:z.createElement(ct.make,{gap:"px6",children:null},e?z.createElement("div",void 0,z.createElement(pt.make,{color:"primary",fontSize:"sm",fontWeight:"bold",inline:!0,children:s._1(ke.Message.to_s,{id:"c08b9fedbd5aaa8ab74460ea2d30d425",defaultMessage:"Total traffic"})}),a.s(" "+Gt.mdash+" "),s._1(ke.Message.to_s,{id:"78a660fc8c9ff5f8197aa197c0f05ca4",defaultMessage:"the estimated total number of visits that your target gets from an ad for the period displayed on the chart. This is calculated by summing up all average monthly traffic values."})):null,z.createElement("div",void 0,z.createElement(pt.make,{color:"primary",fontSize:"sm",fontWeight:"bold",inline:!0,children:s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"})}),a.s(" "+Gt.mdash+" "),s._1(ke.Message.to_s,{id:"6cc078706e016cd43737606d097fc367",defaultMessage:"the estimated number of monthly visits that your target gets from an ad."})),z.createElement("div",void 0,z.createElement(pt.make,{color:"primary",fontSize:"sm",fontWeight:"bold",inline:!0,children:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"})}),a.s(" "+Gt.mdash+" "),s._1(ke.Message.to_s,{id:"16ba9c1c2f21910051219c8115bb4099",defaultMessage:"the total number of keywords that your target ranks for with an ad."})),z.createElement("div",void 0,z.createElement(pt.make,{color:"primary",fontSize:"sm",fontWeight:"bold",inline:!0,children:s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"})}),a.s(" "+Gt.mdash+" "),s._1(ke.Message.to_s,{id:"c83b7f68e30ea14c2364b4a8a804191f",defaultMessage:"the total number of URLs an ad links to."})))})}}function Ha(e,t,r,a,o,i,n,d){var c="string"==typeof i&&"HistoryUnlimited"!==i,u=de.isFailure(t),g=l.some(c||u?null:z.createElement(ua,{spec:r,setSpec:a})),m={hd:{TAG:0,_0:{NAME:"px",VAL:400}},tl:0},f={hd:{TAG:0,_0:{NAME:"percent",VAL:60}},tl:0};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,a){return z.createElement(va.Td.make,{width:{hd:{TAG:0,_0:{NAME:"percent",VAL:60}},tl:0},minWidth:{hd:{TAG:0,_0:{NAME:"px",VAL:400}},tl:0},children:z.createElement(ma,{data:de.map(t,(function(e){return me.getWithDefault(Ma.get(e,dt.to_string(a)),0)})),spec:r,volumeMode:o,granularity:2,historicalPermissions:i,upgradeMessageVisibility:e.index>0?0:1,timeFrame:n,onRefetch:d})})}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f,m,void 0,g,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e),0))}var za=function(e,t,r,o,i,n,l,d){var c="string"!=typeof i||"HistoryUnlimited"===i,u=Aa.getTerms(e.adDisplayUrl.rules),g=Aa.getTerms(e.adTitle.rules),m=Aa.getTerms(e.adDescription.rules),f=s._1(ke.Message.to_s,{id:"7e5c52a0c8f5cf03a80af823e2f5154c",defaultMessage:"Performance"}),p=ja(c);return{hd:Ca.makeAdColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.title)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.url_visual)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.description)),g,u,m),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o,i,n,l,d){var u;if(c){var g=e.volumeMode;u=z.createElement("div",{className:Ta},z.createElement(pt.make,{children:"Average"===g?a.s(ae.Float.$$default(ie.to_float(n))):a.s(ae.Float.$$default(ie.to_float(i)))}))}else u=null;var m=e.volumeMode;return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{children:null},c?z.createElement("div",{className:Ta},z.createElement(pt.make,{color:"secondary",children:s._1(ke.Message.to_s,{id:"c08b9fedbd5aaa8ab74460ea2d30d425",defaultMessage:"Total traffic"})})):null,z.createElement("div",{className:Ta},z.createElement(pt.make,{color:"secondary",children:s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"})})),z.createElement("div",{className:Ta},z.createElement(pt.make,{color:"secondary",children:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"})})),z.createElement("div",{className:Ta},z.createElement(pt.make,{color:"secondary",children:s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"})}))),z.createElement(va.Td.make,{align:"right",children:null},u,z.createElement("div",{className:Ta},z.createElement(pt.make,{children:"Average"===m?a.s(ae.Float.$$default(ie.to_float(o))):a.s(ae.Float.$$default(ie.to_float(r)))})),z.createElement("div",{className:Ta},z.createElement(pt.make,{children:a.s(ae.Float.$$default(ie.to_float(l)))})),z.createElement("div",{className:Ta},z.createElement(pt.make,{children:a.s(ae.Float.$$default(ie.to_float(d)))}))))}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(p,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.SumTraffic.get,ft.Se_shared.AdsActual.SumTraffic.sum_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.SumTraffic.get,ft.Se_shared.AdsActual.SumTraffic.sum_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.pages)),0))))))),tl:{hd:Ha(s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.hash),o,t,r,e.volumeMode,n,d,l),tl:0}}}},Ya=function(e,t,r,o,i,n,l,d){var c="string"!=typeof i||"HistoryUnlimited"===i,u=Aa.getTerms(e.adDisplayUrl.rules),g=Aa.getTerms(e.adTitle.rules),m=Aa.getTerms(e.adDescription.rules),f=s._1(ke.Message.to_s,{id:"7e5c52a0c8f5cf03a80af823e2f5154c",defaultMessage:"Performance"}),p=ja(c);return{hd:Ca.makeAdColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdMerged.get,ft.Se_shared.AdsCompared.AdMerged.title)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdMerged.get,ft.Se_shared.AdsCompared.AdMerged.url_visual)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdMerged.get,ft.Se_shared.AdsCompared.AdMerged.description)),g,u,m),tl:{hd:Ca.makeAdStatusColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.title)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdPrevious.get,ft.Se_shared.AdsCompared.AdPrevious.title))),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o,i,n,l,d,u,g,m,f){var p;if(c){var _=e.volumeMode;p=z.createElement("div",{className:Ta},z.createElement(pt.make,{children:"Average"===_?a.s(ae.Float.$$default(ie.to_float(n))):a.s(ae.Float.$$default(ie.to_float(i)))}))}else p=null;var h=e.volumeMode,k=e.volumeMode;return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{children:null},c?z.createElement("div",{className:Ta},z.createElement(pt.make,{color:"secondary",children:s._1(ke.Message.to_s,{id:"c08b9fedbd5aaa8ab74460ea2d30d425",defaultMessage:"Total traffic"})})):null,z.createElement("div",{className:Ta},z.createElement(pt.make,{color:"secondary",children:s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"})})),z.createElement("div",{className:Ta},z.createElement(pt.make,{color:"secondary",children:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"})})),z.createElement("div",{className:Ta},z.createElement(pt.make,{color:"secondary",children:s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"})}))),z.createElement(va.Td.make,{align:"right",paddingRight:"none",children:null},p,z.createElement("div",{className:Ta},z.createElement(pt.make,{children:"Average"===h?a.s(ae.Float.$$default(me.mapWithDefault(o,0,ie.to_float))):a.s(ae.Float.$$default(me.mapWithDefault(r,0,ie.to_float)))})),z.createElement("div",{className:Ta},z.createElement(pt.make,{children:a.s(ae.Float.$$default(me.mapWithDefault(l,0,ie.to_float)))})),z.createElement("div",{className:Ta},z.createElement(pt.make,{children:a.s(ae.Float.$$default(me.mapWithDefault(d,0,ie.to_float)))}))),z.createElement(va.Td.make,{paddingLeft:"sm",children:null},z.createElement("div",{className:ra.$plus$plus$plus(wa,Ta)}),z.createElement("div",{className:ra.$plus$plus$plus(wa,Ta)},z.createElement(Je.make,{fitToContent:!0,fullHeight:!0,children:z.createElement(_a.Float.make,_a.Float.makeProps(void 0,"Average"===k?ie.to_float(g):ie.to_float(u),void 0,void 0,void 0,void 0))})),z.createElement("div",{className:ra.$plus$plus$plus(wa,Ta)},z.createElement(Je.make,{fitToContent:!0,fullHeight:!0,children:z.createElement(_a.Float.make,_a.Float.makeProps(void 0,ie.to_float(m),void 0,void 0,void 0,void 0))})),z.createElement("div",{className:ra.$plus$plus$plus(wa,Ta)},z.createElement(Je.make,{fitToContent:!0,fullHeight:!0,children:z.createElement(_a.Float.make,_a.Float.makeProps(void 0,ie.to_float(f),void 0,void 0,void 0,void 0))}))))}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(p,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.SumTraffic.get,ft.Se_shared.AdsCompared.SumTraffic.sum_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.SumTraffic.get,ft.Se_shared.AdsCompared.SumTraffic.sum_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.pages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdDiff.get,ft.Se_shared.AdsCompared.AdDiff.traffic_diff)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdDiff.get,ft.Se_shared.AdsCompared.AdDiff.traffic_diff_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdDiff.get,ft.Se_shared.AdsCompared.AdDiff.keywords_diff)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdDiff.get,ft.Se_shared.AdsCompared.AdDiff.pages_diff)),0))))))))))),tl:{hd:Ha(s._1(ft.Se_shared.AdsCompared.AdMerged.get,ft.Se_shared.AdsCompared.AdMerged.hash),o,t,r,e.volumeMode,n,d,l),tl:0}}}}},Ja={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:0}}}}}}}}}}}}}};function Xa(e,t,r){switch(r){case 5:return{hd:s._2(fa.Ads.AdTitle.makeChFilterActual,s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.title),t.adTitle),tl:0};case 6:return{hd:s._2(fa.Ads.AdDisplayUrl.makeChFilterActual,s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.url_visual),t.adDisplayUrl),tl:0};case 7:return{hd:s._2(fa.Ads.AdDescription.makeChFilterActual,s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.description),t.adDescription),tl:0};case 9:if("string"==typeof e&&"HistoryUnlimited"!==e)return 0;var a=t.volumeMode;return{hd:pa.AdTraffic.makeChFilter("Average"===a?s._1(ft.Se_shared.AdsActual.SumTraffic.get,ft.Se_shared.AdsActual.SumTraffic.sum_traffic_avg):s._1(ft.Se_shared.AdsActual.SumTraffic.get,ft.Se_shared.AdsActual.SumTraffic.sum_traffic),t.adTraffic),tl:0};case 10:return{hd:pa.PaidKeywords.makeChFilter(s._1(ft.Se_shared.AdsActual.AdFilter.get,ft.Se_shared.AdsActual.AdFilter.keywords),void 0,t.adKeywords),tl:0};case 11:return{hd:fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.raw_url),t.url),tl:0};case 12:var o=t.volumeMode;return{hd:pa.Volume.makeChFilter("Average"===o?s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.volume_avg):s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.volume),t.volume),tl:0};case 13:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.difficulty),t.kd),tl:0};case 14:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.cpc),t.cpc),tl:0};case 15:var i=t.volumeMode;return{hd:pa.PaidKeywordTraffic.makeChFilter("Average"===i?s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.traffic_avg):s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.traffic),void 0,t.paidKeywordTraffic),tl:0};case 16:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.words),t.words),tl:0};case 17:return{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.text),t.keyword),tl:0};case 18:return{hd:ka.makeChFilterActual(s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.serp_features),s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.has_video),s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.has_thumbnail),s._1(ft.Se_shared.AdsActual.PositionFilter.get,ft.Se_shared.AdsActual.PositionFilter.position_kind),!0,t.serp),tl:0};case 0:case 1:case 2:case 3:case 4:case 8:case 19:case 20:return 0}}function Za(e,t,r){switch(r){case 5:return{hd:s._4(fa.Ads.AdTitle.makeChFilterCompared,s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.title),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.title),!1,t.adTitle),tl:0};case 6:return{hd:s._4(fa.Ads.AdDisplayUrl.makeChFilterCompared,s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.url_visual),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.url_visual),!1,t.adDisplayUrl),tl:0};case 7:return{hd:s._4(fa.Ads.AdDescription.makeChFilterCompared,s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.description),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.description),!1,t.adDescription),tl:0};case 8:return{hd:ba.makeChFilter(s._1(ft.Se_shared.AdsCompared.AdDiffFilter.get,ft.Se_shared.AdsCompared.AdDiffFilter.set),t.adStatus),tl:0};case 9:if("string"==typeof e&&"HistoryUnlimited"!==e)return 0;var a=t.volumeMode;return{hd:pa.AdTraffic.makeChFilter("Average"===a?s._1(ft.Se_shared.AdsCompared.SumTraffic.get,ft.Se_shared.AdsCompared.SumTraffic.sum_traffic_avg):s._1(ft.Se_shared.AdsCompared.SumTraffic.get,ft.Se_shared.AdsCompared.SumTraffic.sum_traffic),t.adTraffic),tl:0};case 10:return{hd:pa.PaidKeywords.makeChFilterCompared(s._1(ft.Se_shared.AdsCompared.AdPrevious.get,ft.Se_shared.AdsCompared.AdPrevious.keywords),s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.keywords),t.adKeywords),tl:0};case 11:return{hd:fa.$$URL.makeChFilterCompared(s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.raw_url),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.raw_url),!1,t.url),tl:0};case 12:var o=t.volumeMode,i=t.volumeMode;return{hd:pa.Volume.makeChFilterCompared("Average"===o?s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.volume_avg):s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.volume),"Average"===i?s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.volume_avg):s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.volume),t.volume),tl:0};case 13:return{hd:pa.KD.makeChFilterCompared(s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.difficulty),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.difficulty),t.kd),tl:0};case 14:return{hd:pa.CPC.makeChFilterCompared(s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.cpc),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.cpc),t.cpc),tl:0};case 15:var n=t.volumeMode,l=t.volumeMode;return{hd:pa.PaidKeywordTraffic.makeChFilter("Average"===n?s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.traffic_avg):s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.traffic),void 0,t.paidKeywordTraffic),tl:{hd:pa.PaidKeywordTraffic.makeChFilter("Average"===l?s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.traffic_avg):s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.traffic),void 0,t.paidKeywordTraffic),tl:0}};case 16:return{hd:pa.Words.makeChFilterCompared(s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.words),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.words),t.words),tl:0};case 17:return{hd:fa.Keyword.makeChFilterCompared(s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.text),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.text),!1,t.keyword),tl:0};case 18:return{hd:ka.makeChFilterActual(s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.serp_features),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.has_video),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.has_thumbnail),s._1(ft.Se_shared.AdsCompared.CurrentPositionFilter.get,ft.Se_shared.AdsCompared.CurrentPositionFilter.position_kind),!0,t.serp),tl:{hd:ka.makeChFilterActual(s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.serp_features),s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.has_video),s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.has_thumbnail),s._1(ft.Se_shared.AdsCompared.PreviousPositionFilter.get,ft.Se_shared.AdsCompared.PreviousPositionFilter.position_kind),!0,t.serp),tl:0}};case 0:case 1:case 2:case 3:case 4:case 19:case 20:return 0}}var eo=Ja,to=function(e,t){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(Ja,(function(r){return Xa(e,t,r)})))),Ir.identity)},ro=function(e,t){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(Ja,(function(r){return Za(e,t,r)})))),Ir.identity)},ao=(La.makeRenderHeader,s._1(Rt.css,{hd:Rt.label("pageTitleWrapper"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.media(tt.Media.mobileDown,{hd:Rt.padding4("zero",tt.NewSize.px16,"zero",tt.NewSize.px16),tl:0}),tl:0}}})),oo=function(e){var t=e.onToggleSidebar,r=e.children;return z.createElement("div",{className:ao},z.createElement(Je.make,{layout:{hd:{NAME:"px",VAL:14},tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"baseline",children:null},z.createElement(it.make,{children:z.createElement(Xe.Menu.make,Xe.Menu.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,(function(e){return s._1(t,void 0)}),void 0,void 0,void 0))}),r))},io=r(72705);function no(e){return e?Rt.margin(tt.negative(tt.NewSize.px16)):Rt.margin("zero")}function so(e){return s._1(Rt.css,{hd:Rt.label("filtersBarContent"),tl:{hd:(t=e,t?Rt.padding2(tt.NewSize.px12,tt.NewSize.px16):Rt.padding2(tt.NewSize.px8,tt.NewSize.px12)),tl:{hd:Rt.display("flex"),tl:{hd:Rt.flexDirection("row"),tl:{hd:Rt.flexWrap("wrap"),tl:{hd:Rt.selector("& > div",{hd:Rt.margin(tt.NewSize.px4),tl:0}),tl:0}}}}}});var t}var lo=s._1(Rt.css,{hd:Rt.label("filtersBarFooter"),tl:{hd:Rt.padding2(tt.NewSize.px12,tt.NewSize.px16),tl:{hd:Rt.backgroundColor(_e.Color.Background.boxDark),tl:0}}}),co=function(e){var t,r,a=e.gap,o=e.showApplyFilters,i=e.onClearFilters,n=e.onApplyFilters,l=e.children,d=void 0!==a?a:0,c=void 0!==o&&o,u=void 0!==i?i:Ir.noop,g=void 0!==n?n:Ir.noop;return z.createElement("div",{className:(t=d,s._1(Rt.css,{hd:Rt.label("filtersBar"),tl:{hd:Rt.backgroundColor(_e.Color.Background.box),tl:{hd:(r=t,r?Rt.boxShadows(0):Rt.boxShadows(tt.BoxShadow.elevation1)),tl:{hd:no(t),tl:0}}}}))},z.createElement(ct.make,{gap:"none",children:null},z.createElement("div",{className:so(d)},l),c?z.createElement("div",{className:lo},z.createElement(io.make,{onClearFilters:u,onApplyFilters:g})):null))},uo=r(89020),go=r(79802),mo=r(46232),fo=r(2484),po=r(17429),_o=r(89391),ho=s._1(Rt.css,{hd:Rt.label("container"),tl:{hd:Rt.margin2(tt.negative(tt.NewSize.px12),"zero"),tl:0}}),ko=s._1(Rt.css,{hd:Rt.label("newtab"),tl:{hd:Rt.marginTop(tt.negative(tt.NewSize.px2)),tl:0}}),vo=s._1(Rt.css,{hd:Rt.label("header"),tl:{hd:Rt.marginTop(tt.NewSize.px4),tl:0}}),yo=r(21180),Do=et.style([et.label("wrapper"),et.height({NAME:"pxFloat",VAL:400})]),So=r(54821),Fo=r(46411),Co=r(98222),wo=et.style([et.label("message"),et.display("flex"),et.flexDirection("column"),et.unsafe("alignItems","center"),et.unsafe("justifyContent","center"),et.height({NAME:"percent",VAL:100}),et.maxWidth({NAME:"pxFloat",VAL:500}),et.margin2("zero","auto")]),To=function(e){return z.createElement("div",{className:wo},z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:"auto",tl:0}}},align:"center",children:null},z.createElement(lt.make,{children:s._1(ke.Message.to_s,{id:"86e6a2fc1e6b914135a4bacb4431555e",defaultMessage:"Domain not verified"})}),z.createElement(Je.make,{layout:{hd:{NAME:"px",VAL:500},tl:0},children:z.createElement(pt.make,{color:"secondary",align:"center",children:s._1(ke.Message.to_s,{id:"ec5b973d0e69873d0dabaf5d53a74255",defaultMessage:"You can only check verified domains and their subdomains on a free plan. Please verify your ownership of this website, or subscribe to a premium plan to use all Ahrefs tools for any website."})})}),z.createElement(Je.make,{gap:"px10",children:null},z.createElement(Co.make,{label:s._1(ke.Message.to_s,{id:"7b74b971cd2388a4c837ecbe424c4afa",defaultMessage:"Verify ownership"}),size:"lg",onClick:function(e){return Fo.setHref(vt.PM.newProject)}}),z.createElement(ht.make,{color:"outline",size:"lg",href:vt.pricing,children:s._1(ke.Message.to_s,{id:"a4f4c8f552144768091d208661e8979b",defaultMessage:"See pricing"})}))))};function bo(e,t,r,a,o){var i=void 0===t||t,n=ea.ifTrue(Do,i);if(0===r.TAG)return a;var s=r._0;return"string"==typeof s?"SeReportDomainsWeeklyLimitReached"===s||"SeReportUrlsWeeklyLimitReached"===s||"SeRowsMonthlyLimitReached"===s?z.createElement("div",{className:n},z.createElement(ve.make,{error:s,isUpgradable:e.isUpgradable,dateResetUsagesMonthly:e.subscription.dateResetUsagesMonthly,dateResetUsagesWeekly:e.subscription.dateResetUsagesWeekly})):"SeDomainIsNotVerified"===s?z.createElement("div",{className:n},z.createElement(To,{})):"SeInvalidUrl"===s?z.createElement("div",{className:n},z.createElement(yo.make,{})):a:z.createElement(So.make,{error:s.VAL})}var Po=function(e){var t=e.settings,r=e.error,a=e.children;return me.mapWithDefault(r,a,(function(e){return bo(t,void 0,e,a)}))};function Mo(e){return s._1(Rt.css,{hd:Rt.label("container"),tl:{hd:Rt.height({NAME:"px",VAL:280}),tl:{hd:Rt.padding2(e?tt.NewSize.px12:"zero",e?tt.NewSize.px16:"zero"),tl:0}}})}var Ao=function(e){var t=e.settings,r=e.hasPadding,a=e.error,o=e.onClose,i=e.children,n=void 0!==r&&r;if(void 0===a)return i;if(0===a.TAG)return bo(t,!1,a,i);var s=a._0;if("string"!=typeof s)return z.createElement(So.make,{error:s.VAL});if("SeInvalidUrl"!==s&&"SeDomainIsNotVerified"!==s&&"SeReportDomainsWeeklyLimitReached"!==s&&"SeReportUrlsWeeklyLimitReached"!==s&&"SeRowsMonthlyLimitReached"!==s)return bo(t,!1,a,i);var l=bo(t,!1,a,i);return z.createElement("div",{className:Mo(n)},z.createElement(ct.make,{gap:"none",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},fullHeight:!0,children:null},z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},align:"top",children:null},z.createElement("div",void 0),void 0!==o?z.createElement(_o.make,{onClick:o,children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}):z.createElement("div",void 0)),z.createElement(ct.make,{gap:"none",vAlign:"center",fullHeight:!0,children:l})))},Ro=r(88881),Lo=function(e){var t,r=e.settings,o=e.data,i=e.loadingMode,n=e.tableData,d=e.row,c=e.tooltipTarget,u=e.isLoading,g=e.failureState,m=e.sort,f=e.sortDirection,p=e.totalRowsNumber,_=e.reportLink,h=e.totalMessage,k=e.customFooter,v=e.showCloseIcon,y=e.minMessageRowHeight,D=e.headerAddon,S=e.onClose,F=e.onRefetch,C=e.onSort,w=void 0!==i?i:0,T=void 0===v||v,b=void 0!==D?l.valFromOption(D):null,P=z.createElement("div",{className:vo},z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(pt.make,{fontWeight:"bold",children:z.createElement(Ro.make,{item:h,values:{totalDisplay:ae.Int.full(p),total:p}})}),z.createElement(Je.make,{children:null},b,a.renderDefaultNull(_,(function(e){return z.createElement(ta.make,{color:"muted",href:e,mode:3,children:z.createElement(Je.make,{gap:"px10",align:"center",children:null},z.createElement("div",{className:ko},z.createElement(Xe.Open.make,Xe.Open.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))),s._1(ke.Message.to_s,{id:"56d4c3c37ddca89436fbc5254f3aee6b",defaultMessage:"Open in a new tab"}))})})),T?z.createElement(_o.make,{onClick:S,children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}):null)));t="number"==typeof o||1!==o.TAG?void 0:o._0;var M={row:d,data:n,hasAppliedFilters:!1,header:P,isLoading:u,loadingMode:w?w._0:"number"==typeof o&&0!==o?0:1,failureState:g,isNestedTable:!0,tooltipTarget:c,totalRowsNumber:p,customFooter:k,pagination:{limit:100,offset:0},sortDirection:f,sort:m,onSort:C,onRefetch:F,onClearFilters:function(e){}};void 0!==y&&(M.minMessageRowHeight=l.valFromOption(y));var A={settings:r,onClose:S,children:z.createElement("div",{className:ho},z.createElement(te.Table.make,M))};return void 0!==t&&(A.error=l.valFromOption(t)),z.createElement(po.make,{padding:"blockSlim",children:z.createElement(Ao,A)})},Eo=r(80361),Bo=r(74538),Ko=r(91134),qo=r(86207);function xo(e){switch(0|e.TAG){case 0:return s._1(ke.Message.to_s,{id:"13b4a8637b2b0859a7b7aad596a9b860",defaultMessage:"Backlinks"});case 1:return s._1(ke.Message.to_s,{id:"4292dfc83d77cbe73e580a05205d920b",defaultMessage:"Backlinks and ref. domains"});case 2:return s._1(ke.Message.to_s,{id:"56a3c718aac0fdb8bbeff3c5e9b33e97",defaultMessage:"Domain Rating"});case 3:return s._1(ke.Message.to_s,{id:"6d32561b0f37167ab26df3224fa093cf",defaultMessage:"Keywords by top position"});case 4:return s._1(ke.Message.to_s,{id:"f2d461c7959fe64085895db42402e1af",defaultMessage:"Keywords and traffic"});case 5:return s._1(ke.Message.to_s,{id:"67dafa92d4ae4ae83a0990453d2a504d",defaultMessage:"Traffic share by country"});case 6:return s._1(ke.Message.to_s,{id:"7bef5a7e0191b3dad95037b0809740b6",defaultMessage:"Traffic and traffic value"});case 7:return s._1(ke.Message.to_s,{id:"f242242b20458942e56c0d26fea829f1",defaultMessage:"Organic keywords"});case 8:return s._1(ke.Message.to_s,{id:"239714260e6de2f1c0dbe6102320fdc8",defaultMessage:"Organic pages by traffic"});case 9:return s._1(ke.Message.to_s,{id:"9921cc0c7008f2fa95bec2aa96989c10",defaultMessage:"Organic pages"});case 10:return s._1(ke.Message.to_s,{id:"7a45ce2a1cdbac8e129457ca0bb2de70",defaultMessage:"Top pages"});case 11:return s._1(ke.Message.to_s,{id:"a996eaa8227c18f24210ecc6d1589817",defaultMessage:"Top paid pages"});case 12:return s._1(ke.Message.to_s,{id:"42d6058c88bf1cb377b74ac329973bb0",defaultMessage:"URL Rating"});case 13:return s._1(ke.Message.to_s,{id:"91a967e121f62aeccf8527763413b697",defaultMessage:"Refdomains"});case 14:return s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"})}}var Wo={contents:gt()};function Uo(e,t){var r=gt();return Wo.contents=r,Ye.forEach(d.performResult(void 0,void 0,qo.request,{input:e.input}),(function(e){if(Wo.contents===r)return s._1(t,e)}))}var Oo=function(e){var t=e.data;return z.createElement(Ko.Single.make,{data:t,onFetch:Uo})},No=function(e){var t=e.data;return z.createElement(Ko.Many.make,{data:t,toLabel:xo,onFetch:Uo})},$o=r(26404),Io=r(47212),Go=r(3979),Qo=r(61527),Vo=r(36680),jo=et.style([et.label("countrySelectItem"),et.width({NAME:"percent",VAL:100})]),Ho=(r(18222),Qo.Deprecated.getter),zo=Qo.Deprecated.setter;function Yo(e,t){return e.isUserCountry=t,e}function Jo(e){var t=Object.assign({},e);return s._2(zo,t,void 0)}function Xo(e){return Yo(Object.assign({},e),void 0)}var Zo={getCountry:Ho,getIsUserCountry:function(e){return e.isUserCountry},getter:function(e){return[s._1(Ho,e),e.isUserCountry]},setCountry:zo,setIsUserCountry:Yo,setter:function(e,t){return Yo(s._2(zo,e,t[0]),t[1])},clearCountry:Jo,clearIsUserCountry:Xo,clear:function(e){return Xo(Jo(e))}},ei=Sa.WithoutAll.dataToString,ti=Sa.WithoutAll.stringToData;function ri(e,t,r,a){if(e){if(void 0===t&&!r)return}else if(!r){if("number"==typeof a)return;switch(0|a.TAG){case 0:case 1:return;case 2:return me.mapWithDefault(ce.head(ce.sort(oe.toList(a._0),(function(e,t){return t[1]-e[1]|0}))),Qe,(function(e){return e[0]}))}}return void 0!==t?t:r._0}var ai={CountryCmp:void 0,dataToString:ei,stringToData:ti,calculateCountry:ri,optStringToValue:function(e,t,r,a){return ri(t,me.flatMap(e,ti),r,a)},shouldLoadSequentially:function(e,t){return!e&&!t},use:function(e,t,r,a,o){var i=ri(t,e,r,a);return Vo.useNew(s._1(Sa.WithoutAll.Filter.Country.toString,e),s._1(Sa.WithoutAll.Filter.Country.toString,i),(function(e){return s._1(o,i)}))},make:function(e){var t,r=e.selectedItem,o=e.onApply,i=e.remoteCountryMap,n=e.listHeader;t="number"==typeof i||2!==i.TAG?oe.make(We):i._0;var s={scope:2,onSelect:o,showFlagInControl:!0,customItemContent:function(e,r){return z.createElement("div",{className:jo},z.createElement(Je.make,{gap:"px6",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}}},children:null},z.createElement($o.make,{country:r}),z.createElement(pt.make,{children:a.s(r.name)}),z.createElement(Io.make,{size:"medium",corners:"rounded",color:"ghost",value:ae.Int.$$default(me.getWithDefault(oe.get(t,r),0))})))},filterCountries:function(e,r){return Sa.WithoutAll.defaultFilterCountries(ce.sort(e,(function(e,r){return oe.getWithDefault(t,r,0)-oe.getWithDefault(t,e,0)|0})),r)}};return void 0!==n&&(s.listHeader=l.valFromOption(n)),void 0!==r&&(s.selectedCountry=l.valFromOption(r)),z.createElement(Sa.WithoutAll.make,s)}},oi=Sa.Item.compare,ii=ee.MakeComparable({cmp:oi}),ni=Sa.WithAll.dataToString,si=Sa.WithAll.stringToData;function li(e,t){var r=me.getWithDefault(e,""),a=s._1(si,r);return void 0!==a?a:t?{_0:t._0}:0}var di={CountryCmp:ii,dataToString:ni,stringToData:si,optStringToValue:li,queryToValue:function(e,t){return li(s._1(Ho,e),t)},make:function(e){var t,r=e.selectedItem,o=e.onApply,i=e.remoteCountryMap,n=void 0!==i&&"number"!=typeof i&&2===i.TAG?i._0:oe.make(ii);return t=void 0!==i&&("number"==typeof i||2!==i.TAG),z.createElement(Qo.WithAll.make,{selectedItem:r,onApply:o,scope:2,disabled:t,showFlagInControl:!0,customItemContent:function(e,t){return z.createElement("div",{className:jo},z.createElement(Je.make,{gap:"px6",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}}},children:null},Sa.Item.toIcon(t),z.createElement(pt.make,{children:a.s(Sa.Item.toName(t))}),void 0!==i?z.createElement(Io.make,{size:"medium",corners:"rounded",color:"ghost",value:ae.Float.$$default(me.getWithDefault(oe.get(n,t),0))}):null))},filterCountries:function(e,t){return Sa.WithAll.defaultFilterCountries(ce.sort(e,(function(e,t){return e?t?Kt.compare(oe.getWithDefault(n,t,0),oe.getWithDefault(n,e,0)):1:t?-1:0})),t)}})}},ci=r(44112),ui=r(79732),gi=r(38582),mi=r(64832),fi=r(52349),pi=r(20790),_i=r(91239),hi=r(71203),ki=s._1(Rt.css,{hd:Rt.label("circleIcon"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.justifyContent("center"),tl:{hd:Rt.alignItems("center"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.pointerEvents("none"),tl:0}}}}}}),vi=s._1(Rt.css,{hd:Rt.label("circleNumber"),tl:{hd:Rt.fontSize({NAME:"px",VAL:10}),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.lineHeight({NAME:"px",VAL:12}),tl:{hd:Rt.textAlign("center"),tl:{hd:Rt.fontWeight("bold"),tl:0}}}}}}),yi=s._1(Rt.css,{hd:Rt.label("circle"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.zIndex(1),tl:{hd:Rt.padding("zero"),tl:{hd:Rt.margin4({NAME:"px",VAL:1},"auto","zero","auto"),tl:{hd:Rt.width({NAME:"px",VAL:13}),tl:{hd:Rt.height({NAME:"px",VAL:13}),tl:{hd:Rt.color(_e.Color.$$Text.tertiary),tl:{hd:Rt.backgroundColor(_e.Color.Background.box),tl:{hd:Rt.boxShadow(hi.Shadow.box("zero","zero","zero",{NAME:"px",VAL:1},!1,_e.Color.Border.controlAlpha)),tl:{hd:Rt.borderRadius({NAME:"percent",VAL:50}),tl:{hd:Rt.pointerEvents("none"),tl:0}}}}}}}}}}}}),Di=s._1(Rt.css,{hd:Rt.label("tooltipContent"),tl:{hd:Rt.padding(tt.NewSize.px10),tl:{hd:Rt.maxHeight({NAME:"px",VAL:400}),tl:{hd:Rt.overflowY("auto"),tl:{hd:Rt.overflowX("hidden"),tl:0}}}}}),Si=s._1(Rt.css,{hd:Rt.label("tooltipArea"),tl:{hd:Rt.paddingTop({NAME:"px",VAL:1}),tl:{hd:Rt.paddingBottom({NAME:"px",VAL:7}),tl:{hd:Rt.height({NAME:"px",VAL:21}),tl:{hd:Rt.hover({hd:Rt.selector("."+yi,{hd:Rt.color(_e.Color.$$Text.primary),tl:{hd:Rt.boxShadow(hi.Shadow.box("zero","zero","zero",{NAME:"px",VAL:1},!1,_e.Color.Border.controlHoverAlpha)),tl:0}}),tl:0}),tl:0}}}}}),Fi=r(54221);function Ci(e){var t=(0,Fi.default)(e.date,"yyyy-MM-dd"),r=/\s+/g;return e.title.defaultMessage.replace(r,"-").toLocaleLowerCase()+"-"+t.toLocaleLowerCase().replace(r,"-")}var wi=[{date:new Date("2022-10-03"),title:{id:"6e8371dc814198ff76e8d332fa82ec10",defaultMessage:"Keyword Data Update"},description:[{id:"264fcac2b6d3f0d43feb783d403d2996",defaultMessage:"This release was focused on data quality. We fixed some data anomalies and added trend data to more terms."},{}],link:[]},{date:new Date("2022-07-13"),title:{id:"6e8371dc814198ff76e8d332fa82ec10",defaultMessage:"Keyword Data Update"},description:[{id:"41ca56982e022304a3ed4e2a28a0db6e",defaultMessage:"Added 345M new keywords."},{}],link:[]},{date:new Date("2022-06-28"),title:{id:"6e8371dc814198ff76e8d332fa82ec10",defaultMessage:"Keyword Data Update"},description:[{id:"e3435ab4062f0b866f656b7d2d5eae9d",defaultMessage:"Added 325M new keywords."},{}],link:[]},{date:new Date("2022-05-07"),title:{id:"6e8371dc814198ff76e8d332fa82ec10",defaultMessage:"Keyword Data Update"},description:[{id:"ddd1c5a1ba3410f196efaa69323b6407",defaultMessage:"Added 350M new keywords, with 76M in the US alone."},{}],link:[]},{date:new Date("2022-03-03"),title:{id:"6e8371dc814198ff76e8d332fa82ec10",defaultMessage:"Keyword Data Update"},description:[{id:"933c9ce247f7f7e4805482a196317a3d",defaultMessage:"Added 500M new keywords across all countries, with 40M in the US alone."},{a:1}],link:[]},{date:new Date("2022-01-28"),title:{id:"6e8371dc814198ff76e8d332fa82ec10",defaultMessage:"Keyword Data Update"},description:[{id:"97311986bbf334211f469976baaf2896",defaultMessage:"Added 7.2 billion new keywords across all countries, increasing the total size of our database by ~70% to 17.3 billion keywords."},{}],link:[{href:"https://ahrefs.com/blog/keyword-data-improvements/",title:{id:"b454666503f6572c1fe667adf0054899",defaultMessage:"Ahrefs’ Keyword Data: More Coverage, Accuracy, and Utility Than Ever Before"}}]},{date:new Date("2021-09-13"),title:{id:"6e8371dc814198ff76e8d332fa82ec10",defaultMessage:"Keyword Data Update"},description:[{id:"a1a241c8f65d97d174df06b209d9e575",defaultMessage:"Added 299M new keywords across 91 countries, with 57M in the US alone."},{}],link:[{href:"https://ahrefs.com/blog/whats-new-at-ahrefs-september-2021/#general",title:{id:"d13b5dba8fc19ba164c6cdf7dcc8ba24",defaultMessage:"What's New At Ahrefs? (September 2021)"}}]},{date:new Date("2021-08-03"),title:{id:"6e8371dc814198ff76e8d332fa82ec10",defaultMessage:"Keyword Data Update"},description:[{id:"05f04cd04f1ba5f2517a96814e0c9264",defaultMessage:"Added 5.1M new keywords across 227 countries, with 1M in the US alone."},{}],link:[{href:"https://ahrefs.com/blog/whats-new-ahrefs-august-2021/#general",title:{id:"fddbfb5290f4149aaae1f867a2c7acd3",defaultMessage:"What's New At Ahrefs? (August 2021)"}}]},{date:new Date("2021-05-10"),title:{id:"6e8371dc814198ff76e8d332fa82ec10",defaultMessage:"Keyword Data Update"},description:[{id:"5cd8a9af4d1ff3237ca1cbc3c3a964ea",defaultMessage:"Added 10M new keywords across all countries."},{}],link:[]}],Ti=[{date:new Date("2022-12-14"),title:{id:"807bdf9a74d9337e1a708476028ed0df",defaultMessage:"December 2022 Link Spam Update"},description:[{id:"8fa5a601d7c145fc38a65eed0b5eb836",defaultMessage:"Google is using their AI-based spam-prevention system SpamBrain against links for the first time. It can detect sites buying links and sites used for the purpose of passing outgoing links and will remove any value those links provided. This update is global and affects all languages. It may take up to 2 weeks to finish rolling out."},{}],link:[{href:"https://developers.google.com/search/blog/2022/12/december-22-link-spam-update",title:{id:"f173f7e6d68973c1c4cdbc9c5aa23ace",defaultMessage:"December 2022 link spam update releasing for Google Search"}}]},{date:new Date("2022-12-05"),title:{id:"98673b1a1027738975847141ce31c044",defaultMessage:"December 2022 Helpful Content Update"},description:[{id:"c0816cd1067c1a15eb1d2f6b6a65fe89",defaultMessage:"This update improves Google's classifier which now works across all languages. Helpful content updates promote more original, helpful content written by people, for people, rather than content made primarily for search engine traffic. This update may take up to 2 weeks to finish rolling out."},{}],link:[{href:"https://developers.google.com/search/updates/helpful-content-update",title:{id:"b3a7e4cc0189e412b1220ced273c40f3",defaultMessage:"Google Search's helpful content system and your website"}}]},{date:new Date("2022-10-19"),title:{id:"5da9facb49184e4ffbc988331b75232c",defaultMessage:"October 2022 Spam Update"},description:[{id:"6b040dd02ff959fc2d17832903f9ca8d",defaultMessage:"Spam updates target sites that don't follow the webmaster guidelines. Sites impacted by these updates may be seeking short term gains while ignoring best practices. This update was completed on October 21st."},{}],link:[{href:"https://developers.google.com/search/updates/spam-updates",title:{id:"37c67a0fab2ec8909e61f6ee4586d6bd",defaultMessage:"Google Search spam updates and your site"}}]},{date:new Date("2022-09-20"),title:{id:"d039a734c63bf1cb76d9de08ad6275be",defaultMessage:"September 2022 Product Reviews Update"},description:[{id:"0637fd465470731a7355217035a80940",defaultMessage:"Product review updates prioritize content that demonstrates first hand knowledge and expertise of the products. This update targets specifically English-language product reviews. It was completed on September 26th."},{}],link:[{href:"https://developers.google.com/search/docs/advanced/ecommerce/write-high-quality-product-reviews",title:{id:"c6955367029459f9d6bcbf204379b570",defaultMessage:"Write high quality product reviews"}}]},{date:new Date("2022-09-12"),title:{id:"4c90da3fe0c79209e820f260328a129a",defaultMessage:"September 2022 Core Update"},description:[{id:"30cbf10537d105bd85f8cf3f0ff95ce6",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. This update was completed on September 26th."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2022-08-25"),title:{id:"41a0ed0804f55c8d05e5823b76893148",defaultMessage:"August 2022 Helpful Content Update"},description:[{id:"e3a4193d2cd92333ae83cb621e2f0c66",defaultMessage:"Helpful content updates promote more original, helpful content written by people, for people, rather than content made primarily for search engine traffic. This update will take up to 2 weeks to roll out."},{}],link:[{href:"https://developers.google.com/search/blog/2022/08/helpful-content-update",title:{id:"60f7d8a6e0bfd5d55ac378c50fd5d604",defaultMessage:"What creators should know about Google's helpful content update"}}]},{date:new Date("2022-07-27"),title:{id:"2bcf462ca07979dab59b4f03fded43fb",defaultMessage:"July 2022 Product Reviews Update"},description:[{id:"002f2419c2cd9c6554d0ddc455a61a85",defaultMessage:"Product review updates prioritize content that demonstrates first hand knowledge and expertise of the products. This update targets specifically English-language product reviews and was completed on August 2nd."},{}],link:[{href:"https://developers.google.com/search/docs/advanced/ecommerce/write-high-quality-product-reviews",title:{id:"c6955367029459f9d6bcbf204379b570",defaultMessage:"Write high quality product reviews"}}]},{date:new Date("2022-05-25"),title:{id:"a4283a8f2629b5fd91d411686a1d13f3",defaultMessage:"May 2022 Core Update"},description:[{id:"748fec9fb15d65b17b575d07c173f846",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. This update was completed on June 9th."},{}],link:[{href:"https://developers.google.com/search/blog/2022/05/may-2022-core-update",title:{id:"c239985dbeb033618c421237759da8a2",defaultMessage:"May 2022 core update releasing for Google Search"}},{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2022-03-23"),title:{id:"2158d01f46cfd738406b2ca6610fd1d6",defaultMessage:"Product Reviews Update"},description:[{id:"103a4878722fc674215de5268b911c3d",defaultMessage:"Product review updates prioritize content that demonstrates first hand knowledge and expertise of the products. This update was completed on April 11th."},{}],link:[{href:"https://developers.google.com/search/blog/2022/03/product-review-ranking-one-year-on?hl=en",title:{id:"ee9d8dae2a6fe72822b8c97956cbd42f",defaultMessage:"Improving Product Review ranking, one year on"}},{href:"https://developers.google.com/search/docs/advanced/ecommerce/write-high-quality-product-reviews",title:{id:"d81da523286f927a7ffe46135750f28a",defaultMessage:"How To Write Product Reviews"}}]},{date:new Date("2022-02-22"),title:{id:"5563768c2ad4b9217785d76a797904c6",defaultMessage:"Desktop Page Experience Update"},description:[{id:"58e632e2482fd216816ed5ff648f0437",defaultMessage:"Page Experience updates are designed to highlight pages that offer great user experiences. This includes mobile friendliness, intrusive interstitials, safe browsing, and speed metrics referred to as Core Web Vitals. This update was completed on March 3rd."},{}],link:[{href:"https://developers.google.com/search/blog/2021/11/bringing-page-experience-to-desktop?hl=en",title:{id:"26ff842c3b3167cce45fb84f0559fbda",defaultMessage:"Timeline for bringing page experience ranking to desktop"}}]},{date:new Date("2021-12-01"),title:{id:"2158d01f46cfd738406b2ca6610fd1d6",defaultMessage:"Product Reviews Update"},description:[{id:"955f27c24afdc9d5dea9d0e4f6bc7efd",defaultMessage:"Product review updates prioritize content that demonstrates first hand knowledge and expertise of the products. This update was completed on December 21st."},{}],link:[{href:"https://developers.google.com/search/blog/2021/12/product-reviews-update-and-your-site?hl=en",title:{id:"5188ad8149637fcb44e6e0d17ef4e3f9",defaultMessage:"Product reviews update and your site"}},{href:"https://developers.google.com/search/docs/advanced/ecommerce/write-high-quality-product-reviews",title:{id:"d81da523286f927a7ffe46135750f28a",defaultMessage:"How To Write Product Reviews"}}]},{date:new Date("2021-11-30"),title:{id:"ff9c18a340ae26fe8d9faca4f8691c08",defaultMessage:"November 2021 Local Search Update"},description:[{id:"ffe19c5843ab8bbecbbc815be9b2a32d",defaultMessage:"Local search updates focus on making local search results better for users. They are typically rebalancing factors such as relevance, distance, and prominence. This update was completed on December 8th."},{}],link:[{href:"https://support.google.com/business/answer/7091",title:{id:"8513e31e6aeda5b60bfedabc77738f00",defaultMessage:"How to improve your local ranking on Google - Google Business Profile Help"}}]},{date:new Date("2021-11-17"),title:{id:"afaf7d8634d5193d51c8bac3e9113007",defaultMessage:"November 2021 Core Update"},description:[{id:"432f24c5e562ec8e5a78f9c62864fe44",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. This update was completed on November 30th."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2021-11-03"),title:{id:"4f5719c3436b12b31194c9bf50e153a3",defaultMessage:"November 2021 Spam Update"},description:[{id:"342798ed156e6f1a11eeed7e2642c225",defaultMessage:"Spam updates target sites that don't follow the webmaster guidelines. Sites impacted by these updates may be seeking short term gains while ignoring best practices. This update was completed on November 11th."},{}],link:[{href:"https://developers.google.com/search/docs/advanced/guidelines/webmaster-guidelines",title:{id:"8dc77022878eda65fc7e916f672542be",defaultMessage:"Webmaster Guidelines"}}]},{date:new Date("2021-08-16"),title:{id:"724814d59862cc9a36433a05f5e6dfe2",defaultMessage:"Page Title Rewrites"},description:[{id:"d8c46bb5f9a76c91f33abc7ab06214c6",defaultMessage:"This was a change to how Google writes titles for pages in the SERP. More titles are now rewritten and each page generally has one title now. Previously, titles could change depending on the query."},{}],link:[{href:"https://developers.google.com/search/blog/2021/08/update-to-generating-page-titles",title:{id:"370fb3741e363a8605bccbbbac835eb5",defaultMessage:"An update to how we generate web page titles"}},{href:"https://developers.google.com/search/blog/2021/09/more-info-about-titles?hl=en",title:{id:"9ad18daefb32c24bc9e6377feda49cf2",defaultMessage:"More information on how Google generates titles for web page results"}}]},{date:new Date("2021-07-26"),title:{id:"8b0faab0f65ceaabe19a49bd217fde05",defaultMessage:"July 2021 Link Spam Update"},description:[{id:"3d14cdfd23cab0d188dc486cd4446a50",defaultMessage:"Spam updates target sites that don't follow the webmaster guidelines. Sites impacted by these updates may be seeking short term gains while ignoring best practices. As the name implies, this particular update targeted link spam. This update was completed on August 24th"},{}],link:[{href:"https://developers.google.com/search/blog/2021/07/link-tagging-and-link-spam-update",title:{id:"5ead8cd8a674e493cfe02f5655ae772b",defaultMessage:"A reminder on qualifying links and our link spam update"}}]},{date:new Date("2021-07-01"),title:{id:"22b0121ba2081b317b6708d42240aaa1",defaultMessage:"July 2021 Core Update"},description:[{id:"ada9f8912f5b581ac2f06a82acc6e9f0",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. This update was completed on July 12th."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2021-06-28"),title:{id:"9c2ee511a89905d8bdaaa6ec24104888",defaultMessage:"Spam Update Part 2"},description:[{id:"579f1a72fb86408cb353f0c4e49ca2cf",defaultMessage:"Spam updates target sites that don't follow the webmaster guidelines. Sites impacted by these updates may be seeking short term gains while ignoring best practices. This update was completed the same day."},{}],link:[{href:"https://developers.google.com/search/docs/advanced/guidelines/webmaster-guidelines",title:{id:"8dc77022878eda65fc7e916f672542be",defaultMessage:"Webmaster Guidelines"}},{href:"https://developers.google.com/search/blog/2021/04/how-we-fought-search-spam-2020",title:{id:"e162799ee3a77af3bcb7ca1901cfc19c",defaultMessage:"How we fought Search spam on Google in 2020"}}]},{date:new Date("2021-06-23"),title:{id:"467cab29ca490ef8d3b02e6d82b4fdae",defaultMessage:"Spam Update"},description:[{id:"579f1a72fb86408cb353f0c4e49ca2cf",defaultMessage:"Spam updates target sites that don't follow the webmaster guidelines. Sites impacted by these updates may be seeking short term gains while ignoring best practices. This update was completed the same day."},{}],link:[{href:"https://developers.google.com/search/docs/advanced/guidelines/webmaster-guidelines",title:{id:"8dc77022878eda65fc7e916f672542be",defaultMessage:"Webmaster Guidelines"}},{href:"https://developers.google.com/search/blog/2021/04/how-we-fought-search-spam-2020",title:{id:"e162799ee3a77af3bcb7ca1901cfc19c",defaultMessage:"How we fought Search spam on Google in 2020"}}]},{date:new Date("2021-06-15"),title:{id:"b35f7d90b35cc0e4ae72cb0c9d0e4b37",defaultMessage:"Mobile Page Experience Update"},description:[{id:"dfc39355c4ace9c46a2ba2bd841172a7",defaultMessage:"Page Experience updates are designed to highlight pages that offer great user experiences. This includes mobile friendliness, intrusive interstitials, safe browsing, and speed metrics referred to as Core Web Vitals. This update was completed on September 2nd."},{}],link:[{href:"https://developers.google.com/search/blog/2021/04/more-details-page-experience",title:{id:"cc3c41bb465bb41b1da25aca34130d55",defaultMessage:"More time, tools, and details on the page experience update"}}]},{date:new Date("2021-06-10"),title:{id:"5670f29a519eac50cd0a3d9257e94696",defaultMessage:"Protecting People From Harassment Update"},description:[{id:"0c1ad83c07ee15f7564d054c803668bd",defaultMessage:"This update targets sites that may engage in predatory practices when it comes to harassing people."},{}],link:[{href:"https://blog.google/products/search/improving-search-better-protect-people-harassment/",title:{id:"d32bacdaecc1d1a43c12f0ddcb22e6e1",defaultMessage:"Improving Search to better protect people from harassment"}}]},{date:new Date("2021-06-02"),title:{id:"4fe9ebcffdcc8433f159190da5ea23d3",defaultMessage:"June 2021 Core Update"},description:[{id:"68ec380fcdbbb19968e915f8104b798a",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. This update was completed on June 12th."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2021-04-08"),title:{id:"2158d01f46cfd738406b2ca6610fd1d6",defaultMessage:"Product Reviews Update"},description:[{id:"a8d2db82abf49e4ba79061137463cca3",defaultMessage:"Product review updates prioritize content that demonstrates first hand knowledge and expertise of the products. This update was completed on April 22nd."},{}],link:[{href:"https://developers.google.com/search/blog/2021/04/product-reviews-update",title:{id:"5bed5ad6e507e3504c5a6226a73e57ae",defaultMessage:"What creators should know about Google's product reviews update"}}]},{date:new Date("2021-02-10"),title:{id:"524fee851eab3f03af17654796256066",defaultMessage:"Passage Ranking"},description:[{id:"8a6c7beca027c28c7bb4174c9df6c602",defaultMessage:"Passage ranking helps specific passages within pages to rank better for relevant queries. This update was completed on February 15th."},{}],link:[{href:"https://www.blog.google/products/search/search-on/",title:{id:"28c1947d7071e8c5a932a8d5a513ed0d",defaultMessage:'How AI is powering a more helpful Google"'}}]},{date:new Date("2020-12-03"),title:{id:"c70d2a05bdf782ed3d0ffaf47480a347",defaultMessage:"December 2020 Core Update"},description:[{id:"af29e394c6e39b29a6181d0e65fc617b",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. This update was completed on December 16th."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2020-11-15"),title:{id:"11d14590017a73543a9f38b197108fad",defaultMessage:"Subtopics Ranking"},description:[{id:"24124d7f6db56d7174119e75e0b01913",defaultMessage:"Subtopic ranking helped Google to better understand relevant subtopics for some search results and show a wider range of relevant content. Date is approximate."},{}],link:[{href:"https://blog.google/products/search/search-on/",title:{id:"28c1947d7071e8c5a932a8d5a513ed0d",defaultMessage:'How AI is powering a more helpful Google"'}}]},{date:new Date("2020-09-20"),title:{id:"436b6f661ad0504baede2e654ff73e15",defaultMessage:"Indexing & Canonicalization Bugs"},description:[{id:"1a30877d1cd2dadfc92a1285e3dec962",defaultMessage:"A couple separate bugs happening at the same time led to some flux in the SERPs. Mobile Indexing bug fixed October 8th. Canonical issue fixed October 14th."},{}],link:[{href:"https://twitter.com/searchliaison/status/1311805474992320512",title:{id:"1c214232adb350e9da3d1d185d734d14",defaultMessage:"Google SearchLiaison on Twitter"}}]},{date:new Date("2020-08-10"),title:{id:"14230d23b5424c1bf40f56820e5e06e6",defaultMessage:"Google Glitch"},description:[{id:"8bb9e913e19cd202673fda996e0ae8a0",defaultMessage:"A major bug shook up Google search results on this day. Many SEOs noticed a lot of low quality sites ranking higher. Fixed the 11th."},{}],link:[{href:"https://twitter.com/googlesearchc/status/1293212810474921985",title:{id:"7a6c5642db3e94f1bc1b8ec218693882",defaultMessage:"Google Search Central on Twitter"}}]},{date:new Date("2020-05-04"),title:{id:"342538ceac2fe868484582e218198e7f",defaultMessage:"May 2020 Core Update"},description:[{id:"90133feae24d02789cdd98549be6e383",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. This update was completed on May 18th."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2020-01-22"),title:{id:"43a2dffffe8abbc762c3e889ac96ed5d",defaultMessage:"Featured Snippet De-duping"},description:[{id:"87c46c5efa0de549463edfd2b2931224",defaultMessage:"This update made it so your page is only listed once in SERPs. Prior to this, a page could have the featured snippet and another organic listing."},{}],link:[{href:"https://twitter.com/dannysullivan/status/1220096026981175296",title:{id:"b529bf66ab0f68ce6174356df8f610dc",defaultMessage:'Danny Sullivan on Twitter"'}}]},{date:new Date("2020-01-13"),title:{id:"eb5fb4815d25af39229110c1c0e55ed8",defaultMessage:"January 2020 Core Update"},description:[{id:"7606cbcad8f85353c2b4b402db494f67",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2019-12-09"),title:{id:"2eeeff7d3aad4ee727ca3d35e94dbe18",defaultMessage:"International BERT Roll-out"},description:[{id:"449c832065260ce752006f1f1279788b",defaultMessage:"BERT uses machine learning to help understand user queries better and to return more relevant results."},{}],link:[{href:"https://www.blog.google/products/search/search-language-understanding-bert/",title:{id:"123025138773f9223fdd8b87af7332cb",defaultMessage:"Understanding searches better than ever before"}}]},{date:new Date("2019-11-05"),title:{id:"35f6da82df97417be44cb17fb72a3a9b",defaultMessage:"Nov. 2019 Local Search Update"},description:[{id:"5748cb78abe5f1b36f56bf09c779aef6",defaultMessage:"Local search updates focus on making local search results better for users. They are typically rebalancing factors such as relevance, distance, and prominence. This particular update also introduced neural matching which helps Google better understand how words are related to concepts. This update was completed on December 2nd."},{}],link:[{href:"https://support.google.com/business/answer/7091",title:{id:"8513e31e6aeda5b60bfedabc77738f00",defaultMessage:"How to improve your local ranking on Google - Google Business Profile Help"}},{href:"https://twitter.com/searchliaison/status/1201549327144898567",title:{id:"1c214232adb350e9da3d1d185d734d14",defaultMessage:"Google SearchLiaison on Twitter"}}]},{date:new Date("2019-10-22"),title:{id:"f6bbdb45ec7d9c6be2b0004d09a0121a",defaultMessage:"BERT Update"},description:[{id:"449c832065260ce752006f1f1279788b",defaultMessage:"BERT uses machine learning to help understand user queries better and to return more relevant results."},{}],link:[{href:"https://www.blog.google/products/search/search-language-understanding-bert/",title:{id:"123025138773f9223fdd8b87af7332cb",defaultMessage:"Understanding searches better than ever before"}}]},{date:new Date("2019-09-24"),title:{id:"4637f3695413fd9941519a3590e778df",defaultMessage:"September 2019 Core Update"},description:[{id:"7606cbcad8f85353c2b4b402db494f67",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2019-06-04"),title:{id:"f757fb596d69cf0bc887d88bbc81b18a",defaultMessage:"Site Diversity Update"},description:[{id:"a1673de8741fbdb4224ec73919a58d8b",defaultMessage:"The Site Diversity Update makes it so that one site will rarely have more than 2 organic listings in a SERP."},{}],link:[{href:"https://twitter.com/searchliaison/status/1136739062843432960",title:{id:"1c214232adb350e9da3d1d185d734d14",defaultMessage:"Google SearchLiaison on Twitter"}}]},{date:new Date("2019-06-03"),title:{id:"73ccc06dbed32e1f48f5dff928c9a783",defaultMessage:"June 2019 Core Update"},description:[{id:"7606cbcad8f85353c2b4b402db494f67",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2019-04-05"),title:{id:"9789b6b5ff91feef5c820b14fad5b368",defaultMessage:"Deindexing Bug"},description:[{id:"c304cc75de9a57d9fcd4c92ef4098ebc",defaultMessage:"A bug on Google's end made a lot of pages drop out of the index. This was fixed by April 10th."},{}],link:[{href:"https://twitter.com/searchliaison/status/1114961119699804160",title:{id:"1c214232adb350e9da3d1d185d734d14",defaultMessage:"Google SearchLiaison on Twitter"}},{href:"https://developers.google.com/search/blog/2019/08/when-indexing-goes-wrong-how-google",title:{id:"010b00f211a1e6527d89354ad9b7cb0a",defaultMessage:"When indexing goes wrong: how Google Search recovered from indexing issues and lessons learned since."}}]},{date:new Date("2019-03-12"),title:{id:"85990cb886ce1db3f6cf958c056b9710",defaultMessage:"March 2019 Core Update"},description:[{id:"7606cbcad8f85353c2b4b402db494f67",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2018-08-01"),title:{id:"ee772718463ce8a1c77d37cbd32a484f",defaultMessage:"Core Update"},description:[{id:"806898f6c611ddb31d1cd0a93507f21a",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. Some SEOs also call this the Medic update. This update was completed on August 8th."},{}],link:[{href:"https://developers.google.com/search/blog/2018/01/using-page-speed-in-mobile-search",title:{id:"ed2be1ba83e13a1cf73f19d1eb687908",defaultMessage:"Using page speed in mobile search ranking"}}]},{date:new Date("2018-07-09"),title:{id:"f4eea41a100f2091c1d360ead75d43be",defaultMessage:"Mobile Page Speed Update"},description:[{id:"a68a069a2d95686bb4efeac1f95560f6",defaultMessage:"This update made it so that some of the slowest websites were not as visible in search results. There was some testing prior to this date."},{}],link:[{href:"https://developers.google.com/search/blog/2018/01/using-page-speed-in-mobile-search",title:{id:"ed2be1ba83e13a1cf73f19d1eb687908",defaultMessage:"Using page speed in mobile search ranking"}}]},{date:new Date("2018-04-16"),title:{id:"ee772718463ce8a1c77d37cbd32a484f",defaultMessage:"Core Update"},description:[{id:"7606cbcad8f85353c2b4b402db494f67",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2018-03-26"),title:{id:"2e52a7f1925ecd03fd010a754610b094",defaultMessage:"Mobile-First Indexing"},description:[{id:"4a8a06613632c42133602fbfd55c75cd",defaultMessage:"Mobile-First Indexing was a change in how Google indexed pages. They switched from using the desktop version of pages to the mobile version. This means that content and links seen on mobile pages are what are ultimately indexed. While some sites were moved before this date, this is the date when the first big batch of websites were moved."},{}],link:[{href:"https://developers.google.com/search/blog/2018/03/rolling-out-mobile-first-indexing",title:{id:"35c1930ced49282a03f945b79b140076",defaultMessage:"Rolling out mobile-first indexing"}}]},{date:new Date("2018-03-07"),title:{id:"ee772718463ce8a1c77d37cbd32a484f",defaultMessage:"Core Update"},description:[{id:"7606cbcad8f85353c2b4b402db494f67",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2017-06-20"),title:{id:"d1e37d03d734c98852e206d204b3eb05",defaultMessage:"Google Jobs"},description:[{id:"623982837956076a70e093370da6f440",defaultMessage:"Google officially launched a search feature related to jobs."},{}],link:[{href:"https://developers.google.com/search/blog/2017/06/connect-to-job-seekers-with-google",title:{id:"672380c3c39df841d49fc42a1645161f",defaultMessage:"Connect to job seekers with Google Search"}}]},{date:new Date("2017-04-25"),title:{id:"cf95d55ebbdfbbf92f45c1d719d2cf3a",defaultMessage:"Project Owl"},description:[{id:"6b146d103a25f85746aa49239894c4ed",defaultMessage:"Project Owl was a quality update designed to reduce offensive and misleading pages in search results."},{}],link:[{href:"https://blog.google/products/search/our-latest-quality-improvements-search/",title:{id:"3ed7a3d79ec58e84f1fef085e6bb02b9",defaultMessage:"Our latest quality improvements for Search"}}]},{date:new Date("2017-03-07"),title:{id:"ee772718463ce8a1c77d37cbd32a484f",defaultMessage:"Core Update"},description:[{id:"2f0d19626d0c6317f39e2a68ebff18d0",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. This update was also referred to as Fred, a nickname given to it by Google Webmaster Trends Analyst Gary Illyes."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2017-01-10"),title:{id:"b896ad020e9f680cc690308f1b1f2df1",defaultMessage:"Intrusive Interstitial Penalty"},description:[{id:"c18645fc81c0cec4280821542e26580c",defaultMessage:"The Intrusive Interstitial Penalty targeted sites with popups that made content less accessible."},{}],link:[{href:"https://developers.google.com/search/blog/2016/08/helping-users-easily-access-content-on",title:{id:"d3b68572ddd324e64ad7528ba4a0e8f2",defaultMessage:"Helping users easily access content on mobile"}}]},{date:new Date("2016-09-23"),title:{id:"dd2f4538ab87a8cf0ed0f5a1b4c32f49",defaultMessage:"Penguin 4.0"},description:[{id:"340cf0561154b1a2184e5ab2790e218a",defaultMessage:"Google's Penguin algorithm was made to target webspam. This update integrated Penguin with the Core algorithm. It also changed from demoting pages to a system that tries to simply ignore bad links. This update was completed on October 12th."},{}],link:[{href:"https://developers.google.com/search/blog/2016/09/penguin-is-now-part-of-our-core",title:{id:"5b383a519e13e5a99d6f5479f3aed790",defaultMessage:"Penguin is now part of our core algorithm"}}]},{date:new Date("2016-05-17"),title:{id:"3bbab937cf153e5216dc15cbbb563f4a",defaultMessage:"Rich Cards introduced"},description:[{id:"2e835c08cf60de989ba74a95d69125c0",defaultMessage:"Google launched rich cards. These are special SERP features powered by structured data. You can see the various features in <a>the search gallery<a/>."},{a:function(e){return z.createElement("a",{href:"https://developers.google.com/search/docs/advanced/structured-data/search-gallery",rel:"noopener noreferrer",target:"_blank",onClick:function(e){e.stopPropagation()}},a.s(e))}}],link:[{href:"https://developers.google.com/search/blog/2016/05/introducing-rich-cards",title:{id:"38d2a663d144a772fc92aff27179ee04",defaultMessage:"Introducing Rich Cards"}}]},{date:new Date("2016-05-12"),title:{id:"54434da649633b4320578f10214acf0d",defaultMessage:"Mobile-Friendly Update"},description:[{id:"08a2e1b53c8f0fc16e83b9085f69bfeb",defaultMessage:"The second Mobile-Friendly Update increased the effect of the ranking signal. It was intended to make mobile-friendly sites rank even better."},{}],link:[{href:"https://developers.google.com/search/blog/2016/03/continuing-to-make-web-more-mobile",title:{id:"1b148e8ec2ec7230799f3f898ecd2635",defaultMessage:"Continuing to make the web more mobile friendly"}}]},{date:new Date("2016-01-08"),title:{id:"ee772718463ce8a1c77d37cbd32a484f",defaultMessage:"Core Update"},description:[{id:"7606cbcad8f85353c2b4b402db494f67",defaultMessage:"Core updates involve large changes to Google's algorithm aimed to make the results better. They're generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking."},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2015-12-17"),title:{id:"eaea707a74080daafbfe4193bd75cc8d",defaultMessage:"Indexing HTTPS pages by default"},description:[{id:"2d2e5dcf95029a36356abb8793b78775",defaultMessage:"Google started to crawl and index the HTTPS version of pages over the HTTP versions."},{}],link:[{href:"https://developers.google.com/search/blog/2015/12/indexing-https-pages-by-default",title:{id:"473a9e3c4519364b5eac0d8919cca83e",defaultMessage:"Indexing HTTPS pages by default"}}]},{date:new Date("2015-10-26"),title:{id:"4e8e15d280bc5ec38fd4dc74e7471cef",defaultMessage:"RankBrain"},description:[{id:"77d69a8bc8332298cbeff887267bef56",defaultMessage:"RankBrain is using machine learning to better understand search queries and return relevant results. Launched months before it was announced."},{}],link:[{href:"https://searchengineland.com/faq-all-about-the-new-google-rankbrain-algorithm-234440",title:{id:"b73387a7439cae29f732123467daa3a7",defaultMessage:"FAQ: All about the Google RankBrain algorithm"}}]},{date:new Date("2016-10-06"),title:{id:"1124553ccd8a8b0c4ea3652cf5b2d6f6",defaultMessage:"Hacked Spam Update"},description:[{id:"116e3e549530c723e4c60cb78411ad11",defaultMessage:"The hacked spam update aimed to demote hacked websites in search results."},{}],link:[{href:"https://developers.google.com/search/blog/2015/10/an-update-on-how-we-tackle-hacked-spam",title:{id:"aada253b9f8c6f36315b4e5e9d22d75f",defaultMessage:"An update on how we tackle hacked spam"}}]},{date:new Date("2015-07-18"),title:{id:"ac9b423e4da07b7d443eb48177a4b116",defaultMessage:"Panda 4.2"},description:[{id:"65bcd2a613702c0f0d44a6ab1df2f0cf",defaultMessage:"Panda updates aim to adjust rankings based on website quality. Panda 4.2 rolled out over several months."},{}],link:[{href:"https://developers.google.com/search/blog/2011/05/more-guidance-on-building-high-quality",title:{id:"c667acec01dd15329b483e74174a0ef4",defaultMessage:"More guidance on building high-quality sites"}}]},{date:new Date("2015-05-01"),title:{id:"ee772718463ce8a1c77d37cbd32a484f",defaultMessage:"Core Update"},description:[{id:"42377a8c019530e724b8de3f7825c56f",defaultMessage:'Core updates involve large changes to Google\'s algorithm aimed to make the results better. They\'re generally focused on E-A-T or Expertise, Authoritativeness, and Trustworthiness. These updates can cause significant shifts in ranking. This update was also referred to as "The Quality Update" and "Phantom 2".'},{}],link:[{href:"https://developers.google.com/search/blog/2019/08/core-updates",title:{id:"e804150b340367255baf67d0b12a36d8",defaultMessage:"What site owners should know about Google's core updates"}}]},{date:new Date("2015-04-21"),title:{id:"54434da649633b4320578f10214acf0d",defaultMessage:"Mobile-Friendly Update"},description:[{id:"d335bc700cedf994f90b0575cc1b3153",defaultMessage:"The Mobile-Friendly Update, also referred to as Mobilegeddon, helped to reward websites who are mobile-friendly."},{}],link:[{href:"https://developers.google.com/search/blog/2015/04/faqs-april-21st-mobile-friendly",title:{id:"b29967d1395643db074f8ada9c77e75f",defaultMessage:"FAQs about the April 21st mobile-friendly update"}}]},{date:new Date("2015-03-17"),title:{id:"1abe8be635410eabb4dc41cb56ef33e9",defaultMessage:"Doorway Pages Algorithm Update"},description:[{id:"ac67faf1a4a551a58509fdff812ed56e",defaultMessage:"This was a webspam update that specifically targeted doorway pages."},{}],link:[{href:"https://developers.google.com/search/blog/2015/03/an-update-on-doorway-pages",title:{id:"8b4efb301d1ac432a305e26425ba4bff",defaultMessage:"An update on doorway pages"}}]}],bi=r(4896);function Pi(e,t,r){return void 0!==e&&e?[{hd:0,tl:{hd:2,tl:0}},0]:3!==t?t>=4?[{hd:0,tl:{hd:1,tl:0}},0]:[{hd:0,tl:{hd:1,tl:{hd:2,tl:0}}},2]:[{hd:0,tl:{hd:1,tl:{hd:2,tl:0}}},0]}function Mi(e){switch(e){case 0:return"Date";case 1:return"Week";case 2:return"Month"}}function Ai(e,t){return t>=2?e.format("YYYY-MM"):ne.moment(void 0,e,"dateWithDashes")}var Ri=bi.Make({equals:Qr.equal}),Li=It.Make({key:"chartGranularity",$$default:0,localStorageKey:void 0,toString:function(e){switch(e){case 0:return"daily";case 1:return"weekly";case 2:return"monthly"}},ofString:function(e){if(void 0!==e)switch(e){case"daily":return 0;case"monthly":return 2;case"weekly":return 1;default:return}}}),Ei=function(e){var t=e.value,r=e.timeFrame,a=e.yearsMode,o=e.onChange,i=Pi(a,r);return z.createElement(Ri.make,{selectedItem:t,items:ce.map(i[0],(function(e){return s._4(Ri.makeItem,function(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"9dd3b26c67e2afe888e65b94ec125258",defaultMessage:"Daily"});case 1:return s._1(ke.Message.to_s,{id:"5baa7578e3abacf5a3c1ccb18b8da2ed",defaultMessage:"Weekly"});case 2:return s._1(ke.Message.to_s,{id:"04de9acb8b632779de471962f08b732b",defaultMessage:"Monthly"})}}(e),e,!1,void 0)})),onChange:o})},Bi=(Li.key,Li.localStorageKey,Li.getDefault),Ki=Li.toString,qi=(Li.ofString,Li.getter,Li.setter,Li.isApplied,Li.ofQuery,Li.ofQueryWithDefault),xi=Li.ofQueryWithCustomDefault,Wi=Li.toQuery,Ui=r(39067),Oi=r(19754),Ni=r(85583),$i=Ni.ChartNoteSource.to_string;Ni.ChartNoteSource.of_string;var Ii={hd:0,tl:{hd:1,tl:0}},Gi=function(e){var t=e.data,r=e.onApply,o=void 0!==t?t:Ii,i=a.useStateValue(o),n=i[1],l=i[0];return z.useEffect((function(){s._1(n,o)}),[o]),z.createElement($r.make,{menuPlacement:"bottomEnd",toggleElement:z.createElement(Oi.make,{active:!1,onClick:function(e){},children:z.createElement(Xe.TextBubble.make,s.app(Xe.TextBubble.makeProps,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]))}),children:z.createElement(ct.make,{gap:"none",children:a.list(ce.map(Ii,(function(e){var t,o=ce.has(l,e,(function(e,t){return e===t})),i=function(t){var a=o?ce.filter(l,(function(t){return t!==e})):{hd:e,tl:l};return s._1(r,a),s._1(n,a)};return z.createElement(Ui.make,{children:z.createElement(Ut.make,{label:z.createElement(pt.make,{color:"primary",children:a.s((t=e,t?s._1(ke.Message.to_s,{id:"2afc70d7bb23cd43bfcd9776cd38fb83",defaultMessage:"Google updates"}):s._1(ke.Message.to_s,{id:"22503753dc7d7c0f36391edbb160f096",defaultMessage:"Ahrefs updates"})))}),checked:o,onChange:function(e){return i()},key:$i(e)}),onClick:function(e){return e.preventDefault(),e.stopPropagation(),i()},key:$i(e)})})))})})};function Qi(e,t){var r=e.description;return{date:e.date,title:mi.format(e.title),description:mi.deprecated_formatWithValue(r[0],r[1]),source:t,link:t?[{href:vt.guestUrl("/google-algorithm-updates")+"#"+Ci(e),title:{id:"dbdafb4b3c3b38ec75c2b983b61a6181",defaultMessage:"Learn more"}}]:e.link}}var Vi=ge.concat(ge.map(wi,(function(e){return Qi(e,0)})),ge.map(Ti,(function(e){return Qi(e,1)})));function ji(e){var t=e.data,r=e.viewBox,o=e.tooltipTarget,i=void 0!==r?r:{x:0,y:0,width:0,height:0},n=z.useMemo((function(){var e,r=0;if(t&&!t.tl){var i=t.hd.source;e=z.createElement("span",{className:ki},i?z.createElement(Xe.ChartNote.Google.make,s.app(Xe.ChartNote.Google.makeProps,[void 0,void 0,{_0:7,_1:7},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])):z.createElement(Xe.ChartNote.Ahrefs.make,s.app(Xe.ChartNote.Ahrefs.makeProps,[void 0,void 0,{_0:7,_1:7},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])))}else r=1;1===r&&(e=z.createElement("span",{className:vi},a.s(String(ce.length(t)))));var n={paddingSize:0,content:z.createElement("div",{className:Di},z.createElement(ct.make,{gap:"px10",children:a.list(ce.mapWithIndex(ce.sort(t,(function(e,t){return Bt.dateToMomentUtc(t.date).unix()-Bt.dateToMomentUtc(e.date).unix()|0})),(function(e,t){var r,o=ge.get(t.link,0);return z.createElement(z.Fragment,{children:null,key:t.title+t.description},0===e?null:z.createElement(fi.make,{}),z.createElement(ct.make,{gap:"px6",children:null},z.createElement(Je.make,{gap:"px4",fitToContent:!0,children:null},z.createElement(pt.make,{color:"secondary",fontSize:"sm",children:a.s(ne.moment(void 0,Bt.dateToMomentUtc(t.date),"dayShortMonthYear"))}),z.createElement(pt.make,{color:"secondary",fontSize:"sm",children:a.s("∙")}),z.createElement(pt.make,{color:"secondary",fontSize:"sm",children:a.s((r=t.source,r?"Google":"Ahrefs"))})),z.createElement(ct.make,{gap:"px4",children:null},z.createElement(gi.make,{children:a.s(t.title)}),z.createElement("div",void 0,a.s(t.description),void 0!==o&&""!==o.href?z.createElement(z.Fragment,void 0,a.s(" "),z.createElement(ta.make,{href:o.href,mode:3,noWrap:!0,children:s._1(ke.Message.to_s,{id:"dbdafb4b3c3b38ec75c2b983b61a6181",defaultMessage:"Learn more"})})):null))))})))})),distance:2,placement:"bottom",fixedPlacement:!0,delay:[150,100],children:z.createElement("div",{className:Si},z.createElement("div",{className:yi},e))};return void 0!==o&&(n.singleton=l.valFromOption(o)),z.createElement(ut.make,n)}),[t]);return Number.isNaN(i.x)||Number.isNaN(i.y)||Number.isNaN(i.width)||Number.isNaN(i.height)?null:z.createElement("foreignObject",{height:s._1(J.sprintf({_0:{TAG:4,_0:3,_1:0,_2:0,_3:{TAG:11,_0:"px",_1:0}},_1:"%ipx"}),21),width:s._1(J.sprintf({_0:{TAG:4,_0:3,_1:0,_2:0,_3:{TAG:11,_0:"px",_1:0}},_1:"%ipx"}),15),transform:s._2(J.sprintf({_0:{TAG:11,_0:"translate(",_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:12,_0:44,_1:{TAG:8,_0:0,_1:0,_2:0,_3:{TAG:12,_0:41,_1:0}}}}},_1:"translate(%f,%f)"}),(i.x+i.width|0)-6.5-.5,(i.y+i.height|0)-6.5-3)},n)}function Hi(e){return 0===e.TAG?"normal-"+me.getWithDefault(s._1(Ki,e._0),"-"):"yearly-"+me.getWithDefault(s._1(Ki,e._0),"-")}function zi(e,t,r){var o=void 0!==t?t:Ii,i=a.useStateValue(0),n=i[1],l=i[0],d=uo.useSingleton(),c=d[1],u=z.createElement(ut.make,{paddingSize:0,distance:2,placement:"bottom",fixedPlacement:!0,singleton:d[0],delay:[150,100],onHide:function(e){return s._1(n,l-1|0)},onShow:function(e){return s._1(n,l+1|0)}}),g=z.useMemo((function(){return ge.map(ge.groupBy(ge.filter(Vi,(function(e){return ce.has(o,e.source,Qr.equal)})),(function(t){var r,a,o=Bt.dateToMomentUtc(t.date);if(0===e.TAG)switch(e._0){case 0:r="day";break;case 1:r="isoWeek";break;case 2:r="month"}else switch(e._0){case 0:r="day";break;case 1:r="isoWeek";break;case 2:r="month"}return a=0===e.TAG?"dateWithDashes":"monthDayWithDash",ne.moment(void 0,re.Moment.startOf(r,o),a)}),_i.compare),(function(e){var t=e[0];return z.createElement(pi.ReferenceLine,{isFront:!0,label:z.createElement(ji,{data:ce.fromArray(e[1]),tooltipTarget:c}),r:0,stroke:"none",x:t,yAxisId:At.referencesKey,key:t})}))}),[ce.joinWith(ce.map(o,$i),"-"),Hi(e)]);return[0!==l,u,g]}var Yi=r(73936),Ji=r(21306);function Xi(e,t){var r=Ur.get(e.map,dt.to_string(t));return void 0!==r&&"string"!=typeof r&&"Serp"===r.NAME}function Zi(e,t,r,o,i,d,c,u,g,m){var f=void 0!==o?o:{TAG:0,_0:mo.paidPagesAds},p=void 0!==i?i:j.V2.makeAdsUrlDict,_=s._1(ke.Message.to_s,{id:"31ee09cd65ec301e4d1afcd5e4bfb769",defaultMessage:"Ads"}),h=f;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r){var o=s._1(g,t),i=n.Url.show(r);return z.useMemo((function(){var e=a.s(ae.Int.full(o)),t=Ve.fromUrlWithMode(me.mapWithDefault(c,"",Ji.toUrlString)+i,u);return z.createElement(va.Td.make,{align:"right",children:void 0!==t?z.createElement(ta.make,{href:s._3(p,t,l.some(d),void 0),mode:0,children:e}):e})}),[o,d])}),{renderHeader:function(e,t,a,o,i,n,s,l){return La.makeRenderHeader(h,void 0,_,void 0,r,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,a,o,i,n,s,l)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,t),0)))}function en(e,t,r,o,i,n,d,c,u,g){var m=void 0!==c?c:{TAG:0,_0:mo.topPageKeywordsCount},f=void 0!==u?u:j.V2.makeOrganicKeywordsUrlDict,p=s._1(ke.Message.to_s,{id:"2cc7550a475496eea42b70c8d01ba4fd",defaultMessage:"Keywords"}),_=m;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,d){var c=s._1(o,d);return z.useMemo((function(){var e=a.s(ae.Int.full(ie.to_int32(t))),o=Ve.fromUrlWithMode(me.mapWithDefault(i,"",Ji.toUrlString)+c,n);return z.createElement(va.Td.make,{align:"right",children:void 0!==o?z.createElement(ta.make,{href:s._3(f,o,l.some(r),void 0),mode:0,children:e}):e})}),[ie.to_int32(t),c,r])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(_,void 0,p,void 0,d,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,t),0)))}function tn(e,t,r,a,o,i,n,l){return Ca.makeKeywordColumn(e,t,r,s._1(ke.Message.to_s,{id:"da8b19cf2092d96b5a67e2bd83089784",defaultMessage:"Keyword"}),"none",void 0,a,o,i,n,void 0)}function rn(e,t,r,a,o){var i=void 0!==a?l.valFromOption(a):z.createElement(Xe.ChartLine.make,Xe.ChartLine.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0));return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,a){return z.useMemo((function(){var e=function(e,t){var r=Ur.get(e.map,dt.to_string(t));return void 0!==r&&"string"!=typeof r&&"PositionHistory"===r.NAME}(r,t);return z.createElement(va.Td.make,{contentHeight:"button",paddingRight:"none",children:z.createElement(Oi.make,{size:"sm",active:e,onClick:function(o){return s._2(r.setRow,dt.to_string(t),e?void 0:{NAME:"PositionHistory",VAL:a})},children:i})})}),[ie.to_int32(t),a,r.map])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,e,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,t,0)))}var an=La.makeRenderHeader,on=r(61487),nn=r(83878),sn=Go.MakeFilter({key:"showTitles",$$default:!1});sn.key,sn.localStorageKey;var ln=sn.getDefault,dn=(sn.toString,sn.ofString,sn.getter,sn.setter,sn.isApplied,sn.ofQuery,sn.ofQueryWithDefault),cn=(sn.ofQueryWithCustomDefault,sn.toQuery),un=function(e){var t=e.value,r=e.onChange;return z.createElement(Je.make,{gap:"none",fitToContent:!0,align:"center",children:null},z.createElement(nn.make,{value:t,onChange:r,children:s._1(ke.Message.to_s,{id:"4f00bdc5cad0516f2fbbe775173f47d2",defaultMessage:"SERP titles"})}),z.createElement(Ot.make,{content:{TAG:1,_0:s._1(ke.Message.to_s,{id:"f4453cbfe895ef6a068c02aca05fb270",defaultMessage:"View URL titles as displayed in the top keyword's SERP."})}}))},gn=r(5791),mn=tt.Media.minWidth(1921),fn={hd:{TAG:0,_0:{NAME:"percent",VAL:60}},tl:{hd:{TAG:1,_0:[mn,{NAME:"percent",VAL:35}]},tl:0}},pn={hd:{TAG:0,_0:{NAME:"px",VAL:250}},tl:{hd:{TAG:1,_0:[mn,{NAME:"px",VAL:600}]},tl:0}},_n={hd:{TAG:0,_0:{NAME:"percent",VAL:40}},tl:{hd:{TAG:1,_0:[mn,{NAME:"percent",VAL:25}]},tl:0}},hn={hd:{TAG:0,_0:{NAME:"px",VAL:150}},tl:{hd:{TAG:1,_0:[mn,{NAME:"px",VAL:300}]},tl:0}},kn={hd:{TAG:0,_0:"zero"},tl:{hd:{TAG:1,_0:[mn,{NAME:"percent",VAL:100}]},tl:0}},vn=r(46770),yn={refDomains:s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),urlRating:function(e,t,r,a){var o=void 0!==r?r:0;return 0!==t?0!==o?s._1(ke.Message.to_s,{id:"f94d6b6971d9c01703da74ebfccaf663",defaultMessage:"Avg. URL Rating"}):s._1(ke.Message.to_s,{id:"42d6058c88bf1cb377b74ac329973bb0",defaultMessage:"URL Rating"}):0!==o?e?s._1(ke.Message.to_s,{id:"a6bb04251c6580d81dffecfe75ab50dc",defaultMessage:"Avg. UR"}):s._1(ke.Message.to_s,{id:"f94d6b6971d9c01703da74ebfccaf663",defaultMessage:"Avg. URL Rating"}):e?s._1(ke.Message.to_s,{id:"c657877ab3b71ac965ea26f4fbb502dc",defaultMessage:"UR"}):s._1(ke.Message.to_s,{id:"42d6058c88bf1cb377b74ac329973bb0",defaultMessage:"URL Rating"})},organicPages:s._1(ke.Message.to_s,{id:"9921cc0c7008f2fa95bec2aa96989c10",defaultMessage:"Organic pages"}),organicKeywords:s._1(ke.Message.to_s,{id:"f242242b20458942e56c0d26fea829f1",defaultMessage:"Organic keywords"}),paidPages:s._1(ke.Message.to_s,{id:"3cda074748d73df2c2f9711f23d9d308",defaultMessage:"Paid pages"}),paidKeywords:s._1(ke.Message.to_s,{id:"6ee4f3df314fb936a19b75836421c30d",defaultMessage:"Paid keywords"}),organicTraffic:function(e){return 0!==e?s._1(ke.Message.to_s,{id:"d2185b66ef08032a82caf35b8fb95d7b",defaultMessage:"Avg. organic traffic"}):s._1(ke.Message.to_s,{id:"ab89f2050f2b6252730728b859e7d222",defaultMessage:"Organic traffic"})},organicTrafficValue:function(e){return 0!==e?s._1(ke.Message.to_s,{id:"dd6d0baccf53f2c435cd69c0f3add682",defaultMessage:"Avg. organic traffic value"}):s._1(ke.Message.to_s,{id:"263c4b447c4e98677b0ea287ff60e92b",defaultMessage:"Organic traffic value"})},paidTraffic:function(e){return 0!==e?s._1(ke.Message.to_s,{id:"38f7d349992b236e75037d13b68aa7b0",defaultMessage:"Avg. paid traffic"}):s._1(ke.Message.to_s,{id:"bf678b3bde436918c6a4138e08696c3e",defaultMessage:"Paid traffic"})},paidTrafficCost:function(e){return 0!==e?s._1(ke.Message.to_s,{id:"169355c3b57e70e65923b6030bca134a",defaultMessage:"Avg. paid traffic cost"}):s._1(ke.Message.to_s,{id:"05504f342074ffe7be92ac7c7145f9c8",defaultMessage:"Paid traffic cost"})}},Dn=function(e){switch(e){case 0:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"ee1f952a72c6026d5cf77ee8f96803fc",defaultMessage:"The total number of unique domains with one or more backlinks to a target."})};case 1:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"3d74de69b20ddcc94e8d93d8a28dd8fd",defaultMessage:"The total number of unique domains with one or more backlinks to a target by week."})};case 2:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"ae5de301239cb931e9021b416bdd1c5d",defaultMessage:"The total number of unique domains with one or more backlinks to a target by month."})}}},Sn=function(e,t){var r=void 0!==e?e:0,a=z.createElement("span",void 0,s._1(ke.Message.to_s,{id:"24c71388ffc921c3e0b069c8efeb6179",defaultMessage:"This is a beta version of the new UR score, which is different from the one shown in legacy reports."})),o=z.createElement("a",{href:"https://help.ahrefs.com/en/articles/72658-what-is-url-rating-ur",rel:"noopener noreferrer",target:"_blank"},s._1(ke.Message.to_s,{id:"dbdafb4b3c3b38ec75c2b983b61a6181",defaultMessage:"Learn more"}));switch(r){case 0:return{TAG:1,_0:z.createElement(ct.make,{gap:"px4",children:null},z.createElement("span",void 0,s._1(ke.Message.to_s,{id:"a6c5ddb7b24059deaa3e0f87078ba190",defaultMessage:"URL Rating (UR) shows the strength of your target page's backlink profile on a 100-point logarithmic scale. If you analyze a domain, the homepage's UR is shown."})),a,o)};case 1:return{TAG:1,_0:z.createElement(ct.make,{gap:"px4",children:null},z.createElement("span",void 0,s._1(ke.Message.to_s,{id:"a10da15aa0572cc9b41c2d95dc35c945",defaultMessage:"The weekly average URL Rating (UR). UR shows the strength of your target page's backlink profile on a 100-point logarithmic scale. If you analyze a domain, the homepage's UR is shown."})),a,o)};case 2:return{TAG:1,_0:z.createElement(ct.make,{gap:"px4",children:null},z.createElement("span",void 0,s._1(ke.Message.to_s,{id:"db2e2e86dc9d6f79435d4b319e93faba",defaultMessage:"The monthly average URL Rating (UR). UR shows the strength of your target page's backlink profile on a 100-point logarithmic scale. If you analyze a domain, the homepage's UR is shown."})),a,o)}}},Fn=function(e){switch(e){case 0:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"1e334eac3e10198bd8a1f7d740eef9ae",defaultMessage:"The total number of pages from a target ranking in the top 100 organic search results."})};case 1:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"d9601dce38f0cf92b0c5135cf39c9d0a",defaultMessage:"The total number of unique pages from a target ranking in the top 100 organic search results by week."})};case 2:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"e1064b30c3bf6a71a0470b0c0c1281e6",defaultMessage:"The total number of unique pages from a target ranking in the top 100 organic search results by month."})}}},Cn=function(e){switch(e){case 0:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"acb84e38954ab79ac1ce8ffdd4507b30",defaultMessage:"The total number of keywords that your target ranks for in the top 100 organic search results. When ranking for the same keyword across different countries in “All countries” mode, it's still counted as one keyword."})};case 1:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"48911ad0a098ac3f60dd886924925821",defaultMessage:"The total number of unique keywords that your target ranks for in the top 100 organic search results by week. When ranking for the same keyword across different countries in “All countries” mode, it's still counted as one keyword."})};case 2:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"8a8b52429de925e9bddfee5c3257d7a6",defaultMessage:"The total number of unique keywords that your target ranks for in the top 100 organic search results by month. When ranking for the same keyword across different countries in “All countries” mode, it's still counted as one keyword."})}}},wn=function(e){switch(e){case 0:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"ef0cc68afb30f85ccb20c8c3ddee4b97",defaultMessage:"The total number of pages from a target ranking in paid search results."})};case 1:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"1bbd91318d132b81b863e85b1035179b",defaultMessage:"The total number of unique pages from a target ranking in paid search results by week."})};case 2:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"3c10c63795271d43500d9a8cb23888cf",defaultMessage:"The total number of unique pages from a target ranking in paid search results by month."})}}},Tn=function(e){switch(e){case 0:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"79f87215b6056069971d76ddd97b868f",defaultMessage:"The total number of keywords that your target ranks for in paid search results. When ranking for the same keyword across different countries in “All countries” mode, it's still counted as one keyword."})};case 1:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"879774a1d5dd7f8b805da1e1a07cd768",defaultMessage:"The total number of unique keywords that your target ranks for in paid search results by week. When ranking for the same keyword across different countries in “All countries” mode, it's still counted as one keyword."})};case 2:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"07c6c999f091625478ae5147f817b961",defaultMessage:"The total number of unique keywords that your target ranks for in paid search results by month. When ranking for the same keyword across different countries in “All countries” mode, it's still counted as one keyword."})}}},bn=function(e){switch(e){case 0:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"0e93a6ba4f5ee9b5ef1362a4360edcc3",defaultMessage:"The estimated number of monthly visits from organic search."})};case 1:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"749bd9c07d86edd47fc697050c77652d",defaultMessage:"The weekly average of the estimated number of monthly visits from organic search."})};case 2:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"50dc24a7b15c32c65e16456c2794f11f",defaultMessage:"The monthly average of the estimated number of monthly visits from organic search."})}}},Pn=function(e){switch(e){case 0:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"46a2eed4276d171cc1a487eea01c1415",defaultMessage:"The estimated value of the monthly organic search traffic."})};case 1:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"c944ce4a0d474cc8df04c1cce41ae320",defaultMessage:"The weekly average of the estimated value of the monthly organic search traffic."})};case 2:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"f9f1eea43fffeabfae80a6ab9a9ab738",defaultMessage:"The monthly average of the estimated value of the monthly organic search traffic."})}}},Mn=function(e){switch(e){case 0:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"f13296d65a34b56e68e88caccb0f4033",defaultMessage:"The estimated number of monthly visits from paid search."})};case 1:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"d7f8e36be2f0bb35b85ca6d8b5474d00",defaultMessage:"The weekly average of the estimated number of monthly visits from paid search."})};case 2:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"c2d77491c55f1f5aa05ac731566eea10",defaultMessage:"The monthly average of the estimated number of monthly visits from paid search."})}}},An=function(e){switch(e){case 0:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"b5f01e7c964f6ec9d46ebfa76fbac1ff",defaultMessage:"The estimated cost of the monthly paid search traffic."})};case 1:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"1305cc0853a31b164518047c9398b369",defaultMessage:"The weekly average of the estimated cost of the monthly paid search traffic."})};case 2:return{TAG:1,_0:s._1(ke.Message.to_s,{id:"6636466b4b2e6a3c1d08e5ee551dc3c7",defaultMessage:"The monthly average of the estimated cost of the monthly paid search traffic."})}}},Rn={hd:1,tl:{hd:3,tl:{hd:2,tl:0}}};function Ln(e){switch(e){case 0:return;case 1:return"paid-traffic";case 2:return"paid-keywords";case 3:return"paid-cost"}}function En(e,t){switch(e){case 0:return yn.paidPages;case 1:return yn.paidTraffic(t);case 2:return yn.paidKeywords;case 3:return yn.paidTrafficCost(t)}}function Bn(e,t){switch(e){case 0:return wn(t);case 1:return Mn(t);case 2:return Tn(t);case 3:return An(t)}}var Kn=It.Make({key:"competitorsSource",$$default:1,localStorageKey:void 0,toString:function(e){switch(e){case 0:return"pages";case 1:return"traffic";case 2:return"keywords";case 3:return"cost"}},ofString:function(e){if(void 0!==e)switch(e){case"cost":return 3;case"keywords":return 2;case"pages":return 0;case"traffic":return 1;default:return}}}),qn=Kn.ofString;Kn.key,Kn.localStorageKey;var xn=Kn.getDefault,Wn=(Kn.toString,Kn.getter,Kn.setter,Kn.isApplied,Kn.ofQuery,Kn.ofQueryWithDefault),Un=(Kn.ofQueryWithCustomDefault,Kn.toQuery),On=function(e){var t=e.value,r=e.granularity,o=e.onChange;return z.createElement(Gr.make,{menuPlacement:"bottomStart",selectedValue:l.some(t),active:!0,isEqual:Qr.equal,onChange:o,children:a.list(ce.map(Rn,(function(e){return z.createElement(Gr.ItemWithTooltip.make,{label:En(e,r),tooltipContent:Ot.renderContent(Bn(e,r)),value:e})})))})},Nn={hd:0,tl:{hd:1,tl:0}},$n=It.Make({key:"chartMode",$$default:0,localStorageKey:void 0,toString:function(e){return e?"cmp":"perf"},ofString:function(e){if(void 0!==e)switch(e){case"cmp":return 1;case"perf":return 0;default:return}}}),In=$n.toString;$n.key,$n.localStorageKey;var Gn=$n.getDefault,Qn=($n.ofString,$n.getter,$n.setter,$n.isApplied,$n.ofQuery,$n.ofQueryWithDefault),Vn=($n.ofQueryWithCustomDefault,$n.toQuery),jn=function(e){var t=e.value,r=e.onChange;return z.createElement(Qt.make,{children:a.list(ce.map(Nn,(function(e){return z.createElement(Qt.Button.make,{isSelected:t===e,onClick:function(t){return s._1(r,e)},children:a.s((o=e,o?s._1(ke.Message.to_s,{id:"a73f7b7572c75b2a266b185500e0b17c",defaultMessage:"Compare pages"}):s._1(ke.Message.to_s,{id:"70939700de782b28ac64fc1c433c99ee",defaultMessage:"Performance"}))),key:me.getWithDefault(s._1(In,e),"")});var o})))})},Hn={trafficMth:dt.zero,trafficAvg:dt.zero,valueMth:dt.zero,valueAvg:dt.zero,allUrls:0},zn=ya.Sort.MakeFilter({$$default:1,toString:function(e){switch(e){case 0:return"url";case 1:return"trafficInitial";case 2:return"traffic";case 3:return"trafficChange";case 4:return"trafficChangePct";case 5:return"value";case 6:return"valueChange";case 7:return"valueChangePct";case 8:return"keywordsCount";case 9:return"keywordsCountChange";case 10:return"keywordsCountChangePct";case 11:return"topKeyword";case 12:return"topKeywordVolume";case 13:return"topKeywordPosition";case 14:return"adsCount"}},ofString:function(e){switch(e){case"adsCount":return 14;case"keywordsCount":return 8;case"keywordsCountChange":return 9;case"keywordsCountChangePct":return 10;case"topKeyword":return 11;case"topKeywordPosition":return 13;case"topKeywordVolume":return 12;case"traffic":return 2;case"trafficChange":return 3;case"trafficChangePct":return 4;case"trafficInitial":return 1;case"url":return 0;case"value":return 5;case"valueChange":return 6;case"valueChangePct":return 7;default:return}},defaultDirection:"Desc"}),Yn=zn.Name,Jn=zn.getDefault,Xn=zn.isApplied,Zn=zn.ofQueryWithDefault,es=zn.toQuery,ts=zn.Direction,rs={Name:Yn,Direction:ts,getDefault:Jn,isApplied:Xn,ofQueryWithDefault:Zn,toQuery:es,toActualFieldName:function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic)),tl:0};case 2:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic)),tl:0};case 5:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.keywords)),tl:0};case 3:case 4:case 6:case 7:case 9:case 10:return 0;case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_text)),tl:0};case 12:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_volume_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_volume)),tl:0};case 13:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_best_position)),tl:0};case 14:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.copies_count)),tl:0}}},toComparedFieldName:function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.sum_traffic_sort)),tl:0};case 2:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic)),tl:0};case 3:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff)),tl:0};case 4:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_percent_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_percent)),tl:0};case 5:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value)),tl:0};case 6:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff)),tl:0};case 7:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_percent_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_percent)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.keywords)),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.keywords_diff)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.keywords_diff_percent)),tl:0};case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.top_keyword_text)),tl:0};case 12:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.top_keyword_volume_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.top_keyword_volume)),tl:0};case 13:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.top_keyword_best_position)),tl:0};case 14:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.copies_count)),tl:0}}}};function as(e){return{volumeMode:s._1(Pa.getDefault,void 0),country:s._1(Sa.WithAll.Filter.getDefault,void 0),url:s._1(fa.$$URL.Filter.getDefault,void 0),pageStatus:s._1(ba.Filter.getDefault,void 0),paidPageTraffic:s._1(gn.PaidPageTraffic.Filter.getDefault,void 0),paidValue:s._1(gn.PaidValue.Filter.getDefault,void 0),paidKeywords:s._1(pa.PaidKeywords.Filter.getDefault,void 0),ads:s._1(pa.Ads.Filter.getDefault,void 0),volume:s._1(pa.Volume.Filter.getDefault,void 0),kd:s._1(pa.KD.Filter.getDefault,void 0),cpc:s._1(pa.CPC.Filter.getDefault,void 0),paidKeywordTraffic:s._1(pa.PaidKeywordTraffic.Filter.getDefault,void 0),serp:ka.Filter.getDefault(void 0),words:s._1(pa.Words.Filter.getDefault,void 0),keyword:s._1(fa.Keyword.Filter.getDefault,void 0),adTitle:s._1(fa.Ads.AdTitle.Filter.getDefault,void 0),adDisplayUrl:s._1(fa.Ads.AdDisplayUrl.Filter.getDefault,void 0),adDescription:s._1(fa.Ads.AdDescription.Filter.getDefault,void 0),chartMode:s._1(Gn,void 0),chartSource:s._1(xn,void 0),timeFrame:s._1(ar,void 0),granularity:s._1(Bi,void 0),currentDate:s._1(Pt.CurrentDate.getDefault,void 0),compareDate:s._1(Pt.CompareDate.getDefault,void 0),sort:s._1(Jn,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),showTitles:s._1(ln,void 0)}}var os={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}};function is(e,t,r){var a=void 0!==e?e:os,o=Pt.CurrentDate.ofQueryWithDefault,i=s._2(o,t.reportHistoricalPermissions,r),n=pr(r,t.reportHistoricalPermissions,void 0,void 0),l=s._1(qi,r),d=Pi(!1,n),c=ce.has(d[0],l,Qr.equal)?l:d[1];return ce.reduce(a,as(),(function(e,a){switch(a){case 0:var o=mt.caml_obj_dup(e);return o.volumeMode=s._2(Pa.ofQueryWithCustomDefault,r,t.settings.paidPagesVolumeMode),o;case 1:var l=mt.caml_obj_dup(e);return l.country=s._1(Sa.WithAll.Filter.ofQueryWithDefault,r),l;case 2:var d=mt.caml_obj_dup(e);return d.url=s._1(fa.$$URL.Filter.ofQueryWithDefault,r),d;case 3:var u=mt.caml_obj_dup(e);return u.pageStatus=s._1(ba.Filter.ofQueryWithDefault,r),u;case 4:var g=mt.caml_obj_dup(e);return g.paidPageTraffic=s._1(gn.PaidPageTraffic.Filter.ofQueryWithDefault,r),g;case 5:var m=mt.caml_obj_dup(e);return m.paidValue=s._1(gn.PaidValue.Filter.ofQueryWithDefault,r),m;case 6:var f=mt.caml_obj_dup(e);return f.paidKeywords=s._1(pa.PaidKeywords.Filter.ofQueryWithDefault,r),f;case 7:var p=mt.caml_obj_dup(e);return p.ads=s._1(pa.Ads.Filter.ofQueryWithDefault,r),p;case 8:var _=mt.caml_obj_dup(e);return _.volume=s._1(pa.Volume.Filter.ofQueryWithDefault,r),_;case 9:var h=mt.caml_obj_dup(e);return h.kd=s._1(pa.KD.Filter.ofQueryWithDefault,r),h;case 10:var k=mt.caml_obj_dup(e);return k.cpc=s._1(pa.CPC.Filter.ofQueryWithDefault,r),k;case 11:var v=mt.caml_obj_dup(e);return v.paidKeywordTraffic=s._1(pa.PaidKeywordTraffic.Filter.ofQueryWithDefault,r),v;case 12:var y=mt.caml_obj_dup(e);return y.serp=ka.Filter.ofQueryWithDefault(r),y;case 13:var D=mt.caml_obj_dup(e);return D.words=s._1(pa.Words.Filter.ofQueryWithDefault,r),D;case 14:var S=mt.caml_obj_dup(e);return S.keyword=s._1(fa.Keyword.Filter.ofQueryWithDefault,r),S;case 15:var F=mt.caml_obj_dup(e);return F.adTitle=s._1(fa.Ads.AdTitle.Filter.ofQueryWithDefault,r),F;case 16:var C=mt.caml_obj_dup(e);return C.adDisplayUrl=s._1(fa.Ads.AdDisplayUrl.Filter.ofQueryWithDefault,r),C;case 17:var w=mt.caml_obj_dup(e);return w.adDescription=s._1(fa.Ads.AdDescription.Filter.ofQueryWithDefault,r),w;case 18:var T=mt.caml_obj_dup(e);return T.chartMode=s._1(Qn,r),T;case 19:var b=mt.caml_obj_dup(e);return b.chartSource=s._1(Wn,r),b;case 20:var P=mt.caml_obj_dup(e);return P.timeFrame=n,P;case 21:var M=mt.caml_obj_dup(e);return M.granularity=c,M;case 22:var A=mt.caml_obj_dup(e);return A.currentDate=i,A;case 23:var R=mt.caml_obj_dup(e);return R.compareDate=Pt.CompareDate.ofQueryWithDefault(t.reportHistoricalPermissions,i,t.settings.paidPagesCompare,r,void 0),R;case 24:var L=mt.caml_obj_dup(e);return L.sort=s._1(Zn,r),L;case 25:var E=mt.caml_obj_dup(e);return E.pagination=s._1(ya.Pagination.Filter.ofQueryWithDefault,r),E;case 26:var B=mt.caml_obj_dup(e);return B.showTitles=s._1(dn,r),B}}))}function ns(e,t,r){var a=void 0!==e?e:os,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(Pa.toQuery,e,r.volumeMode);case 1:return s._2(Sa.WithAll.Filter.toQuery,e,r.country);case 2:return s._2(fa.$$URL.Filter.toQuery,e,r.url);case 3:return s._2(ba.Filter.toQuery,e,r.pageStatus);case 4:return s._2(gn.PaidPageTraffic.Filter.toQuery,e,r.paidPageTraffic);case 5:return s._2(gn.PaidValue.Filter.toQuery,e,r.paidValue);case 6:return s._2(pa.PaidKeywords.Filter.toQuery,e,r.paidKeywords);case 7:return s._2(pa.Ads.Filter.toQuery,e,r.ads);case 8:return s._2(pa.Volume.Filter.toQuery,e,r.volume);case 9:return s._2(pa.KD.Filter.toQuery,e,r.kd);case 10:return s._2(pa.CPC.Filter.toQuery,e,r.cpc);case 11:return s._2(pa.PaidKeywordTraffic.Filter.toQuery,e,r.paidKeywordTraffic);case 12:return ka.Filter.toQuery(e,r.serp);case 13:return s._2(pa.Words.Filter.toQuery,e,r.words);case 14:return s._2(fa.Keyword.Filter.toQuery,e,r.keyword);case 15:return s._2(fa.Ads.AdTitle.Filter.toQuery,e,r.adTitle);case 16:return s._2(fa.Ads.AdDisplayUrl.Filter.toQuery,e,r.adDisplayUrl);case 17:return s._2(fa.Ads.AdDescription.Filter.toQuery,e,r.adDescription);case 18:return s._2(Vn,e,r.chartMode);case 19:return s._2(Un,e,r.chartSource);case 20:return s._2(cr,e,r.timeFrame);case 21:return s._2(Wi,e,r.granularity);case 22:return s._2(Pt.CurrentDate.toQuery,e,r.currentDate);case 23:return s._2(Pt.CompareDate.toQuery,e,r.compareDate);case 24:return s._2(es,e,r.sort);case 25:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 26:return s._2(cn,e,r.showTitles)}}))}var ss={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:0}}}}}}}}}}}}}}}}}};function ls(e,t){var r=void 0!==e?l.valFromOption(e):{};return ns(ss,l.some(r),t)}var ds=function(e,t){return i.stringifyQueryDict(ls(void 0,e),void 0,void 0)===i.stringifyQueryDict(ls(void 0,t),void 0,void 0)},cs={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:0}}}}}}}}}}}}}}}}}};function us(e,t){switch(e){case 2:return{hd:fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.raw_url),t.url),tl:0};case 4:var r=t.volumeMode;return{hd:gn.PaidPageTraffic.makeChFilterActual("Average"===r?s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic_avg):s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic),t.paidPageTraffic),tl:0};case 5:var a=t.volumeMode;return{hd:gn.PaidValue.makeChFilterActual("Average"===a?s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value_avg):s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value),t.paidValue),tl:0};case 6:return{hd:pa.PaidKeywords.makeChFilter(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.keywords),void 0,t.paidKeywords),tl:0};case 7:return{hd:pa.Ads.makeChFilter(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.copies_count),void 0,t.ads),tl:0};case 8:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.volume),t.volume),tl:0};case 9:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.difficulty),t.kd),tl:0};case 10:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.cpc),t.cpc),tl:0};case 11:return{hd:pa.PaidKeywordTraffic.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.traffic),void 0,t.paidKeywordTraffic),tl:0};case 12:return{hd:ka.makeChFilterActual(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.serp_features),s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.has_video),s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.has_thumbnail),s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.position_kind),!0,t.serp),tl:0};case 13:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.words),t.words),tl:0};case 14:return{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.text),t.keyword),tl:0};case 15:return{hd:s._2(fa.Ads.AdTitle.makeChFilterActual,s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.title),t.adTitle),tl:0};case 16:return{hd:s._2(fa.Ads.AdDisplayUrl.makeChFilterActual,s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.url_visual),t.adDisplayUrl),tl:0};case 17:return{hd:s._2(fa.Ads.AdDescription.makeChFilterActual,s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.description),t.adDescription),tl:0};case 0:case 1:case 3:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:return 0}}function gs(e,t){switch(e){case 2:return{hd:fa.$$URL.makeChFilterCompared(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.raw_url),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.raw_url),!1,t.url),tl:0};case 3:return{hd:ba.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.set),t.pageStatus),tl:0};case 4:var r=t.volumeMode,a=t.volumeMode;return{hd:gn.PaidPageTraffic.makeChFilterCompared("Average"===r?s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic_avg):s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic),"Average"===a?s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_avg):s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff),t.paidPageTraffic),tl:0};case 5:var o=t.volumeMode,i=t.volumeMode;return{hd:gn.PaidValue.makeChFilterCompared("Average"===o?s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value_avg):s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value),"Average"===i?s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_avg):s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff),t.paidValue),tl:0};case 6:return{hd:pa.PaidKeywords.makeChFilterCompared(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.keywords),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.keywords),t.paidKeywords),tl:0};case 7:return{hd:pa.Ads.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.copies_count),6,t.ads),tl:0};case 8:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.volume),t.volume),tl:{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.volume),t.volume),tl:0}};case 9:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.difficulty),t.kd),tl:{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.difficulty),t.kd),tl:0}};case 10:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.cpc),t.cpc),tl:{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.cpc),t.cpc),tl:0}};case 11:return{hd:pa.PaidKeywordTraffic.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.traffic),void 0,t.paidKeywordTraffic),tl:{hd:pa.PaidKeywordTraffic.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.traffic),void 0,t.paidKeywordTraffic),tl:0}};case 12:return{hd:ka.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.serp_features),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.has_video),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.has_thumbnail),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.position_kind),!0,t.serp),tl:{hd:ka.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.serp_features),s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.has_video),s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.has_thumbnail),s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.position_kind),!0,t.serp),tl:0}};case 13:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.words),t.words),tl:{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.words),t.words),tl:0}};case 14:return{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.text),t.keyword),tl:{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.text),t.keyword),tl:0}};case 15:return{hd:s._4(fa.Ads.AdTitle.makeChFilterCompared,s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.title),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.title),!1,t.adTitle),tl:0};case 16:return{hd:s._4(fa.Ads.AdDisplayUrl.makeChFilterCompared,s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.url_visual),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.url_visual),!1,t.adDisplayUrl),tl:0};case 17:return{hd:s._4(fa.Ads.AdDescription.makeChFilterCompared,s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.description),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.description),!1,t.adDescription),tl:0};case 0:case 1:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:return 0}}var ms=cs,fs=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(cs,(function(t){return us(t,e)})))),(function(e){return e}))},ps=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(cs,(function(t){return gs(t,e)})))),(function(e){return e}))};function _s(e,t,r,o,i,d){var c=s._1(Yn.toString,0),u=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"});return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(o,i,s,d){return z.useMemo((function(){var o=n.Url.show(i),c={displayLink:o,tkLinkContextInput:on.fromString(s),color:t?"green":"blue",highlightAnywhereTerms:e.contain,highlightStartTerms:e.startWith,highlightEndTerms:e.endWith,boldDomain:!1};return void 0!==r&&(c.country=l.valFromOption(r)),z.createElement(va.Td.make,{paddingLeft:"none",nowrap:!1,children:z.createElement(ct.make,{gap:"none",children:null},t?z.createElement(ta.make,{color:"base",href:o,mode:3,breakWord:!0,children:a.s(d)}):null,z.createElement("div",void 0,z.createElement(vn.make,c)))})}),[t,s,d,Aa.toKey(e)])}),{renderHeader:function(e,t,r,a,n,s,l,d){return La.makeRenderHeader(void 0,void 0,u,void 0,c,void 0,void 0,"none",void 0,void 0,void 0,void 0,o,i,void 0,void 0,void 0,e,t,r,a,n,s,l,d)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_best_position_title)),0))))}function hs(e,t,r){var a=void 0!==e?e:{TAG:0,_0:mo.paidPagesTraffic};return Ca.makeTrafficColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic_avg),t,s._1(Yn.toString,2),a,void 0,void 0)}function ks(e,t){return Ca.makeTrafficPctColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic_avg),t,e)}function vs(e){return Ca.makeCostColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value_avg),e,s._1(Yn.toString,5),{TAG:0,_0:mo.paidPagesCost},void 0)}function ys(e){var t=mt.caml_obj_dup(e);return en(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.keywords),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url),ns({hd:22,tl:{hd:23,tl:{hd:1,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}},{},(t.compareDate="DontCompare",t)),n.Url.show,void 0,0,s._1(Yn.toString,8),{TAG:0,_0:mo.paidPagesKeywords},j.V2.makePaidKeywordsUrlDict)}function Ds(e){var t=mt.caml_obj_dup(e);return Zi(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.copies_count),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url),s._1(Yn.toString,14),void 0,void 0,ns({hd:22,tl:{hd:23,tl:{hd:1,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}},{},(t.compareDate="DontCompare",t)),void 0,0,ie.to_int32)}function Ss(e,t,r,a,o,i){return Ca.makeTopKeywordColumn(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_text),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_country),void 0,a,o,t,l.some(e),{TAG:0,_0:mo.paidPagesTopKeyword},r,void 0)}function Fs(e){return Ca.makeTopKeywordVolumeActual(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_volume),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_volume_avg),e,s._1(Yn.toString,12),void 0)}function Cs(e,t){var r=void 0!==e?e:kn;return Ca.makeSpacerColumn(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.hash),r)}var ws={makeUrlColumn:_s,makeTrafficWithVolumeModeColumn:hs,makeTrafficPctWithVolumeModeColumn:ks,makeCostWithVolumeModeColumn:vs,makeKeywordsCountColumn:ys,makeAdsCountColumn:Ds,makeTopKeywordColumn:Ss,makeTopKeywordVolumeColumn:Fs,makeSpacerColumn:Cs};function Ts(e,t,r,o,i,d){var c=s._1(Yn.toString,0),u=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"});return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(o,i,s,d,c,u,g){var m=me.map(i,n.Url.show),f=me.map(d,n.Url.show);return z.useMemo((function(){var o,i=me.map2(m,s,(function(e,t){return[e,t]})),n=me.map2(f,c,(function(e,t){return[e,t]}));if(t)if(void 0!==n){var d=n[1],p=n[0],_=0;if(void 0!==u)if(void 0!==g)if(u!==g){var h={displayLink:p,tkLinkContextInput:on.fromString(d),color:"green",highlightAnywhereTerms:e.contain,highlightStartTerms:e.startWith,highlightEndTerms:e.endWith,boldDomain:!1};void 0!==r&&(h.country=l.valFromOption(r)),o=z.createElement(z.Fragment,void 0,z.createElement(ta.make,{color:"base",href:p,mode:3,breakWord:!0,children:a.s(g)}),z.createElement(ta.make,{color:"strikedMuted",href:p,mode:3,breakWord:!0,children:a.s(u)}),z.createElement("div",void 0,z.createElement(vn.make,h)))}else _=1;else o=fo.failwith("unexpected combination in URL column");else _=1;if(1===_)if(void 0!==g){var k={displayLink:p,tkLinkContextInput:on.fromString(d),color:"green",highlightAnywhereTerms:e.contain,highlightStartTerms:e.startWith,highlightEndTerms:e.endWith,boldDomain:!1};void 0!==r&&(k.country=l.valFromOption(r)),o=z.createElement(z.Fragment,void 0,z.createElement(ta.make,{color:"base",href:p,mode:3,breakWord:!0,children:a.s(g)}),z.createElement("div",void 0,z.createElement(vn.make,k)))}else o=fo.failwith("unexpected combination in URL column")}else if(void 0!==i){var v=i[1],y=i[0];if(void 0!==u){var D={displayLink:y,tkLinkContextInput:on.fromString(v),color:"grey",striked:!0,highlightAnywhereTerms:e.contain,highlightStartTerms:e.startWith,highlightEndTerms:e.endWith,boldDomain:!1};void 0!==r&&(D.country=l.valFromOption(r)),o=z.createElement(z.Fragment,void 0,z.createElement(ta.make,{color:"strikedMuted",href:y,mode:3,breakWord:!0,children:a.s(u)}),z.createElement("div",void 0,z.createElement(vn.make,D)))}else{var S={displayLink:y,tkLinkContextInput:on.fromString(v),color:"grey",striked:!0,highlightAnywhereTerms:e.contain,highlightStartTerms:e.startWith,highlightEndTerms:e.endWith,boldDomain:!1};void 0!==r&&(S.country=l.valFromOption(r)),o=z.createElement("div",void 0,z.createElement(vn.make,S))}}else o=fo.failwith("unexpected to have 'PreviousPage.url' and 'CurrentPage.url'  None");else if(void 0!==n){var F=on.fromString(n[1]),C={displayLink:n[0],tkLinkContextInput:F,color:"blue",highlightAnywhereTerms:e.contain,highlightStartTerms:e.startWith,highlightEndTerms:e.endWith,boldDomain:!1};void 0!==r&&(C.country=l.valFromOption(r)),o=z.createElement("div",void 0,z.createElement(vn.make,C))}else if(void 0!==i){var w=on.fromString(i[1]);o=z.createElement("div",void 0,z.createElement(vn.make,{displayLink:i[0],tkLinkContextInput:w,color:"grey",striked:!0,highlightAnywhereTerms:e.contain,highlightStartTerms:e.startWith,highlightEndTerms:e.endWith,boldDomain:!1}))}else o=fo.failwith("unexpected combination in URL column");return z.createElement(va.Td.make,{paddingLeft:"none",nowrap:!1,children:z.createElement(ct.make,{gap:"none",children:o})})}),[t,m,f,s,c,Aa.toKey(e)])}),{renderHeader:function(e,t,r,a,n,s,l,d){return La.makeRenderHeader(void 0,void 0,u,void 0,c,void 0,void 0,"none",void 0,void 0,void 0,void 0,o,i,void 0,void 0,void 0,e,t,r,a,n,s,l,d)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_best_position_title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_best_position_title)),0)))))))}function bs(e){return Ca.makeStatusColumn(s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.set),!0,void 0)}function Ps(e,t,r){var a=void 0!==e?e:{TAG:0,_0:mo.paidPagesTraffic};return Ca.makeTrafficColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic),s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic_avg),t,s._1(Yn.toString,2),a,void 0,void 0)}function Ms(e,t){return Ca.makeTrafficPctColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic),s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic_avg),t,e)}function As(e,t,r,a,o,i){return Ca.makeChangesColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_traffic),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_traffic),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_percent),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_traffic_avg),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_traffic_avg),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_percent_avg),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_avg),t,e,"Average"===e?ie.to_float(r.trafficAvg):ie.to_float(r.trafficMth),l.some(a),s._1(ke.Message.to_s,{id:"9b9c4bd9c4e055824fb9467bd3be6583",defaultMessage:"Traffic"}),void 0,(function(e){return ae.Int.tableAbbr(e)}),o,i,s._1(Yn.toString,t>=2?4:3),{TAG:0,_0:mo.paidPagesTrafficChange},void 0,void 0)}function Rs(e){return Ca.makeCostColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value),s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value_avg),e,s._1(Yn.toString,5),{TAG:0,_0:mo.paidPagesCost},void 0)}function Ls(e,t,r,a,o,i){return Ca.makeChangesColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_value),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_value),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_percent),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_value_avg),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_value_avg),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_percent_avg),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_avg),e,t,"Average"===t?ie.to_float(a.valueAvg):ie.to_float(a.valueMth),l.some(r),s._1(ke.Message.to_s,{id:"6bbccdbe537e25f8fb20077e701fe33e",defaultMessage:"Traffic cost"}),Ae,Ae,i,o,s._1(Yn.toString,e>=2?7:6),{TAG:0,_0:mo.paidPagesCostChange},void 0,void 0)}function Es(e){var t=mt.caml_obj_dup(e);return en(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.keywords),s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url),ns({hd:22,tl:{hd:23,tl:{hd:1,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}},{},(t.compareDate="DontCompare",t)),n.Url.show,void 0,0,s._1(Yn.toString,8),{TAG:0,_0:mo.paidPagesKeywords},j.V2.makePaidKeywordsUrlDict)}function Bs(e){var t=mt.caml_obj_dup(e);return Zi(s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.copies_count),s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url),s._1(Yn.toString,14),{TAG:0,_0:mo.paidPagesAds},void 0,ns({hd:22,tl:{hd:23,tl:{hd:1,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}},{},(t.compareDate="DontCompare",t)),void 0,0,(function(e){return me.mapWithDefault(e,0,ie.to_int32)}))}function Ks(e,t,r,a,o,i){return Ca.makeTopKeywordTextCompared(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_country),s._1(Yn.toString,11),e,l.some(t),a,o,{TAG:0,_0:mo.paidPagesTopKeyword},r,void 0)}function qs(e){return Ca.makeTopKeywordVolumeCompared(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_volume),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_volume_avg),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_volume),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_volume_avg),e,s._1(Yn.toString,12),void 0)}function xs(e,t){var r=void 0!==e?e:kn;return Ca.makeSpacerColumn(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.hash),r)}var Ws={makeUrlColumn:Ts,makeStatusColumn:bs,makeTrafficWithVolumeModeColumn:Ps,makeTrafficPctWithVolumeModeColumn:Ms,makeTrafficChangesWithVolumeModeColumn:As,makeCostWithVolumeModeColumn:Rs,makeCostChangesWithVolumeModeColumn:Ls,makeKeywordsCountColumn:Es,makeAdsCountColumn:Bs,makeTopKeywordColumn:Ks,makeTopKeywordVolumeColumn:qs,makeSpacerColumn:xs};La.makeRenderHeader;var Us=s._1(Rt.css,{hd:Rt.label("caretIconWrapper"),tl:{hd:Rt.position("absolute"),tl:{hd:Rt.top(tt.NewSize.px16),tl:{hd:Rt.right(tt.NewSize.px16),tl:0}}}}),Os=s._1(Rt.css,{hd:Rt.label("caretIconSize"),tl:{hd:Rt.height({NAME:"px",VAL:26}),tl:0}}),Ns=s._1(Rt.css,{hd:Rt.label("caretIcon"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.alignItems("center"),tl:{hd:Rt.justifyContent("center"),tl:{hd:Rt.height(tt.NewSize.px18),tl:{hd:Rt.width(tt.NewSize.px18),tl:{hd:Rt.cursor("pointer"),tl:{hd:Rt.color(_e.Color.$$Text.tertiary),tl:{hd:Rt.hover({hd:Rt.color(_e.Color.$$Text.primary),tl:0}),tl:0}}}}}}}}}),$s=s._1(Rt.css,{hd:Rt.label("wrapperClosed"),tl:0}),Is=s._1(Rt.css,{hd:Rt.label("wrapper"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.zIndex(1),tl:{hd:Rt.padding2(tt.NewSize.px12,tt.NewSize.px16),tl:{hd:Rt.selectSelf($s)({hd:Rt.cursor("pointer"),tl:{hd:Rt.hover({hd:Rt.backgroundColor(_e.Color.Background.boxHover),tl:{hd:Rt.selector("."+Ns,{hd:Rt.color(_e.Color.$$Text.primary),tl:0}),tl:0}}),tl:0}}),tl:0}}}}}),Gs=et.style([et.label("content"),et.minHeight({NAME:"pxFloat",VAL:294})]),Qs=s._1(Rt.css,{hd:Rt.label("upgradeMessageWrapper"),tl:{hd:Rt.padding2({NAME:"px",VAL:28},tt.NewSize.px24),tl:0}}),Vs=r(60470),js=r(92817),Hs=r(25270),zs=r(90216);function Ys(e,t,r,a,o,i){var s=ce.reduce(a,void 0,(function(e,t){var r=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.set(e,r,t.urls)})),l=function(e){switch(o){case 0:return 0;case 1:return"Average"===i?e.traffic_avg:e.traffic;case 2:return e.keywords;case 3:return"Average"===i?me.mapWithDefault(e.cost_avg,0,Pe):me.mapWithDefault(e.cost,0,Pe)}},d=Yt(e),c=ce.toArray(ce.map(r,(function(e){return[e.value,Cr(0)]}))),u=ce.toArray(yr(d[0],d[1],t));return ge.map(u,(function(e){var t=ne.moment(void 0,e,"dateWithDashes"),r=me.getWithDefault(Ur.get(s,t),0),a=ce.toArray(ce.map(r,(function(e){return[n.Url.show(e.url),Cr(l(e))]}))),o=Vs.fromArray(ge.concatMany([c,a]));return o[xt.dateKey]=Fr(t),o}))}function Js(e,t){return ce.mapWithIndex(e,(function(e,r){return function(e,t,r){return{elementType:2,dataKey:t,yAxisId:"value",name:t,stackId:void 0,value:t,type_:"linear",color:At.getChartColor(void 0,e,void 0),reversed:!1,show:r,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0}}(e,r,ce.has(t,r,(function(e,t){return e===t})))}))}function Xs(e,t){switch(0|t.TAG){case 0:var r=t._0;return{from:r,to_:r,isDragging:!0,draggedToNextBar:!1};case 1:var a=t._0,o=e.from;return{from:e.from,to_:a,isDragging:!0,draggedToNextBar:void 0!==o&&o!==a};case 2:return{from:t._0,to_:t._1,isDragging:!1,draggedToNextBar:!1};case 3:var i=t._1;return{from:_r.toDateString(i,t._0),to_:hr.toDateString(i),isDragging:e.isDragging,draggedToNextBar:e.draggedToNextBar}}}var Zs=function(e){var t=e.data,r=e.filters,o=e.spec,n=e.historicalPermissions,d=e.notes,c=e.onDateChanged,u=d[1],g=z.useReducer(Xs,{from:void 0,to_:"",isDragging:!1,draggedToNextBar:!1}),m=g[1],f=g[0],p=i.stringifyQueryDict(ns({hd:22,tl:{hd:23,tl:0}},void 0,r),void 0,void 0);z.useEffect((function(){s._1(m,{TAG:3,_0:r.compareDate,_1:r.currentDate})}),[p,n]);var _,h=kr(u,r.granularity),k=h[0],v=Ys(r.timeFrame,r.granularity,o,t,r.chartSource,r.volumeMode),y=r.granularity,D=qr(o),S=Nr.getConfigsFromSpec(D),F="value",C=0;0!==v.length&&D?_=[v,{hd:At.YAxisConfig.makeAxis(void 0,F,void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0}]:C=1,1===C&&(_=[xr(r.timeFrame,r.granularity),{hd:At.YAxisConfig.makeAxis(void 0,F,void 0,!0,[0,100],void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0}]);var w=_[0],T=vr(S[0]),b=T[1],P=f.isDragging,M=f.from,A=f.isDragging;return z.createElement(At.make,{chartType:T[0],data:w,charts:b,chartHeight:294,xAxisPadding:[1,2],xAxisTicks:xt.getXTicks((function(e){return Vs.get(e,xt.dateKey)}),w),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(v,(function(e){return Ar(Vs.get(e,xt.dateKey))}),y,t)},yAxisConfig:_[1],hideTooltip:u,renderTooltip:function(e,t){var o=ge.filterMap(Hs.stableSortBy(me.getWithDefault(l.nullable_to_opt(e.payload),[]),(function(e,t){return Kt.compare(t.value,e.value)})),(function(e){if(!(e.value<0)){var t=r.chartSource;return{color:e.color,label:a.s(me.getWithDefault(i.decode(e.name),e.name)),value:t>=3?a.s(Me(e.value)):a.s(ae.Float.full(e.value))}}}));return z.createElement(qt.make,{hideColors:b.length<=1,label:Dr(re.moment(void 0,e.label),r.granularity),config:o})},references:d[0],onMouseDown:function(e,t){return Kr(k,n,(function(e){return s._1(m,{TAG:0,_0:e})}),e,t)},onMouseMove:function(e,t){return Er(P,k,n,(function(e){return s._1(m,{TAG:1,_0:e})}),e,t)},onMouseUp:function(e,t){return Br(A,k,M,(function(e,t,r,a){return s._1(m,{TAG:2,_0:e,_1:t}),s._2(c,r,a)}),e,t)},children:h[1]?xt.renderSelectedArea("value",me.map(f.from,Bt.fromString),l.some(Bt.fromString(f.to_)),(function(e){return ne.moment(void 0,e,"dateWithDashes")}),f.draggedToNextBar&&f.isDragging,void 0,void 0):null})},el=r(94929),tl={hd:{elementType:2,dataKey:"pages",yAxisId:"pages",name:"",stackId:void 0,value:0,type_:"linear",color:_e.Color.Chart.blue,reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:{hd:{elementType:2,dataKey:"traffic",yAxisId:"traffic",name:"",stackId:void 0,value:1,type_:"linear",color:_e.Color.Chart.orange,reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:{hd:{elementType:2,dataKey:"cost",yAxisId:"cost",name:"",stackId:void 0,value:3,type_:"linear",color:_e.Color.Chart.green,reversed:!1,show:!1,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:{hd:{elementType:2,dataKey:"keywords",yAxisId:"keywords",name:"",stackId:void 0,value:2,type_:"linear",color:_e.Color.Chart.violetContrast,reversed:!1,show:!1,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:0}}}};function rl(e,t,r){var a=ce.reduce(r,void 0,(function(e,t){var r=ne.apiDateUtc(t.date);return Ur.set(e,r,{date:ne.apiDateUtc(t.date),pages:t.pages,traffic:t.traffic,trafficAvg:t.traffic_avg,keywords:t.keywords,cost:me.mapWithDefault(t.cost,0,Pe),costAvg:me.mapWithDefault(t.cost_avg,0,Pe)})})),o=Yt(e),i=yr(o[0],o[1],t);return ce.toArray(ce.map(i,(function(e){var t=ne.moment(void 0,e,"dateWithDashes");return me.getWithDefault(Ur.get(a,t),{date:t,pages:0,traffic:0,trafficAvg:0,keywords:0,cost:0,costAvg:0})})))}function al(e,t){switch(0|t.TAG){case 0:var r=t._0;return{from:r,to_:r,isDragging:!0,draggedToNextBar:!1};case 1:var a=t._0,o=e.from;return{from:e.from,to_:a,isDragging:!0,draggedToNextBar:void 0!==o&&!re.moment(void 0,o).isSame(re.moment(void 0,a))};case 2:return{from:t._0,to_:t._1,isDragging:!1,draggedToNextBar:!1};case 3:var i=t._1;return{from:_r.toDateString(i,t._0),to_:hr.toDateString(i),isDragging:e.isDragging,draggedToNextBar:e.draggedToNextBar}}}var ol=function(e){var t=e.data,r=e.filters,o=e.spec,n=e.historicalPermissions,d=e.visibleItems,c=e.onChangeSpec,u=e.notes,g=e.onDateChanged,m=u[1],f=rl(r.timeFrame,r.granularity,t),p=z.useReducer(al,{from:void 0,to_:"",isDragging:!1,draggedToNextBar:!1}),_=p[1],h=p[0],k=i.stringifyQueryDict(ns({hd:22,tl:{hd:23,tl:0}},void 0,r),void 0,void 0);z.useEffect((function(){s._1(_,{TAG:3,_0:r.compareDate,_1:r.currentDate})}),[k,n]);var v=kr(m,r.granularity),y=v[0],D=ce.map(ce.map(o,(function(e){return{elementType:e.elementType,dataKey:e.dataKey,yAxisId:e.yAxisId,name:En(e.value,r.granularity),stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}})),(function(e){var t=e.value,a=r.volumeMode;if(0===t)return e;switch(t){case 1:return"Average"===a?{elementType:e.elementType,dataKey:"trafficAvg",yAxisId:e.yAxisId,name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}:{elementType:e.elementType,dataKey:"traffic",yAxisId:e.yAxisId,name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth};case 2:return e;case 3:return"Average"===a?{elementType:e.elementType,dataKey:"costAvg",yAxisId:e.yAxisId,name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}:{elementType:e.elementType,dataKey:"cost",yAxisId:e.yAxisId,name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}}})),S=Nr.getConfigsFromSpec(D),F=ce.map(S[1],(function(e){return{dataKey:e.dataKey,yAxisId:e.yAxisId,label:e.label,allowDataOverflow:!0,domain:e.domain,unit:e.unit,hide:e.hide,allowDecimals:e.allowDecimals,tickFormatter:e.tickFormatter,color:e.color,reversed:e.reversed,ticks:e.ticks}})),C=r.granularity,w=vr(S[0]),T=w[1],b=r.granularity,P=h.isDragging,M=h.from,A=h.isDragging;return z.createElement(ct.make,{children:null},z.createElement(Et.Horizontal.make,{renderItem:function(e,t,r){return Lr(Bn,En,b,0,t,r)},spec:D,onChange:c}),z.createElement(At.make,{chartType:w[0],data:f,charts:T,chartHeight:235,xAxisPadding:[2,2],xAxisTicks:xt.getXTicks((function(e){return e.date}),f),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(f,(function(e){return Bt.fromString(e.date)}),C,t)},yAxisConfig:F,hideTooltip:m,renderTooltip:function(e,t){var o=ge.filterMap(me.getWithDefault(l.nullable_to_opt(e.payload),[]),(function(e){if(!(e.value<0)){var t=me.mapWithDefault(function(e){switch(e){case"costAvg":return 3;case"trafficAvg":return 1;default:return s._1(qn,e)}}(e.dataKey),a.s(ae.Float.full(e.value)),(function(t){return t>=3?a.s(Me(e.value)):a.s(ae.Float.full(e.value))}));return{color:e.color,label:a.s(me.getWithDefault(i.decode(e.name),e.name)),value:t}}}));return z.createElement(qt.make,{hideColors:T.length<=1,label:Dr(re.moment(void 0,e.label),r.granularity),config:o})},references:u[0],onMouseDown:function(e,t){return Kr(y,n,(function(e){return s._1(_,{TAG:0,_0:e})}),e,t)},onMouseMove:function(e,t){return Er(P,y,n,(function(e){return s._1(_,{TAG:1,_0:e})}),e,t)},onMouseUp:function(e,t){return Br(A,y,M,(function(e,t,r,a){return s._1(_,{TAG:2,_0:e,_1:t}),s._2(g,r,a)}),e,t)},children:v[1]?me.mapWithDefault(ce.head(d),null,(function(e){return xt.renderSelectedArea(me.getWithDefault(e.yAxisId,""),me.map(h.from,Bt.fromString),l.some(Bt.fromString(h.to_)),(function(e){return ne.moment(void 0,e,"dateWithDashes")}),h.draggedToNextBar&&h.isDragging,void 0,void 0)})):null}))},il=r(98180);function nl(e,t){if("number"==typeof t)switch(t){case 0:return{isOpen:!e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:e.performanceRemoteData,compareSpec:e.compareSpec,compareRemoteData:e.compareRemoteData};case 1:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:1,compareSpec:e.compareSpec,compareRemoteData:e.compareRemoteData};case 2:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:e.performanceRemoteData,compareSpec:e.compareSpec,compareRemoteData:1}}else switch(0|t.TAG){case 0:return{isOpen:e.isOpen,performanceSpec:t._0,performanceRemoteData:e.performanceRemoteData,compareSpec:e.compareSpec,compareRemoteData:e.compareRemoteData};case 1:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:t._0,compareSpec:e.compareSpec,compareRemoteData:e.compareRemoteData};case 2:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:e.performanceRemoteData,compareSpec:t._0,compareRemoteData:e.compareRemoteData};case 3:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:e.performanceRemoteData,compareSpec:e.compareSpec,compareRemoteData:t._0}}}var sl={contents:gt()};function ll(e,t,r,a,o,i,l){s._1(e,1);var d=gt();sl.contents=d,Ye.forEach(R(void 0,el.request,{args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),grouping:a,from:o,country:Sa.Item.toCountryOpt(l)},filter:i,environment:t}),(function(t){if(sl.contents===d)return s._1(e,{TAG:1,_0:t})}))}var dl={contents:gt()};function cl(e,t,r,a,o,i,l,d){s._1(e,2);var c=gt();dl.contents=c,Ye.forEach(R(void 0,il.request,{args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),grouping:a,from:o,country:Sa.Item.toCountryOpt(l),urls:d},filter:i,environment:t}),(function(t){if(dl.contents===c)return s._1(e,{TAG:3,_0:t})}))}var ul=function(e){var t=e.environment,r=e.signedEnvironment,o=e.chFilter,i=e.target,c=e.historicalPermissions,u=e.comparePagesConfig,g=e.settings,m=e.filters,f=e.onFiltersChange,p=e.onClearFiltersHard,_=e.onRefetchTable,h=e.onSettingsUpdated,k=uo.useSingleton({overrides:["className"]}),v=z.useReducer(nl,{isOpen:!0,performanceSpec:tl,performanceRemoteData:0,compareSpec:0,compareRemoteData:0}),y=v[1],D=v[0],S=ce.filter(D.performanceSpec,(function(e){return e.show}));z.useEffect((function(){if(!m.chartMode){var e=0;"string"==typeof c?"HistoryUnlimited"===c&&(e=1):"HistoryLimited"===c.NAME&&(e=1),1===e&&ll(y,t,i,m.granularity,m.timeFrame,o,m.country)}}),[Ve.Safe.toKey(i),o,s._1(In,m.chartMode),Sa.Item.toCode(m.country),me.getWithDefault(s._1(Ki,m.granularity),""),s._1(mr.toString,m.timeFrame)]);var F=ce.map(de.getWithDefault(u,0),(function(e){return e[0]})),C=ce.filterMap(de.getWithDefault(u,0),(function(e){if(e[1])return e[0]}));z.useEffect((function(){m.chartMode&&F&&"HistoryNotAllowed"!==c&&"number"!=typeof r&&2===r.TAG&&cl(y,r._0,i,m.granularity,m.timeFrame,o,m.country,F)}),[s._1(In,m.chartMode),me.getWithDefault(s._1(Ki,m.granularity),""),s._1(mr.toString,m.timeFrame),ce.joinWith(F,"-")]),z.useEffect((function(){s._1(y,{TAG:2,_0:Js(F,C)})}),[ce.joinWith(F,"-"),ce.joinWith(C,"-")]);var w=z.createElement("div",{className:Os},z.createElement(ct.make,{vAlign:"center",fullHeight:!0,children:z.createElement("div",{className:Ns,onClick:function(e){return e.preventDefault(),e.stopPropagation(),s._1(y,0)}},z.createElement(Xe.Caret.make,Xe.Caret.makeProps(void 0,void 0,void 0,void 0,D.isOpen?0:1,void 0,void 0,void 0,void 0,void 0,void 0,void 0)))})),T={onApply:function(e){var t=mt.caml_obj_dup(g.settings);return s._1(h,(t.chartNoteSources=e,t))}};void 0!==g.settings.chartNoteSources&&(T.data=l.valFromOption(g.settings.chartNoteSources));var b,P=m.chartMode,M=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},align:"top",children:null},z.createElement(kt.make,{vGap:"px12",layout:{NAME:"list",VAL:{hd:1,tl:{hd:0,tl:0}}},children:null},z.createElement(kt.make,{gap:"px10",vGap:"px12",children:null},z.createElement(jn,{value:m.chartMode,onChange:function(e){var t=mt.caml_obj_dup(m);return s._1(f,(t.chartMode=e,t))}}),1===m.chartMode?z.createElement(On,{value:m.chartSource,granularity:m.granularity,onChange:function(e){var t=mt.caml_obj_dup(m);return s._1(f,(t.chartSource=e,t))}}):null),z.createElement(kt.make,{gap:"px16",children:z.createElement(kt.make,{gap:"px10",children:null},z.createElement(fr,{historicalPermissions:c,value:m.timeFrame,onClearFilters:p,tooltipTarget:k[1],onChange:function(e){var t=Pi(void 0,e),r=mt.caml_obj_dup(m);return s._1(f,(r.granularity=ce.has(t[0],m.granularity,Qr.equal)?m.granularity:t[1],r.timeFrame=e,r))}}),z.createElement(Ei,{value:m.granularity,timeFrame:m.timeFrame,onChange:function(e){var t=mt.caml_obj_dup(m);return s._1(f,(t.granularity=e,t))}}),z.createElement(Gi,T),z.createElement(ht.make,{disabled:P?!de.isSuccess(D.compareRemoteData)||!de.isSuccess(u):!de.isSuccess(D.performanceRemoteData),onClick:function(e){return m.chartMode?de.forEach(D.compareRemoteData,(function(e){return function(e,t,r,a,o,i,l,d){var c=Ys(e,o,r,t,a,i),u=qr(r),g=Mi(o)+", "+ce.joinWith(ce.map(u,(function(e){return e.value})),", ")+"\n"+ge.joinWithNewLine(ge.map(c,(function(e){var t=ce.joinWith(ce.map(u,(function(t){return me.mapWithDefault(me.flatMap(Vs.get(e,t.value),br),"",(function(e){return String(e)}))})),", ");return Ai(Ar(Vs.get(e,xt.dateKey)),o)+", "+t}))),m=ce.length(u),f=Se({hd:n.Protocolless_url.show(d.url),tl:{hd:m<1?void 0:String(m),tl:{hd:"comp",tl:{hd:Ln(a),tl:{hd:1!==a&&a<3?void 0:zs.VolumeMode.toExportName(i),tl:{hd:Sa.Item.toCode(l),tl:{hd:Ht(e),tl:{hd:s._1(Ki,o),tl:0}}}}}}}});return js.string(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:{TAG:11,_0:".csv",_1:0}}}},_1:"%s_%s.csv"}),f,ne.moment(void 0,Z(),"timestamp")),"application/octet-stream",g)}(m.timeFrame,e,D.compareSpec,m.chartSource,m.granularity,m.volumeMode,m.country,i)})):de.forEach(D.performanceRemoteData,(function(e){return function(e,t,r,a,o,i,l){var d=rl(o,a,e),c=ce.filter(t,(function(e){return e.show})),u=Mi(a)+", "+ce.joinWith(ce.map(c,(function(e){return En(e.value,a)+s._2(J.sprintf({_0:{TAG:11,_0:" (",_1:{TAG:2,_0:0,_1:{TAG:11,_0:" - ",_1:{TAG:2,_0:0,_1:{TAG:12,_0:41,_1:0}}}}},_1:" (%s - %s)"}),Pa.VolumeMode.toExportColumnName(r),Sa.Item.toExportColumnName(l))})),", ")+"\n"+ge.joinWithNewLine(ge.map(d,(function(e){var t=ce.joinWith(ce.map(c,(function(t){var a;switch(t.value){case 0:a=e.pages;break;case 1:a="Average"===r?e.trafficAvg:e.traffic;break;case 2:a=e.keywords;break;case 3:a="Average"===r?e.costAvg:e.cost}return String(a)})),", ");return Ai(Bt.fromString(e.date),a)+", "+t}))),g=Se({hd:n.Protocolless_url.show(i.url),tl:{hd:"perf",tl:{hd:V.toExportName(i.mode),tl:{hd:Ht(o),tl:{hd:s._1(Ki,a),tl:0}}}}});return js.string(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:{TAG:11,_0:".csv",_1:0}}}},_1:"%s_%s.csv"}),g,ne.moment(void 0,Z(),"timestamp")),"application/octet-stream",u)}(e,D.performanceSpec,m.volumeMode,m.granularity,m.timeFrame,i,m.country)}))},children:null},z.createElement(Xe.Export.make,Xe.Export.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"601e96c14cea6af2259a933caeca884d",defaultMessage:"Export"})))})),w),A=zi({TAG:0,_0:m.granularity},g.settings.chartNoteSources),R=A[2],L=A[0],E=0;if(D.isOpen?"string"==typeof c&&"HistoryUnlimited"!==c?b=z.createElement("div",{className:Qs},z.createElement("div",{className:Us},w),z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"e1475acb7840ba09b726f444f454ad56",defaultMessage:"Upgrade to unlock performance history chart"}),text:s._1(ke.Message.to_s,{id:"ccc84f384a159bd1da9cd4d310d23d66",defaultMessage:"Get an overview of a website's performance and see changes over time for pages, traffic, and keywords on an interactive graph."}),imageType:{TAG:2,_0:"7n0pqu3cj4"},imageGap:"px40"})):E=1:b=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(H.make,{children:a.s(s._1(ke.Message.to_s,{id:"501409cae131f417c027c1cc02284e03",defaultMessage:"Performance history"}))}),w),1===E){var B,K,q,x,W=function(e,t){var r=mt.caml_obj_dup(m);return s._1(f,(r.compareDate=e,r.currentDate=t,r))},U=m.chartMode,O=D.performanceRemoteData,N=D.compareRemoteData,$=0,I=0;if(U){var G=0,Q=0,j=0;if("number"==typeof N||2!==N.TAG||N._0?j=10:$=2,10===j)if("number"==typeof u)$=3;else switch(0|u.TAG){case 1:"number"==typeof r||2!==r.TAG?Q=9:(K=u._0,q=r._0,$=4);break;case 2:u._0?Q=9:$=2;break;default:$=3}if(9===Q)if("number"==typeof N)G=8;else switch(0|N.TAG){case 1:"number"!=typeof u&&(1===u.TAG||"number"==typeof r||2!==r.TAG?I=7:(K=N._0,q=r._0,$=4));break;case 2:B=z.createElement(Zs,{data:N._0,filters:m,spec:D.compareSpec,historicalPermissions:c,notes:[R,L],onDateChanged:W});break;default:G=8}8===G&&("number"==typeof u||2!==u.TAG?I=7:$=3)}else if("number"==typeof O)$=3;else switch(0|O.TAG){case 1:"number"==typeof r||2!==r.TAG?I=7:(K=O._0,q=r._0,$=4);break;case 2:B=z.createElement(ol,{data:O._0,filters:m,spec:D.performanceSpec,historicalPermissions:c,visibleItems:S,onChangeSpec:function(e){return s._1(y,{TAG:0,_0:e})},notes:[R,L],onDateChanged:W});break;default:$=3}if(7===I){var X=0;"number"==typeof u||1!==u.TAG?X=8:(x=u._0,$=5),8===X&&("number"==typeof r?$=6:1==(0|r.TAG)?(x=r._0,$=5):$=6)}switch($){case 2:B=z.createElement(Zs,{data:0,filters:m,spec:D.compareSpec,historicalPermissions:c,notes:[R,L],onDateChanged:W});break;case 3:B=z.createElement(Y.Box.make,{size:"md",background:0,fullHeight:!0});break;case 4:B=z.createElement(le.make,{reqId:d.getRequestId(K),height:"stretch",onClick:function(e){return function(e,t,r,a,o,i,n,s,l,d){return e?d?cl(a,r,o,i,n,s,l,d):void 0:ll(a,t,o,i,n,s,l)}(m.chartMode,t,q,y,i,m.granularity,m.timeFrame,o,m.country,F)}});break;case 5:B=z.createElement(ct.make,{align:"center",vAlign:"center",fullHeight:!0,children:z.createElement(le.make,{reqId:d.getRequestId(x),height:"stretch",onClick:function(e){return s._1(_,void 0)}})});break;case 6:B=z.createElement(ct.make,{align:"center",vAlign:"center",fullHeight:!0,children:z.createElement(le.make,{reqId:void 0,height:"stretch",onClick:function(e){return s._1(_,void 0)}})})}b=z.createElement(ct.make,{children:null},M,z.createElement("div",{className:Gs},B))}return z.createElement(po.make,{padding:"none",background:1,children:z.createElement("div",{className:ra.$plus$plus$plus(Is,ea.ifTrue($s,!D.isOpen)),onClick:function(e){return D.isOpen?void 0:s._1(y,0)}},b,A[1],z.createElement(ut.make,{singleton:k[0]}))})},gl=s._1(Rt.css,{hd:Rt.label("totals"),tl:0}),ml=s._1(Rt.css,{hd:Rt.label("header"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.flexDirection("row"),tl:{hd:Rt.flexWrap("wrap"),tl:{hd:Rt.selector("& > div:not(:last-child)",{hd:Rt.marginRight(tt.NewSize.px8),tl:{hd:Rt.selectSelf(gl)({hd:Rt.marginRight(tt.NewSize.px16),tl:{hd:Rt.display("flex"),tl:{hd:Rt.alignItems("center"),tl:0}}}),tl:0}}),tl:0}}}}}),fl=s._1(Rt.css,{hd:Rt.label("spacer"),tl:{hd:Rt.flex3(1,1,"auto"),tl:{hd:Rt.media(tt.Media.tabletDown,{hd:Rt.display("none"),tl:0}),tl:0}}}),pl=s._1(Rt.css,{hd:Rt.label("showTitlesFilters"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.alignItems("center"),tl:{hd:Rt.justifyContent("center"),tl:{hd:Rt.paddingRight(tt.NewSize.px8),tl:0}}}}});function _l(e,t){if("number"==typeof t)return 0===t?{changesMode:e.changesMode,remotePagesByCountry:1,remoteDataTable:1,maxPerPage:e.maxPerPage}:{changesMode:e.changesMode,remotePagesByCountry:e.remotePagesByCountry,remoteDataTable:1,maxPerPage:e.maxPerPage};switch(0|t.TAG){case 0:return{changesMode:t._0,remotePagesByCountry:e.remotePagesByCountry,remoteDataTable:e.remoteDataTable,maxPerPage:e.maxPerPage};case 1:return{changesMode:e.changesMode,remotePagesByCountry:t._0,remoteDataTable:e.remoteDataTable,maxPerPage:e.maxPerPage};case 2:return{changesMode:e.changesMode,remotePagesByCountry:e.remotePagesByCountry,remoteDataTable:t._0,maxPerPage:t._1}}}var hl={contents:gt()};function kl(e,t,r,a,o){var i=void 0!==e&&e;s._1(t,0);var l=gt();hl.contents=l;var d=i?function(e,t,r,a,o){return R(void 0,P.request,{args:{mode:t,protocol:r,url:e,reportMode:a},filter:o})}(n.Protocolless_url.show(r.url),r.mode,r.protocol,o,a):x(void 0,n.Protocolless_url.show(r.url),r.mode,r.protocol,o,a);return Ye.forEach(d,(function(e){if(hl.contents===l){var r=de.map(e,(function(e){var t=oe.fromArray(ge.map(ce.toArray(e.countries),(function(e){return[{_0:e.country},e.count]})),di.CountryCmp);return oe.set(t,0,e.all)}));return s._1(t,{TAG:1,_0:r})}}))}function vl(e,t){var r=ue.use(e.remoteDataTable);return z.useMemo((function(){var a,o=e.remoteDataTable,i=0;if("number"==typeof o||2!==o.TAG?i=2:a=o._0.totalTraffic,2===i){if("number"==typeof r)return;if(2!==r.TAG)return;a=r._0.totalTraffic}return me.map(a,(function(e){return"Average"===t?e.traffic_avg:e.traffic}))}),[e.remoteDataTable,t])}function yl(e,t){var r=ue.use(e);if("number"==typeof e)return"number"==typeof r?0:2===r.TAG?oe.getWithDefault(r._0,t,0):0;switch(0|e.TAG){case 0:case 1:return 0;case 2:return oe.getWithDefault(e._0,t,0)}}function Dl(e,t,r,o,i){var n=void 0!==o&&o,l=ue.use(e.remoteDataTable),d=ue.use(e.remotePagesByCountry),c=me.getWithDefault(r,0),u=z.createElement("div",{className:gl},z.createElement(Y.Icon.make,{size:"sm"})),g=e.remotePagesByCountry,m=0;if("number"==typeof g)if(0===g){if("number"==typeof d)return u;if(2!==d.TAG)return u;m=1}else{if("number"==typeof d)return u;if(2!==d.TAG)return u;m=1}else switch(0|g.TAG){case 0:return u;case 1:case 2:m=1}if(1===m){var f,p={resultsStr:a.s(ae.Float.full(t)),results:0|t},_=e.remoteDataTable,h=0;if(n)f=null;else if("number"==typeof _)"number"==typeof l||2!==l.TAG?f=u:h=2;else switch(0|_.TAG){case 0:f=u;break;case 1:case 2:h=2}if(2===h){var k={resultsString:a.s(ae.Int.$$default(c))};f=z.createElement("div",{className:gl},z.createElement(pt.make,{children:s._2(ke.Message.format_to_s,{id:"9a1ccd971117fda5df7e8f73de81fe4a",defaultMessage:"Total traffic: {resultsString}"},k)}))}return z.createElement(z.Fragment,void 0,z.createElement("div",{className:gl},z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"4e6fa78ac5d9381342dae76d0ca4e502",defaultMessage:"{resultsStr} {results, plural, zero {pages} one {page} few {pages} other {pages}}"},p)})),f)}}function Sl(e,t,r){return e?"string"==typeof r?"ActualToday"===r?"PrevMonth":t:"Actual"===r.NAME?"PrevMonth":t:t}function Fl(e){var t=e<10?e:10,r=ya.useSelectableRows(Bo.fromArray(ge.makeBy(t,(function(e){return[e,!0]})))),a=r[1];return z.useEffect((function(){s._2(a,ge.makeBy(t,(function(e){return e})),!0)}),[t]),[r[0],a,r[2]]}function Cl(e){return z.useMemo((function(){return de.mapWithDefault(e.remoteDataTable,0,(function(e){return e.tableData.rows}))}),[e.remoteDataTable])}function wl(e,t,r,a,o,i,n){var l=void 0===i||i,d=s._3(Ra.FieldsRequestDescr.customRow,t,(function(e,i,n){var d,c=Bo.has(r,e.index);if(o){var u=At.getChartColor(void 0,e.index,void 0);d=z.createElement(te.Row.make,{columns:t,parentData:e,isSelected:c,isPadded:l,onSelect:function(t){return s._2(a,[e.index],!c)},renderCheckbox:function(e,t,r,a){return o=u,i=e,n=r,z.createElement(Nt.make,{color:o,checked:i,onChange:function(e){return s._1(n,void 0)}});var o,i,n},highlightSelectedRow:!1})}else d=z.createElement(te.Row.make,{columns:t,parentData:e,isPadded:l});return z.createElement(z.Fragment,{children:d,key:dt.to_string(i)})}),e);return[d,s._1(Ra.FieldsRequestDescr.toRequest,d)]}var Tl=r(38197),bl=r(24495),Pl=r(96532),Ml=[0,1,2,3,5,6,4],Al=[7,8,9],Rl=ce.fromArray([0,1,2,3,4,5,6,7,8,9]),Ll=Pl.Make({all:Rl});function El(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"e35d1596f2eecba8004e0589cd9a484e",defaultMessage:"Volume"});case 1:return s._1(ke.Message.to_s,{id:"f63f2cd95bd1c765c0517dc19fc50cfb",defaultMessage:"KD"});case 2:return s._1(ke.Message.to_s,{id:"15abccc61b619875f773b1ca64651d0a",defaultMessage:"CPC"});case 3:return s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"});case 4:return s._1(ke.Message.to_s,{id:"c6dc3db67c0bcb4295f1621626f01d63",defaultMessage:"SERP features"});case 5:return s._1(ke.Message.to_s,{id:"bdb646df458502f57e7cb0535fb0aa15",defaultMessage:"Word count"});case 6:return s._1(ke.Message.to_s,{id:"cf185135872a72c1290e5f1ba5112940",defaultMessage:"Keyword"});case 7:return s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"});case 8:return s._1(ke.Message.to_s,{id:"6c50e12228a5d8c78ecf940587d70391",defaultMessage:"Display URL"});case 9:return s._1(ke.Message.to_s,{id:"feeb10f85ff7e7774def133d0a229ef0",defaultMessage:"Description"})}}var Bl=function(e){var t=e.filters,r=e.onFiltersChange;return z.createElement(Ll.make,{label:z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),dropdownItems:ce.fromArray(ge.concatMany([[{TAG:1,_0:s._1(ke.Message.to_s,{id:"cf185135872a72c1290e5f1ba5112940",defaultMessage:"Keyword"})}],ge.map(Ml,(function(e){return Pl.makeDropdownItem(El(e),e,void 0,void 0,void 0)})),[0,{TAG:1,_0:s._1(ke.Message.to_s,{id:"7ff9a64c4f2472eb7bd2fb2c02a65326",defaultMessage:"Ad"})}],ge.map(Al,(function(e){return Pl.makeDropdownItem(El(e),e,void 0,void 0,void 0)}))])),isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.volume,s._1(pa.Volume.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.kd,s._1(pa.KD.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.cpc,s._1(pa.CPC.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.paidKeywordTraffic,s._1(pa.PaidKeywordTraffic.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.serp,ka.Filter.getDefault(void 0));case 5:return mt.caml_notequal(t.words,s._1(pa.Words.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.keyword,s._1(fa.Keyword.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.adTitle,s._1(fa.Ads.AdTitle.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.adDisplayUrl,s._1(fa.Ads.AdDisplayUrl.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.adDescription,s._1(fa.Ads.AdDescription.Filter.getDefault,void 0))}},render:function(e,a,o,i){var n=function(t){return s._1(i,e)},l=function(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"e35d1596f2eecba8004e0589cd9a484e",defaultMessage:"Volume"});case 1:return s._1(ke.Message.to_s,{id:"f63f2cd95bd1c765c0517dc19fc50cfb",defaultMessage:"KD"});case 2:return s._1(ke.Message.to_s,{id:"15abccc61b619875f773b1ca64651d0a",defaultMessage:"CPC"});case 3:return s._1(ke.Message.to_s,{id:"c87f52e69380f924cbc3935f9de61164",defaultMessage:"Keyword traffic"});case 4:return s._1(ke.Message.to_s,{id:"c6dc3db67c0bcb4295f1621626f01d63",defaultMessage:"SERP features"});case 5:return s._1(ke.Message.to_s,{id:"56eeb241b9569e3bb4002e19ac30b982",defaultMessage:"Keyword word count"});case 6:return s._1(ke.Message.to_s,{id:"cf185135872a72c1290e5f1ba5112940",defaultMessage:"Keyword"});case 7:return s._1(ke.Message.to_s,{id:"405e6eda2825637b8b74c25474b6125c",defaultMessage:"Ad title"});case 8:return s._1(ke.Message.to_s,{id:"2e5a9055874c17a2ee493e9d147b3edd",defaultMessage:"Ad display URL"});case 9:return s._1(ke.Message.to_s,{id:"f0ccaadb8a0b8380990261ba52ee08f5",defaultMessage:"Ad description"})}}(e);switch(e){case 0:return z.createElement(pa.Volume.make,{value:t.volume,label:l,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.volume=as().volume,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.volume=e,a))}});case 1:return z.createElement(pa.KD.make,{value:t.kd,label:l,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.kd=as().kd,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.kd=e,a))}});case 2:return z.createElement(pa.CPC.make,{value:t.cpc,label:l,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.cpc=as().cpc,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.cpc=e,a))}});case 3:return z.createElement(pa.PaidKeywordTraffic.make,{value:t.paidKeywordTraffic,label:l,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.paidKeywordTraffic=as().paidKeywordTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.paidKeywordTraffic=e,a))}});case 4:return z.createElement(go.make,{autoOpen:a,label:l,isPaid:!0,value:t.serp,onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.serp=e,a))},onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.serp=as().serp,a))}});case 5:return z.createElement(pa.Words.make,{value:t.words,label:l,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.words=as().words,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.words=e,a))}});case 6:return z.createElement(fa.Keyword.make,{value:t.keyword,autoOpen:a,label:l,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.keyword=as().keyword,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.keyword=e,a))}});case 7:return z.createElement(fa.Ads.AdTitle.make,{value:t.adTitle,autoOpen:a,label:l,onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.adTitle=e,a))},onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.adTitle=as().adTitle,a))}});case 8:return z.createElement(fa.Ads.AdDisplayUrl.make,{value:t.adDisplayUrl,autoOpen:a,label:l,onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.adDisplayUrl=e,a))},onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.adDisplayUrl=as().adDisplayUrl,a))}});case 9:return z.createElement(fa.Ads.AdDescription.make,{value:t.adDescription,autoOpen:a,label:l,onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.adDescription=e,a))},onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.adDescription=as().adDescription,a))}})}}})},Kl=r(32875),ql=r(2594);function xl(e,t,r,a){return Re("string"==typeof t||"Compared"!==t.NAME?rs.toActualFieldName(e,r):rs.toComparedFieldName(e,r),a)}var Wl={contents:gt()};function Ul(e,t,r,a,o,i,l,d,c,u){s._1(e,1);var g=gt();return Wl.contents=g,Ye.forEach(R(void 0,Kl.request,{args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),reportMode:d,country:Sa.Item.toCountryOpt(c)},params:{filter:l,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0},environment:u}),(function(r){if(Wl.contents===g){var a,o=0;if("string"==typeof d||"Compared"!==d.NAME)o=1;else{var i=function(e,t,r){return ie.max(ie.max(e,me.getWithDefault(t,dt.zero)),me.getWithDefault(r,dt.zero))};a=de.mapWithDefault(r,Hn,(function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_value)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_value)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_value_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_value_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url)),0))))))))),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,l,d,c,u,g,m,f){var p=n.Url.show(f);return s._1(t,{trafficMth:i(e.trafficMth,a,o),trafficAvg:i(e.trafficAvg,c,u),valueMth:i(e.valueMth,l,d),valueAvg:i(e.valueAvg,g,m),allUrls:{hd:p,tl:e.allUrls}})}),Hn,e.tableData.rows)}))}1===o&&(a=de.mapWithDefault(r,Hn,(function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),0),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a){var o=n.Url.show(a);return s._1(t,{trafficMth:e.trafficMth,trafficAvg:e.trafficAvg,valueMth:e.valueMth,valueAvg:e.valueAvg,allUrls:{hd:o,tl:e.allUrls}})}),Hn,e.tableData.rows)})));var l={trafficMth:a.trafficMth,trafficAvg:a.trafficAvg,valueMth:a.valueMth,valueAvg:a.valueAvg,allUrls:ce.reverse(a.allUrls)};return s._1(e,{TAG:2,_0:r,_1:l})}}))}var Ol=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=e.onSettingsUpdated,c=he.useUrl(void 0,void 0),u=c.path,g=i.parseQueryToDict(c.search,void 0,void 0),m=z.useReducer(_l,{changesMode:me.getWithDefault(r.settings.paidPagesChangeMode,1),remotePagesByCountry:0,remoteDataTable:0,maxPerPage:Hn}),f=m[1],p=m[0],_=uo.useSingleton({overrides:["className"]}),h=_[1],k=is(void 0,r,g),v=a.useStateValue(k),y=v[1],D=v[0],S=function(e){return s._1(y,e),he.push(i.makeStringWithQueryDict(i.makePathname(u),l.some(ns(void 0,l.some(g),e)),void 0,void 0,void 0))};Ie(u,ns(void 0,l.some(g),k));var F,C=Pt.dataToReportMode([k.currentDate,k.compareDate]),w=i.stringifyQueryDict(ns(ms,void 0,k),void 0,void 0),T=z.useMemo((function(){var e="string"==typeof C||"Compared"!==C.NAME?fs(k):ps(k);return me.map(Da.conjunct(e),Da.makeFilter)}),[w,Te(C),k.volumeMode]),b=function(e){var t=i.stringifyQueryDict(ns(ms,void 0,e),void 0,void 0);return z.useMemo((function(){return me.map(Da.conjunct(fs(e)),Da.makeFilter)}),[t,e.volumeMode])}(k),P=vl(p,k.volumeMode),M=Cl(p),A=Fl(ce.length(M)),R=A[1],E=A[0],B=0;if("string"==typeof C||"Compared"!==C.NAME)B=1;else{var K=C.VAL,q=function(e,t,r,a,o,i,n){var s=0===n.country,l=xe(n.country),d=Aa.getTerms(n.url.rules),c=Aa.getTerms(n.keyword.rules);return{hd:Ts(d,n.showTitles,l,fn,pn),tl:{hd:bs(),tl:{hd:Ps(void 0,n.volumeMode),tl:{hd:Ms(n.volumeMode,i),tl:{hd:As(n.volumeMode,a,o,r,t,e),tl:{hd:Rs(n.volumeMode),tl:{hd:Ls(a,n.volumeMode,r,o,e,t),tl:{hd:Es(n),tl:{hd:Bs(n),tl:{hd:Ks(s,r,c,_n,hn),tl:{hd:qs(n.volumeMode),tl:{hd:xs(void 0),tl:0}}}}}}}}}}}}}(K.actual,K.comparedWith,h,p.changesMode,p.maxPerPage,P,k);F=[q,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url)),0))]}if(1===B){var x=function(e,t,r){var a=0===r.country,o=xe(r.country),i=Aa.getTerms(r.url.rules),n=Aa.getTerms(r.keyword.rules);return{hd:_s(i,r.showTitles,o,fn,pn),tl:{hd:hs(void 0,r.volumeMode),tl:{hd:ks(r.volumeMode,t),tl:{hd:vs(r.volumeMode),tl:{hd:ys(r),tl:{hd:Ds(r),tl:{hd:Ss(e,a,n,_n,hn),tl:{hd:Fs(r.volumeMode),tl:{hd:Cs(void 0),tl:0}}}}}}}}}}(h,P,k);F=[x,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),0))]}var W=wl(F[1],F[0],E,R,k.chartMode,void 0),U=W[1],N=Ne(!1,p.remoteDataTable,p.remotePagesByCountry);z.useEffect((function(){kl(!0,f,t,T,C)}),[Ve.Safe.toKey(t),T,Te(C)]);var $,I=Le(T,b,xl(k.volumeMode,C,k.sort.name,k.sort.direction),Ve.Safe.toUnsafe(t),Sa.Item.toCountryOpt(k.country),C),G=k.sort.name,Q=0;G>=8?12!==G?$=s._1(rs.Name.toString,G):Q=1:G>=2?Q=1:$=s._1(rs.Name.toString,G),1===Q&&($=s._1(rs.Name.toString,G)+Pa.VolumeMode.show(k.volumeMode)),z.useEffect((function(e){Ul(f,U,t,xl(k.volumeMode,C,k.sort.name,k.sort.direction),k.pagination.offset,k.pagination.limit,T,C,k.country,I)}),[Ve.Safe.toKey(t),T,Te(C),$,ci.toString(k.sort.direction),k.pagination.offset,k.pagination.limit,Sa.Item.toCode(k.country)]);var H,Y=function(e){return kl(!0,f,t,T,C),Ul(f,U,t,xl(k.volumeMode,C,k.sort.name,k.sort.direction),k.pagination.offset,k.pagination.limit,T,C,k.country,I)},X=yl(p.remotePagesByCountry,k.country),Z=z.createElement("div",{className:ml},Dl(p,X,P,void 0),z.createElement(Tl.make,{currentDate:k.currentDate,compareDate:k.compareDate,historicalPermissions:r.reportHistoricalPermissions,isUpgradable:r.isUpgradable,onChange:function(e,t){var r=function(e){return"DontCompare"===t?{range:e.range,changes:0}:e},a=mt.caml_obj_dup(k),o=k.pagination;return a.pagination={limit:o.limit,offset:0},S((a.compareDate=t,a.currentDate=e,a.paidValue=r(k.paidValue),a.paidPageTraffic=r(k.paidPageTraffic),a.pageStatus="DontCompare"===t?0:k.pageStatus,a))},onCompareDateChange:function(e){var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.paidPagesCompare=e,t))}}),z.createElement("div",{className:fl}),z.createElement("div",{className:pl},z.createElement(un,{value:k.showTitles,onChange:function(e){var t=mt.caml_obj_dup(k);S((t.showTitles=e,t));var a=mt.caml_obj_dup(r.settings);return s._1(d,(a.paidPagesSerpTitle=e,a))}})),"string"==typeof C||"Compared"!==C.NAME?null:z.createElement(ui.make,{selectedItem:p.changesMode,onChange:function(e){s._1(f,{TAG:0,_0:e});var t,a=mt.caml_obj_dup(r.settings);switch(s._1(d,(a.paidPagesChangeMode=e,a)),k.sort.name){case 3:t=e>=2?4:void 0;break;case 4:t=e>=2?void 0:3;break;case 6:t=e>=2?7:void 0;break;case 7:t=e>=2?void 0:6;break;case 9:t=e>=2?10:void 0;break;case 10:t=e>=2?void 0:9;break;case 0:case 1:case 2:case 5:case 8:case 11:case 12:case 13:case 14:t=void 0}return me.forEach(t,(function(e){var t=mt.caml_obj_dup(k),r=k.sort;return t.sort={name:e,direction:r.direction},S(t)}))}}),z.createElement(Oo,{data:{TAG:11,_0:[k.volumeMode,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:C,country:Sa.Item.toCountryOpt(k.country)},params:{filter:T,size:k.pagination.limit,offset:k.pagination.offset,order_by:xl(k.volumeMode,C,k.sort.name,k.sort.direction),shape:ce.map(U,(function(e){return e[1]})),timeout:void 0},environment:I}]}}),z.createElement(bt,{exportFunc:function(e,r){return L(e,s._4(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-paid-pages-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}}}},_1:"%s-paid-pages-%s-%s-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode),Sa.Item.toCode(k.country),Te(C)),void 0,ql.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:C,country:Sa.Item.toCountryOpt(k.country)},params:{filter:T,size:r,offset:0,order_by:xl(k.volumeMode,C,k.sort.name,k.sort.direction),shape:void 0,timeout:void 0},environment:I,volumeMode:k.volumeMode,withTitles:k.showTitles})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|X,target:t,limitsFunc:O})),ee=p.remotePagesByCountry,re=p.remoteDataTable,ae=0;"number"==typeof ee||1!==ee.TAG?ae=1:H=ee._0,1===ae&&(H="number"==typeof re||1!==re.TAG?void 0:re._0);var oe=de.map(p.remoteDataTable,(function(e){return ce.mapWithIndex(p.maxPerPage.allUrls,(function(e,t){return[t,Bo.getWithDefault(E,e,!1)]}))})),ie=de.map(p.remoteDataTable,(function(e){return e.signedEnvironment})),ne=k.chartMode,se={row:W[0],data:M,hasAppliedFilters:""!==w||mt.caml_notequal(k.pagination,s._1(ya.Pagination.Filter.getDefault,void 0)),header:Z,isLoading:N[0],failureState:N[1],renderError:qe([p.remoteDataTable,p.remotePagesByCountry],Y,r.isUpgradable),tableId:Mt(C),tooltipTarget:h,totalRowsNumber:0|X,pagination:k.pagination,sortDirection:k.sort.direction,sort:s._1(rs.Name.toString,k.sort.name),onPaginationChange:function(e){var t=mt.caml_obj_dup(k);return S((t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(k);return a.pagination=r,a.sort={name:me.getWithDefault(s._1(rs.Name.ofString,e),s._1(rs.Name.getDefault,void 0)),direction:t},S(a)},onRefetch:Y,onClearFilters:function(e){return S(as())}},le=ne?[E,R,A[2]]:void 0;void 0!==le&&(se.rowsSelectionConfig=l.valFromOption(le));var ue={settings:r,children:z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(j.V2.show(12))})}),z.createElement(co,{showApplyFilters:!ds(D,k),onClearFilters:function(e){return s._1(y,k)},onApplyFilters:function(e){var t=mt.caml_obj_dup(D),r=D.pagination;return t.pagination={limit:r.limit,offset:0},S(t)},children:null},z.createElement(Pa.make,{data:D.volumeMode,onSelect:function(e){var t=mt.caml_obj_dup(D);s._1(y,(t.volumeMode=e,t));var a=mt.caml_obj_dup(r.settings);return s._1(d,(a.paidPagesVolumeMode=e,a))}}),z.createElement(di.make,{selectedItem:D.country,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.country=e,t))},remoteCountryMap:p.remotePagesByCountry}),z.createElement(fa.$$URL.make,{value:D.url,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.url=as().url,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.url=e,t))}}),z.createElement(bl.make,{historicalPermissions:r.reportHistoricalPermissions,data:D.pageStatus,useRemoved:!0,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.compareDate=Sl(e,D.compareDate,C),t.pageStatus=e,t))}}),z.createElement(gn.PaidPageTraffic.make,{value:D.paidPageTraffic,historicalPermissions:r.reportHistoricalPermissions,label:s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.paidPageTraffic=as().paidPageTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.compareDate=Sl(e.changes,D.compareDate,C),t.paidPageTraffic=e,t))}}),z.createElement(gn.PaidValue.make,{value:D.paidValue,historicalPermissions:r.reportHistoricalPermissions,label:s._1(ke.Message.to_s,{id:"90c5e3e8c432b0fd259797b93265dffa",defaultMessage:"Cost"}),onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.paidValue=as().paidValue,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.compareDate=Sl(e.changes,D.compareDate,C),t.paidValue=e,t))}}),z.createElement(pa.PaidKeywords.make,{value:D.paidKeywords,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.paidKeywords=as().paidKeywords,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.paidKeywords=e,t))}}),z.createElement(pa.Ads.make,{value:D.ads,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.ads=as().ads,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.ads=e,t))}}),z.createElement(Bl,{filters:D,onFiltersChange:s.__1(y)})),z.createElement(ul,{environment:I,signedEnvironment:ie,chFilter:b,target:t,historicalPermissions:r.chartHistoricalPermissions,comparePagesConfig:oe,settings:r,filters:k,onFiltersChange:function(e){var t=function(t){return"DontCompare"===e.compareDate?{range:t.range,changes:0}:t},r=mt.caml_obj_dup(e),a=e.pagination;r.pagination={limit:a.limit,offset:0},r.paidValue=t(e.paidValue),r.paidPageTraffic=t(e.paidPageTraffic);var o=e.compareDate;return r.pageStatus="DontCompare"===o?0:e.pageStatus,S(r)},onClearFiltersHard:function(e){return S(as())},onRefetchTable:Y,onSettingsUpdated:d}),z.createElement("div",void 0,z.createElement(te.Table.make,se),z.createElement(ut.make,{singleton:_[0]})))};return void 0!==H&&(ue.error=l.valFromOption(H)),z.createElement(Po,ue)},Nl=et.style([et.label("footerDefault"),et.padding2(tt.NewSize.px16,"zero")]),$l=et.style([et.label("footerSmall"),et.padding2(tt.NewSize.px8,"zero")]),Il=et.style([et.label("footerTopBorder"),et.borderTop({NAME:"pxFloat",VAL:1},"solid",_e.Color.Border.lineAlpha)]),Gl=function(e){var t,r,o,i=e.data,n=e.error,d=e.settings,c=e.offset,u=e.remainingCount,g=e.rightAddon,m=e.showTopBorder,f=e.vGap,p=e.onClose,_=e.onMoreDataRequested,h=void 0!==g?l.valFromOption(g):null,k=void 0===m||m,v=void 0!==f?f:0,y=d.isUpgradable,D=0;if("number"==typeof i)0===i?t=v?$l:Nl:void 0!==p?D=1:t=v?$l:Nl;else switch(0|i.TAG){case 0:D=1;break;case 1:t=v?$l:Nl;break;case 2:void 0!==p?D=1:v?u<=0?t=$l:D=1:u<=0?t=Nl:D=1}if(1===D&&(t=v?ra.$plus$plus$plus($l,ea.ifTrue(Il,k)):ra.$plus$plus$plus(Nl,ea.ifTrue(Il,k))),void 0!==n&&0!==n.TAG){var S=n._0;r="SeRowsMonthlyLimitReached"===S?z.createElement(z.Fragment,void 0,z.createElement(ve.RowsMonthlyLimitReached.make,{date:d.subscription.dateResetUsagesMonthly,isUpgradable:y}),z.createElement(fi.make,{})):"SeRowsPerReportLimitReached"===S?z.createElement(z.Fragment,void 0,z.createElement(ve.RowsPerReportLimitReached.make,{isUpgradable:y}),z.createElement(fi.make,{})):null}else r=null;if("number"==typeof i)o=null;else switch(0|i.TAG){case 0:o=z.createElement(Y.Icon.make,{});break;case 2:if(u>0){var F,C=ae.Int.$$default(u),w={tenOrRemaining:u<10?a.s(C):a.s("10")};if(u>10){var T={oneHundredOrRemaining:u<100?a.s(C):a.s("100")};F=z.createElement(ht.make,{color:"outline",size:"md",disabled:me.isSome(n),onClick:function(e){return s._3(_,100,c,void 0)},children:s._2(ke.Message.format_to_s,{id:"6259f71d147d5b4f1f686f899d650b5b",defaultMessage:"Show {oneHundredOrRemaining} more"},T)})}else F=null;o=z.createElement(z.Fragment,void 0,z.createElement(ht.make,{color:"outline",size:"md",disabled:me.isSome(n),onClick:function(e){return s._3(_,10,c,void 0)},children:s._2(ke.Message.format_to_s,{id:"8d37142f065757acb33b0c8eafa6ab72",defaultMessage:"Show {tenOrRemaining} more"},w)}),F)}else o=null;break;default:o=null}return z.createElement(ct.make,{gap:"none",children:null},r,z.createElement("div",{className:t},z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement("div",void 0,z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:null},o,a.renderDefaultNull(p,(function(e){return z.createElement(ht.make,{color:"outline",size:"md",onClick:e,children:s._1(ke.Message.to_s,{id:"e678fb720265587ec13e15c1b9abfdbb",defaultMessage:"Close"})})})))),z.createElement("div",void 0,h))))},Ql=r(82453),Vl=r(73125),jl=r(97951),Hl=r(62157),zl=r(84077),Yl=r(31090),Jl=(et.style([et.label("root"),et.padding(tt.NewSize.px16)]),et.style([et.label("messageWrapper"),et.unsafe("position","relative"),et.minHeight({NAME:"pxFloat",VAL:226}),et.display("flex"),et.flexGrow(1),et.unsafe("alignItems","center"),et.unsafe("justifyContent","center")])),Xl=r(22075),Zl=r(95898),ed=r(42946),td=r(17387),rd=r(33566),ad=function(e){var t=e.compareWithTarget,r=e.originalPositions,a=e.originalTarget,o=e.renderEndpointError,i=e.settings,n=e.target,d=e.onCloseSerpOverview,c=t.language,u=t.targetDate,g=t.country,m=t.keyword,f=zl.use5(void 0,void 0,!1,void 0,(function(e){return W(m,g,Bt.toJs(u),me.getWithDefault(c,"en"),n)}),[m,g,u,n,c]),p=f[1];return z.createElement(td.Base.make,{dateResetUsagesMonthly:i.subscription.dateResetUsagesMonthly,dateResetUsagesWeekly:i.subscription.dateResetUsagesWeekly,isUpgradable:i.isUpgradable,remoteData:f[0],renderEndpointError:o,onRefetch:function(e){return s._1(p,void 0)},children:function(e){var o={originalSerp:{positions:r,target:a},compareWithSerp:{positions:e.results,target:t}};return void 0!==d&&(o.onCloseSerpOverview=l.valFromOption(d)),z.createElement(rd.make,o)}})},od=r(36907),id=z.memo((function(e){var t,r,o=e.settings,i=e.keyword,d=e.country,c=e.target,u=e.lastUpdate,g=e.language,m=e.mode,f=e.isOnlyTarget,p=e.onIsOnlyTargetChanged,_=e.onClose,h=void 0!==m?m:0,k=void 0!==f&&f,v=a.useStateValue(Bt.toMomentUtc(u)),y=v[0],D=a.useStateValue(0),F=D[1],C=D[0],w=a.useStateValue(void 0),T=w[0],b=a.useStateValue(void 0),P=b[1],M=b[0],A=ue.use(y),R=zl.use1(void 0,void 0,!1,void 0,(function(e){return W(i,d,Bt.toJs(y),g,c)}),[y.valueOf()]),E=R[1],B=R[0];if("number"==typeof B||2!==B.TAG)t=!0;else{var K=h?0:2;t=ce.size(ed.prepareRows(B._0.results,K))>0}if(z.useEffect((function(){t||s._1(p,!1)}),[t]),C)r=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Zl.make,{links:C,country:d,target:Ve.Safe.toUnsafe(c)}),z.createElement(_o.make,{onClick:function(e){return s._1(_,void 0)},children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}));else{var q,x={originalCountry:d,originalKeyword:i,originalLanguage:g,originalSerpsListCache:M,originalTargetDate:y,originalUrlTarget:Ve.Safe.toUnsafe(c),onTargetChanged:w[1]};if(void 0!==T&&(x.comparisonTarget=l.valFromOption(T)),me.isSome(T))q=Je.fillerEl;else{var U=z.createElement(nn.make,{value:k,disabled:!t,onChange:p,children:s._1(ke.Message.to_s,{id:"2b1790085428e4fdcc728cf4aff1059e",defaultMessage:"Target only"})});q=z.createElement(Je.make,{layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}}},children:null},t?U:z.createElement(ut.make,{content:z.createElement(pt.make,{color:"primary",fontSize:"sm",children:s._1(ke.Message.to_s,{id:"991d3ec55e9aff0bd533c78c1b3eb7e2",defaultMessage:" Your target doesn’t rank on this SERP "})}),children:U}),Je.fillerEl,de.mapWithDefault(B,null,(function(e){return z.createElement(bt,{exportFunc:function(e,t){return function(e,t,r,a,o,i,s,l){return L(e,t,a,S.request,{protocol:l.protocol,target:n.Protocolless_url.show(l.url),mode:l.mode,keyword:r,country:o,last_update:i,language:s})}(e,s._2(J.sprintf({_0:{TAG:11,_0:"serp_",_1:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:0}}}},_1:"serp_%s_%s"}),se.code(d),i),i,y.format("YYYY-MMM-DD"),d,Bt.toJs(y),g,c)},isTrial:o.subscription.isTrial,limitResetDate:o.subscription.dateResetUsagesMonthly,totalResults:ce.length(e.results),target:c,intialExportNumberOfRows:2,showNumberOfRowsSection:!1,limitsFunc:O,color:"ghost"})})))}r=z.createElement(Je.make,{gap:"px10",layout:{hd:"auto",tl:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}}}}},children:null},z.createElement(H.make,{children:s._1(ke.Message.to_s,{id:"d9b1f71b65ac248f91e662ea69ad939e",defaultMessage:"SERP overview"})}),z.createElement(jl.make,{color:"ghost",country:d,fullWidth:!0,keyword:i,serpsListCache:M,target:Ve.Safe.toUnsafe(c),value:y,onSelect:v[1],onSerpsListFetched:function(e,t){return s._1(P,Ur.update(M,e,(function(e){return l.some(t)})))}}),z.createElement(od.make,x),q,z.createElement(_o.make,{onClick:function(e){return s._1(_,void 0)},children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}))}var N=function(e){return"string"!=typeof e||"SerpNotFound"!==e&&"KeywordNotFound"!==e?null:z.createElement("div",{className:Jl},z.createElement(Yl.make,{vGap:1}))};return z.createElement(po.make,{children:z.createElement(td.Base.make,{dateResetUsagesMonthly:o.subscription.dateResetUsagesMonthly,dateResetUsagesWeekly:o.subscription.dateResetUsagesWeekly,header:r,isUpgradable:o.isUpgradable,remoteData:B,renderEndpointError:N,onRefetch:function(e){return s._1(E,void 0)},children:function(e){var r=e.last_update,n=e.results;if(void 0!==T){if(!o.limits.isSerpComparisonAvailable)return z.createElement(ct.make,{align:"center",children:z.createElement(Je.make,{layout:{hd:{NAME:"px",VAL:800},tl:0},children:z.createElement(Hl.Content.make,{feature:1,imageGap:"px40"})})});if(void 0!==T.language)return z.createElement(ad,{compareWithTarget:T,originalPositions:n,originalTarget:{keyword:i,country:d,targetDate:Bt.toMomentUtc(r),language:g},renderEndpointError:N,settings:o,target:c,onCloseSerpOverview:function(e){return s._1(_,void 0)}})}var l=Bt.toMomentUtc(u).isSame(y,"day"),m=mt.caml_equal(u,r),f=mt.caml_notequal(y,A);return z.createElement("div",void 0,z.createElement(ct.make,{children:null},!l||m||f?null:z.createElement(_t.make,{alertType:"warning",children:s._1(ke.Message.to_s,{id:"6d95fb1b4eea9a160d78f427f1bcbd82",defaultMessage:"The data shown here may not be as current as in the main report. Please check back later if you see any mismatch in positions."})}),z.createElement("div",void 0,z.createElement(Xl.make,{coloredPositions:!1,country:d,mode:h,overview:{results:n,features:0,source:1},renderTopKeywordLink:function(e,t){return z.createElement(ta.make,{href:vt.KE.overview(t,e),mode:3,children:a.s(e)})},selectedLinks:C,tableMode:t&&k?h?0:2:h?1:3,onCloseSerpOverview:function(e){return s._1(_,void 0)},onSelectionUpdated:F}))))}})})})),nd=r(31649),sd=r(92770),ld={canCreateKeywordList:!1},dd=z.createContext(ld),cd=dd.Provider,ud=function(e){var t=e.limits,r=e.children;return z.createElement(cd,{value:t,children:r})},gd=r(33349),md=r(68864),fd=r(74072),pd=r(69278),_d=r(6372),hd=et.style([et.label("thumbnailIconWrapper"),et.display("inlineBlock"),et.marginRight(tt.NewSize.px4)]),kd=et.style([et.label("linkWrapper"),et.paddingRight(tt.NewSize.px8)]),vd=function(e){var t,r=e.hasThumbnail,a=e.hasVideo,o=e.displayLink,i=e.tkLinkContextInputString,s=e.tooltipTarget,d=e.linkMode,c=e.country,u=e.urlTerms,g=e.children,m=void 0!==d?d:"new_",f=void 0!==g?l.valFromOption(g):null,p=on.fromString(i),_="old"===m?["grey",!0,_e.Color.$$Text.tertiary]:["blue",!1,_e.Color.$$Text.link],h=_[2],k=z.createElement(vn.make,{displayLink:n.Url.show(o),tkLinkContextInput:p,color:_[0],striked:_[1],highlightAnywhereTerms:u.contain,highlightStartTerms:u.startWith,highlightEndTerms:u.endWith,boldDomain:!1,country:c}),v=0;return r?a?v=1:t=z.createElement("div",{className:hd},z.createElement(_d.make,{value:"Image_th",color:h,tooltipTarget:s})):a?v=1:t=null,1===v&&(t=z.createElement("div",{className:hd},z.createElement(_d.make,{value:"Video_th",color:h,tooltipTarget:s}))),z.createElement("div",void 0,t,z.createElement("span",{className:kd},k),f)},yd=(s._1(Rt.css,{hd:Rt.label("kindIcon"),tl:{hd:Rt.alignSelf("center"),tl:0}}),s._1(Rt.css,{hd:Rt.label("linkWithMenu"),tl:{hd:Rt.display("inline"),tl:0}}),s._1(Rt.css,{hd:Rt.label("iconWrapper"),tl:{hd:Rt.marginTop({NAME:"px",VAL:-2}),tl:{hd:Rt.display("flex"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.alignItems("center"),tl:{hd:Rt.justifyContent("center"),tl:{hd:Rt.alignSelf("center"),tl:{hd:Rt.color(_e.Color.$$Text.tertiary),tl:0}}}}}}}})),Dd=s._1(Rt.css,{hd:Rt.label("prevCopy"),tl:{hd:Rt.borderRight({NAME:"px",VAL:1},"solid",_e.Color.Border.line),tl:{hd:Rt.width({NAME:"percent",VAL:50}),tl:{hd:Rt.paddingRight(tt.NewSize.px10),tl:0}}}}),Sd=s._1(Rt.css,{hd:Rt.label("currCopy"),tl:{hd:Rt.width({NAME:"percent",VAL:50}),tl:{hd:Rt.paddingLeft(tt.NewSize.px10),tl:0}}}),Fd=s._1(Rt.css,{hd:Rt.label("statusText"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.top({NAME:"px",VAL:3}),tl:0}}}),Cd=(s._1(Rt.css,{hd:Rt.label("statusDirection"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.top({NAME:"px",VAL:2}),tl:0}}}),s._1(Rt.css,{hd:Rt.label("adIcon"),tl:{hd:Rt.width(tt.NewSize.px22),tl:{hd:Rt.height(tt.NewSize.px22),tl:{hd:Rt.display("flex"),tl:{hd:Rt.justifyContent("center"),tl:{hd:Rt.alignItems("center"),tl:0}}}}}})),wd=function(e){var t=e.value,r=e.onClick,o=ie.to_int32(t);if(0===o||1===o)return null;var i={positionsCounter:a.s(String(o-1|0))};return z.createElement(it.make,{color:"muted",onClick:r,children:s._2(ke.Message.format_to_s,{id:"4c6923d59c6b250a17e623e04aafb700",defaultMessage:"{positionsCounter} more"},i)})},Td=ya.Sort.MakeFilter({$$default:7,toString:function(e){switch(e){case 0:return"keyword";case 1:return"sf";case 2:return"volume";case 3:return"kd";case 4:return"cpc";case 5:return"traffic";case 6:return"trafficChanges";case 7:return"trafficInitial";case 8:return"position";case 9:return"positionChanges";case 10:return"url";case 11:return"lastUpdate"}},ofString:function(e){switch(e){case"cpc":return 4;case"kd":return 3;case"keyword":return 0;case"lastUpdate":return 11;case"position":return 8;case"positionChanges":return 9;case"sf":return 1;case"traffic":return 5;case"trafficChanges":return 6;case"trafficInitial":return 7;case"url":return 10;case"volume":return 2;default:return}},defaultDirection:"Desc"}),bd=Td.Name,Pd=Td.getDefault,Md=Td.isApplied,Ad=Td.ofQueryWithDefault,Rd=Td.toQuery,Ld=Td.Direction,Ed={Name:bd,Direction:Ld,getDefault:Pd,isApplied:Md,ofQueryWithDefault:Ad,toQuery:Rd,toActualFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.text)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.serp_features)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.volume)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.difficulty)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.cpc)),tl:0};case 5:case 7:break;case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position)),tl:0};case 6:case 9:return 0;case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_url_raw)),tl:0};case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.last_update)),tl:0}}return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.paid_traffic)),tl:0}},toComparedFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.text)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.serp_features)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.volume)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.difficulty)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.cpc)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.direct,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.option_default,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.paid_traffic)))),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.Diff.get,ft.Se_shared.PaidKeywordsCompared.Diff.paid_traffic_diff_sort)),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.paid_traffic)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position)),tl:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position)),tl:0}};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.Diff.get,ft.Se_shared.PaidKeywordsCompared.Diff.best_position_diff)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.best_position_url_raw)),tl:0};case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.last_update)),tl:0}}}};function Bd(e){return{sort:s._1(Pd,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),country:s._1(Sa.WithoutAll.Filter.Country.getDefault,void 0),isUserCountry:s._1(Sa.WithoutAll.Filter.IsUserCountry.getDefault,void 0),currentDate:s._1(Pt.CurrentDate.getDefault,void 0),compareDate:s._1(Pt.CompareDate.getDefault,void 0),adPositions:gd.Filter.getDefault(void 0),volume:s._1(pa.Volume.Filter.getDefault,void 0),kd:s._1(pa.KD.Filter.getDefault,void 0),cpc:s._1(pa.CPC.Filter.getDefault,void 0),orgKeywordTraffic:s._1(pa.OrgKeywordTraffic.Filter.getDefault,void 0),words:s._1(pa.Words.Filter.getDefault,void 0),keyword:s._1(fa.Keyword.Filter.getDefault,void 0),url:s._1(fa.$$URL.Filter.getDefault,void 0),serp:ka.Filter.getDefault(void 0),adTitle:s._1(fa.Ads.AdTitle.Filter.getDefault,void 0),adDisplayUrl:s._1(fa.Ads.AdDisplayUrl.Filter.getDefault,void 0),adDescription:s._1(fa.Ads.AdDescription.Filter.getDefault,void 0)}}var Kd={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:0}}}}}}}}}}}}}}}}}};function qd(e,t,r){var a=void 0!==e?e:Kd,o=Pt.CurrentDate.ofQueryWithDefault,i=s._2(o,t.reportHistoricalPermissions,r);return ce.reduce(a,Bd(),(function(e,a){switch(a){case 0:return{sort:s._1(Ad,r),pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 1:return{sort:e.sort,pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,r),country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 2:return{sort:e.sort,pagination:e.pagination,country:s._1(Sa.WithoutAll.Filter.Country.ofQueryWithDefault,r),isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 3:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:s._1(Sa.WithoutAll.Filter.IsUserCountry.ofQueryWithDefault,r),currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 4:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:i,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 5:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:Pt.CompareDate.ofQueryWithDefault(t.reportHistoricalPermissions,i,t.settings.paidKeywordsCompare,r,void 0),adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 6:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:gd.Filter.ofQueryWithDefault(r),volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 7:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:s._1(pa.Volume.Filter.ofQueryWithDefault,r),kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 8:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:s._1(pa.KD.Filter.ofQueryWithDefault,r),cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 9:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:s._1(pa.CPC.Filter.ofQueryWithDefault,r),orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 10:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:s._1(pa.OrgKeywordTraffic.Filter.ofQueryWithDefault,r),words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 11:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:s._1(pa.Words.Filter.ofQueryWithDefault,r),keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 12:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:s._1(fa.Keyword.Filter.ofQueryWithDefault,r),url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 13:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:s._1(fa.$$URL.Filter.ofQueryWithDefault,r),serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 14:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:ka.Filter.ofQueryWithDefault(r),adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 15:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:s._1(fa.Ads.AdTitle.Filter.ofQueryWithDefault,r),adDisplayUrl:e.adDisplayUrl,adDescription:e.adDescription};case 16:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:s._1(fa.Ads.AdDisplayUrl.Filter.ofQueryWithDefault,r),adDescription:e.adDescription};case 17:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,adPositions:e.adPositions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,words:e.words,keyword:e.keyword,url:e.url,serp:e.serp,adTitle:e.adTitle,adDisplayUrl:e.adDisplayUrl,adDescription:s._1(fa.Ads.AdDescription.Filter.ofQueryWithDefault,r)}}}))}function xd(e,t,r){var a=void 0!==e?e:Kd,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(Rd,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Sa.WithoutAll.Filter.Country.toQuery,e,r.country);case 3:return s._2(Sa.WithoutAll.Filter.IsUserCountry.toQuery,e,r.isUserCountry);case 4:return s._2(Pt.CurrentDate.toQuery,e,r.currentDate);case 5:return s._2(Pt.CompareDate.toQuery,e,r.compareDate);case 6:return gd.Filter.toQuery(e,r.adPositions);case 7:return s._2(pa.Volume.Filter.toQuery,e,r.volume);case 8:return s._2(pa.KD.Filter.toQuery,e,r.kd);case 9:return s._2(pa.CPC.Filter.toQuery,e,r.cpc);case 10:return s._2(pa.OrgKeywordTraffic.Filter.toQuery,e,r.orgKeywordTraffic);case 11:return s._2(pa.Words.Filter.toQuery,e,r.words);case 12:return s._2(fa.Keyword.Filter.toQuery,e,r.keyword);case 13:return s._2(fa.$$URL.Filter.toQuery,e,r.url);case 14:return ka.Filter.toQuery(e,r.serp);case 15:return s._2(fa.Ads.AdTitle.Filter.toQuery,e,r.adTitle);case 16:return s._2(fa.Ads.AdDisplayUrl.Filter.toQuery,e,r.adDisplayUrl);case 17:return s._2(fa.Ads.AdDescription.Filter.toQuery,e,r.adDescription)}}))}var Wd={hd:2,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:0}}}}}}}}}}}}};function Ud(e,t){var r=void 0!==e?l.valFromOption(e):{};return xd(Wd,l.some(r),t)}var Od=function(e,t){return i.stringifyQueryDict(Ud(void 0,e),void 0,void 0)===i.stringifyQueryDict(Ud(void 0,t),void 0,void 0)},Nd={hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:0}}}}}}}}}}}};function $d(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:return 0;case 6:return{hd:gd.makeChFilterActual(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_kind),t.adPositions),tl:0};case 7:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.PaidKeywordsActual.PositionFilter.get,ft.Se_shared.PaidKeywordsActual.PositionFilter.volume),t.volume),tl:0};case 8:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.PaidKeywordsActual.PositionFilter.get,ft.Se_shared.PaidKeywordsActual.PositionFilter.difficulty),t.kd),tl:0};case 9:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.PaidKeywordsActual.PositionFilter.get,ft.Se_shared.PaidKeywordsActual.PositionFilter.cpc),t.cpc),tl:0};case 10:return{hd:pa.PaidKeywordTraffic.makeChFilter(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.paid_traffic),void 0,t.orgKeywordTraffic),tl:0};case 11:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.PaidKeywordsActual.PositionFilter.get,ft.Se_shared.PaidKeywordsActual.PositionFilter.words),t.words),tl:0};case 12:return{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.PaidKeywordsActual.PositionFilter.get,ft.Se_shared.PaidKeywordsActual.PositionFilter.text),t.keyword),tl:0};case 13:return{hd:fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_url_raw),t.url),tl:0};case 14:return{hd:ka.makeChFilterActual(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.serp_features),s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_has_video),s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_has_thumbnail),s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_kind),!0,t.serp),tl:0};case 15:return{hd:s._2(fa.Ads.AdTitle.makeChFilterActual,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_title),t.adTitle),tl:0};case 16:return{hd:s._2(fa.Ads.AdDisplayUrl.makeChFilterActual,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_url_visual),t.adDisplayUrl),tl:0};case 17:return{hd:s._2(fa.Ads.AdDescription.makeChFilterActual,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_description),t.adDescription),tl:0}}}function Id(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:return 0;case 6:return{hd:gd.makeChFilterCompared(s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_kind),s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_kind),s._1(ft.Se_shared.PaidKeywordsCompared.Diff.get,ft.Se_shared.PaidKeywordsCompared.Diff.best_position_diff),t.adPositions),tl:0};case 7:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.volume),t.volume),tl:0};case 8:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.difficulty),t.kd),tl:0};case 9:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.cpc),t.cpc),tl:0};case 10:return{hd:pa.PaidKeywordTraffic.makeChFilterCompared(s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.paid_traffic),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.paid_traffic),t.orgKeywordTraffic),tl:0};case 11:return{hd:pa.Words.makeChFilterCompared(s._1(ft.Se_shared.PaidKeywordsCompared.PreviousPositionFilter.get,ft.Se_shared.PaidKeywordsCompared.PreviousPositionFilter.words),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentPositionFilter.get,ft.Se_shared.PaidKeywordsCompared.CurrentPositionFilter.words),t.words),tl:0};case 12:return{hd:fa.Keyword.makeChFilterCompared(s._1(ft.Se_shared.PaidKeywordsCompared.PreviousPositionFilter.get,ft.Se_shared.PaidKeywordsCompared.PreviousPositionFilter.text),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentPositionFilter.get,ft.Se_shared.PaidKeywordsCompared.CurrentPositionFilter.text),!1,t.keyword),tl:0};case 13:return{hd:fa.$$URL.makeChFilterCompared(s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_url_raw),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_url_raw),!0,t.url),tl:0};case 14:return{hd:Da.disjunctOpt({hd:ka.makeChFilterActual(s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.serp_features),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_has_video),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_has_thumbnail),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_kind),!0,t.serp),tl:{hd:ka.makeChFilterActual(s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.serp_features),s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_has_video),s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_has_thumbnail),s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_kind),!0,t.serp),tl:0}}),tl:0};case 15:return{hd:s._4(fa.Ads.AdTitle.makeChFilterCompared,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_title),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_title),!0,t.adTitle),tl:0};case 16:return{hd:s._4(fa.Ads.AdDisplayUrl.makeChFilterCompared,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_url_visual),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_url_visual),!0,t.adDisplayUrl),tl:0};case 17:return{hd:s._4(fa.Ads.AdDescription.makeChFilterCompared,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_description),s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_description),!0,t.adDescription),tl:0}}}var Gd=Nd,Qd=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(Nd,(function(t){return $d(t,e)})))),(function(e){return e}))},Vd=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(Nd,(function(t){return Id(t,e)})))),(function(e){return e}))};function jd(e,t,r,a,o,i){return tn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.text)),r,s._1(bd.toString,0),e,a,o,t)}function Hd(e){var t=s._1(ke.Message.to_s,{id:"9d2df6e8cc23ecc7585f135d07b404fc",defaultMessage:"Ad"}),r={TAG:0,_0:mo.sePaidKeywordsAds};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r,a,o){var i=n.Url.show(r);return z.useMemo((function(){return z.createElement(va.Td.make,{align:"center",contentHeight:"button",nowrap:!1,children:z.createElement(ut.make,{paddingSize:2,content:z.createElement(fd.make,{title:a,urlFinal:i,url:t,description:o}),maxWidth:{NAME:"px",VAL:260},children:z.createElement("div",{className:Cd},z.createElement(Xe.Ads.AdPreview.make,s.app(Xe.Ads.AdPreview.makeProps,[void 0,3,void 0,void 0,void 0,void 0,void 0,void 0,void 0])))})})}),[t,a,o])}),{renderHeader:function(e,a,o,i,n,s,l,d){return La.makeRenderHeader(r,void 0,t,void 0,void 0,void 0,"center",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,o,i,n,s,l,d)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_url_visual)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_description)),0)))))}function zd(e){return Ca.makeVolumeColumn(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.volume),s._1(bd.toString,2),void 0,void 0)}function Yd(e){return Ca.makeDifficultyColumn(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.difficulty),s._1(bd.toString,3),void 0)}function Jd(e){return Ca.makeCpcColumn(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.cpc),s._1(bd.toString,4),void 0)}function Xd(e){return Ca.makeTrafficTypeRatioColumn(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.paid_traffic),s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.org_traffic),void 0,void 0)}function Zd(e,t){var r=void 0!==e?e:{TAG:0,_0:mo.sePaidKeywordsTraffic};return Ca.makeTrafficColumn(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.paid_traffic),s._1(bd.toString,5),r,void 0)}function ec(e){return Ca.makePaidKeywordPositionColumn(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position),s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_kind),s._1(bd.toString,8),void 0,void 0,void 0)}function tc(e,t,r,a,o,i,n){var l=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"}),d={TAG:0,_0:mo.sePaidKeywordsUrl};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(o,i,n,l,d,c,u,g,m,f,p){return z.useMemo((function(o){return z.createElement(va.Td.make,{nowrap:!1,children:z.createElement(vd,{hasThumbnail:d,hasVideo:c,displayLink:i,tkLinkContextInputString:n,tooltipTarget:t,country:r,urlTerms:e,children:z.createElement(wd,{value:u,onClick:function(e){return s._2(a.setRow,dt.to_string(g),Xi(a,g)?void 0:{NAME:"SERP",VAL:[m,f,p,!0]})}})})})}),[n,l,d,c,ie.to_int32(u),ie.to_int32(g),m,f,a.map,Aa.toKey(e)])}),{renderHeader:function(e,t,r,a,n,s,c,u){return La.makeRenderHeader(d,void 0,l,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,o,i,void 0,void 0,void 0,e,t,r,a,n,s,c,u)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_has_thumbnail)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_has_video)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.target_positions_count)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.text)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.last_update)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.language)),0)))))))))))}function rc(e){return rn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.hash)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.text)),e,l.some(z.createElement(Xe.ChartGantt.make,Xe.ChartGantt.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))))}function ac(e){return Ca.makeSerpColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.hash)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.text)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.last_update)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.language)),e)}function oc(e){return Ca.makeSfColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.serp_features)),e,s._1(bd.toString,1),void 0)}function ic(e){return Ca.makeLastUpdatedColumn(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.last_update),s._1(bd.toString,11),void 0)}var nc={makeKeywordColumn:jd,makeAdColumn:Hd,makeVolumeColumn:zd,makeKdColumn:Yd,makeCpcColumn:Jd,makeTrafficRatioColumn:Xd,makeTrafficColumn:Zd,makePositionColumn:ec,makeUrlColumn:tc,makePositionHistoryColumn:rc,makeSerpColumn:ac,makeSfColumn:oc,makeLastUpdatedColumn:ic};function sc(e,t,r,a,o,i){return tn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.text)),r,s._1(bd.toString,0),e,a,o,t)}function lc(e){var t=s._1(ke.Message.to_s,{id:"9d2df6e8cc23ecc7585f135d07b404fc",defaultMessage:"Ad"}),r={TAG:0,_0:mo.sePaidKeywordsAds};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r,o,i,l,d,c,u,g,m,f,p,_,h,k,v){var y=n.Url.show(r),D=me.map(c,n.Url.show),S=me.map(_,n.Url.show);return z.useMemo((function(){return(void 0!==l?void 0===f||dt.equal(l,f):void 0!==f)?z.createElement(va.Td.make,{align:"center",contentHeight:"button",nowrap:!1,children:z.createElement(ut.make,{paddingSize:2,content:z.createElement(fd.make,{title:o,urlFinal:y,url:t,description:i}),maxWidth:{NAME:"px",VAL:260},children:z.createElement("div",{className:Cd},z.createElement(Xe.Ads.AdPreview.make,s.app(Xe.Ads.AdPreview.makeProps,[void 0,3,void 0,void 0,void 0,void 0,void 0,void 0,void 0])))})}):z.createElement(va.Td.make,{align:"center",contentHeight:"button",nowrap:!1,children:z.createElement(ut.make,{paddingSize:2,content:z.createElement("table",void 0,z.createElement("tr",void 0,z.createElement("td",{className:Dd},z.createElement(ct.make,{gap:"px4",children:null},a.renderDefaultNull(m,(function(e){return z.createElement(pt.make,{fontSize:"sm",fontWeight:"bold",children:a.s(ne.dateUtc(void 0,e,"dayShortMonthYear"))})})),z.createElement(fd.make,{title:u,urlFinal:D,url:d,description:g}))),z.createElement("td",{className:Sd},z.createElement(ct.make,{gap:"px4",children:null},a.renderDefaultNull(v,(function(e){return z.createElement(pt.make,{color:"successContrast",fontSize:"sm",fontWeight:"bold",children:null},s._1(ke.Message.to_s,{id:"8de18ad46d5d2b36095da083eba3e316",defaultMessage:"Updated on "}),a.s(ne.dateUtc(void 0,e,"dayShortMonthYear")))})),z.createElement(fd.make,{title:h,urlFinal:S,url:p,description:k}))))),maxWidth:{NAME:"px",VAL:521},children:z.createElement("div",{className:Cd},z.createElement(Xe.Ads.AdUpdated.make,s.app(Xe.Ads.AdUpdated.makeProps,[void 0,3,void 0,void 0,void 0,void 0,void 0,void 0,void 0])))})})}),[d,u,g,p,h,k])}),{renderHeader:function(e,a,o,i,n,s,l,d){return La.makeRenderHeader(r,void 0,t,void 0,void 0,void 0,"center",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,o,i,n,s,l,d)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.best_position_url_visual)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.best_position_title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.best_position_description)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_copy_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_url_visual)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_description)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.last_update)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_copy_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_url_visual)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_description)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.last_update)),0)))))))))))))))))}function dc(e){return Ca.makeVolumeColumn(s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.volume),s._1(bd.toString,2),void 0,void 0)}function cc(e){return Ca.makeDifficultyColumn(s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.difficulty),s._1(bd.toString,3),void 0)}function uc(e){return Ca.makeCpcColumn(s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.cpc),s._1(bd.toString,4),void 0)}function gc(e){return Ca.makeTrafficTypeRatioColumn(s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.paid_traffic),s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.org_traffic),void 0,void 0)}function mc(e,t){var r=void 0!==e?e:{TAG:0,_0:mo.sePaidKeywordsTraffic};return Ca.makeCurrentTrafficColumn(s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.paid_traffic),s._1(bd.toString,5),r,void 0)}function fc(e){var t=s._1(bd.toString,6),r=s._1(ke.Message.to_s,{id:"5d9f4d005bba038194a47653acdc6217",defaultMessage:"Change"}),o={TAG:0,_0:mo.topPageTrafficChange};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o,i,n){return z.useMemo((function(){var t,d,c=0;if(void 0!==r)if(void 0!==i&&void 0!==n){var u={value:a.s(ae.Int.full(ie.to_int32(i))),date:a.s(ne.dateUtc(void 0,l.valFromOption(n),"dayShortMonthYear"))};t=z.createElement(ut.make,{content:z.createElement(pt.make,{color:"primary",fontSize:"sm",children:s._2(ke.Message.format_to_s,{id:"54ae0943bd89ca1ef946abf7945f2c85",defaultMessage:"Previous: {value} ({date})"},u)}),singleton:e,children:z.createElement(_a.Int.make,_a.Int.makeProps(void 0,ie.to_int32(r),void 0,"md",void 0,void 0))})}else d=r,c=1;else{var g=0;void 0!==i?void 0!==o?g=2:t=z.createElement(_a.Int.make,_a.Int.makeProps(void 0,Math.imul(-1,ie.to_int32(i)),void 0,"md",void 0,void 0)):void 0!==o?g=2:t=null,2===g&&(t=z.createElement(_a.Int.make,_a.Int.makeProps(void 0,ie.to_int32(o),void 0,"md",void 0,void 0)))}return 1===c&&(t=z.createElement(_a.Int.make,_a.Int.makeProps(void 0,ie.to_int32(d),void 0,"md",void 0,void 0))),z.createElement(va.Td.make,{align:"right",children:t})}),[me.map(o,ie.to_int32),me.map(r,ie.to_int32),me.map(i,ie.to_int32),n])}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.Diff.get,ft.Se_shared.PaidKeywordsCompared.Diff.paid_traffic_diff)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.paid_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.paid_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.last_update)),0)))))}function pc(e){var t=s._1(bd.toString,8),r=s._1(ke.Message.to_s,{id:"503120a12c22a7865fd9c6d66e390abe",defaultMessage:"Position"}),o={TAG:0,_0:mo.sePaidKeywordsPosition};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o,i,n,l){return z.useMemo((function(){var t=me.mapWithDefault(r,0,ie.to_int32),d=me.mapWithDefault(o,0,ie.to_int32),c=me.mapWithDefault(l,0,ie.to_int32),u=z.createElement("div",{className:yd},z.createElement(Xe.TextArrow.make,s.app(Xe.TextArrow.makeProps,[void 0,void 0,0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]))),g={hd:{TAG:0,_0:"zero"},tl:0},m=function(t){return void 0!==t?"Paid_bottom"===t?z.createElement("div",{className:yd},z.createElement(ut.make,{content:s._1(ke.Message.to_s,{id:"b6064ace447af1bb1d5bef2b1db2d015",defaultMessage:"Bottom ad"}),singleton:e,children:z.createElement(Xe.Ads.PositionBottom.make,s.app(Xe.Ads.PositionBottom.makeProps,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]))})):"Paid_top"===t?z.createElement("div",{className:yd},z.createElement(ut.make,{content:s._1(ke.Message.to_s,{id:"aaa0c9c13cbd05aeb121099b378f5a25",defaultMessage:"Top ad"}),singleton:e,children:z.createElement(Xe.Ads.PositionTop.make,s.app(Xe.Ads.PositionTop.makeProps,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]))})):null:null};switch(function(e,t,r,a){var o=0;if(void 0!==e){if(void 0===t)return 2;if("Paid_bottom"===e)if("Paid_bottom"===t)o=2;else{if("Paid_top"===t)return 5;o=1}else if("Paid_top"===e){if("Paid_bottom"===t)return 6;o="Paid_top"===t?2:1}else o=1}else{if(void 0!==t)return 1;o=1}switch(o){case 1:return fo.failwith(s._2(J.sprintf({_0:{TAG:11,_0:"no paid_top or paid_bottom position kind for prev and curr. prevKind=",_1:{TAG:2,_0:0,_1:{TAG:11,_0:", currKind=",_1:{TAG:2,_0:0,_1:0}}}},_1:"no paid_top or paid_bottom position kind for prev and curr. prevKind=%s, currKind=%s"}),me.mapWithDefault(e,"null",md.kind_to_string),me.mapWithDefault(t,"null",md.kind_to_string)));case 2:return mt.caml_greaterthan(r,a)?3:mt.caml_lessthan(r,a)?4:0}}(n,i,d,t)){case 0:return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{width:g,children:null}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(i),z.createElement(pt.make,{children:a.s(ae.Int.full(t))}))}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:null}));case 1:return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{width:g,children:null}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(i),z.createElement(pt.make,{children:a.s(ae.Int.full(t))}))}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement("div",{className:Fd},z.createElement(pt.make,{color:"successContrast",fontSize:"xs",children:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"})}))}));case 2:return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{width:g,children:null}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(n),z.createElement(pt.make,{children:a.s(ae.Int.full(d))}))}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement("div",{className:Fd},z.createElement(pt.make,{color:"dangerContrast",fontSize:"xs",children:s._1(ke.Message.to_s,{id:"2d6f8d55e0b9199505f504b4a5cda84e",defaultMessage:"Removed"})}))}));case 3:return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(n),z.createElement(pt.make,{color:"secondary",children:a.s(ae.Int.full(d))}),u)}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(i),z.createElement(pt.make,{children:a.s(ae.Int.full(t))}))}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement("div",{className:Fd},z.createElement(Je.make,{gap:"px2",fitToContent:!0,align:"center",children:null},z.createElement(Xe.Fixed.Triangle.make,s.app(Xe.Fixed.Triangle.makeProps,[void 0,void 0,0,_e.Color.$$Text.successContrast,void 0,void 0,void 0,void 0,void 0,void 0])),z.createElement(pt.make,{color:"successContrast",fontSize:"xs",children:a.s(ae.Int.$$default(Math.imul(c,-1)))})))}));case 4:return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(n),z.createElement(pt.make,{color:"secondary",children:a.s(ae.Int.full(d))}),u)}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(i),z.createElement(pt.make,{children:a.s(ae.Int.full(t))}))}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement("div",{className:Fd},z.createElement(Je.make,{gap:"px2",fitToContent:!0,align:"center",children:null},z.createElement(Xe.Fixed.Triangle.make,s.app(Xe.Fixed.Triangle.makeProps,[void 0,void 0,1,_e.Color.$$Text.dangerContrast,void 0,void 0,void 0,void 0,void 0,void 0])),z.createElement(pt.make,{color:"dangerContrast",fontSize:"xs",children:a.s(ae.Int.$$default(c))})))}));case 5:return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(n),z.createElement(pt.make,{color:"secondary",children:a.s(ae.Int.full(d))}),u)}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(i),z.createElement(pt.make,{children:a.s(ae.Int.full(t))}))}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement(Je.make,{gap:"px2",fitToContent:!0,fullHeight:!0,align:"center",children:z.createElement("div",void 0,z.createElement(Xe.Fixed.Triangle.make,s.app(Xe.Fixed.Triangle.makeProps,[void 0,void 0,0,_e.Color.$$Text.successContrast,void 0,void 0,void 0,void 0,void 0,void 0])))})}));case 6:return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(n),z.createElement(pt.make,{color:"secondary",children:a.s(ae.Int.full(d))}),u)}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement(Je.make,{gap:"px6",align:"baseline",children:null},m(i),z.createElement(pt.make,{children:a.s(ae.Int.full(t))}))}),z.createElement(va.Td.make,{paddingLeft:"none",width:g,children:z.createElement(Je.make,{gap:"px2",fitToContent:!0,fullHeight:!0,align:"center",children:z.createElement("div",void 0,z.createElement(Xe.Fixed.Triangle.make,s.app(Xe.Fixed.Triangle.makeProps,[void 0,void 0,1,_e.Color.$$Text.dangerContrast,void 0,void 0,void 0,void 0,void 0,void 0])))})}))}}),[me.map(r,ie.to_int32),me.map(o,ie.to_int32),i,n])}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,"Asc",void 0,void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.Diff.get,ft.Se_shared.PaidKeywordsCompared.Diff.best_position_diff)),0))))))}function _c(e,t,r,a,o,i,n){var l=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"}),d={TAG:0,_0:mo.sePaidKeywordsUrl};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(o,i,n,l,d,c,u,g,m,f,p,_,h,k,v,y){var D=function(e){return void 0!==e&&("Paid_top"===e||"Paid_bottom"===e)};return z.useMemo((function(o){var S,F=z.createElement(wd,{value:_,onClick:function(e){return s._2(a.setRow,dt.to_string(h),Xi(a,h)?void 0:{NAME:"SERP",VAL:[k,v,y,!0]})}}),C=me.map4(i,n,d,c,(function(e,t,r,a){return[e,t,r,a]})),w=me.map4(u,g,f,p,(function(e,t,r,a){return[e,t,r,a]}));if(void 0!==C){var T=C[3],b=C[2],P=C[1],M=C[0];if(void 0!==w){var A=w[3],R=w[2],L=w[1],E=w[0];S=mt.caml_equal(M,E)&&P===L&&D(l)&&D(m)&&b===R&&T===A?z.createElement(vd,{hasThumbnail:R,hasVideo:A,displayLink:E,tkLinkContextInputString:L,tooltipTarget:t,country:r,urlTerms:e,children:F}):z.createElement(ct.make,{gap:"none",children:null},z.createElement(vd,{hasThumbnail:R,hasVideo:A,displayLink:E,tkLinkContextInputString:L,tooltipTarget:t,country:r,urlTerms:e,children:F}),z.createElement(vd,{hasThumbnail:b,hasVideo:T,displayLink:M,tkLinkContextInputString:P,tooltipTarget:t,linkMode:"old",country:r,urlTerms:e}))}else S=z.createElement(vd,{hasThumbnail:b,hasVideo:T,displayLink:M,tkLinkContextInputString:P,tooltipTarget:t,linkMode:"old",country:r,urlTerms:e,children:F})}else S=void 0!==w?z.createElement(vd,{hasThumbnail:w[2],hasVideo:w[3],displayLink:w[0],tkLinkContextInputString:w[1],tooltipTarget:t,country:r,urlTerms:e,children:F}):null;return z.createElement(va.Td.make,{nowrap:!1,children:S})}),[n,g,ie.to_int32(_),ie.to_int32(h),k,v,y,a.map,Aa.toKey(e)])}),{renderHeader:function(e,t,r,a,n,s,c,u){return La.makeRenderHeader(d,void 0,l,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,o,i,void 0,void 0,void 0,e,t,r,a,n,s,c,u)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_has_thumbnail)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.get,ft.Se_shared.PaidKeywordsCompared.PreviousKeyword.best_position_has_video)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_has_thumbnail)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.get,ft.Se_shared.PaidKeywordsCompared.CurrentKeyword.best_position_has_video)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.target_positions_count)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.text)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.last_update)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.language)),0))))))))))))))))}function hc(e){return rn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.hash)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.text)),e,l.some(z.createElement(Xe.ChartGantt.make,Xe.ChartGantt.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))))}function kc(e){return Ca.makeSerpColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.hash)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.text)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.last_update)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.language)),e)}function vc(e){return Ca.makeSfColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.serp_features)),e,s._1(bd.toString,1),void 0)}function yc(e){return Ca.makeLastUpdatedColumn(s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.last_update),s._1(bd.toString,11),void 0)}var Dc={makeKeywordColumn:sc,makeAdColumn:lc,makeVolumeColumn:dc,makeKdColumn:cc,makeCpcColumn:uc,makeTrafficRatioColumn:gc,makeTrafficColumn:mc,makeTrafficChangesColumn:fc,makePositionColumn:pc,makeUrlColumn:_c,makePositionHistoryColumn:hc,makeSerpColumn:kc,makeSfColumn:vc,makeLastUpdatedColumn:yc};La.makeRenderHeader;var Sc=r(20108),Fc=s._1(Rt.css,{hd:Rt.label("totalResults"),tl:0}),Cc=s._1(Rt.css,{hd:Rt.label("filterWrapper"),tl:0}),wc=s._1(Rt.css,{hd:Rt.label("header"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.flexDirection("row"),tl:{hd:Rt.flexWrap("wrap"),tl:{hd:Rt.selector("& > div:not(:last-child)",{hd:Rt.marginRight(tt.NewSize.px8),tl:{hd:Rt.selector("&."+Fc,{hd:Rt.marginRight(tt.NewSize.px16),tl:{hd:Rt.display("flex"),tl:{hd:Rt.alignItems("center"),tl:0}}}),tl:{hd:Rt.selector("&."+Cc,{hd:Rt.marginLeft(tt.NewSize.px8),tl:0}),tl:0}}}),tl:0}}}}}),Tc=s._1(Rt.css,{hd:Rt.label("headerRightSection"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.justifyContent("flexEnd"),tl:{hd:Rt.flex3(1,1,"auto"),tl:{hd:Rt.alignItems("center"),tl:{hd:Rt.media(tt.Media.mobileDown,{hd:Rt.justifyContent("flexStart"),tl:0}),tl:0}}}}}}),bc=s._1(Rt.css,{hd:Rt.label("addToDropdownWrapper"),tl:{hd:Rt.position("absolute"),tl:{hd:Rt.left({NAME:"px",VAL:39}),tl:{hd:Rt.marginTop({NAME:"px",VAL:12}),tl:0}}}}),Pc=s._1(Rt.css,{hd:Rt.label("addToIcon"),tl:{hd:Rt.position("absolute"),tl:{hd:Rt.top(tt.NewSize.px8),tl:0}}}),Mc=[1,2,3,0];function Ac(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"c6dc3db67c0bcb4295f1621626f01d63",defaultMessage:"SERP features"});case 1:return s._1(ke.Message.to_s,{id:"405e6eda2825637b8b74c25474b6125c",defaultMessage:"Ad title"});case 2:return s._1(ke.Message.to_s,{id:"2e5a9055874c17a2ee493e9d147b3edd",defaultMessage:"Ad display URL"});case 3:return s._1(ke.Message.to_s,{id:"f0ccaadb8a0b8380990261ba52ee08f5",defaultMessage:"Ad description"})}}var Rc=ce.fromArray(Mc),Lc=Pl.Make({all:Rc}),Ec=function(e){var t=e.filters,r=e.onFiltersChange;return z.createElement(Lc.make,{label:z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),dropdownItems:ce.map(ce.fromArray(Mc),(function(e){return Pl.makeDropdownItem(Ac(e),e,void 0,void 0,void 0)})),isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.serp,ka.Filter.getDefault(void 0));case 1:return mt.caml_notequal(t.adTitle,s._1(fa.Ads.AdTitle.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.adDisplayUrl,s._1(fa.Ads.AdDisplayUrl.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.adDescription,s._1(fa.Ads.AdDescription.Filter.getDefault,void 0))}},render:function(e,a,o,i){var n=function(t){return s._1(i,e)},l=Ac(e);switch(e){case 0:return z.createElement(go.make,{autoOpen:a,label:l,isPaid:!0,value:t.serp,onHidden:n,onApply:function(e){return s._1(r,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,adPositions:t.adPositions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,words:t.words,keyword:t.keyword,url:t.url,serp:e,adTitle:t.adTitle,adDisplayUrl:t.adDisplayUrl,adDescription:t.adDescription})},onClear:function(a){return s._1(i,e),s._1(r,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,adPositions:t.adPositions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,words:t.words,keyword:t.keyword,url:t.url,serp:Bd().serp,adTitle:t.adTitle,adDisplayUrl:t.adDisplayUrl,adDescription:t.adDescription})}});case 1:return z.createElement(fa.Ads.AdTitle.make,{value:t.adTitle,autoOpen:a,label:l,onHidden:n,onApply:function(e){return s._1(r,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,adPositions:t.adPositions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,words:t.words,keyword:t.keyword,url:t.url,serp:t.serp,adTitle:e,adDisplayUrl:t.adDisplayUrl,adDescription:t.adDescription})},onClear:function(a){return s._1(i,e),s._1(r,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,adPositions:t.adPositions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,words:t.words,keyword:t.keyword,url:t.url,serp:t.serp,adTitle:Bd().adTitle,adDisplayUrl:t.adDisplayUrl,adDescription:t.adDescription})}});case 2:return z.createElement(fa.Ads.AdDisplayUrl.make,{value:t.adDisplayUrl,autoOpen:a,label:l,onHidden:n,onApply:function(e){return s._1(r,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,adPositions:t.adPositions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,words:t.words,keyword:t.keyword,url:t.url,serp:t.serp,adTitle:t.adTitle,adDisplayUrl:e,adDescription:t.adDescription})},onClear:function(a){return s._1(i,e),s._1(r,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,adPositions:t.adPositions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,words:t.words,keyword:t.keyword,url:t.url,serp:t.serp,adTitle:t.adTitle,adDisplayUrl:Bd().adDisplayUrl,adDescription:t.adDescription})}});case 3:return z.createElement(fa.Ads.AdDescription.make,{value:t.adDescription,autoOpen:a,label:l,onHidden:n,onApply:function(e){return s._1(r,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,adPositions:t.adPositions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,words:t.words,keyword:t.keyword,url:t.url,serp:t.serp,adTitle:t.adTitle,adDisplayUrl:t.adDisplayUrl,adDescription:e})},onClear:function(a){return s._1(i,e),s._1(r,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,adPositions:t.adPositions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,words:t.words,keyword:t.keyword,url:t.url,serp:t.serp,adTitle:t.adTitle,adDisplayUrl:t.adDisplayUrl,adDescription:Bd().adDescription})}})}}})},Bc=r(16714),Kc=r(14656),qc=r(81595);function xc(e,t){if("number"==typeof t)return{trend:e.trend,chartData:1,remoteData:1};if(0===t.TAG)return{trend:t._0,chartData:e.chartData,remoteData:e.remoteData};var r=t._0;return{trend:e.trend,chartData:de.map(r,Bc.makeGanttChartData),remoteData:r}}function Wc(e,t,r,a,o){var i=$t.getMinDate(o);return s._1(e,0),Ye.forEach(d.performResult(void 0,void 0,Kc.request,{protocol:a.protocol,target:n.Protocolless_url.show(a.url),mode:a.mode,country:r,keyword:t,dateFrom:Bt.toJs(i)}),(function(t){return s._1(e,{TAG:1,_0:t})}))}var Uc=function(e){var t=e.keyword,r=e.country,a=e.target,o=e.historicalPermissions,i=e.isUpgradable,n=e.dateResetUsagesMonthly,l=e.dateResetUsagesWeekly,d=e.isOpen,c=e.tableRootRef,u=e.onDimensionsChange,g=e.onClose,m={TAG:3,_0:$t.getMinDate(o),_1:Z()},f=z.useReducer(xc,{trend:m,chartData:0,remoteData:0}),p=f[1],_=f[0];return z.useEffect((function(){d&&de.hasNotBeenAsked(_.chartData)&&Wc(p,t,r,a,o)}),[d,t,se.code(r),Ve.Safe.toKey(a)]),z.createElement(Eo.make,{children:d?z.createElement(po.make,{children:z.createElement(td.WithHistoricalPermission.make,{historicalPermissions:o,isUpgradable:i,dateResetUsagesMonthly:n,dateResetUsagesWeekly:l,remoteData:_.chartData,upgradeMessage:z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"4cb2f9e24063e3890f59e8aee2393c0b",defaultMessage:"Upgrade to unlock ads position history chart"}),text:s._1(ke.Message.to_s,{id:"432b729115ffa8b37d607bc430b2adbe",defaultMessage:"See the history of all paid pages ranking for this keyword and view their ad copy over time on an interactive graph."}),imageType:{TAG:2,_0:"7ypomf3i1k"},imageGap:"px40"}),header:z.createElement(qc.Header.make,{historicalPermissions:o,isUpgradable:i,trend:_.trend,country:r,keyword:t,data:de.getWithDefault(_.remoteData,{targetDictionary:0,positions:0}),chartData:de.getWithDefault(_.chartData,[]),isExportDisabled:!de.isSuccess(_.remoteData),onExportClose:g,onChangeTrend:function(e){return s._1(p,{TAG:0,_0:e})}}),renderEndpointError:td.defaultRenderEndpointError,onClose:g,onRefetch:function(e){return Wc(p,t,r,a,o)},children:function(e){return z.createElement(qc.Body.make,{data:e,historicalPermissions:o,trend:_.trend,country:r})}})}):null,tableRootRef:c,isOpen:d,onDimensionsChange:u})},Oc=r(72843),Nc=r(58197);function $c(e,t){if("number"==typeof t)switch(t){case 0:return{remoteKeywordsByCountry:1,remoteDataTable:1,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:void 0,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects};case 1:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:1,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects};case 2:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:void 0,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects}}else switch(0|t.TAG){case 0:return{remoteKeywordsByCountry:t._0,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects};case 1:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:t._0,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects};case 2:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:de.mapWithDefault(t._0,void 0,(function(e){return ce.reduce(e,void 0,(function(e,t){return Ur.set(e,n.Clean_keyword.show(t.keyword),t)}))})),remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects};case 3:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries,remoteKeLists:t._0,remoteRtProjects:e.remoteRtProjects};case 4:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries,remoteKeLists:e.remoteKeLists,remoteRtProjects:t._0};case 5:var r=t._2,a=t._0;return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(t._1,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:{hd:a,tl:e.keywordsLists},inRtProjects:e.inRtProjects}}))}))})),remoteKeLists:de.map(e.remoteKeLists,(function(e){return ce.map(e,(function(e){return e.id===a?{id:e.id,name:e.name,length:r}:e}))})),remoteRtProjects:e.remoteRtProjects};case 6:var o=t._2,i=t._0;return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(t._1,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:ce.filter(e.keywordsLists,(function(e){return e!==i})),inRtProjects:e.inRtProjects}}))}))})),remoteKeLists:de.map(e.remoteKeLists,(function(e){return ce.map(e,(function(e){return e.id===i?{id:e.id,name:e.name,length:o}:e}))})),remoteRtProjects:e.remoteRtProjects};case 7:var s=t._2,l=t._1,d=t._0;return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(s,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:{hd:d,tl:e.keywordsLists},inRtProjects:e.inRtProjects}}))}))})),remoteKeLists:de.map(e.remoteKeLists,(function(e){return ce.concat(e,{hd:{id:d,name:l,length:ce.length(s)},tl:0})})),remoteRtProjects:e.remoteRtProjects};case 8:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(t._0,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:e.keywordsLists,inRtProjects:!0}}))}))})),remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects};case 9:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteLanguagesByCountry:t._0,keywordsSummaries:e.keywordsSummaries,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects}}}function Ic(e,t,r){return Re("string"==typeof e||"Compared"!==e.NAME?Ed.toActualFieldName(t):Ed.toComparedFieldName(t),r)}var Gc={contents:gt()},Qc={contents:gt()};function Vc(e,t,r,a){s._1(e,0);var o=gt();return Gc.contents=o,Qc.contents=o,Ye.forEach(R(void 0,Nc.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:a},filter:r}),(function(t){if(Gc.contents===o){var r=de.map(t,(function(e){return oe.fromArray(ge.map(ce.toArray(e),(function(e){return[e.country,e.count]})),We)}));return s._1(e,{TAG:0,_0:r})}}))}function jc(e,t,r,a,o,i,l,d,c,u){s._1(e,1);var g=gt();return Qc.contents=g,Ye.forEach(R(void 0,Sc.request,{args:{mode:a.mode,protocol:a.protocol,url:n.Protocolless_url.show(a.url),reportMode:c,country:u},params:{filter:d,size:l,offset:i,order_by:o,shape:ce.map(r,(function(e){return e[1]})),timeout:void 0}}),(function(a){if(Qc.contents===g)return s._1(e,{TAG:1,_0:a}),de.forEach(a,(function(a){var o=ce.map(r,(function(e){return e[0]})),i=Ra.foldRows(t,(function(e,t){return Fa.getValue(o,e,t)}),(function(e,t,r,a,o){return s._1(t,{hd:o,tl:e})}),0,a.rows);return function(e,t,r){return s._1(e,2),Ye.forEach(U(t),(function(t){if(Qc.contents===r)return s._1(e,{TAG:2,_0:t})}))}(e,i,g)}))}))}function Hc(e){return Ye.forEach(Vl.getProjectsAndLocations(void 0),(function(t){return s._1(e,{TAG:4,_0:t})}))}var zc=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=e.onSettingsUpdated,c=r.limits.isRankTrackerPresent,u=z.useContext(dd).canCreateKeywordList,g=he.useUrl(void 0,void 0),m=g.path,f=i.parseQueryToDict(g.search,void 0,void 0),p=z.useReducer($c,{remoteKeywordsByCountry:0,remoteDataTable:0,remoteLanguagesByCountry:0,keywordsSummaries:void 0,remoteKeLists:0,remoteRtProjects:0}),_=p[1],h=p[0],k=ya.useMultipleExpandedRows(void 0,void 0),v=uo.useSingleton({overrides:["className"]}),y=v[1],D=ya.useSelectableRows(void 0),S=D[2],F=D[1],C=D[0],w=a.useStateValue(void 0),T=w[1],b=w[0],P=qd(void 0,r,f),M=a.useStateValue(P),A=M[1],R=M[0],E=function(e,t){var r=void 0!==e&&e;s._1(A,t);var a=i.makeStringWithQueryDict(i.makePathname(m),l.some(xd(void 0,l.some(f),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};Ie(m,xd(void 0,l.some(f),P)),ai.use(P.country,P.isUserCountry,r.settings.keywordDataSource,h.remoteKeywordsByCountry,(function(e){return E(!0,{sort:P.sort,pagination:P.pagination,country:e,isUserCountry:P.isUserCountry,currentDate:P.currentDate,compareDate:P.compareDate,adPositions:P.adPositions,volume:P.volume,kd:P.kd,cpc:P.cpc,orgKeywordTraffic:P.orgKeywordTraffic,words:P.words,keyword:P.keyword,url:P.url,serp:P.serp,adTitle:P.adTitle,adDisplayUrl:P.adDisplayUrl,adDescription:P.adDescription})}));var B,K=Pt.dataToReportMode([P.currentDate,P.compareDate]),q=i.stringifyQueryDict(xd(Gd,void 0,P),void 0,void 0),x=z.useMemo((function(){var e="string"==typeof K||"Compared"!==K.NAME?Qd(P):Vd(P);return me.map(Da.conjunct(e),Da.makeFilter)}),[q,Te(K)]);z.useEffect((function(){c&&(Ye.forEach(Ql.Lists.$$fetch(void 0),(function(e){return s._1(_,{TAG:3,_0:e})})),Hc(_))}),[c]),z.useEffect((function(){var e=P.country;c&&void 0!==e&&!0===e.ke&&Ye.forEach(Vl.getLanguagesByCountry(e),(function(e){return s._1(_,{TAG:9,_0:e})}))}),[P.country,c]);var W=0;if("string"==typeof K||"Compared"!==K.NAME)W=1;else{var U=function(e,t,r,a){return{hd:sc(2,Aa.getTerms(a.keyword.rules),t,{hd:{TAG:0,_0:{NAME:"percent",VAL:40}},tl:0},{hd:{TAG:0,_0:{NAME:"px",VAL:150}},tl:0}),tl:{hd:lc(),tl:{hd:dc(),tl:{hd:cc(),tl:{hd:uc(),tl:{hd:gc(),tl:{hd:mc(void 0),tl:{hd:fc(e),tl:{hd:pc(e),tl:{hd:_c(Aa.getTerms(a.url.rules),e,t,r,{hd:{TAG:0,_0:{NAME:"percent",VAL:60}},tl:0},{hd:{TAG:0,_0:{NAME:"px",VAL:200}},tl:0}),tl:{hd:hc(r),tl:{hd:kc(r),tl:{hd:vc(e),tl:{hd:yc(),tl:0}}}}}}}}}}}}}}}(y,me.getWithDefault(P.country,Qe),k,P);B=[U,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.text)),0))]}if(1===W){var N=function(e,t,r,a){return{hd:jd(2,Aa.getTerms(a.keyword.rules),t,{hd:{TAG:0,_0:{NAME:"percent",VAL:40}},tl:0},{hd:{TAG:0,_0:{NAME:"px",VAL:150}},tl:0}),tl:{hd:Hd(),tl:{hd:zd(),tl:{hd:Yd(),tl:{hd:Jd(),tl:{hd:Xd(),tl:{hd:Zd(void 0),tl:{hd:ec(),tl:{hd:tc(Aa.getTerms(a.url.rules),e,t,r,{hd:{TAG:0,_0:{NAME:"percent",VAL:60}},tl:0},{hd:{TAG:0,_0:{NAME:"px",VAL:200}},tl:0}),tl:{hd:rc(r),tl:{hd:ac(r),tl:{hd:oc(e),tl:{hd:ic(),tl:0}}}}}}}}}}}}}}(y,me.getWithDefault(P.country,Qe),k,P);B=[N,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.text)),0))]}var $=B[1],I=B[0],G=s._3(Ra.FieldsRequestDescr.customRow,I,(function(e,a,o){var i,n=Bo.has(C,e.index),l=ce.filterMap({hd:Ur.get(h.keywordsSummaries,o),tl:0},(function(e){if(void 0!==e&&(e.inRtProjects||ce.length(e.keywordsLists)>0))return e}));if(c){var d=function(e){return s._1(T,a)};i=z.createElement(va.Td.make,{paddingLeft:"none",width:{hd:{TAG:0,_0:{NAME:"px",VAL:26}},tl:0},minWidth:{hd:{TAG:0,_0:{NAME:"px",VAL:26}},tl:0},children:z.createElement("div",{className:Pc},l?z.createElement(_o.make,{onClick:d,children:z.createElement(Xe.Check.make,Xe.Check.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}):z.createElement(_o.make,{onClick:d,children:z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}))})}else i=z.createElement(va.Td.make,{paddingLeft:"none",paddingRight:"none",children:null});var g,m=Ur.get(k.map,dt.to_string(a)),f=Ur.get(k.map,dt.to_string(a)),p=P.country;if(void 0!==f&&"string"!=typeof f&&"Serp"===f.NAME&&void 0!==p){var v=f.VAL,y=v[2],D=v[1],S=v[0];g=z.createElement(Eo.make,{children:z.createElement(id,{settings:r,keyword:S,country:p,target:t,lastUpdate:D,language:y,mode:1,isOnlyTarget:v[3],onIsOnlyTargetChanged:function(e){return s._2(k.setRow,dt.to_string(a),{NAME:"Serp",VAL:[S,D,y,e]})},onClose:function(e){return s._2(k.setRow,dt.to_string(a),void 0)}}),tableRootRef:e.tableRootRef,onDimensionsChange:k.renewHash})}else g=null;return z.createElement(z.Fragment,{children:null,key:dt.to_string(a)},z.createElement("div",{className:bc},c?z.createElement(nd.make,nd.makeProps(!(void 0===b||!ie.eq(b,a)),r.limits.batchKeywords,{hd:o,tl:0},l,2,void 0,me.getWithDefault(P.country,Qe),r.isUpgradable,r.limits.lists,h.remoteKeLists,h.remoteRtProjects,h.remoteLanguagesByCountry,u,(function(e){return s._1(T,e?a:void 0)}),(function(e,t,r){return s._1(_,{TAG:5,_0:e,_1:t,_2:r})}),(function(e,t,r){return s._1(_,{TAG:6,_0:e,_1:t,_2:r})}),(function(e){return s._1(_,{TAG:8,_0:e}),Hc(_)}),void 0,(function(e,t,r,a){return s._1(_,{TAG:7,_0:t,_1:r,_2:a})}),void 0,void 0,void 0)):null),z.createElement(te.Row.make,{columns:I,parentData:e,isSelected:n,onSelect:function(t){return s._2(F,[e.index],!n)},children:i}),z.createElement(Uc,{keyword:o,country:me.getWithDefault(P.country,Qe),target:t,historicalPermissions:r.chartHistoricalPermissions,isUpgradable:r.isUpgradable,dateResetUsagesMonthly:r.subscription.dateResetUsagesMonthly,dateResetUsagesWeekly:r.subscription.dateResetUsagesWeekly,isOpen:void 0!==m&&"string"!=typeof m&&"PositionHistory"===m.NAME,tableRootRef:e.tableRootRef,onDimensionsChange:k.renewHash,onClose:function(e){return s._2(k.setRow,dt.to_string(a),void 0)}}),g)}),$),Q=s._1(Ra.FieldsRequestDescr.toRequest,G),Y=ai.shouldLoadSequentially(P.isUserCountry,r.settings.keywordDataSource),X=Ne(Y,h.remoteDataTable,h.remoteKeywordsByCountry),Z=ue.use(t),ee=ue.use(x),re=ue.use(K);z.useEffect((function(e){if(!Y){var r=function(e){return s._1(S,void 0),s._1(k.closeAll,void 0)},a=P.pagination.limit,o=P.pagination.offset,i=Ic(K,P.sort.name,P.sort.direction),n=function(e){return jc(_,$,Q,t,i,o,a,x,K,e)},l=function(e){return Vc(_,t,x,K)},d=P.country,c=h.remoteKeywordsByCountry,u=!Ve.Safe.equals(Z,t)||mt.caml_notequal(ee,x)||!be(re,K);if(void 0!==d){var g=0;0!==c||u?g=1:(r(),l(),s._1(n,d)),1===g&&(u?(r(),l(),s._1(n,d)):(r(),s._1(n,d)))}}}),[Ve.Safe.toKey(t),x,Te(K),s._1(Ed.Name.toString,P.sort.name),ci.toString(P.sort.direction),P.pagination.offset,P.pagination.limit,me.map(P.country,se.code)]),z.useEffect((function(e){if(Y){var r=function(e){return s._1(S,void 0),s._1(k.closeAll,void 0)},a=P.pagination.limit,o=P.pagination.offset,i=Ic(K,P.sort.name,P.sort.direction),n=P.country,l=h.remoteKeywordsByCountry,d=!Ve.Safe.equals(Z,t)||mt.caml_notequal(ee,x)||!be(re,K),c=0;void 0===n||"number"==typeof l||2!==l.TAG||d?c=1:(r(),s._1((function(e){return jc(_,$,Q,t,i,o,a,x,K,e)}),n)),1===c&&(d||0===l)&&(r(),Vc(_,t,x,K))}}),[Ve.Safe.toKey(t),x,Te(K),s._1(Ed.Name.toString,P.sort.name),ci.toString(P.sort.direction),P.pagination.offset,P.pagination.limit,me.map(P.country,se.code),de.isSuccess(h.remoteKeywordsByCountry)]);var oe,ne=z.useCallback((function(e){return Vc(_,t,x,K),me.forEach(P.country,(function(e){return jc(_,$,Q,t,Ic(K,P.sort.name,P.sort.direction),P.pagination.offset,P.pagination.limit,x,K,e)}))}),[]),le=Ue(P.country,h.remoteKeywordsByCountry),ge=le[0],fe=z.useMemo((function(){return de.mapWithDefault(h.remoteDataTable,0,(function(e){return e.rows}))}),[h.remoteDataTable]),pe=z.useMemo((function(){if(!be(re,K))return 0;var e=ce.map(Q,(function(e){return e[0]}));return Ra.foldRows($,(function(t,r){return Fa.getValue(e,t,r)}),(function(e,t,r,a,o){return s._1(t,Bo.has(C,r)?{hd:o,tl:e}:e)}),0,fe)}),[Te(K),Te(re),fe,C]);if(pe){var _e={selected:a.s(ae.Int.full(ce.length(pe)))};oe=z.createElement(z.Fragment,void 0,z.createElement("div",{className:Fc},z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"ab216f638df44cb883cd780cb847cb36",defaultMessage:"{selected} selected"},_e)})),c?z.createElement(nd.Controlled.make,{batchKeywords:r.limits.batchKeywords,keywords:pe,keywordsSummaries:ce.reduce(pe,0,(function(e,t){var r=Ur.get(h.keywordsSummaries,t);return void 0!==r?{hd:r,tl:e}:e})),country:me.getWithDefault(P.country,Qe),isUpgradablePlan:r.isUpgradable,listsLimit:r.limits.lists,remoteKeLists:h.remoteKeLists,remoteRtLists:h.remoteRtProjects,remoteRtLanguagesByCountry:h.remoteLanguagesByCountry,canCreateKeywordList:u,onKeKeywordsAdded:function(e,t,r){return s._1(_,{TAG:5,_0:e,_1:t,_2:r})},onKeKeywordsRemoved:function(e,t,r){return s._1(_,{TAG:6,_0:e,_1:t,_2:r})},onRtKeywordsAdded:function(e){return s._1(_,{TAG:8,_0:e}),Hc(_)},onKeListCreated:function(e,t,r,a){return s._1(_,{TAG:7,_0:t,_1:r,_2:a})}}):null,z.createElement(sd.Button.make,{value:ce.joinWithNewLine(ce.reverse(pe)),label:s._1(ke.Message.to_s,{id:"92005275389b58285f79fb62a0204001",defaultMessage:"Copy"}),color:"outline"}))}else oe=z.createElement(z.Fragment,void 0,z.createElement("div",{className:Fc},le[1]),z.createElement(Tl.make,{currentDate:P.currentDate,compareDate:P.compareDate,historicalPermissions:r.reportHistoricalPermissions,isUpgradable:r.isUpgradable,onChange:function(e,t){var r=P.pagination,a=P.adPositions;return E(void 0,{sort:P.sort,pagination:{limit:r.limit,offset:0},country:P.country,isUserCountry:P.isUserCountry,currentDate:e,compareDate:t,adPositions:{positions:a.positions,changes:"DontCompare"===t?0:P.adPositions.changes},volume:P.volume,kd:P.kd,cpc:P.cpc,orgKeywordTraffic:P.orgKeywordTraffic,words:P.words,keyword:P.keyword,url:P.url,serp:P.serp,adTitle:P.adTitle,adDisplayUrl:P.adDisplayUrl,adDescription:P.adDescription})},onCompareDateChange:function(e){var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.paidKeywordsCompare=e,t))}}),z.createElement("div",{className:Tc},z.createElement(bt,{exportFunc:function(e,r){var a=me.getWithDefault(P.country,Qe);return L(e,s._4(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-paid-keywords-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}}}},_1:"%s-paid-keywords-%s-%s-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode),se.code(a),Te(K)),void 0,Oc.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:K,country:a},params:{filter:x,size:r,offset:0,order_by:Ic(K,P.sort.name,P.sort.direction),shape:ce.map(Q,(function(e){return e[1]})),timeout:void 0}})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:ge,target:t,limitsFunc:O})));var ve,ye=z.createElement("div",{className:wc},oe),De=h.remoteKeywordsByCountry,Se=h.remoteDataTable,Fe=0;"number"==typeof De||1!==De.TAG?Fe=1:ve=De._0,1===Fe&&(ve="number"==typeof Se||1!==Se.TAG?void 0:Se._0);var Ce={settings:r,children:z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(j.V2.show(9))})}),z.createElement(co,{showApplyFilters:!Od(R,P),onClearFilters:function(e){return s._1(A,P)},onApplyFilters:function(e){var t=R.pagination;return E(void 0,{sort:R.sort,pagination:{limit:t.limit,offset:0},country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},children:null},z.createElement(ai.make,{selectedItem:R.country,onApply:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:e,isUserCountry:!0,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},remoteCountryMap:h.remoteKeywordsByCountry}),z.createElement(gd.make,{value:R.adPositions,onApply:function(e){var t=e.changes;return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:t?"string"==typeof K?"ActualToday"===K?"PrevMonth":R.compareDate:"Actual"===K.NAME?"PrevMonth":R.compareDate:R.compareDate,adPositions:e,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},onClear:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:Bd().adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},historicalPermissions:r.reportHistoricalPermissions}),z.createElement(pa.Volume.make,{value:R.volume,onClear:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:Bd().volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},onApply:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:e,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})}}),z.createElement(pa.KD.make,{value:R.kd,onClear:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:Bd().kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},onApply:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:e,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})}}),z.createElement(pa.CPC.make,{value:R.cpc,onClear:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:Bd().cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},onApply:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:e,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})}}),z.createElement(pa.PaidKeywordTraffic.make,{value:R.orgKeywordTraffic,onClear:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:Bd().orgKeywordTraffic,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},onApply:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:e,words:R.words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})}}),z.createElement(pa.Words.make,{value:R.words,onClear:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:Bd().words,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},onApply:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:e,keyword:R.keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})}}),z.createElement(fa.Keyword.make,{value:R.keyword,onClear:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:Bd().keyword,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},onApply:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:e,url:R.url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})}}),z.createElement(fa.$$URL.make,{value:R.url,onClear:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:Bd().url,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})},onApply:function(e){return s._1(A,{sort:R.sort,pagination:R.pagination,country:R.country,isUserCountry:R.isUserCountry,currentDate:R.currentDate,compareDate:R.compareDate,adPositions:R.adPositions,volume:R.volume,kd:R.kd,cpc:R.cpc,orgKeywordTraffic:R.orgKeywordTraffic,words:R.words,keyword:R.keyword,url:e,serp:R.serp,adTitle:R.adTitle,adDisplayUrl:R.adDisplayUrl,adDescription:R.adDescription})}}),z.createElement(Ec,{filters:R,onFiltersChange:s.__1(A)})),z.createElement("div",void 0,z.createElement(te.Table.make,{row:G,data:fe,hasAppliedFilters:""!==q||mt.caml_notequal(P.pagination,s._1(ya.Pagination.Filter.getDefault,void 0)),header:ye,isLoading:X[0],failureState:X[1],renderError:qe([h.remoteDataTable,h.remoteKeywordsByCountry],ne,r.isUpgradable),tableId:Mt(K),tooltipTarget:y,totalRowsNumber:ge,rowsSelectionConfig:[C,F,S],pagination:P.pagination,sortDirection:P.sort.direction,sort:s._1(Ed.Name.toString,P.sort.name),onPaginationChange:function(e){return E(void 0,{sort:P.sort,pagination:e,country:P.country,isUserCountry:P.isUserCountry,currentDate:P.currentDate,compareDate:P.compareDate,adPositions:P.adPositions,volume:P.volume,kd:P.kd,cpc:P.cpc,orgKeywordTraffic:P.orgKeywordTraffic,words:P.words,keyword:P.keyword,url:P.url,serp:P.serp,adTitle:P.adTitle,adDisplayUrl:P.adDisplayUrl,adDescription:P.adDescription})},onSort:function(e,t,r){var a={name:me.getWithDefault(s._1(Ed.Name.ofString,e),s._1(Ed.Name.getDefault,void 0)),direction:t},o=P.country,i=P.isUserCountry,n=P.currentDate,l=P.compareDate,d=P.adPositions,c=P.volume,u=P.kd,g=P.cpc,m=P.orgKeywordTraffic,f=P.words,p=P.keyword,_=P.url,h=P.serp,k=P.adTitle,v=P.adDisplayUrl,y=P.adDescription;return E(void 0,{sort:a,pagination:r,country:o,isUserCountry:i,currentDate:n,compareDate:l,adPositions:d,volume:c,kd:u,cpc:g,orgKeywordTraffic:m,words:f,keyword:p,url:_,serp:h,adTitle:k,adDisplayUrl:v,adDescription:y})},onRefetch:ne,onClearFilters:function(e){return E(void 0,Bd())}}),z.createElement(ut.make,{singleton:v[0]})))};return void 0!==ve&&(Ce.error=l.valFromOption(ve)),z.createElement(Po,Ce)},Yc=tt.Media.minWidth(1921),Jc={hd:{TAG:0,_0:{NAME:"percent",VAL:25}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"percent",VAL:30}]},tl:0}},Xc={hd:{TAG:0,_0:{NAME:"px",VAL:250}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"px",VAL:600}]},tl:0}},Zc={hd:{TAG:0,_0:{NAME:"percent",VAL:30}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"percent",VAL:30}]},tl:0}},eu={hd:{TAG:0,_0:{NAME:"px",VAL:250}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"px",VAL:600}]},tl:0}},tu={hd:{TAG:0,_0:{NAME:"percent",VAL:30}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"percent",VAL:20}]},tl:0}},ru={hd:{TAG:0,_0:{NAME:"px",VAL:150}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"px",VAL:300}]},tl:0}},au={hd:{TAG:0,_0:{NAME:"percent",VAL:10}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"percent",VAL:30}]},tl:0}},ou={hd:{TAG:0,_0:{NAME:"percent",VAL:10}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"percent",VAL:30}]},tl:0}},iu={hd:{TAG:0,_0:{NAME:"percent",VAL:25}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"percent",VAL:30}]},tl:0}},nu={hd:{TAG:0,_0:{NAME:"percent",VAL:25}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"percent",VAL:30}]},tl:0}},su={hd:{TAG:0,_0:{NAME:"percent",VAL:27}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"percent",VAL:30}]},tl:0}},lu={hd:{TAG:0,_0:{NAME:"percent",VAL:27}},tl:{hd:{TAG:1,_0:[Yc,{NAME:"percent",VAL:30}]},tl:0}},du=r(31488),cu=r(84255),uu=r(82744),gu=r(3917);function mu(e,t){return{count:e.count+t.count|0,rows:fo.$at(e.rows,t.rows)}}function fu(e,t){if("number"==typeof t){if(0===t){var r,a=e.paidPagesData;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{paidPagesData:r,paidKeywordsData:e.paidKeywordsData,oldPaidPagesData:e.paidPagesData,oldPaidKeywordsData:e.oldPaidKeywordsData,paidPagesError:e.paidPagesError,paidKeywordsError:e.paidKeywordsError,paidPagesOffset:e.paidPagesOffset,paidKeywordsOffset:e.paidKeywordsOffset,paidPagesSort:e.paidPagesSort,paidKeywordsSort:e.paidKeywordsSort,paidPagesSortDirection:e.paidPagesSortDirection,paidKeywordsSortDirection:e.paidKeywordsSortDirection,paidKeywordsCount:e.paidKeywordsCount,paidPagesCount:e.paidPagesCount}}var o,i=e.paidKeywordsData;if("number"==typeof i)o=1;else switch(0|i.TAG){case 0:case 2:o={TAG:0,_0:i._0};break;default:o=1}return{paidPagesData:e.paidPagesData,paidKeywordsData:o,oldPaidPagesData:e.oldPaidPagesData,oldPaidKeywordsData:e.paidKeywordsData,paidPagesError:e.paidPagesError,paidKeywordsError:e.paidKeywordsError,paidPagesOffset:e.paidPagesOffset,paidKeywordsOffset:e.paidKeywordsOffset,paidPagesSort:e.paidPagesSort,paidKeywordsSort:e.paidKeywordsSort,paidPagesSortDirection:e.paidPagesSortDirection,paidKeywordsSortDirection:e.paidKeywordsSortDirection,paidKeywordsCount:e.paidKeywordsCount,paidPagesCount:e.paidPagesCount}}switch(0|t.TAG){case 0:var n=t._1;if("number"==typeof n)return e;switch(0|n.TAG){case 1:return{paidPagesData:de.hasNotBeenAsked(e.oldPaidPagesData)?n:e.oldPaidPagesData,paidKeywordsData:e.paidKeywordsData,oldPaidPagesData:e.oldPaidPagesData,oldPaidKeywordsData:e.oldPaidKeywordsData,paidPagesError:n._0,paidKeywordsError:e.paidKeywordsError,paidPagesOffset:e.paidPagesOffset,paidKeywordsOffset:e.paidKeywordsOffset,paidPagesSort:e.paidPagesSort,paidKeywordsSort:e.paidKeywordsSort,paidPagesSortDirection:e.paidPagesSortDirection,paidKeywordsSortDirection:e.paidKeywordsSortDirection,paidKeywordsCount:e.paidKeywordsCount,paidPagesCount:e.paidPagesCount};case 2:var s=n._0,l=mu(de.getWithDefault(e.oldPaidPagesData,{count:0,rows:0}),s),d={TAG:2,_0:l};return{paidPagesData:d,paidKeywordsData:e.paidKeywordsData,oldPaidPagesData:d,oldPaidKeywordsData:e.oldPaidKeywordsData,paidPagesError:e.paidPagesError,paidKeywordsError:e.paidKeywordsError,paidPagesOffset:e.paidPagesOffset+s.count|0,paidKeywordsOffset:e.paidKeywordsOffset,paidPagesSort:e.paidPagesSort,paidKeywordsSort:e.paidKeywordsSort,paidPagesSortDirection:e.paidPagesSortDirection,paidKeywordsSortDirection:e.paidKeywordsSortDirection,paidKeywordsCount:e.paidKeywordsCount,paidPagesCount:t._0>s.count?l.count:e.paidPagesCount};default:return e}case 1:var c=t._1;if("number"==typeof c)return e;switch(0|c.TAG){case 1:var u=de.hasNotBeenAsked(e.oldPaidKeywordsData)?c:e.oldPaidKeywordsData;return{paidPagesData:e.paidPagesData,paidKeywordsData:u,oldPaidPagesData:e.oldPaidPagesData,oldPaidKeywordsData:e.oldPaidKeywordsData,paidPagesError:e.paidPagesError,paidKeywordsError:c._0,paidPagesOffset:e.paidPagesOffset,paidKeywordsOffset:e.paidKeywordsOffset,paidPagesSort:e.paidPagesSort,paidKeywordsSort:e.paidKeywordsSort,paidPagesSortDirection:e.paidPagesSortDirection,paidKeywordsSortDirection:e.paidKeywordsSortDirection,paidKeywordsCount:e.paidKeywordsCount,paidPagesCount:e.paidPagesCount};case 2:var g=c._0,m=mu(de.getWithDefault(e.oldPaidKeywordsData,{count:0,rows:0}),g),f={TAG:2,_0:m};return{paidPagesData:e.paidPagesData,paidKeywordsData:f,oldPaidPagesData:e.oldPaidPagesData,oldPaidKeywordsData:f,paidPagesError:e.paidPagesError,paidKeywordsError:e.paidKeywordsError,paidPagesOffset:e.paidPagesOffset,paidKeywordsOffset:e.paidKeywordsOffset+g.count|0,paidPagesSort:e.paidPagesSort,paidKeywordsSort:e.paidKeywordsSort,paidPagesSortDirection:e.paidPagesSortDirection,paidKeywordsSortDirection:e.paidKeywordsSortDirection,paidKeywordsCount:t._0>g.count?m.count:e.paidKeywordsCount,paidPagesCount:e.paidPagesCount};default:return e}case 2:return{paidPagesData:1,paidKeywordsData:e.paidKeywordsData,oldPaidPagesData:1,oldPaidKeywordsData:e.oldPaidKeywordsData,paidPagesError:e.paidPagesError,paidKeywordsError:e.paidKeywordsError,paidPagesOffset:0,paidKeywordsOffset:e.paidKeywordsOffset,paidPagesSort:t._0,paidKeywordsSort:e.paidKeywordsSort,paidPagesSortDirection:t._1,paidKeywordsSortDirection:e.paidKeywordsSortDirection,paidKeywordsCount:e.paidKeywordsCount,paidPagesCount:e.paidPagesCount};case 3:return{paidPagesData:e.paidPagesData,paidKeywordsData:1,oldPaidPagesData:e.oldPaidPagesData,oldPaidKeywordsData:1,paidPagesError:e.paidPagesError,paidKeywordsError:e.paidKeywordsError,paidPagesOffset:e.paidPagesOffset,paidKeywordsOffset:0,paidPagesSort:e.paidPagesSort,paidKeywordsSort:t._0,paidPagesSortDirection:e.paidPagesSortDirection,paidKeywordsSortDirection:t._1,paidKeywordsCount:e.paidKeywordsCount,paidPagesCount:e.paidPagesCount}}}var pu=function(e){var t,r=e.tableRootRef,a=e.tooltipTarget,o=e.adHash,i=e.filters,d=e.target,c=e.settings,u=e.isOpen,g=e.expandedRows,m=e.initialPagesCount,f=e.initialKeywordsCount,p=z.useReducer(fu,{paidPagesData:0,paidKeywordsData:0,oldPaidPagesData:0,oldPaidKeywordsData:0,paidPagesError:void 0,paidKeywordsError:void 0,paidPagesOffset:0,paidKeywordsOffset:0,paidPagesSort:1,paidKeywordsSort:7,paidPagesSortDirection:"Desc",paidKeywordsSortDirection:"Desc",paidKeywordsCount:f,paidPagesCount:m}),_=p[1],h=p[0],k=ya.useMultipleExpandedRows(void 0,void 0),v=Pt.dataToReportMode([i.currentDate,i.compareDate]),y=Aa.getTerms(i.url.rules),D=Aa.getTerms(i.keyword.rules),S=0;if("string"==typeof v||"Compared"!==v.NAME)S=1;else{var F=v.VAL,C=F.comparedWith,w=F.actual;t=[{hd:Ws.makeUrlColumn(y,!1,me.getWithDefault(i.country,Qe),Jc,Xc,void 0),tl:{hd:Ws.makeStatusColumn(void 0),tl:{hd:Ws.makeTrafficWithVolumeModeColumn({TAG:0,_0:mo.seAdsPagePaidPagesTraffic},i.volumeMode,void 0),tl:{hd:Ws.makeTrafficPctWithVolumeModeColumn(i.volumeMode,void 0),tl:{hd:Ws.makeTrafficChangesWithVolumeModeColumn(i.volumeMode,0,Hn,a,C,w),tl:{hd:Ws.makeCostWithVolumeModeColumn(i.volumeMode),tl:{hd:Ws.makeCostChangesWithVolumeModeColumn(0,i.volumeMode,a,Hn,w,C),tl:{hd:Ws.makeTopKeywordColumn(!1,a,D,lu,void 0,void 0),tl:{hd:Ws.makeTopKeywordVolumeColumn(i.volumeMode),tl:{hd:Ws.makeSpacerColumn(su,void 0),tl:0}}}}}}}}}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url)),0))]}1===S&&(t=[{hd:ws.makeUrlColumn(y,!1,me.getWithDefault(i.country,Qe),Zc,eu,void 0),tl:{hd:ws.makeTrafficWithVolumeModeColumn({TAG:0,_0:mo.seAdsPagePaidPagesTraffic},i.volumeMode,void 0),tl:{hd:ws.makeTrafficPctWithVolumeModeColumn(i.volumeMode,void 0),tl:{hd:ws.makeCostWithVolumeModeColumn(i.volumeMode),tl:{hd:ws.makeTopKeywordColumn(a,!1,D,nu,void 0,void 0),tl:{hd:ws.makeTopKeywordVolumeColumn(i.volumeMode),tl:{hd:ws.makeSpacerColumn(iu,void 0),tl:0}}}}}}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),0))]);var T,b=t[0],P=0;"string"==typeof v||"Compared"!==v.NAME?P=1:T=[{hd:Dc.makeKeywordColumn(void 0,D,me.getWithDefault(i.country,Qe),Jc,Xc,void 0),tl:{hd:Dc.makeVolumeColumn(void 0),tl:{hd:Dc.makeKdColumn(void 0),tl:{hd:Dc.makeCpcColumn(void 0),tl:{hd:Dc.makeTrafficColumn({TAG:0,_0:mo.seAdsPagePaidKeywordsTraffic},void 0),tl:{hd:Dc.makeTrafficChangesColumn(a),tl:{hd:Dc.makePositionColumn(a),tl:{hd:Dc.makeUrlColumn(y,a,me.getWithDefault(i.country,Qe),k,tu,ru,void 0),tl:{hd:Dc.makeSfColumn(a),tl:{hd:Dc.makeLastUpdatedColumn(void 0),tl:{hd:Ca.makeSpacerColumn(s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.hash),ou),tl:0}}}}}}}}}}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsCompared.MergedKeyword.get,ft.Se_shared.PaidKeywordsCompared.MergedKeyword.best_position_url)),0))],1===P&&(T=[{hd:nc.makeKeywordColumn(void 0,D,me.getWithDefault(i.country,Qe),Zc,eu,void 0),tl:{hd:nc.makeVolumeColumn(void 0),tl:{hd:nc.makeKdColumn(void 0),tl:{hd:nc.makeCpcColumn(void 0),tl:{hd:nc.makeTrafficColumn({TAG:0,_0:mo.seAdsPagePaidKeywordsTraffic},void 0),tl:{hd:nc.makePositionColumn(void 0),tl:{hd:nc.makeUrlColumn(y,a,me.getWithDefault(i.country,Qe),k,tu,ru,void 0),tl:{hd:nc.makeSfColumn(a),tl:{hd:nc.makeLastUpdatedColumn(void 0),tl:{hd:Ca.makeSpacerColumn(s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.hash),au),tl:0}}}}}}}}}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PaidKeywordsActual.Keyword.get,ft.Se_shared.PaidKeywordsActual.Keyword.best_position_url)),0))]);var M=T[0],A=s._3(Ra.FieldsRequestDescr.customRow,b,(function(e,t,r){return z.createElement(z.Fragment,{children:z.createElement(te.Row.make,{columns:b,parentData:e,isPadded:!1}),key:dt.to_string(t)})}),t[1]),E=s._3(Ra.FieldsRequestDescr.customRow,M,(function(e,t,r){return z.createElement(z.Fragment,{children:z.createElement(te.Row.make,{columns:M,parentData:e,isPadded:!1}),key:dt.to_string(t)})}),T[1]),B=s._1(Ra.FieldsRequestDescr.toRequest,A),K=s._1(Ra.FieldsRequestDescr.toRequest,E),q=function(e,t,r){return function(e,t,r,a,o,i,l,d,c,u,g,m){var f=void 0!==u?u:10,p=void 0!==g?g:0;return s._1(e,0),Ye.forEach(R(void 0,cu.request,{args:{mode:l.mode,protocol:l.protocol,url:n.Protocolless_url.show(l.url),reportMode:a,country:d,hash:t},params:{filter:void 0,size:f,offset:p,order_by:xl(r,a,o,i),shape:ce.map(c,(function(e){return e[1]})),timeout:void 0}}),(function(t){return s._1(e,{TAG:0,_0:f,_1:t})}))}(_,o,i.volumeMode,v,h.paidPagesSort,h.paidPagesSortDirection,d,me.getWithDefault(i.country,Qe),B,e,t)},x=function(e,t,r){return function(e,t,r,a,o,i,l,d,c,u,g){var m=void 0!==c?c:10,f=void 0!==u?u:0;return s._1(e,1),Ye.forEach(R(void 0,du.request,{args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),reportMode:l,country:d,hash:i},params:{filter:void 0,size:m,offset:f,order_by:Ic(l,a,o),shape:ce.map(t,(function(e){return e[1]})),timeout:void 0}}),(function(t){return s._1(e,{TAG:1,_0:m,_1:t})}))}(_,K,d,h.paidKeywordsSort,h.paidKeywordsSortDirection,o,v,me.getWithDefault(i.country,Qe),e,t)};z.useEffect((function(){var e=h.paidPagesData;u&&0===e&&q(void 0,void 0)}),[u,h.paidPagesData]),z.useEffect((function(){var e=h.paidKeywordsData;u&&0===e&&x(void 0,void 0)}),[u,h.paidKeywordsData]),z.useEffect((function(){u&&q(void 0,void 0)}),[h.paidPagesSort,h.paidPagesSortDirection]),z.useEffect((function(){u&&x(void 0,void 0)}),[h.paidKeywordsSort,h.paidKeywordsSortDirection]);var W,U=function(e){return s._2(g.setRow,dt.to_string(o),void 0)},N=de.mapWithDefault(h.paidPagesData,0,(function(e){return h.paidPagesCount-e.count|0})),$=N<=0,I=h.paidPagesData,G=$&&("number"==typeof I?0!==I:0!==I.TAG)?0:{_0:function(e){var t={data:h.paidPagesData,settings:c,offset:h.paidPagesOffset,remainingCount:N,onMoreDataRequested:function(e,t,r){return q(e,t)}};return void 0!==h.paidPagesError&&(t.error=l.valFromOption(h.paidPagesError)),z.createElement(Gl,t)}},Q={_0:function(e){var t={data:h.paidKeywordsData,settings:c,offset:h.paidKeywordsOffset,remainingCount:de.mapWithDefault(h.paidKeywordsData,0,(function(e){return h.paidKeywordsCount-e.count|0})),onMoreDataRequested:function(e,t,r){return x(e,t)}};return void 0!==h.paidKeywordsError&&(t.error=l.valFromOption(h.paidKeywordsError)),z.createElement(Gl,t)}},j=me.flatMap(de.getError(de.zip(h.paidKeywordsData,h.paidPagesData)),(function(e){if(0!==e.TAG){var t=e._0;return"string"==typeof t||"ReportsLimitReached"!==t.NAME?void 0:t.VAL}}));if(void 0!==j)W=z.createElement(So.make,{error:j});else{var H,Y=h.paidPagesData;if("number"==typeof Y)H=0;else switch(0|Y.TAG){case 0:case 2:H=Y._0.rows;break;default:H=0}var X,Z=h.paidKeywordsData;if("number"==typeof Z)X=0;else switch(0|Z.TAG){case 0:case 2:X=Z._0.rows;break;default:X=0}W=z.createElement(z.Fragment,void 0,z.createElement(Lo,{settings:c,data:h.paidPagesData,tableData:H,row:A,tooltipTarget:a,isLoading:1===h.paidPagesData,failureState:te.Table.getFailureState(h.paidPagesData),sort:s._1(rs.Name.toString,h.paidPagesSort),sortDirection:h.paidPagesSortDirection,totalRowsNumber:h.paidPagesCount,totalMessage:{id:"a0a4ac3ffeb250b92de76726cbb59dbd",defaultMessage:"{totalDisplay} {total, plural, zero {pages} one {page} other {pages}}"},customFooter:G,showCloseIcon:!1,minMessageRowHeight:1,headerAddon:z.createElement(bt,{exportFunc:function(e,t){return L(e,s._4(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-paid-pages-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}}}},_1:"%s-paid-pages-%s-%s-%s"}),n.Protocolless_url.show(d.url),V.toExportName(d.mode),se.code(me.getWithDefault(i.country,Qe)),Te(v)),void 0,gu.request,{args:{mode:d.mode,protocol:d.protocol,url:n.Protocolless_url.show(d.url),reportMode:v,country:me.getWithDefault(i.country,Qe),hash:o},params:{filter:void 0,size:t,offset:0,order_by:xl(i.volumeMode,v,h.paidPagesSort,h.paidPagesSortDirection),shape:void 0,timeout:void 0},volumeMode:i.volumeMode,withTitles:!1})},isTrial:c.subscription.isTrial,limitResetDate:c.subscription.dateResetUsagesMonthly,totalResults:h.paidPagesCount,target:d,limitsFunc:O,color:"ghost"}),onClose:U,onRefetch:function(e){return q(void 0,void 0)},onSort:function(e,t,r){return s._1(_,{TAG:2,_0:me.getWithDefault(s._1(rs.Name.ofString,e),2),_1:t})}}),z.createElement(Lo,{settings:c,data:h.paidKeywordsData,tableData:X,row:E,tooltipTarget:a,isLoading:1===h.paidKeywordsData,failureState:te.Table.getFailureState(h.paidKeywordsData),sort:s._1(Ed.Name.toString,h.paidKeywordsSort),sortDirection:h.paidKeywordsSortDirection,totalRowsNumber:h.paidKeywordsCount,totalMessage:{id:"7a5a53c18b46bfc41d98466b6b57fdfc",defaultMessage:"{totalDisplay} {total, plural, zero {keywords} one {keyword} other {keywords}}"},customFooter:Q,showCloseIcon:!1,minMessageRowHeight:1,headerAddon:z.createElement(bt,{exportFunc:function(e,t){return L(e,s._4(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-paid-keywords-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}}}},_1:"%s-paid-keywords-%s-%s-%s"}),n.Protocolless_url.show(d.url),V.toExportName(d.mode),se.code(me.getWithDefault(i.country,Qe)),Te(v)),void 0,uu.request,{args:{mode:d.mode,protocol:d.protocol,url:n.Protocolless_url.show(d.url),reportMode:v,country:me.getWithDefault(i.country,Qe),hash:o},params:{filter:void 0,size:t,offset:0,order_by:Ic(v,h.paidKeywordsSort,h.paidKeywordsSortDirection),shape:void 0,timeout:void 0}})},isTrial:c.subscription.isTrial,limitResetDate:c.subscription.dateResetUsagesMonthly,totalResults:h.paidKeywordsCount,target:d,limitsFunc:O,color:"ghost"}),onClose:U,onRefetch:function(e){return x(void 0,void 0)},onSort:function(e,t,r){return s._1(_,{TAG:3,_0:me.getWithDefault(s._1(Ed.Name.ofString,e),5),_1:t})}}))}return z.createElement(Eo.make,{children:W,tableRootRef:r,hash:g.hash,isOpen:u,onDimensionsChange:g.renewHash})},_u=r(89751),hu=[0,1,2,3,4,5,6],ku=ce.fromArray(hu),vu=Pl.Make({all:ku});function yu(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"e35d1596f2eecba8004e0589cd9a484e",defaultMessage:"Volume"});case 1:return s._1(ke.Message.to_s,{id:"f63f2cd95bd1c765c0517dc19fc50cfb",defaultMessage:"KD"});case 2:return s._1(ke.Message.to_s,{id:"15abccc61b619875f773b1ca64651d0a",defaultMessage:"CPC"});case 3:return s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"});case 4:return s._1(ke.Message.to_s,{id:"bdb646df458502f57e7cb0535fb0aa15",defaultMessage:"Word count"});case 5:return s._1(ke.Message.to_s,{id:"cf185135872a72c1290e5f1ba5112940",defaultMessage:"Keyword"});case 6:return s._1(ke.Message.to_s,{id:"c6dc3db67c0bcb4295f1621626f01d63",defaultMessage:"SERP features"})}}var Du=function(e){var t=e.filters,r=e.render,a=e.items,o=void 0!==a?a:hu;return z.createElement(vu.make,{label:z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"c585d36482a6bfce90d2c4a6a0139f10",defaultMessage:"Keyword filters"})),dropdownItems:ce.map(ce.fromArray(o),(function(e){return Pl.makeDropdownItem(yu(e),e,void 0,void 0,void 0)})),isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.volume,s._1(pa.Volume.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.kd,s._1(pa.KD.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.cpc,s._1(pa.CPC.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.paidKeywordTraffic,s._1(pa.PaidKeywordTraffic.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.words,s._1(pa.Words.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.keyword,s._1(fa.Keyword.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.serp,ka.Filter.getDefault(void 0))}},render:r})};function Su(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"c08b9fedbd5aaa8ab74460ea2d30d425",defaultMessage:"Total traffic"});case 1:return s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"});case 2:return s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"});case 3:return s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"})}}var Fu=function(e){var t=e.selectedItem,r=e.historicalPermissions,o=e.onChange,i="string"==typeof r&&"HistoryUnlimited"!==r?[1,{hd:1,tl:{hd:2,tl:{hd:3,tl:0}}}]:[0,{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:0}}}}],n=me.getWithDefault(t,i[0]);return z.createElement(Gr.make,{menuPlacement:"bottomStart",displayLabel:a.s(s._1(ke.Message.to_s,{id:"d237c97d956203c368d462cacef10116",defaultMessage:"Sort by: "})+Su(n)),fullHeight:!0,selectedValue:n,isEqual:Qr.equal,onChange:o,children:a.list(ce.map(i[1],(function(e){return z.createElement(Gr.Item.make,{label:Su(e),value:e})})))})},Cu=r(27593),wu=r(87352),Tu=r(13678);function bu(e,t){if("number"==typeof t)switch(t){case 0:return{remoteAdsByCountry:1,remoteDataTable:1,remoteMappedHistoryData:e.remoteMappedHistoryData,hashes:e.hashes,historySpec:e.historySpec,chartTimeFrame:e.chartTimeFrame};case 1:return{remoteAdsByCountry:e.remoteAdsByCountry,remoteDataTable:1,remoteMappedHistoryData:e.remoteMappedHistoryData,hashes:0,historySpec:e.historySpec,chartTimeFrame:e.chartTimeFrame};case 2:return{remoteAdsByCountry:e.remoteAdsByCountry,remoteDataTable:e.remoteDataTable,remoteMappedHistoryData:1,hashes:e.hashes,historySpec:e.historySpec,chartTimeFrame:e.chartTimeFrame}}else switch(0|t.TAG){case 0:return{remoteAdsByCountry:t._0,remoteDataTable:e.remoteDataTable,remoteMappedHistoryData:e.remoteMappedHistoryData,hashes:e.hashes,historySpec:e.historySpec,chartTimeFrame:e.chartTimeFrame};case 1:return{remoteAdsByCountry:e.remoteAdsByCountry,remoteDataTable:t._0,remoteMappedHistoryData:e.remoteMappedHistoryData,hashes:t._1,historySpec:e.historySpec,chartTimeFrame:e.chartTimeFrame};case 2:return{remoteAdsByCountry:e.remoteAdsByCountry,remoteDataTable:e.remoteDataTable,remoteMappedHistoryData:e.remoteMappedHistoryData,hashes:e.hashes,historySpec:t._0,chartTimeFrame:e.chartTimeFrame};case 3:return{remoteAdsByCountry:e.remoteAdsByCountry,remoteDataTable:e.remoteDataTable,remoteMappedHistoryData:t._0,hashes:e.hashes,historySpec:e.historySpec,chartTimeFrame:e.chartTimeFrame};case 4:return{remoteAdsByCountry:e.remoteAdsByCountry,remoteDataTable:e.remoteDataTable,remoteMappedHistoryData:e.remoteMappedHistoryData,hashes:e.hashes,historySpec:e.historySpec,chartTimeFrame:t._0}}}function Pu(e,t,r,a){return Re("string"==typeof t||"Compared"!==t.NAME?$a.toActualFieldName(e,r):$a.toComparedFieldName(e,r),a)}var Mu={contents:gt()},Au={contents:gt()};function Ru(e,t,r,a,o){s._1(e,0);var i=gt();return Mu.contents=i,Au.contents=i,Ye.forEach(R(void 0,wu.request,{params:{filter:r,size:0,offset:0,order_by:void 0,shape:void 0,timeout:void 0},args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:a,from:o}}),(function(t){if(Mu.contents===i){var r=de.map(t,(function(e){return oe.fromArray(ge.map(ce.toArray(e),(function(e){return[e.country,e.count]})),We)}));return s._1(e,{TAG:0,_0:r})}}))}var Lu={contents:gt()};function Eu(e,t,r,a,o,i,l,d,c,u){s._1(e,1);var g=gt();return Au.contents=g,Ye.forEach(R(void 0,_u.request,{params:{filter:l,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0},args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),reportMode:d,country:c,from:u}}),(function(r){if(Au.contents===g)return s._1(e,{TAG:1,_0:r,_1:de.mapWithDefault(r,0,(function(e){return qa(d,t,e.rows)}))})}))}var Bu=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=e.onSettingsUpdated,c=ya.useMultipleExpandedRows(void 0,void 0),u=he.useUrl(void 0,void 0),g=u.path,m=i.parseQueryToDict(u.search,void 0,void 0),f=Yr(r.chartHistoricalPermissions),p=z.useReducer(bu,{remoteAdsByCountry:0,remoteDataTable:0,remoteMappedHistoryData:0,hashes:0,historySpec:ca,chartTimeFrame:void 0!==f?0!==f?1:0:void 0}),_=p[1],h=p[0],k=Va.ofQuery(r,m),v=a.useStateValue(k),y=v[1],D=v[0],S=function(e,t){var r=void 0!==e&&e;s._1(y,t);var a=i.makeStringWithQueryDict(i.makePathname(g),l.some(Va.toQuery(void 0,l.some(m),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};Ie(g,Va.toQuery(void 0,l.some(m),k)),ai.use(k.country,k.isUserCountry,r.settings.keywordDataSource,h.remoteAdsByCountry,(function(e){var t=mt.caml_obj_dup(k);return S(!0,(t.country=e,t))}));var F,C=uo.useSingleton({overrides:["className"]}),w=C[1],T=Pt.dataToReportMode([k.currentDate,k.compareDate]),b=i.stringifyQueryDict(Va.toQuery(eo,void 0,k),void 0,void 0),P=i.stringifyQueryDict(Va.toQuery(eo,void 0,k),void 0,void 0),M=z.useMemo((function(){var e="string"==typeof T||"Compared"!==T.NAME?to(r.reportHistoricalPermissions,k):ro(r.reportHistoricalPermissions,k);return me.map(Da.conjunct(e),Da.makeFilter)}),[b]),A=me.map(h.chartTimeFrame,Jr),E=function(e){var a=h.remoteDataTable;if("number"!=typeof a&&2===a.TAG){var o=h.hashes;if(o){var i=h.chartTimeFrame;return void 0!==i?function(e,t,r,a,o,i,l){if("string"!=typeof o||"HistoryUnlimited"===o){s._1(e,2);var d=gt();return Lu.contents=d,Ye.forEach(R(void 0,Tu.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),country:r,from:l,hashes:a},signedEnvironment:i}),(function(t){if(Lu.contents===d)return s._1(e,{TAG:3,_0:de.map(t,(function(e){return Ma.fromArray(ce.toArray(ce.map(e,(function(e){return[dt.to_string(e.hash),e.history]}))))}))})}))}}(_,t,me.getWithDefault(k.country,Qe),o,r.chartHistoricalPermissions,a._0.signedEnvironment,Jr(i)):void 0}}},B=z.useMemo((function(){return de.mapWithDefault(h.remoteDataTable,0,(function(e){return e.rows.rows}))}),[h.remoteDataTable]),K=0;if("string"==typeof T||"Compared"!==T.NAME)K=1;else{var q=Ya(k,h.historySpec,(function(e){return s._1(_,{TAG:2,_0:e})}),h.remoteMappedHistoryData,r.reportHistoricalPermissions,r.chartHistoricalPermissions,E,me.getWithDefault(h.chartTimeFrame,0));F=s._3(Ra.FieldsRequestDescr.customRow,q,(function(e,a,o,i,n,l,d){var u=me.mapWithDefault(i,0,ie.to_int32),g=me.mapWithDefault(n,0,ie.to_int32),m=me.mapWithDefault(l,0,ie.to_int32),f=me.mapWithDefault(d,0,ie.to_int32),p=dt.to_string(a),_=me.getWithDefault(Ur.get(c.map,p),!1);return z.createElement(z.Fragment,{children:null,key:a},z.createElement(te.Row.make,{columns:q,parentData:e,isToggleActive:_,onClick:function(e){return s._2(c.setRow,p,!_)}}),z.createElement(pu,{tableRootRef:e.tableRootRef,tooltipTarget:w,adHash:a,filters:k,target:t,settings:r,isOpen:_,expandedRows:c,initialPagesCount:"string"==typeof T||"Compared"!==T.NAME?0:f+g|0,initialKeywordsCount:"string"==typeof T||"Compared"!==T.NAME?0:m+u|0}))}),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdMerged.get,ft.Se_shared.AdsCompared.AdMerged.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdMerged.get,ft.Se_shared.AdsCompared.AdMerged.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdCurrent.get,ft.Se_shared.AdsCompared.AdCurrent.pages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdPrevious.get,ft.Se_shared.AdsCompared.AdPrevious.keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsCompared.AdPrevious.get,ft.Se_shared.AdsCompared.AdPrevious.pages)),0)))))))}if(1===K){var x=za(k,h.historySpec,(function(e){return s._1(_,{TAG:2,_0:e})}),h.remoteMappedHistoryData,r.reportHistoricalPermissions,r.chartHistoricalPermissions,E,me.getWithDefault(h.chartTimeFrame,0));F=s._3(Ra.FieldsRequestDescr.customRow,x,(function(e,a,o,i,n){var l=dt.to_string(a),d=me.getWithDefault(Ur.get(c.map,l),!1);return z.createElement(z.Fragment,{children:null,key:a},z.createElement(te.Row.make,{columns:x,parentData:e,isToggleActive:d,onClick:function(e){return s._2(c.setRow,l,!d)}}),z.createElement(pu,{tableRootRef:e.tableRootRef,tooltipTarget:w,adHash:a,filters:k,target:t,settings:r,isOpen:d,expandedRows:c,initialPagesCount:"string"==typeof T||"Compared"!==T.NAME?ie.to_int32(n):0,initialKeywordsCount:"string"==typeof T||"Compared"!==T.NAME?ie.to_int32(i):0}))}),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.AdsActual.Ad.get,ft.Se_shared.AdsActual.Ad.pages)),0)))))}var W=s._1(Ra.FieldsRequestDescr.toRequest,F),U=Ne(!1,h.remoteDataTable,h.remoteAdsByCountry);z.useEffect((function(){Ru(_,t,M,T,A)}),[Ve.Safe.toKey(t),b,Te(T)]),z.useEffect((function(){E()}),[h.hashes]);var N=ue.use(t),$=ue.use(M),I=ue.use(T);z.useEffect((function(e){s._1(c.closeAll,void 0);var a,o=ai.calculateCountry(k.isUserCountry,k.country,r.settings.keywordDataSource,h.remoteAdsByCountry),i=h.remoteAdsByCountry,n=Ve.Safe.equals(N,t)&&mt.caml_equal($,M)&&be(I,T);void 0!==o&&"number"!=typeof i&&2===i.TAG&&n&&mt.caml_equal(o,k.country)&&(a=o,Eu(_,W,t,Pu(k.volumeMode,T,k.sort.name,k.sort.direction),k.pagination.offset,k.pagination.limit,M,T,a,A))}),[Ve.Safe.toKey(t),M,Te(T),s._1($a.Name.toString,k.sort.name),ci.toString(k.sort.direction),k.pagination.offset,k.pagination.limit,me.map(k.country,se.code),de.isSuccess(h.remoteAdsByCountry)]);var G,Q,X=function(e){return s._1(c.closeAll,void 0),Ru(_,t,M,T,A),Eu(_,W,t,Pu(k.volumeMode,T,k.sort.name,k.sort.direction),k.pagination.offset,k.pagination.limit,M,T,me.getWithDefault(k.country,Qe),A)},Z=ue.use(h.remoteAdsByCountry),ee=h.remoteAdsByCountry,re=0;if("number"==typeof ee)"number"==typeof Z||2!==Z.TAG?G=0:(Q=Z._0,re=1);else switch(0|ee.TAG){case 0:case 1:G=0;break;case 2:Q=ee._0,re=1}1===re&&(G=oe.getWithDefault(Q,me.getWithDefault(k.country,Qe),0));var ne,le=z.createElement("div",void 0,z.createElement(Y.Icon.make,{size:"sm"})),ge=h.remoteAdsByCountry,fe=0;if("number"==typeof ge)"number"==typeof Z||2!==Z.TAG?ne=le:fe=1;else switch(0|ge.TAG){case 0:ne=le;break;case 1:case 2:fe=1}if(1===fe){var pe={resultsString:a.s(ae.Int.full(G)),results:G};ne=z.createElement("div",void 0,z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"106f5d343c10d54fc86aef8cfb0e6c5f",defaultMessage:"{resultsString} {results, plural, zero {ads} one {ad} few {ads} other {ads}}"},pe)}))}var _e,ve=r.chartHistoricalPermissions,ye=0;"string"==typeof ve&&"HistoryUnlimited"!==ve?_e=null:ye=1,1===ye&&(_e=z.createElement(Xr,{selectedValue:h.chartTimeFrame,onChange:function(e){return s._1(_,{TAG:4,_0:e})},historicalPermissions:r.chartHistoricalPermissions}));var De,Se=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},ne,z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:z.createElement(Tl.make,{currentDate:k.currentDate,compareDate:k.compareDate,historicalPermissions:r.reportHistoricalPermissions,isUpgradable:r.isUpgradable,onChange:function(e,t){var r=mt.caml_obj_dup(k);r.compareDate=t,r.currentDate=e,r.adStatus="DontCompare"===t?0:k.adStatus;var a=k.pagination;return r.pagination={limit:a.limit,offset:0},S(void 0,r)},onCompareDateChange:function(e){var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.paidKeywordsCompare=e,t))}})})),z.createElement(Je.make,{gap:"px10",children:null},_e,z.createElement(Fu,{selectedItem:k.sort.name,historicalPermissions:r.reportHistoricalPermissions,onChange:function(e){var t=mt.caml_obj_dup(k),r=k.sort;return t.sort={name:e,direction:r.direction},S(void 0,t)}}),z.createElement(bt,{exportFunc:function(e,r){var a=me.getWithDefault(k.country,Qe);return L(e,s._4(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-ads-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}}}},_1:"%s-ads-%s-%s-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode),se.code(a),Te(T)),void 0,Cu.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:T,country:a,from:A},params:{filter:M,size:r,offset:0,order_by:Pu(k.volumeMode,T,k.sort.name,k.sort.direction),shape:void 0,timeout:void 0},volumeMode:k.volumeMode})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:G,target:t,limitsFunc:O}))),Fe=h.remoteAdsByCountry,Ce=h.remoteDataTable,we=0;"number"==typeof Fe||1!==Fe.TAG?we=1:De=Fe._0,1===we&&(De="number"==typeof Ce||1!==Ce.TAG?void 0:Ce._0);var Pe,Me=r.reportHistoricalPermissions,Ae=0;"string"==typeof Me&&"HistoryUnlimited"!==Me?Pe=null:Ae=1,1===Ae&&(Pe=z.createElement(pa.AdTraffic.make,{value:D.adTraffic,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adTraffic=Va.getDefault(void 0).adTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adTraffic=e,t))}}));var Re={settings:r,children:z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(j.V2.show(14))})}),z.createElement(co,{showApplyFilters:!s._2(Va.TopLevel.equal,D,k),onClearFilters:function(e){return s._1(y,k)},onApplyFilters:function(e){var t=mt.caml_obj_dup(D),r=D.pagination;return t.pagination={limit:r.limit,offset:0},S(void 0,t)},children:null},z.createElement(Pa.make,{data:D.volumeMode,onSelect:function(e){var t=mt.caml_obj_dup(D);s._1(y,(t.volumeMode=e,t));var a=mt.caml_obj_dup(r.settings);return s._1(d,(a.paidPagesVolumeMode=k.volumeMode,a))}}),z.createElement(ai.make,{selectedItem:D.country,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.isUserCountry=!0,t.country=e,t))},remoteCountryMap:h.remoteAdsByCountry}),z.createElement(fa.Ads.AdTitle.make,{value:D.adTitle,label:s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adTitle=e,t))},onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adTitle=Va.getDefault(void 0).adTitle,t))}}),z.createElement(fa.Ads.AdDisplayUrl.make,{value:D.adDisplayUrl,label:s._1(ke.Message.to_s,{id:"6c50e12228a5d8c78ecf940587d70391",defaultMessage:"Display URL"}),onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adDisplayUrl=e,t))},onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adDisplayUrl=Va.getDefault(void 0).adDisplayUrl,t))}}),z.createElement(fa.Ads.AdDescription.make,{value:D.adDescription,label:s._1(ke.Message.to_s,{id:"feeb10f85ff7e7774def133d0a229ef0",defaultMessage:"Description"}),onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adDescription=e,t))},onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adDescription=Va.getDefault(void 0).adDescription,t))}}),z.createElement(ba.make,{useRemoved:!0,historicalPermissions:r.reportHistoricalPermissions,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.compareDate=e?"string"==typeof T?"ActualToday"===T?"PrevMonth":D.compareDate:"Actual"===T.NAME?"PrevMonth":D.compareDate:D.compareDate,t.adStatus=e,t))},value:D.adStatus}),Pe,z.createElement(pa.PaidKeywords.make,{value:D.adKeywords,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adKeywords=Va.getDefault(void 0).adKeywords,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.adKeywords=e,t))}}),z.createElement(fa.$$URL.make,{value:D.url,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.url=Va.getDefault(void 0).url,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.url=e,t))}}),z.createElement(Du,{filters:D,render:function(e,t,r,a){var o=function(t){return s._1(a,e)},i=yu(e);switch(e){case 0:return z.createElement(pa.Volume.make,{value:D.volume,label:i,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.volume=Va.getDefault(void 0).volume,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.volume=e,t))}});case 1:return z.createElement(pa.KD.make,{value:D.kd,label:i,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.kd=Va.getDefault(void 0).kd,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.kd=e,t))}});case 2:return z.createElement(pa.CPC.make,{value:D.cpc,label:i,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.cpc=Va.getDefault(void 0).cpc,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.cpc=e,t))}});case 3:return z.createElement(pa.PaidKeywordTraffic.make,{value:D.paidKeywordTraffic,label:s._1(ke.Message.to_s,{id:"c87f52e69380f924cbc3935f9de61164",defaultMessage:"Keyword traffic"}),autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.paidKeywordTraffic=Va.getDefault(void 0).paidKeywordTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.paidKeywordTraffic=e,t))}});case 4:return z.createElement(pa.Words.make,{value:D.words,label:s._1(ke.Message.to_s,{id:"56eeb241b9569e3bb4002e19ac30b982",defaultMessage:"Keyword word count"}),autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.words=Va.getDefault(void 0).words,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.words=e,t))}});case 5:return z.createElement(fa.Keyword.make,{value:D.keyword,autoOpen:t,label:i,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.keyword=Va.getDefault(void 0).keyword,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.keyword=e,t))}});case 6:return z.createElement(go.make,{autoOpen:t,isPaid:!0,value:D.serp,onHidden:o,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.serp=e,t))},onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.serp=Va.getDefault(void 0).serp,t))}})}}})),z.createElement("div",void 0,z.createElement(te.Table.make,{row:F,data:B,hasAppliedFilters:""!==P||mt.caml_notequal(k.pagination,s._1(ya.Pagination.Filter.getDefault,void 0)),header:Se,isLoading:U[0],failureState:U[1],renderError:qe([h.remoteDataTable,h.remoteAdsByCountry],X,r.isUpgradable),tableId:Mt(T),tooltipTarget:w,totalRowsNumber:G,hasToggleColumn:!0,pagination:k.pagination,sortDirection:k.sort.direction,sort:s._1($a.Name.toString,k.sort.name),renderCheckbox:Rr,onPaginationChange:function(e){var t=mt.caml_obj_dup(k);return S(void 0,(t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(k);return a.pagination=r,a.sort={name:me.getWithDefault(s._1($a.Name.ofString,e),s._1($a.Name.getDefault,void 0)),direction:t},S(void 0,a)},onRefetch:X,onClearFilters:function(e){return S(void 0,Va.getDefault(void 0))}}),z.createElement(ut.make,{singleton:C[0]})))};return void 0!==De&&(Re.error=l.valFromOption(De)),z.createElement(Po,Re)},Ku=s._1(Rt.css,{hd:Rt.label("main"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.flexDirection("column"),tl:{hd:Rt.flex3(1,1,"auto"),tl:{hd:Rt.backgroundColor(_e.Color.Background.page),tl:0}}}}}),qu=s._1(Rt.css,{hd:Rt.label("body"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.flex3(1,1,"auto"),tl:0}}}),xu=s._1(Rt.css,{hd:Rt.label("content"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.padding4(tt.NewSize.px16,tt.NewSize.px16,tt.NewSize.px16,"zero"),tl:{hd:Rt.paddingLeft("zero"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.flexDirection("column"),tl:{hd:Rt.media(tt.Media.mobileDown,{hd:Rt.paddingRight("zero"),tl:0}),tl:0}}}}}}}),Wu=s._1(Rt.css,{hd:Rt.label("loader"),tl:{hd:Rt.backgroundImage({NAME:"url",VAL:"https://cdn.ahrefs.com/images/progress_loader.gif"}),tl:{hd:Rt.backgroundRepeat("repeatX"),tl:{hd:Rt.height({NAME:"px",VAL:5}),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.position("fixed"),tl:{hd:Rt.top("zero"),tl:{hd:Rt.zIndex(tt.ZIndex.overlay),tl:0}}}}}}}}),Uu=s._1(Rt.css,{hd:Rt.label("upgrade"),tl:{hd:Rt.marginTop({NAME:"px",VAL:40}),tl:0}}),Ou=s._1(Rt.css,{hd:Rt.label("siteStructureDemoVideo"),tl:{hd:Rt.height({NAME:"px",VAL:530}),tl:{hd:Rt.width({NAME:"px",VAL:950}),tl:{hd:Rt.boxShadows(tt.BoxShadow.elevation2),tl:0}}}}),Nu=r(85471),$u=r(56827),Iu=r(79491),Gu=s._1(Rt.css,{hd:Rt.label("closedSidebar"),tl:{hd:Rt.paddingRight(tt.NewSize.px16),tl:{hd:Rt.media(tt.Media.mobileDown,{hd:Rt.paddingRight("zero"),tl:0}),tl:0}}}),Qu=function(e){var t=e.target,r=e.page,a=e.settings,o=e.isOpen,i=de.mapWithDefault(a,[void 0,{_0:Qe}],(function(e){var t=e.settings;return[t.backlinksAggregation,t.keywordDataSource]})),n=i[1],l=i[0],d=n?{_0:n._0}:0,c=n?n._0:se.us,u=Ve.Safe.toUnsafe(t);return z.createElement("div",{className:ea.ifTrue(Gu,!o)},z.createElement(Nu.make,{children:null,isOpen:o,closedSidebarGap:0},z.createElement(Iu.make,{children:null},z.createElement($u.make,{label:j.V1.show(0),url:j.V1.makeOverviewUrl(u,0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V2.showSidebarLabel(0),url:j.V2.makeOverviewUrl(u,void 0,void 0,void 0),active:mt.caml_equal(r,0)}),z.createElement($u.make,{label:j.V2.showSidebarLabel(11),url:j.V2.makeSiteStructureUrl(u,void 0,void 0),active:mt.caml_equal(r,11)}),z.createElement($u.make,{label:j.V2.showSidebarLabel(13),url:j.V2.makeCalendarUrl(u,void 0,void 0),active:mt.caml_equal(r,13)})),z.createElement(Iu.make,{isCollapsible:!0,label:s._1(ke.Message.to_s,{id:"42a4338a6559a96afa41cf10e1c575fb",defaultMessage:"Backlink profile"}),children:null},z.createElement($u.make,{label:j.V2.showSidebarLabel(1),url:j.V2.makeBacklinksUrl(u,l,void 0,void 0,void 0),active:mt.caml_equal(r,1)}),z.createElement($u.make,{label:j.V2.showSidebarLabel(3),url:j.V2.makeBrokenBacklinksUrl(u,void 0,void 0,void 0,void 0),badge:{TAG:2,_0:z.createElement(po.make,{padding:"selectNavItemNested",children:z.createElement(Io.make,{size:"small",corners:"squared",color:"accent",value:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"})})})},active:mt.caml_equal(r,3),badgeInLabel:!0}),z.createElement($u.make,{label:j.V2.showSidebarLabel(5),url:j.V2.makeRefdomainsUrl(u,void 0,void 0,void 0),active:mt.caml_equal(r,5)}),z.createElement($u.make,{label:j.V2.showSidebarLabel(6),url:j.V2.makeAnchorsUrl(u,void 0,void 0),active:mt.caml_equal(r,6)}),z.createElement($u.make,{label:j.V2.showSidebarLabel(2),url:j.V2.makeInternalBacklinksUrl(u,me.map(l,(function(e){return e>=2?1:0})),void 0,void 0),active:mt.caml_equal(r,2)}),z.createElement($u.make,{label:j.V1.show(9),url:j.V1.makeBacklinkRefIpsUrl(void 0,u,0,void 0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(11),url:j.V1.makeBacklinkIntersectUrl(void 0,u,void 0),externalUrl:!0})),z.createElement(Iu.make,{isCollapsible:!0,label:s._1(ke.Message.to_s,{id:"9446b5975fb78aba09add768867eac17",defaultMessage:"Organic search"}),children:null},z.createElement($u.make,{label:j.V2.showSidebarLabel(7),url:j.V2.makeOrganicKeywordsUrl(u,void 0,void 0,void 0),active:mt.caml_equal(r,7)}),z.createElement($u.make,{label:j.V2.showSidebarLabel(10),url:j.V2.makeTopPagesUrl(u,void 0,void 0),active:mt.caml_equal(r,10)}),z.createElement($u.make,{label:j.V1.show(16),url:j.V1.makeOrganicTopSubfoldersUrl(void 0,u,d,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(17),url:j.V1.makeOrganicTopSubdomainsUrl(void 0,u,d,void 0),externalUrl:!0}),De(8)?z.createElement($u.make,{label:j.V2.showSidebarLabel(8),url:j.V2.makeOrganicCompetitorsUrl(u,void 0,void 0,void 0),badge:1,active:mt.caml_equal(r,8)}):null,z.createElement($u.make,{label:j.V1.show(18),url:j.V1.makeOrganicCompetingDomainsUrl(void 0,u,c,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(19),url:j.V1.makeOrganicCompetingPagesUrl(void 0,u,c,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(20),url:j.V1.makeOrganicContentGapUrl(c,void 0,void 0,void 0,u,void 0,void 0,void 0,void 0,void 0,void 0,void 0),externalUrl:!0})),z.createElement(Iu.make,{isCollapsible:!0,label:s._1(ke.Message.to_s,{id:"6e6938a3fd09340a3869855723758dd5",defaultMessage:"Paid search"}),children:null},z.createElement($u.make,{label:j.V2.showSidebarLabel(9),url:j.V2.makePaidKeywordsUrl(u,void 0,void 0,void 0),active:mt.caml_equal(r,9)}),z.createElement($u.make,{label:j.V2.showSidebarLabel(14),url:j.V2.makeAdsUrl(u,void 0,void 0,void 0),active:mt.caml_equal(r,14)}),z.createElement($u.make,{label:j.V2.showSidebarLabel(12),url:j.V2.makePaidPagesUrl(u,void 0,void 0,void 0),active:mt.caml_equal(r,12)})),z.createElement(Iu.make,{isCollapsible:!0,label:s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"}),children:null},z.createElement($u.make,{label:j.V2.showSidebarLabel(4),url:j.V2.makeBestByLinksUrl(u,void 0,void 0),badge:{TAG:2,_0:z.createElement(po.make,{padding:"selectNavItemNested",children:z.createElement(Io.make,{size:"small",corners:"squared",color:"accent",value:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"})})})},active:mt.caml_equal(r,4),badgeInLabel:!0}),z.createElement($u.make,{label:j.V1.show(23),url:j.V1.makePagesTopContentUrl(void 0,u,0,void 0),externalUrl:!0})),z.createElement(Iu.make,{isCollapsible:!0,label:s._1(ke.Message.to_s,{id:"1bea63c5c5bc34626dc0a4cd2dc0bd40",defaultMessage:"Outgoing links"}),children:null},De(15)?z.createElement($u.make,{label:j.V2.showSidebarLabel(15),url:j.V2.makeOutgoingDomainsUrl(u,void 0,void 0),badge:{TAG:2,_0:z.createElement(po.make,{padding:"selectNavItemNested",children:z.createElement(Io.make,{size:"small",corners:"squared",color:"accent",value:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"})})})},active:mt.caml_equal(r,15),badgeInLabel:!0}):z.createElement($u.make,{label:j.V1.show(24),url:j.V1.makeOutgoingLinksLinkedDomainsUrl(void 0,u,0,void 0),externalUrl:!0}),De(16)?z.createElement($u.make,{label:j.V2.showSidebarLabel(16),url:j.V2.makeOutgoingAnchorsUrl(u,void 0,void 0),badge:{TAG:2,_0:z.createElement(po.make,{padding:"selectNavItemNested",children:z.createElement(Io.make,{size:"small",corners:"squared",color:"accent",value:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"})})})},active:mt.caml_equal(r,16),badgeInLabel:!0}):z.createElement($u.make,{label:j.V1.show(25),url:j.V1.makeOutgoingLinksAnchorsUrl(void 0,u,0,void 0),externalUrl:!0}),De(17)?z.createElement($u.make,{label:j.V2.showSidebarLabel(17),url:j.V2.makeOutgoingLinksUrl(u,void 0,void 0),badge:{TAG:2,_0:z.createElement(po.make,{padding:"selectNavItemNested",children:z.createElement(Io.make,{size:"small",corners:"squared",color:"accent",value:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"})})})},active:mt.caml_equal(r,17),badgeInLabel:!0}):null,z.createElement($u.make,{label:j.V1.show(26),url:j.V1.makeOutgoingLinksBrokenLinksUrl(void 0,u,0,void 0),externalUrl:!0})),z.createElement(Iu.make,{isCollapsible:!0,label:s._1(ke.Message.to_s,{id:"601e96c14cea6af2259a933caeca884d",defaultMessage:"Export"}),children:null},z.createElement($u.make,{label:j.V1.show(30),url:j.V1.makeExportCsvUrl(void 0,u,0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(31),url:j.V1.makeExportPdfUrl(void 0,u,0,void 0),externalUrl:!0})),z.createElement(Iu.make,{isCollapsible:!0,label:s._1(ke.Message.to_s,{id:"60bd6e3e400c5d959214b3c8b401d7ef",defaultMessage:"Legacy"}),children:null},z.createElement($u.make,{label:j.V1.show(1),url:j.V1.makeBacklinksUrl(void 0,u,0,l,void 0),externalUrl:!0}),z.createElement(Iu.make,{children:null},z.createElement($u.make,{label:j.V1.show(2),url:j.V1.makeBacklinksNewUrl(void 0,u,0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(3),url:j.V1.makeBacklinksLostUrl(void 0,u,0,void 0),externalUrl:!0})),z.createElement($u.make,{label:j.V1.show(4),url:j.V1.makeBacklinksBrokenUrl(void 0,u,0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(5),url:j.V1.makeBacklinkRefDomainsUrl(void 0,u,0,void 0),externalUrl:!0}),z.createElement(Iu.make,{children:null},z.createElement($u.make,{label:j.V1.show(6),url:j.V1.makeBacklinkRefDomainsNewUrl(void 0,u,0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(7),url:j.V1.makeBacklinkRefDomainsLostUrl(void 0,u,0,void 0),externalUrl:!0})),z.createElement($u.make,{label:j.V1.show(8),url:j.V1.makeBacklinkAnchorsUrl(void 0,u,0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(10),url:j.V1.makeBacklinkInternalUrl(void 0,u,0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(12),url:j.V1.makeOrganicKeywordsUrl(void 0,u,n,void 0),externalUrl:!0}),z.createElement(Iu.make,{children:null},z.createElement($u.make,{label:j.V1.show(13),url:j.V1.makeOrganicKeywordsNewUrl(void 0,u,c,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(14),url:j.V1.makeOrganicKeywordsMovementUrl(void 0,u,c,void 0),externalUrl:!0})),z.createElement($u.make,{label:j.V1.show(15),url:j.V1.makeOrganicTopPagesUrl(void 0,u,n,void 0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(29),url:j.V1.makePaidTopLandingPagesUrl(void 0,u,c,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(27),url:j.V1.makePaidPPCKeywordsUrl(void 0,u,n,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(28),url:j.V1.makePaidAdsUrl(void 0,u,c,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(21),url:j.V1.makePagesBestByLinksUrl(void 0,u,0,void 0),externalUrl:!0}),z.createElement($u.make,{label:j.V1.show(22),url:j.V1.makePagesBestByLinksGrowthUrl(void 0,u,0,void 0),externalUrl:!0}),De(15)?z.createElement($u.make,{label:j.V1.show(24),url:j.V1.makeOutgoingLinksLinkedDomainsUrl(void 0,u,0,void 0),externalUrl:!0}):null,De(16)?z.createElement($u.make,{label:s._1(ke.Message.to_s,{id:"b8c2853ec268eb6103b7948d349d5db2",defaultMessage:"Outgoing anchors"}),url:j.V1.makeOutgoingLinksAnchorsUrl(void 0,u,0,void 0),externalUrl:!0}):null)))},Vu=r(43313),ju=r(79023),Hu=r(79575),zu=(ee.MakeComparableU,ee.MakeComparable,ee.comparableU,ee.comparable);function Yu(e,t){var r=a.useStateValue(0),o=r[1],i=r[0],n=ue.whenChanged(e);if(z.useEffect((function(){"number"!=typeof e&&2===e.TAG&&s._1(o,s._1(t,e._0))}),[e]),"number"==typeof e);else switch(0|e.TAG){case 1:return i;case 0:case 2:return s._1(t,e._0)}return"number"==typeof n||2!==n.TAG?i:s._1(t,n._0)}ee.MakeHashableU,ee.MakeHashable,ee.hashableU,ee.hashable;var Ju=function(e){var t=e.remoteData,r=e.getter,a=e.message,o=Yu(t,r);return"number"==typeof t&&0!==t?z.createElement(Y.Icon.make,{size:"sm"}):z.createElement(H.make,{children:z.createElement(Ro.make,{item:a,values:{totalStr:ae.Float.full(o),total:o}})})},Xu=r(81328),Zu=r(61598),eg=s._1(Rt.css,{hd:Rt.label("main"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.display("inlineBlock"),tl:{hd:Rt.verticalAlign("top"),tl:{hd:Rt.lineHeight({NAME:"px",VAL:14}),tl:{hd:Rt.textAlign("left"),tl:0}}}}}}),tg=function(e){var t,r=e.total,a=e.value;return 0===a?null:z.createElement("div",{className:eg},z.createElement("div",{className:(t=a/r*100,s._1(Rt.css,{hd:Rt.label("bar"),tl:{hd:Rt.display("inlineBlock"),tl:{hd:Rt.height(tt.NewSize.px6),tl:{hd:Rt.width(t>0&&t<1?{NAME:"px",VAL:1}:{NAME:"percent",VAL:t}),tl:{hd:Rt.backgroundColor(_e.Color.Chart.blue),tl:0}}}}}))}))},rg=function(e){var t=e.value,r=e.fontSize,o=e.href,i=void 0!==r?r:"md",n=St.caml_float_compare(t,0),d=n>0?0:n<0?1:void 0,c=ae.Float.$$default(Math.abs(t)),u=me.map(d,(function(e){return e?"danger":"success"}));if(void 0===d)return null;if(d){var g={href:o,children:z.createElement(pt.make,{fontSize:i,children:a.s(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:2,_0:0,_1:0}},_1:"%s%s"}),Gt.minus,c))})};return void 0!==u&&(g.color=l.valFromOption(u)),z.createElement(ta.make,g)}var m={href:o,children:z.createElement(pt.make,{fontSize:i,children:a.s(s._1(J.sprintf({_0:{TAG:12,_0:43,_1:{TAG:2,_0:0,_1:0}},_1:"+%s"}),c))})};return void 0!==u&&(m.color=l.valFromOption(u)),z.createElement(ta.make,m)},ag=r(49826),og=(s._1(ke.Message.to_s,{id:"1a32eae83c817920cceb5ffb32c68fc7",defaultMessage:"This might happen when your target website has too many backlinks. Try narrowing the target to get more focused results"}),z.createElement(ct.make,{gap:"px4",children:null},z.createElement(Je.make,{children:s._1(ke.Message.to_s,{id:"a89c2342fe083fc02670e3e161b3553c",defaultMessage:"URL Rating (UR) shows the strength of your target page’s backlink profile on a 100-point logarithmic scale."})}),z.createElement(Je.make,{children:s._1(ke.Message.to_s,{id:"24c71388ffc921c3e0b069c8efeb6179",defaultMessage:"This is a beta version of the new UR score, which is different from the one shown in legacy reports."})}),z.createElement(Je.make,{fitToContent:!0,children:z.createElement(ta.make,{href:"https://help.ahrefs.com/en/articles/72658-what-is-url-rating-ur",mode:3,children:s._1(ke.Message.to_s,{id:"93684f4c721982037f41056b3f67f8a7",defaultMessage:"Read more"})})}))),ig={linkedDomain:{text:s._1(ke.Message.to_s,{id:"00ed0f490b324ec03cd0c5fb722d0ae5",defaultMessage:"A linked domain that has at least one link from your target."}),link:void 0,id:"se_outgoing_domain_linked_domain_column_tooltip"},dofollowRefDomains:{text:s._1(ke.Message.to_s,{id:"07123ad959beaef7ab50c7ef33d808d9",defaultMessage:"The number of unique domains with dofollow links to the linked domain."}),link:void 0,id:"se_outgoing_domain_dofollow_ref_domains_column_tooltip"},dofollowLinkedDomains:{text:s._1(ke.Message.to_s,{id:"6016f959d6f8f604bbc4c44f858107a2",defaultMessage:"The number of unique root domains with dofollow links from the linked domain."}),link:void 0,id:"se_outgoing_domain_dofollow_linked_domains_column_tooltip"},traffic:{text:s._1(ke.Message.to_s,{id:"a6c82124ee9273a67584426f8b395c47",defaultMessage:"The linked domain’s estimated monthly organic traffic from search."}),link:"https://help.ahrefs.com/en/articles/1863206-what-is-organic-traffic-in-ahrefs-and-how-do-we-calculate-it",id:"se_outgoing_domain_traffic_column_tooltip"},linkedPages:{text:s._1(ke.Message.to_s,{id:"68d22f8e90cad4b66c82c86360faf982",defaultMessage:"The number of the domain's pages linked from your target."}),link:void 0,id:"se_outgoing_domain_linked_pages_column_tooltip"},linksFromTarget:{text:s._1(ke.Message.to_s,{id:"af12e1429c64568e23490d19b44fba98",defaultMessage:"The number of links from your target to the linked domain."}),link:void 0,id:"se_outgoing_domain_links_from_target_column_tooltip"},dofollow:{text:s._1(ke.Message.to_s,{id:"127c5373955dfab13ca4921db5ff285e",defaultMessage:"The number of links from your target to the linked domain that don’t have the “nofollow” attribute."}),link:void 0,id:"se_outgoing_domain_dofollow_column_tooltip"},firstSeen:{text:s._1(ke.Message.to_s,{id:"737cca85596e4d64c148ae5a0442fc86",defaultMessage:"The date we first found a link to the linked domain from your target."}),link:void 0,id:"se_outgoing_domain_first_seen_column_tooltip"}},ng={firstSeen:{text:s._1(ke.Message.to_s,{id:"f4eb1dfe37a2d6f56114e5b46dd61748",defaultMessage:"The date we first found the link on a given referring page."}),link:void 0,id:"se_outgoing_links_first_seen_column_tooltip"},lastChecked:{text:s._1(ke.Message.to_s,{id:"2b4356dc9329c02442d833ffa8c3151d",defaultMessage:"The date we last verified the link as live."}),link:void 0,id:"se_outgoing_links_last_checked_column_tooltip"},groupingSimilar:{text:s._1(ke.Message.to_s,{id:"79d5f63e601937c56e89bc551014e7a4",defaultMessage:"The number of links with the same anchor and surrounding text that were grouped together."}),link:void 0,id:"se_outgoing_links_grouping_similar_column_tooltip"},groupingLinks:{text:s._1(ke.Message.to_s,{id:"b2935d21522987876d5e074be1042fc3",defaultMessage:"The number of other links that also point to the same target domain."}),link:void 0,id:"se_outgoing_links_grouping_links_column_tooltip"}},sg={linkedDomains:{text:s._1(ke.Message.to_s,{id:"86cc3448e8feefb74aa5fa6a22293353",defaultMessage:"The number of unique domains linked from your target with a given anchor."}),link:void 0,id:"se_outgoing_anchors_linked_domains_column_tooltip"},linkedPages:{text:s._1(ke.Message.to_s,{id:"00307eaa5747d8bf6755649e4e9e6c85",defaultMessage:"The number of unique pages linked from your target with a given anchor."}),link:void 0,id:"se_outgoing_anchors_linked_pages_column_tooltip"},linksFromTarget:{text:s._1(ke.Message.to_s,{id:"03c7d8f53ee2f20711b3700625acc4ff",defaultMessage:"The number of outbound links your target has with a given anchor."}),link:void 0,id:"se_outgoing_anchors_links_from_target_column_tooltip"},dofollow:{text:s._1(ke.Message.to_s,{id:"79ad1cee3e1cca02d22b2bd590218510",defaultMessage:"The number of outbound links with a given anchor from your target that don’t have the “nofollow” attribute."}),link:void 0,id:"se_outgoing_anchors_dofollow_column_tooltip"},firstSeen:{text:s._1(ke.Message.to_s,{id:"6bf287f35d74f6b691d50fec3579bb1d",defaultMessage:"The date we first found a link with a given anchor on your target."}),link:void 0,id:"se_outgoing_anchors_first_seen_column_tooltip"}},lg={targetChecked:{text:s._1(ke.Message.to_s,{id:"392b1441cdfbd2a5b4cbbaf4e21b50e7",defaultMessage:"The date we last re-crawled the target page to verify that it is broken."}),link:void 0,id:"se_broken_backlinks_target_checked_column_toolip"},refPageChecked:{text:s._1(ke.Message.to_s,{id:"afe6422744ee0b8a050e7f62b4c73cc5",defaultMessage:"The date we last re-crawled the referring page to verify the backlink is alive."}),link:void 0,id:"se_broken_backlinks_ref_page_checked_column_toolip"}},dg={targetPage:{text:s._1(ke.Message.to_s,{id:"c9132ce82ad99538498f24ed6e903874",defaultMessage:"The title and URL of the page on your website."}),link:void 0,id:"se_bbl_target_page_column_tooltip"},status:{text:s._1(ke.Message.to_s,{id:"424d1fa18f8951b92191247cc69b51a0",defaultMessage:"“New” marks pages that are newly found for the current filters. “Lost” marks pages that no longer exist for the current filters."}),link:void 0,id:"se_bbl_status_column_tooltip"},refDomains:{text:s._1(ke.Message.to_s,{id:"c3a29c33831c0c3087e7d225e7212d3e",defaultMessage:"The number of unique domains linking to your target page."}),link:void 0,id:"se_bbl_ref_domains_column_tooltip"},topDr:{text:s._1(ke.Message.to_s,{id:"1d28cfff6b4b320067f242b9d8688192",defaultMessage:"The highest Domain Rating (DR) counted out of all referring domains. DR shows the strength of a website’s backlink profile compared to the others in our database on a 100-point scale."}),link:"https://help.ahrefs.com/en/articles/1409408-what-is-ahrefs-domain-rating",id:"se_bbl_top_dr_column_tooltip"},linksToTarget:{text:s._1(ke.Message.to_s,{id:"0b00b4c584341ae0122c78ed4727c79e",defaultMessage:"The number of inbound backlinks your target page has."}),link:void 0,id:"se_bbl_links_to_target_column_tooltip"},newLinks:{text:s._1(ke.Message.to_s,{id:"cb9dd90604806f617cb1dc2b01b8f577",defaultMessage:"The number of new backlinks found during the selected time period."}),link:void 0,id:"se_bbl_new_links_column_tooltip"},lostLinks:{text:s._1(ke.Message.to_s,{id:"1c15e6925a9cbae90718d4d58af078d2",defaultMessage:"The number of backlinks lost during the selected time period."}),link:void 0,id:"se_bbl_lost_links_column_tooltip"},dofollow:{text:s._1(ke.Message.to_s,{id:"edfee586ad2751e02b2708c4bced996c",defaultMessage:"The number of links to your target page that don’t have the “nofollow” attribute."}),link:void 0,id:"se_bbl_dofollow_column_tooltip"},nofollow:{text:s._1(ke.Message.to_s,{id:"541998f18ee83b519001b635fa12e8cf",defaultMessage:"The number of links to your target page that have the “nofollow” attribute."}),link:void 0,id:"se_bbl_nofollow_column_tooltip"},redirects:{text:s._1(ke.Message.to_s,{id:"a4563196a804876e5cc33687923a6633",defaultMessage:"The number of inbound redirects to your target page."}),link:void 0,id:"se_bbl_redirects_column_tooltip"},canonical:{text:s._1(ke.Message.to_s,{id:"d66e2a1b65793687b3abaa87aa1ff9ce",defaultMessage:"The number of inbound canonical links to your target page."}),link:void 0,id:"se_bbl_canonical_column_tooltip"},firstSeen:{text:s._1(ke.Message.to_s,{id:"c423d5a23ccd7b12e625510c768b74cc",defaultMessage:"The date we first found a link to your target page."}),link:void 0,id:"se_bbl_first_seen_column_tooltip"},lastSeen:{text:s._1(ke.Message.to_s,{id:"04a1b2e716b676d0f32a9555f0d6eb26",defaultMessage:"The date we last verified a link to your target page as live."}),link:void 0,id:"se_bbl_last_seen_column_tooltip"},lastCrawled:{text:s._1(ke.Message.to_s,{id:"df0bbf857bd50f5416efd14a567bd434",defaultMessage:"The date we last crawled your target page."}),link:void 0,id:"se_bbl_last_crawled_column_tooltip"}},cg={referringPage:{text:s._1(ke.Message.to_s,{id:"bcc4fdb6097e722b746ff58811ddaa80",defaultMessage:"The title and URL of the page containing a link to your target."}),link:void 0,id:"se_backlinks_referring_page_column_tooltip"},dr:{text:s._1(ke.Message.to_s,{id:"22379509df93c01dbd45c1a9950772c4",defaultMessage:"Domain Rating (DR) shows the strength of a website’s backlink profile compared to the others in our database on a 100-point scale. It’s essentially a less granular version of Ahrefs Rank (AR)."}),link:"https://help.ahrefs.com/en/articles/1409408-what-is-ahrefs-domain-rating",id:"se_domain_rating_tooltip"},urUnavailable:{text:s._1(ke.Message.to_s,{id:"614ba97c1a343bc2556b2eb093a2d282",defaultMessage:"URL Rating wasn’t populated for this link yet. It will be added the next time the link is crawled."}),link:void 0,id:"se_ur_unavailable_tooltip"},referringDomain:{text:s._1(ke.Message.to_s,{id:"27caa4ceac924883e0735cf3e1e43667",defaultMessage:"The number of unique referring domains linking to the referring page."}),link:void 0,id:"se_backlinks_referring_domain_column_tooltip"},linkedDomains:{text:s._1(ke.Message.to_s,{id:"08c1c22f83442cd6f6e919f58adfa6b1",defaultMessage:"The number of unique root domains linked from the referring page."}),link:void 0,id:"se_backlinks_linked_domains_column_tooltip"},ext:{text:s._1(ke.Message.to_s,{id:"4f2c623da6476f13bfd72552730cf5d3",defaultMessage:"The number of external links from the referring page."}),link:void 0,id:"se_backlinks_ext_column_tooltip"},domainTraffic:{text:s._1(ke.Message.to_s,{id:"dc9f85ebc6a24e2cc6bb8ef70419b08d",defaultMessage:"The referring domain’s estimated monthly organic traffic from search."}),link:"https://help.ahrefs.com/en/articles/1863206-what-is-organic-traffic-in-ahrefs-and-how-do-we-calculate-it",id:"se_organic_domaintraffic_column_tooltip"},traffic:{text:s._1(ke.Message.to_s,{id:"97badb846fc702d8060130644b686822",defaultMessage:"The referring page’s estimated monthly organic traffic from search."}),link:"https://help.ahrefs.com/en/articles/1863206-what-is-organic-traffic-in-ahrefs-and-how-do-we-calculate-it",id:"se_organic_traffic_column_tooltip"},keywords:{text:s._1(ke.Message.to_s,{id:"06bd138b8f032bdd6d254816d7ba2a1b",defaultMessage:"The number of keywords that the referring page ranks for in the top 100 positions."}),link:"https://ahrefs.com/blog/seo-metrics/#section6",id:"se_backlinks_keywords_column_tooltip"},anchorAndTargetUrl:{text:s._1(ke.Message.to_s,{id:"ebbf00bdb2f7a2dc0fc01ea7a4e41c80",defaultMessage:"The anchor text of the link and the URL it points to. We also include a snippet of the text surrounding it."}),link:void 0,id:"se_backlinks_anchor_target_url_column_tooltip"},firstSeen:{text:s._1(ke.Message.to_s,{id:"708e21fa4b2da8b6c046e46c54972e5d",defaultMessage:"The date we first found a backlink to your target on a given referring page."}),link:void 0,id:"se_backlinks_first_seen_column_tooltip"},lastSeenLive:{text:s._1(ke.Message.to_s,{id:"2bc82485a1c00083b8d1006b251366a9",defaultMessage:"The date we last verified a backlink as live."}),link:void 0,id:"se_backlinks_last_seen_live_column_tooltip"},lastSeen:{text:s._1(ke.Message.to_s,{id:"2752cb0ef66e3003cf7675517e2e6453",defaultMessage:"The date we last saw the backlink."}),link:void 0,id:"se_backlinks_last_seen_column_tooltip"},groupingSimilar:{text:s._1(ke.Message.to_s,{id:"aa4eb4c7c4271e4645bb45cf71fd091b",defaultMessage:"The number of backlinks with the same anchor and surrounding text that were grouped together."}),link:void 0,id:"se_backlinks_grouping_similar_column_tooltip"},groupingLinks:{text:s._1(ke.Message.to_s,{id:"bba1157ef7318f82709ec2230fdf4503",defaultMessage:"The number of other backlinks that also come from the same referring domain."}),link:void 0,id:"se_backlinks_grouping_links_column_tooltip"}},ug={anchorText:{text:s._1(ke.Message.to_s,{id:"a0b56754cd5513028b57d1fe8e9d8d0d",defaultMessage:"The clickable words in a link that point to a URL."}),link:void 0,id:"se_anchors_anchortext_tooltip"},status:{text:s._1(ke.Message.to_s,{id:"2b74d621111a8affda71b473f913b0bd",defaultMessage:"“New” marks anchor text that is newly found in links for the current filters. “Lost” marks anchor text that is no longer used in any links for the current filters."}),link:void 0,id:"se_anchors_status_toolip"},refdomains:{text:s._1(ke.Message.to_s,{id:"99cc6cfb19557d526f3bb6e1e45fe170",defaultMessage:"The number of unique domains linking to your target with a given anchor."}),link:void 0,id:"se_anchors_refdomains_tooltip"},topDr:{text:s._1(ke.Message.to_s,{id:"1d28cfff6b4b320067f242b9d8688192",defaultMessage:"The highest Domain Rating (DR) counted out of all referring domains. DR shows the strength of a website’s backlink profile compared to the others in our database on a 100-point scale."}),link:"https://help.ahrefs.com/en/articles/1409408-what-is-ahrefs-domain-rating",id:"se_anchors_topdr_tooltip"},refpages:{text:s._1(ke.Message.to_s,{id:"9f2adb5682c4ce277cbc16f9d5da00ff",defaultMessage:"The number of pages containing a link with a given anchor to your target."}),link:void 0,id:"se_anchors_refpages_tooltip"},linksToTarget:{text:s._1(ke.Message.to_s,{id:"ec5453bd2b3fdaf12f547c92f7befa58",defaultMessage:"The number of inbound backlinks your target has with a given anchor."}),link:void 0,id:"se_anchors_linkstotarget_tooltip"},newLinks:{text:s._1(ke.Message.to_s,{id:"b37808ff694967ad0ee3d06c72f35499",defaultMessage:"The number of new backlinks with a given anchor found during the selected time period."}),link:void 0,id:"se_anchors_newlinks_tooltip"},lostLinks:{text:s._1(ke.Message.to_s,{id:"7010db9737bd635f781d6888aeae5344",defaultMessage:"The number of backlinks with a given anchor lost during the selected time period."}),link:void 0,id:"se_anchors_lostlinks_tooltip"},dofollowLinks:{text:s._1(ke.Message.to_s,{id:"3fe96f6a81be8598b73c13714a50e12d",defaultMessage:"The number of links with a given anchor to your target that don’t have the “nofollow” attribute."}),link:void 0,id:"se_anchors_dofollowlinks_tooltip"},firstSeen:{text:s._1(ke.Message.to_s,{id:"2e47b5c3c15cf5a438c7977e866a8a68",defaultMessage:"The date we first found a link with a given anchor to your target."}),link:void 0,id:"se_anchors_firstseen_tooltip"},lost:{text:s._1(ke.Message.to_s,{id:"1f03e7f2228a3f5f84eba6d9531262a2",defaultMessage:"The date we last verified any backlink with a given anchor to be live."}),link:void 0,id:"se_anchors_lost_tooltip"}},gg={domain:{text:s._1(ke.Message.to_s,{id:"ef4c77e62ebf1da88f0ac36a1578fc08",defaultMessage:"A referring domain that has at least one link to your target."}),link:void 0,id:"se_refdomains_domain_column_tooltip"},status:{text:s._1(ke.Message.to_s,{id:"c5992560c1dd64728bac8613844828ab",defaultMessage:"“New” marks referring domains that are newly found for the current filters. “Lost” marks referring domains that no longer exist for the current filters."}),link:void 0,id:"se_refdomains_status_column_tooltip"},dr:{text:s._1(ke.Message.to_s,{id:"e16d135badd8c1198b30f439ec4469c2",defaultMessage:"Domain Rating (DR) shows the strength of a domain’s backlink profile compared to the others in our database on a 100-point scale. It’s essentially a less granular version of Ahrefs Rank (AR)."}),link:"https://help.ahrefs.com/en/articles/1409408-what-is-ahrefs-domain-rating",id:"se_refdomains_dr_tooltip"},dofollowRefDomains:{text:s._1(ke.Message.to_s,{id:"216c2de001f1d10f3c19e443419bcc4e",defaultMessage:"The number of unique domains with dofollow links to the referring domain."}),link:void 0,id:"se_refdomains_dofollow_ref_domains_column_tooltip"},dofollowLinkedDomains:{text:s._1(ke.Message.to_s,{id:"361efc18be22bbdfd3e63bd1dc9ebfed",defaultMessage:"The number of unique root domains with dofollow links from the referring domain."}),link:void 0,id:"se_refdomains_dofollow_linked_domains_column_tooltip"},traffic:{text:s._1(ke.Message.to_s,{id:"dc9f85ebc6a24e2cc6bb8ef70419b08d",defaultMessage:"The referring domain’s estimated monthly organic traffic from search."}),link:"https://help.ahrefs.com/en/articles/1863206-what-is-organic-traffic-in-ahrefs-and-how-do-we-calculate-it",id:"se_refdomains_traffic_column_tooltip"},linksToTarget:{text:s._1(ke.Message.to_s,{id:"66a563777db221558a37d1989d6b3fc0",defaultMessage:"The number of backlinks from the referring domain to your target."}),link:void 0,id:"se_refdomains_links_to_target_column_tooltip"},dofollowLinks:{text:s._1(ke.Message.to_s,{id:"2f1c6a8cba14d86835a926027ca0ccbf",defaultMessage:"The number of links from the referring domain to your target that don’t have the “nofollow” attribute."}),link:void 0,id:"se_refdomains_dofollow_links_column_tooltip"},firstSeen:{text:s._1(ke.Message.to_s,{id:"234268e46bd5da8461cfe4d13ffa9739",defaultMessage:"The date we first found a backlink to your target from the referring domain."}),link:void 0,id:"se_refdomains_first_seen_column_tooltip"},lost:{text:s._1(ke.Message.to_s,{id:"31c413b139b6d7d71a06c82653d24dee",defaultMessage:"The date we last saw any backlink to your target from the referring domain."}),link:void 0,id:"se_refdomains_lost_column_tooltip"},lostLinks:{text:s._1(ke.Message.to_s,{id:"2b2e69b2355782f3658895022774e149",defaultMessage:"The number of backlinks lost from the referring domain for the selected time period."}),link:void 0,id:"se_refdomains_lostlinks_column_tooltip"},newLinks:{text:s._1(ke.Message.to_s,{id:"1e7d9e4d888a854e7ccc78cbeac4f50f",defaultMessage:"The number of new backlinks found from the referring domain for the selected time period."}),link:void 0,id:"se_refdomains_newlinks_column_tooltip"}};function mg(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"b650f3cf886f73fd41bcd847993fa785",defaultMessage:"All"});case 1:return s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"});case 2:return s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"})}}function fg(e){switch(e){case 0:return"all";case 1:return"new";case 2:return"lost"}}function pg(e){switch(e){case"all":default:return 0;case"lost":return 2;case"new":return 1}}var _g={hd:0,tl:{hd:1,tl:{hd:2,tl:0}}},hg=It.Make({key:"history",$$default:0,localStorageKey:void 0,toString:function(e){return fg(e)},ofString:function(e){return me.map(e,pg)}});function kg(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"d9cba838ff984263657a121523a49ab8",defaultMessage:"See all backlinks that were live on our last re-crawl plus the backlinks marked as “lost” within your selected time frame."});case 1:return s._1(ke.Message.to_s,{id:"3db8e429ff5ce7e7405aaa980d809b9f",defaultMessage:"See only backlinks that our crawler first discovered within your selected time frame."});case 2:return s._1(ke.Message.to_s,{id:"109eb4f2edefae638501435dd0cc045b",defaultMessage:"See only backlinks that were marked as “lost” on the latest re-crawl within your selected time frame."})}}var vg=function(e){var t=e.selectedItem,r=e.itemTooltip,o=e.tooltipTarget,i=e.disabledItems,n=e.onClick,d=void 0!==i?i:0;return z.createElement(Qt.make,{children:a.list(ce.map(_g,(function(e){var i={isSelected:t===e,disabled:ce.has(d,e,Qr.equal),onClick:function(t){return s._1(n,e)},children:a.s(mg(e)),key:fg(e)},c=me.map(r,(function(t){return a.s(s._1(t,e))}));return void 0!==c&&(i.tooltip=l.valFromOption(c)),void 0!==o&&(i.tooltipTarget=l.valFromOption(o)),z.createElement(Qt.Button.make,i)})))})},yg=r(56722),Dg=r(26001),Sg=r(19015),Fg=r(84146),Cg=r(13700),wg=r(20402),Tg=r(79891),bg=r(43260),Pg=r(49729),Mg=r(37677);function Ag(e){if("number"!=typeof e){var t=Bt.getStartOfDayMomentUtc(e._0),r=Bt.getEndOfDayMomentUtc(e._1);return s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:44,_1:{TAG:2,_0:0,_1:0}}},_1:"%s,%s"}),ne.apiDateUtc(Bt.toJsUtc(t)),ne.apiDateUtc(Bt.toJsUtc(r)))}switch(e){case 0:return"24h";case 1:return"7d";case 2:return"30d";case 3:return"6m";case 4:return"1y"}}function Rg(e){if("number"!=typeof e)return{TAG:3,_0:e._0,_1:e._1};switch(e){case 0:return{TAG:0,_0:1};case 1:return{TAG:0,_0:7};case 2:return{TAG:0,_0:30};case 3:return{TAG:1,_0:6};case 4:return{TAG:2,_0:1}}}Bt.fromStringUtc;var Lg={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:0}}}}},Eg=It.Make({key:"firstSeen",$$default:void 0,localStorageKey:void 0,toString:function(e){return me.flatMap(e,Ag)},ofString:function(e){if(void 0!==e&&""!==e)return l.some(function(e){switch(e){case"1y":return 4;case"24h":return 0;case"30d":return 2;case"6m":return 3;case"7d":return 1;default:var t=e.split(",");if(2!==t.length)return;var r=t[0],a=t[1];return{_0:Bt.getStartOfDayMomentUtc(Bt.fromStringUtc(r)),_1:Bt.getEndOfDayMomentUtc(Bt.fromStringUtc(a))}}}(e))}});function Bg(e,t,r,a){var o=void 0!==t&&t;if(void 0!==r){var i=Tg.toDates(Rg(r)),n=i[1],s=i[0],l=Math.imul(wg.div(Bt.now(void 0).minute(),5),5),d=function(e){return(o?e:re.Moment.setMinute(l,e)).format()},c=Ea.field(Da.any(e)),u=o?re.Moment.startOf("day",s):s,g=o?re.Moment.endOf("day",n):n;return Ea.$amp$amp(Ea.$great$eq(c,d(u)),Ea.$less$eq(c,d(g)))}}var Kg=function(e){var t=e.selectedItem,r=e.showUpgradeMessage,a=e.items,o=e.onChange,i=e.onReset,n=void 0!==r&&r,d=void 0!==a?a:0,c=ce.map(Lg,(function(e){return s._4(Tg.makeItem,function(e){if("number"!=typeof e)return"";switch(e){case 0:return s._1(ke.Message.to_s,{id:"3735c2f2961f622fd549940e20052287",defaultMessage:"Last 24 hours"});case 1:return s._1(ke.Message.to_s,{id:"adc588b4698d02f76f471edeca13395d",defaultMessage:"Last 7 days"});case 2:return s._1(ke.Message.to_s,{id:"b16485eae8d685f0f6ee35f0d4207928",defaultMessage:"Last 30 days"});case 3:return s._1(ke.Message.to_s,{id:"69822e32ceb59e7315f4e337df4c8c8b",defaultMessage:"Last 6 months"});case 4:return s._1(ke.Message.to_s,{id:"5a65ec91b2beec962748dd7558a44a97",defaultMessage:"Last year"})}}(e),Rg(e),(t=e,!ce.has(d,t,Qr.equal)),void 0);var t})),u=n?l.some(Vt.fullHistory):void 0,g=z.useRef(null),m=me.isSome(t),f={icon:z.createElement(Xe.Calendar.make,Xe.Calendar.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),customRange:[void 0,void 0],defaultText:"",items:c,controlLabelText:s._1(ke.Message.to_s,{id:"fc0bb0000257ff0076d9a54a2ffb01ee",defaultMessage:"First seen"})+(m?": ":""),customControl:{TAG:0,_0:g,_1:function(e,t,r){return z.createElement("div",{className:Mg.controlGroup},z.createElement("div",{className:Mg.button},z.createElement(Pg.make,{toggleIconPosition:m?"hide":"default",disabled:e,roundness:m?"leftOnly":"full",active:m,domRef:g,onMouseDown:t,children:r})),m?z.createElement("div",{className:Mg.clearButton(!1)},z.createElement(ht.make,{color:"selected",roundness:"rightOnly",disabled:e,width:"fit",onClick:function(e){return s._1(i,void 0)},children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))})):null)}},hintPosition:0,onChange:function(e){return s._1(o,function(e){switch(0|e.TAG){case 0:var t=e._0;return 1!==t?7!==t?2:1:0;case 1:return 6!==e._0?2:3;case 2:return 1!==e._0?2:4;case 3:return{_0:e._0,_1:e._1}}}(e))}},p=me.map(t,Rg);return void 0!==p&&(f.selectedItem=l.valFromOption(p)),void 0!==u&&(f.hint=l.valFromOption(u)),z.createElement(Tg.make,f)},qg=et.style([et.label("inlineBadge"),et.display("inlineBlock"),et.marginRight(tt.NewSize.px4)]),xg=r(44538);function Wg(e){if("number"!=typeof e)return{TAG:3,_0:e._0,_1:e._1};switch(e){case 0:return{TAG:0,_0:1};case 1:return{TAG:0,_0:7};case 2:return{TAG:0,_0:30};case 3:return{TAG:1,_0:3};case 4:return{TAG:1,_0:6};case 5:return{TAG:2,_0:1};case 6:return{TAG:2,_0:2};case 7:return{TAG:3,_0:Ce,_1:Tg.now}}}re.momentWithUnix;var Ug={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:0}}}}}}}};function Og(e){var t=ce.reduce(e,Tg.now,(function(e,t){var r=Tg.toDates(Wg(t))[0];return r.isBefore(e)?r:e}));return[l.some(t),l.some(Tg.now)]}var Ng=It.Make({key:"historyDateRange",$$default:2,localStorageKey:void 0,toString:function(e){if("number"!=typeof e)return s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}},_1:"%s-%s"}),e._0.unix().toString(),e._1.unix().toString());switch(e){case 0:return"24h";case 1:return"7d";case 2:return;case 3:return"3m";case 4:return"6m";case 5:return"1y";case 6:return"2y";case 7:return"all"}},ofString:function(e){return function(e){if(void 0===e)return 2;switch(e){case"1y":return 5;case"24h":return 0;case"2y":return 6;case"30d":return 2;case"3m":return 3;case"6m":return 4;case"7d":return 1;case"all":return 7;default:var t=e.split("-");if(2!==t.length)return 2;var r=t[0],a=t[1],o=fo.int_of_string_opt(r),i=fo.int_of_string_opt(a);return void 0!==o&&void 0!==i?{_0:re.momentWithUnix(o),_1:re.momentWithUnix(i)}:2}}(e)}}),$g=function(e){var t=e.selectedItem,r=e.showUpgradeMessage,a=e.items,o=e.onChange,i=void 0!==r&&r,n=void 0!==a?a:0,d=ce.map(Ug,(function(e){return s._4(Tg.makeItem,function(e){if("number"!=typeof e)return"";switch(e){case 0:return s._1(ke.Message.to_s,{id:"3735c2f2961f622fd549940e20052287",defaultMessage:"Last 24 hours"});case 1:return s._1(ke.Message.to_s,{id:"adc588b4698d02f76f471edeca13395d",defaultMessage:"Last 7 days"});case 2:return s._1(ke.Message.to_s,{id:"b16485eae8d685f0f6ee35f0d4207928",defaultMessage:"Last 30 days"});case 3:return s._1(ke.Message.to_s,{id:"3a7def688f39caff6f46fe332a2a246b",defaultMessage:"Last 3 months"});case 4:return s._1(ke.Message.to_s,{id:"69822e32ceb59e7315f4e337df4c8c8b",defaultMessage:"Last 6 months"});case 5:return s._1(ke.Message.to_s,{id:"5a65ec91b2beec962748dd7558a44a97",defaultMessage:"Last year"});case 6:return s._1(ke.Message.to_s,{id:"7f8149ee90503ee74f1f592609bd969f",defaultMessage:"Last 2 years"});case 7:return s._1(ke.Message.to_s,{id:"57e53f21952b342267436c5434e259e6",defaultMessage:"All time"})}}(e),Wg(e),(t=e,!ce.has(n,t,Qr.equal)),void 0);var t})),c=i?l.some(Vt.fullHistory):void 0,u={icon:z.createElement(Xe.Calendar.make,Xe.Calendar.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),customRange:Og(n),selectedItem:Wg(t),items:d,controlLabelText:"",hintPosition:0,onChange:function(e){return s._1(o,function(e){switch(0|e.TAG){case 0:var t=e._0;return 1!==t?7!==t?2:1:0;case 1:var r=e._0;return 3!==r?6!==r?2:4:3;case 2:var a=e._0;return 1!==a?2!==a?2:6:5;case 3:var o=e._0;return mt.caml_equal(o,Ce)?7:{_0:o,_1:e._1}}}(e))}};return void 0!==c&&(u.hint=l.valFromOption(c)),z.createElement(Tg.make,u)};function Ig(e,t,r){return t?{hd:r,tl:e}:e}function Gg(e){return me.map(Da.conjunct(ce.filterMap(ce.flatten(e),(function(e){return e}))),Da.makeFilter)}var Qg=s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0))))),Vg=s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)),0))));function jg(e){return de.mapWithLoading(e,(function(e){return{count:e.count,rows:e.rows,stats:e.stats}}))}var Hg={rowFieldsAgg:s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.target_similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)))),0))))),rowFieldsNotAgg:s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.target_similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)),0)))),remoteDataToRows:function(e){return de.mapWithLoading(e,(function(e){return{count:e.count,rows:e.rows,stats:e.stats}}))}},zg={rowFieldsAgg:s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.root_domain_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)))),0))))),rowFieldsNotAgg:s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.root_domain_hash)),0)))),remoteDataToRows:function(e){return de.mapWithLoading(e,(function(e){return{count:e.count,rows:e.rows,stats:e.stats}}))},fromBacklinksAgg:function(e){return e>=2?1:0},toBacklinksAgg:function(e){return e?2:0}},Yg=zu(dt.compare);function Jg(e,t){return!e||e.hd!==t}dt.compare;var Xg=function(e){return oe.make(Yg)},Zg=function(e,t){return[0,me.getWithDefault(e,oe.make(Yg))]},em=function(e,t,r,a,o){return s._1(e,[{hd:a,tl:t},oe.set(r,o,Jg(t,a))])},tm=function(e,t,r){return 1!==e?{TAG:0,_0:r}:{TAG:1,_0:t}},rm=function(e,t){var r;return r=0===t.TAG?"groupsimilar"+dt.to_string(t._0):"onelinkperdomain"+dt.to_string(t._0),dt.to_string(e)+r};function am(e){switch(0|e.TAG){case 0:case 1:return!1;case 2:return!0}}function om(e){switch(0|e.TAG){case 1:return!0;case 0:case 2:return!1}}function im(e){switch(0|e.TAG){case 0:return e._0.highlightChanges>=8;case 1:case 2:return!1}}function nm(e){switch(0|e.TAG){case 0:return 0===e._0.highlightChanges;case 1:case 2:return!1}}function sm(e){switch(0|e.TAG){case 0:return!0;case 1:case 2:return!1}}function lm(e,t){var r;switch(0|e.TAG){case 0:var a=e._0.highlightChanges;return 0!==a&&(a>=8||me.mapWithDefault(xg.valueToDate(a),!1,(function(e){var r=Z(e);return t.isSameOrAfter(r)})));case 1:var o=e._0.dateRange;if("number"==typeof o){if(o>=7)return!0;r=o}else r=o;break;case 2:var i=e._0.dateRange;if("number"==typeof i){if(i>=7)return!0;r=i}else r=i}var n=Tg.toDates(Wg(r))[0];return t.isSameOrAfter(n)}var dm={withoutStatus:function(e){switch(0|e.TAG){case 0:return e;case 1:var t=e._0;return void 0!==t.status?{TAG:1,_0:{dateRange:t.dateRange,status:void 0,liveOnly:t.liveOnly}}:e;case 2:var r=e._0;return void 0!==r.status?{TAG:2,_0:{dateRange:r.dateRange,status:void 0}}:e}},withoutLiveOnly:function(e){switch(0|e.TAG){case 1:var t=e._0;return{TAG:1,_0:{dateRange:t.dateRange,status:t.status,liveOnly:!1}};case 0:case 2:return e}},toHistoryMode:function(e){switch(0|e.TAG){case 0:var t=e._0.highlightChanges;return 0!==t?t>=8?2:1:0;case 1:return 1;case 2:var r=e._0.dateRange;return"number"==typeof r&&r>=7?2:1}},toSince:function(e){var t;switch(0|e.TAG){case 0:return xg.valueToDate(e._0.highlightChanges);case 1:var r=e._0.dateRange;if("number"==typeof r){if(r>=7)return;t=r}else t=r;break;case 2:var a=e._0.dateRange;if("number"==typeof a){if(a>=7)return;t=a}else t=a}return l.some(Bt.fromStringUtc(ne.moment(void 0,Tg.toDates(Wg(t))[0].utc(),"dateWithDashes")).toDate())},isLost:am,isNew:om,isAllHighlightall:im,isAllNoHighlight:nm,showExportNewLostColumns:function(e){return!om(e)&&!am(e)&&!nm(e)},isAll:sm,withinDesiredDateRange:lm,showChanges:function(e){switch(0|e.TAG){case 0:return 0!==e._0.highlightChanges;case 1:case 2:return!0}},showNewAndLostLinks:function(e){switch(0|e.TAG){case 0:return 0!==e._0.highlightChanges;case 1:case 2:return!1}}},cm=ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl;function um(e,t,r,a){var o=void 0!==r&&r,i=Math.imul(wg.div(Bt.now(void 0).minute(),5),5),n=function(e){return(o?e:re.Moment.setMinute(i,e)).format()},s=Ea.field(Da.any(t)),l=Tg.toDates(Wg(e)),d=l[1],c=l[0],u=o?re.Moment.startOf("day",c):c,g=o?re.Moment.endOf("day",d):d;return Ea.$amp$amp(Ea.$great$eq(s,n(u)),Ea.$less$eq(s,n(g)))}function gm(e){var t=Ea.field(Da.any(s._1(cm.get,cm.discovered_status)));if(void 0!==e)switch(e){case 0:return Ea.eq(t,"pagefound");case 1:return Ea.eq(t,"linkfound");case 2:return Ea.eq(t,"linkrestored")}}function mm(e){var t=Ea.field(Da.any(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.lost_reason))),r=Ea.field(Da.any(s._1(ft.Backlinks.BacklinksFields.SourcePage.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Deindexed.drop_reason)));if(void 0!==e)switch(e){case 0:return Ea.eq(t,"removedfromhtml");case 1:return Ea.eq(t,"lostredirect");case 2:return Ea.eq(t,"notfound");case 3:return Ea.eq(t,"pageredirected");case 4:return Ea.eq(t,"noindex");case 5:return Ea.eq(t,"notcanonical");case 6:return Ea.eq(t,"pageerror");case 7:return Ea.not$prime(Ea.is_null(r))}}var fm={isGenericNew:function(e,t,r){return!(!sm(e)&&!om(e)||!1!==im(e)||!lm(e,t))&&me.isNone(r)},isNewlyPublished:function(e,t,r){return!(!sm(e)&&!om(e)||!1!==im(e)||!lm(e,t))&&me.mapWithDefault(r,!1,(function(e){return"Pagefound"===e}))},isAddedToExistingPage:function(e,t,r){return!(!sm(e)&&!om(e)||!1!==im(e)||!lm(e,t))&&me.mapWithDefault(r,!1,(function(e){return"Linkfound"===e}))},isRestored:function(e,t,r){return!(!sm(e)&&!om(e)||!1!==im(e)||!lm(e,t))&&me.mapWithDefault(r,!1,(function(e){return"Linkrestored"===e}))},getLostStatus:function(e,t){return void 0!==t?7:void 0!==e?"Noindex"===e?4:"Pageredirected"===e?3:"Not_found"===e?2:"Lostredirect"===e?1:"Removedfromhtml"===e?0:"Notcanonical"===e?5:"Pageerror"===e?6:void 0:void 0}},pm={toDateRangeFilter:um,toNewStatusFilter:gm,toLostStatusFilter:mm,makeCalendarChFilter:function(e,t,r,a,o){var i=Da.conjunctOpt({hd:s._4(um,{_0:t,_1:r},s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen),!0,void 0),tl:{hd:s._1(gm,a),tl:0}}),n=Da.conjunctOpt({hd:s._4(um,{_0:t,_1:r},s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_seen),!0,void 0),tl:{hd:mm(o),tl:0}});switch(e){case 0:return Da.disjunctOpt({hd:i,tl:{hd:n,tl:0}});case 1:return i;case 2:return n}},makeChFilter:function(e){var t=Da.any(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_seen)),r=Ea.is_null(Ea.field(t));switch(0|e.TAG){case 0:return;case 1:var a=e._0,o=a.dateRange;if("number"==typeof o&&o>=7){var i=a.status;return void 0!==i?a.liveOnly?Da.conjunctOpt({hd:s._1(gm,i),tl:{hd:r,tl:0}}):s._1(gm,i):a.liveOnly?r:void 0}var n=a.status;return a.liveOnly?Da.conjunctOpt({hd:s._4(um,o,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen),void 0,void 0),tl:{hd:s._1(gm,n),tl:{hd:r,tl:0}}}):Da.conjunctOpt({hd:s._4(um,o,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen),void 0,void 0),tl:{hd:s._1(gm,n),tl:0}});case 2:var l=e._0,d=l.dateRange;return"number"==typeof d&&d>=7?Da.conjunctOpt({hd:Ea.$great$eq(Ea.field(t),Ce.unix()),tl:{hd:mm(l.status),tl:0}}):Da.conjunctOpt({hd:s._4(um,d,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_seen),void 0,void 0),tl:{hd:mm(l.status),tl:0}})}}},_m=ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl;function hm(e,t,r,a){var o=void 0!==r&&r,i=Math.imul(wg.div(Bt.now(void 0).minute(),5),5),n=function(e){return(o?e:re.Moment.setMinute(i,e)).format()},s=Ea.field(Da.any(t)),l=Tg.toDates(Wg(e)),d=l[1],c=l[0],u=o?re.Moment.startOf("day",c):c,g=o?re.Moment.endOf("day",d):d;return Ea.$amp$amp(Ea.$great$eq(s,n(u)),Ea.$less$eq(s,n(g)))}function km(e){var t=Ea.field(Da.any(s._1(_m.get,_m.discovered_status)));if(void 0!==e)switch(e){case 0:return Ea.eq(t,"pagefound");case 1:return Ea.eq(t,"linkfound");case 2:return Ea.eq(t,"linkrestored")}}function vm(e){var t=function(e,t){return Ea.array_any(e,Ea.$$Array.eq(Ea.$$Array.x,t))},r=Da.any(s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Deindexed.lost_reason)),a=Ea.field(Da.any(s._1(ft.Backlinks.BacklinksFields.SourcePage.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Deindexed.drop_reason)));if(void 0!==e)switch(e){case 0:return t(r,"removedfromhtml");case 1:return t(r,"lostredirect");case 2:return t(r,"notfound");case 3:return t(r,"pageredirected");case 4:return t(r,"noindex");case 5:return t(r,"notcanonical");case 6:return t(r,"pageerror");case 7:return Ea.not$prime(Ea.is_null(a))}}var ym={getStatus:function(e,t,r){return void 0!==r?lm(e,t)&&!1===im(e)&&!1===am(e)?3:lm(e,l.valFromOption(r))?1:2:lm(e,t)&&!1===im(e)?0:2}},Dm={toDateRangeFilter:hm,toNewStatusFilter:km,toLostStatusFilter:vm,makeCalendarChFilter:function(e,t,r,a,o){var i=Da.conjunctOpt({hd:s._4(hm,{_0:t,_1:r},s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen),!0,void 0),tl:{hd:s._1(km,a),tl:0}}),n=Da.conjunctOpt({hd:s._4(hm,{_0:t,_1:r},s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.last_seen),!0,void 0),tl:{hd:vm(o),tl:0}});switch(e){case 0:return Da.disjunctOpt({hd:i,tl:{hd:n,tl:0}});case 1:return i;case 2:return n}},makeChFilter:function(e){var t=Da.any(s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.last_seen)),r=Ea.is_null(Ea.field(t));switch(0|e.TAG){case 0:return;case 1:var a=e._0,o=a.dateRange;if("number"==typeof o&&o>=7){var i=a.status;return void 0!==i?a.liveOnly?Da.conjunctOpt({hd:s._1(km,i),tl:{hd:r,tl:0}}):s._1(km,i):a.liveOnly?r:void 0}var n=a.status;return a.liveOnly?Da.conjunctOpt({hd:s._4(hm,o,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen),void 0,void 0),tl:{hd:s._1(km,n),tl:{hd:r,tl:0}}}):Da.conjunctOpt({hd:s._4(hm,o,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen),void 0,void 0),tl:{hd:s._1(km,n),tl:0}});case 2:var l=e._0,d=l.dateRange;return"number"==typeof d&&d>=7?Da.conjunctOpt({hd:Ea.$great$eq(Ea.field(t),Ce.unix()),tl:{hd:vm(l.status),tl:0}}):Da.conjunctOpt({hd:s._4(hm,d,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.last_seen),void 0,void 0),tl:{hd:vm(l.status),tl:0}})}}};function Sm(e){return"Droppedmanual"===e||"Droppedtooold"===e||"Dropped"===e?0:"Nomorecanonical"===e?6:"Codechanged"===e?1:"Targetchanged"===e?8:"Curlerror"===e?4:"Robotsdisallowed"===e?3:"Nxdomain"===e?2:"Invalidtarget"===e?5:7}function Fm(e,t,r,a,o,i){var l,d,c=mt.caml_equal(r,a),u=me.mapWithDefault(r,0===a,(function(e){return e===(a-1|0)})),g=me.mapWithDefault(r,!0,(function(e){return a>e})),m=s._1(n.Url.wrap,e),f=me.map(o,n.Url.wrap),p=u&&mt.caml_equal(i,"Targetchanged");if(void 0!==i){var _=0;"Targetchanged"===i&&u?l=me.map(me.map(i,Sm),bg.showReason):_=1,1===_&&(l=c&&"Targetchanged"!==i?me.map(me.map(i,Sm),bg.showReason):void 0)}else l=void 0;if(void 0!==i){var h=0;"Codechanged"===i||"Nomorecanonical"===i?g?d=[!0,!0]:h=1:"Targetchanged"===i&&c?d=[!1,!1]:h=1,1===h&&(d=g?[!0,!1]:[!1,!1])}else d=[!1,!1];return{url:m,urlNew:f,redirectCode:t,mustBeGray:d[0],httpCodeCross:d[1],chainDestinationChanged:p,hasDelReason:me.isSome(l),delReasonTitle:l,delReasonKey:void 0,lostRedirectReason:me.map(i,Sm),isLost:c}}function Cm(e,t,r,a,o){var i=ge.getIndexBy(e,(function(e){return mt.caml_equal(l.some(e),t)}));return ce.reverse(ge.reduceWithIndex(e,0,(function(e,t,n){return{hd:s._1((l=t,function(e){return function(t){return Fm(l,e,i,t,r,a)}})(me.mapWithDefault(ge.get(o,n),0,ie.to_int32)),n),tl:e};var l})))}var wm={isBrokenSource:function(e,t){return mt.caml_equal(l.some(e),t)},toLostRedirectReason:Sm,makeRedirectEntry:Fm,makeList:Cm,linkRenderer:function(e,t,r,a,o,i,s,l,d){var c=r===(a-1|0),u=n.Url.show(e),g=c?[d.contain,d.startWith,d.endWith]:[0,0,0],m=ge.get(t,r),f=void 0!==m?m:Fg.raiseError("SeBacklinksHelpers: rcTkLinkContext_input has different length than url list"),p=on.fromString(f);return z.createElement(z.Fragment,void 0,z.createElement(vn.make,{displayLink:u,tkLinkContextInput:p,color:o||i||s?"grey":"green",highlightAnywhereTerms:g[0],highlightStartTerms:g[1],highlightEndTerms:g[2]}),void 0!==l&&l>=400?z.createElement("div",{className:qg},z.createElement(Io.make,{size:"small",corners:"squared",color:"danger",value:String(l)})):null)},makeData:function(e,t,r,a,o,i,s,l){if(0===e.length)return{initialUrl:n.Url.show(i),initialUrlTkLinkContextInputString:s,redirectChain:0,redirectChainTkLinkContextInput:l};var d=me.getWithDefault(me.map(ge.get(e,0),n.Url.show),""),c=n.Url.show(i),u=me.getWithDefault(ge.get(l,0),""),g=ge.concat(ge.sliceToEnd(l,1),[s]);return{initialUrl:d,initialUrlTkLinkContextInputString:u,redirectChain:Cm(ge.concat(ge.sliceToEnd(ge.map(e,n.Url.show),1),[c]),a,r,o,t),redirectChainTkLinkContextInput:g}}};function Tm(e){return"string"!=typeof e||"HistoryUnlimited"===e}function bm(e){if("string"==typeof e)return"HistoryUnlimited"===e?7:void 0;var t=e.VAL;return"Days"===t.NAME?7===t.VAL?1:void 0:24===t.VAL?6:4}function Pm(e){if("string"==typeof e)return"HistoryUnlimited"===e?4:void 0;var t=e.VAL;if("Days"===t.NAME)return 7===t.VAL?1:void 0;var r=t.VAL;return r>=12?4:r>=6?3:r>=1?2:void 0}var Mm={getMonths:function(e){return 0|Z().diff(Bt.toMomentUtc(e),"months")},isNewLostAllowed:Tm,disabledHistoryModes:function(e){return Tm(e.reportHistoricalPermissions)?void 0:{hd:1,tl:{hd:2,tl:0}}},newLostDateRangeItems:function(e){if("string"==typeof e)return"HistoryUnlimited"===e?Ug:0;var t=e.VAL;return"Days"===t.NAME?7===t.VAL?{hd:0,tl:{hd:1,tl:0}}:0:24===t.VAL?{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:0}}}}}}}:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:0}}}}}},maxNewLostDateRangeItem:bm,maxFirstSeenDateRangeItem:Pm,isNewLostDateRangeItemAllowed:function(e,t){var r=bm(t);if("string"==typeof t)return"HistoryUnlimited"===t;if(void 0===r)return!1;var a=Tg.toDates(Wg(r))[0],o=Tg.toDates(Wg(e))[0];return a.isBefore(o)},isFirstSeenDateRangeItemAllowed:function(e,t){var r=Pm(t);if("string"==typeof t)return"HistoryUnlimited"===t;if(void 0===r)return!1;var a=Tg.toDates(Rg(r))[0],o=Tg.toDates(Rg(e))[0];return a.isBefore(o)}},Am={data:0,offset:0};function Rm(e,t){return{count:e.count+t.count|0,rows:fo.$at(e.rows,t.rows)}}var Lm={count:0,rows:0};function Em(e,t){if("number"==typeof t)return 0!==t?{data:de.toLoading(e.data),offset:e.offset}:{data:0,offset:0};var r=t._0;if("number"==typeof r)return e;switch(0|r.TAG){case 1:return{data:de.hasNotBeenAsked(e.data)?r:e.data,offset:e.offset};case 2:var a=r._0;return{data:{TAG:2,_0:Rm(de.getLoadingWithDefault(e.data,Lm),a)},offset:e.offset+a.count|0};default:return e}}var Bm=function(e){return z.useReducer(Em,Am)},Km=function(e){return ge.filterMap(Sg.mapWithDefault(e,[],(function(e){return Array.prototype.slice.call(e.querySelectorAll("table > tbody > tr > td"))})),(function(e){return me.map(Cg.ofNode(e),(function(e){return{hd:{TAG:0,_0:{NAME:"px",VAL:e.getBoundingClientRect().width}},tl:0}}))}))};function qm(e,t,r,a){var o=me.mapWithDefault(e,!0,(function(e){return me.getWithDefault(oe.get(e,t),!0)}));return o?r:z.createElement("td",void 0)}function xm(e,t,r,a,o){return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,a,o,i,n,l){return qm(t,a,s._3(r,a,o,l))}),a,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,e,0))))))}var Wm=qm,Um=xm,Om=function(e,t,r,a,o){return xm(e,t,(function(e,t,a){return s._1(r,a)}),a)},Nm=function(e,t){return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t){var r={children:null};return void 0!==e&&(r.width=l.valFromOption(e)),z.createElement(va.Td.make,r)}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},0)},$m=r(22031),Im=Go.MakeFilter({key:"filterSubdomains",$$default:!1}),Gm=function(e,t){var r=Ea.field(Da.any(e));if(t)return Ea.eq(r,ie.to_float(ie.one))},Qm=function(e){var t=e.value,r=e.onApply;return z.createElement(Je.make,{gap:"none",fitToContent:!0,fullHeight:!0,align:"center",children:z.createElement(nn.make,{value:t,onChange:function(e){return s._1(r,!t)},children:s._1(ke.Message.to_s,{id:"fddfbb7a251ee8149c6a82dbb27241a3",defaultMessage:"Exclude subdomains"})})})},Vm=r(38160);function jm(e){switch(e){case 0:return"newly-published";case 1:return"link-added";case 2:return"link-restored"}}function Hm(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"814dea2c414391cc7b19e038f48bc9a8",defaultMessage:"Newly published"});case 1:return s._1(ke.Message.to_s,{id:"8824ed47c6e6a87497c3cfe8253efe58",defaultMessage:"Link added"});case 2:return s._1(ke.Message.to_s,{id:"20d8f7b75847e82dcb82e0f320923593",defaultMessage:"Link restored"})}}function zm(e){switch(e){case 0:return{text:s._1(ke.Message.to_s,{id:"e4bbe426127b4cb721402020a5ac2089",defaultMessage:"This link was created with the publishing of a new page."}),link:void 0,id:"newly_published_tooltip"};case 1:return{text:s._1(ke.Message.to_s,{id:"f425d3162ebbead350d0a90e64ca40b9",defaultMessage:"This link is a new addition to an existing page."}),link:void 0,id:"link_added_tooltip"};case 2:return{text:s._1(ke.Message.to_s,{id:"186767acfec4c1dfb3d711fc5343debd",defaultMessage:"This link was lost but later restored."}),link:void 0,id:"link_restored_tooltip"}}}var Ym={hd:0,tl:{hd:1,tl:{hd:2,tl:0}}},Jm=s._1(ke.Message.to_s,{id:"4c1fed3b9aac2cff257bcb8992b7be68",defaultMessage:"Status"}),Xm=It.Make({key:"newStatus",$$default:void 0,localStorageKey:void 0,toString:function(e){return me.map(e,jm)},ofString:function(e){if(void 0!==e&&""!==e)return l.some(function(e){switch(e){case"link-added":return 1;case"link-restored":return 2;case"newly-published":return 0;default:return}}(e))}}),Zm=function(e){var t=e.label,r=e.selectedItem,o=e.onSelect,i=void 0!==t?t:Jm,n=ce.map(Ym,(function(e){return Vm.makeDropdownItem(a.s(Hm(e)),e,void 0,zm(e),void 0)})),d={label:z.createElement(z.Fragment,void 0,a.s(i),a.s(me.mapWithDefault(r,"",(function(e){return": "+Hm(e)})))),isSelected:me.isSome(r),items:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"98998d09686027ad56f6cf934be0e752",defaultMessage:"“Newly published” and “Link added” are only available for links checked since April 2021."})},tl:{hd:0,tl:n}},onSelect:o,onReset:function(e){return s._1(o,void 0)},minWidth:240};return void 0!==r&&(d.selected=l.valFromOption(r)),z.createElement(Vm.make,d)};function ef(e){switch(e){case 0:return"removed";case 1:return"broken";case 2:return"notfound";case 3:return"redirect";case 4:return"noindex";case 5:return"not-canonical";case 6:return"crawl-error";case 7:return"dropped"}}function tf(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"8b73d6d4a8a2e54715eb1ba741d0651a",defaultMessage:"Link removed"});case 1:return s._1(ke.Message.to_s,{id:"13496c41114f47ab368bf99678eea28e",defaultMessage:"Broken redirect"});case 2:return s._1(ke.Message.to_s,{id:"c0a9ef01cafc92bbd4d8a1d70cea8b97",defaultMessage:"Not found"});case 3:return s._1(ke.Message.to_s,{id:"a13809e98e3e4f47addf273a8608b043",defaultMessage:"301/302 redirect"});case 4:return s._1(ke.Message.to_s,{id:"2fe0a53dda8e59c41e24571c3824de2c",defaultMessage:"Noindex"});case 5:return s._1(ke.Message.to_s,{id:"88155c019fa25957baba00ac62fb7124",defaultMessage:"Not canonical anymore"});case 6:return s._1(ke.Message.to_s,{id:"6bff10cfeef5e7b867ab3ad95642394f",defaultMessage:"Crawl error"});case 7:return s._1(ke.Message.to_s,{id:"b70580c6ee506e79f38eadec2d957b97",defaultMessage:"Dropped"})}}function rf(e){switch(e){case 0:return{text:s._1(ke.Message.to_s,{id:"784e5890f1d831bd9e416dd4a6bc0fa7",defaultMessage:"No link to the target URL was found on the referring page during the most recent crawl. The link could have been manually removed."}),link:void 0,id:"backlink_removed_tooltip"};case 1:return{text:s._1(ke.Message.to_s,{id:"413c5889e0229c1c3d956485538c152d",defaultMessage:"The redirecting URL couldn’t be followed to its destination page during the most recent crawl. This could happen because of a broken redirect, or because the server didn’t specify a valid destination URL."}),link:"https://help.ahrefs.com/en/articles/2224118-why-is-my-backlink-marked-as-broken-redirect-if-it-works",id:"backlink_broken_redirect_tooltip"};case 2:return{text:s._1(ke.Message.to_s,{id:"90039ea19f6cc125d3299e4db78bf603",defaultMessage:"The linking page couldn’t be accessed during the most recent crawl, so we consider the link as “lost”. If the referring page is live again during the next crawl, this links will appear as live backlinks."}),link:void 0,id:"referring_page_not_found_tooltip"};case 3:return{text:s._1(ke.Message.to_s,{id:"296a6736662296bbb265b15f3595bd07",defaultMessage:"The linking page redirected to a different URL during the most recent crawl. If the redirect destination page also has a link to the target URL, this links will appear as live backlinks."}),link:void 0,id:"referring_page_redirect_tooltip"};case 4:return{text:s._1(ke.Message.to_s,{id:"448829d5469df5768fe93bfd0cf1c20e",defaultMessage:"The “noindex” attribute was found on the referring page’s meta tag or HTTP response header during the most recent crawl. Ahrefs doesn’t count links from noindexed pages as backlinks."}),link:void 0,id:"referring_page_no_index_tooltip"};case 5:return{text:s._1(ke.Message.to_s,{id:"f41831eeca553f79d83ab8ef2b7404d6",defaultMessage:"The canonicalized URL either had a self-referencing canonical or had its rel=canonical tag removed during the most recent crawl."}),link:void 0,id:"referring_page_not_canonical_tooltip"};case 6:return{text:s._1(ke.Message.to_s,{id:"95f45ef82e1f5d9609b34562f289b5e0",defaultMessage:"The linking page couldn’t be crawled during our most recent attempt, so we consider the link as “lost”. On a successful recrawl, this link will appear as a live backlink."}),link:void 0,id:"referring_page_crawl_error_tooltip"};case 7:return{text:s._1(ke.Message.to_s,{id:"e60c04679d807a5a0346e708d78d5d78",defaultMessage:"Links from pages that we remove from our index due to various reasons. We consider these links as “lost”."}),link:"https://help.ahrefs.com/en/articles/920461-understanding-link-lost-reasons",id:"backlink_removed_tooltip"}}}function af(e){return Vm.makeDropdownItem(a.s(tf(e)),e,void 0,rf(e),void 0)}var of=ce.map({hd:0,tl:{hd:1,tl:0}},af),nf=ce.map({hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:0}}}}}},af),sf=ce.flatten({hd:{hd:{TAG:2,_0:s._1(ke.Message.to_s,{id:"45bd3c42f979a78085c4343a3f4e7f7f",defaultMessage:"Backlink"})},tl:0},tl:{hd:of,tl:{hd:{hd:{TAG:2,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:0},tl:{hd:nf,tl:0}}}}),lf=s._1(ke.Message.to_s,{id:"4c1fed3b9aac2cff257bcb8992b7be68",defaultMessage:"Status"}),df=It.Make({key:"lostStatus",$$default:void 0,localStorageKey:void 0,toString:function(e){return me.map(e,ef)},ofString:function(e){if(void 0!==e&&""!==e)return l.some(function(e){switch(e){case"broken":return 1;case"crawl-error":return 6;case"dropped":return 7;case"noindex":return 4;case"not-canonical":return 5;case"notfound":return 2;case"redirect":return 3;case"removed":return 0;default:return}}(e))}}),cf=function(e){var t=e.label,r=e.selectedItem,o=e.onSelect,i=void 0!==t?t:lf,n={label:z.createElement(z.Fragment,void 0,a.s(i),a.s(me.mapWithDefault(r,"",(function(e){return": "+tf(e)})))),isSelected:me.isSome(r),items:sf,onSelect:o,onReset:function(e){return s._1(o,void 0)}};return void 0!==r&&(n.selected=l.valFromOption(r)),z.createElement(Vm.make,n)};function uf(e){return""===e?{matchType:0,rules:{hd:[4,e,0],tl:0}}:{matchType:0,rules:{hd:[0,e,0],tl:0}}}var gf=ya.Sort.MakeFilter({$$default:1,toString:function(e){switch(e){case 0:return"anchor";case 1:return"refdomains";case 2:return"topdr";case 3:return"refpages";case 4:return"linkstotarget";case 5:return"newlinks";case 6:return"lostlinks";case 7:return"dofollowlinks";case 8:return"firstseen";case 9:return"lost"}},ofString:function(e){switch(e){case"anchor":return 0;case"dofollowlinks":return 7;case"firstseen":return 8;case"linkstotarget":return 4;case"lost":return 9;case"lostlinks":return 6;case"newlinks":return 5;case"refdomains":return 1;case"refpages":return 3;case"topdr":return 2;default:return}},defaultDirection:"Desc"}),mf=gf.getDefault,ff=gf.isApplied,pf=gf.ofQueryWithDefault,_f=gf.toQuery,hf={Name:gf.Name,Direction:gf.Direction,getDefault:mf,isApplied:ff,ofQueryWithDefault:pf,toQuery:_f,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.max,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr)))),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)))),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_new)))),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_lost)))),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.min,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen)))),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.min,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_seen)))),tl:0}}}};function kf(e){return{sort:s._1(mf,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),followType:s._1(Xu.Filter.getDefault,void 0),dr:s._1(pa.DR.Filter.getDefault,void 0),anchorsRefDomains:s._1(pa.Anchors.RefDomains.Filter.getDefault,void 0),refPages:s._1(pa.RefPages.Filter.getDefault,void 0),linksToTarget:s._1(pa.LinksToTarget.Filter.getDefault,void 0),excludeSubdomains:s._1(Im.getDefault,void 0),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),linkStatus:s._1(hg.getDefault,void 0),highlightChanges:s._1(xg.Filter.getDefault,void 0),newLostStatusDateRange:s._1(Ng.getDefault,void 0),newLinks:s._1(pa.NewLinks.Filter.getDefault,void 0),lostLinks:s._1(pa.LostLinks.Filter.getDefault,void 0),newStatus:s._1(Xm.getDefault,void 0),lostStatus:s._1(df.getDefault,void 0)}}var vf={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:{hd:28,tl:{hd:29,tl:{hd:30,tl:{hd:31,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}};function yf(e,t,r){var a=void 0!==e?e:vf,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(_f,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Xu.Filter.toQuery,e,r.followType);case 3:return s._2(pa.DR.Filter.toQuery,e,r.dr);case 4:return s._2(pa.Anchors.RefDomains.Filter.toQuery,e,r.anchorsRefDomains);case 5:return s._2(pa.RefPages.Filter.toQuery,e,r.refPages);case 6:return s._2(pa.LinksToTarget.Filter.toQuery,e,r.linksToTarget);case 7:return s._2(Im.toQuery,e,r.excludeSubdomains);case 8:return s._2(fa.RefDomains.DomainName.Filter.toQuery,e,r.referringDomainName);case 9:return s._2(pa.OrgDomainTraffic.Filter.toQuery,e,r.orgDomainTraffic);case 10:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 11:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 12:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 13:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 14:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 15:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 16:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 17:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 18:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 19:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 20:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 21:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 22:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 23:return s._2(yg.Filter.toQuery,e,r.contentType);case 24:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 25:return s._2(hg.toQuery,e,r.linkStatus);case 26:return s._2(xg.Filter.toQuery,e,r.highlightChanges);case 27:return s._2(Ng.toQuery,e,r.newLostStatusDateRange);case 28:return s._2(pa.NewLinks.Filter.toQuery,e,r.newLinks);case 29:return s._2(pa.LostLinks.Filter.toQuery,e,r.lostLinks);case 30:return s._2(Xm.toQuery,e,r.newStatus);case 31:return s._2(df.toQuery,e,r.lostStatus)}}))}var Df={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:0}}}}}}}}}}}}}}}}}}}}}}};function Sf(e,t){var r=void 0!==e?l.valFromOption(e):{};return yf(Df,l.some(r),t)}var Ff=function(e,t){return i.stringifyQueryDict(Sf(void 0,e),void 0,void 0)===i.stringifyQueryDict(Sf(void 0,t),void 0,void 0)},Cf=s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),wf=s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"});function Tf(e){var t=e.tooltipTarget,r=e.color,a=e.value,o=e.tooltip,i=e.striked,n=e.size,s=void 0!==i&&i,d=void 0!==n?n:"small",c=z.createElement(Io.make,{size:d,corners:"rounded",color:r,value:a,striked:s});return me.mapWithDefault(o,c,(function(e){var r={content:Ot.textContent(e),placement:"top",children:c};return void 0!==t&&(r.singleton=l.valFromOption(t)),z.createElement(ut.make,r)}))}s._1(ke.Message.to_s,{id:"b5485afd93693e57121ad2891fd31525",defaultMessage:"Live"});var bf=Tf,Pf=function(e){var t=e.tooltipTarget,r=e.value,a=e.tooltip,o=e.striked,i=e.size,n=void 0!==o&&o,d={color:n?"neutralMutedTextSecondary":"success",value:me.mapWithDefault(r,Cf,(function(e){return s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:": ",_1:{TAG:2,_0:0,_1:0}}},_1:"%s: %s"}),Cf,e)})),striked:n};return void 0!==t&&(d.tooltipTarget=l.valFromOption(t)),void 0!==a&&(d.tooltip=l.valFromOption(a)),void 0!==i&&(d.size=l.valFromOption(i)),z.createElement(Tf,d)},Mf=function(e){var t=e.tooltipTarget,r=e.value,a=e.tooltip,o=e.size,i={color:"danger",value:me.mapWithDefault(r,wf,(function(e){return s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:": ",_1:{TAG:2,_0:0,_1:0}}},_1:"%s: %s"}),wf,e)}))};return void 0!==t&&(i.tooltipTarget=l.valFromOption(t)),void 0!==a&&(i.tooltip=l.valFromOption(a)),void 0!==o&&(i.size=l.valFromOption(o)),z.createElement(Tf,i)},Af=Go.MakeFilter({key:"filterLiveOnly",$$default:!1}),Rf=function(e){var t=e.value,r=e.onChange;return z.createElement(Je.make,{gap:"none",fitToContent:!0,children:z.createElement(nn.make,{value:t,onChange:r,children:s._1(ke.Message.to_s,{id:"aa8a0c5df3f2f33f9c48a95d3d42b665",defaultMessage:"Live links only"})})})},Lf=ya.Sort.MakeFilter({$$default:7,toString:function(e){switch(e){case 0:return"refpage";case 1:return"dr";case 2:return"ur";case 3:return"domaintraffic";case 4:return"lastseen";case 5:return"lastvisited";case 6:return"firstseen";case 7:return"traffic";case 8:return"refdomains";case 9:return"linkeddomains";case 10:return"extlinks";case 11:return"keywords"}},ofString:function(e){switch(e){case"domaintraffic":return 3;case"dr":return 1;case"extlinks":return 10;case"firstseen":return 6;case"keywords":return 11;case"lastseen":return 4;case"lastvisited":return 5;case"linkeddomains":return 9;case"refdomains":return 8;case"refpage":return 0;case"traffic":return 7;case"ur":return 2;default:return}},defaultDirection:"Desc"}),Ef=Lf.getDefault,Bf=Lf.isApplied,Kf=Lf.ofQueryWithDefault,qf=Lf.toQuery,xf={FieldsRequestDescr:void 0,Fields:void 0,Name:Lf.Name,Direction:Lf.Direction,getDefault:Ef,isApplied:Bf,ofQueryWithDefault:Kf,toQuery:qf,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.title)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.ur)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_seen)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_visited)),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen)),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.traffic)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.refdomains)),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.linked_domains)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.external_links)),tl:0};case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.positions)),tl:0}}}};function Wf(e){return{sort:s._1(Ef,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),followType:s._1(Xu.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),dr:s._1(pa.DR.Filter.getDefault,void 0),ur:s._1(pa.UR.Filter.getDefault,void 0),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0),excludeSubdomains:s._1(Im.getDefault,void 0),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),groupingType:s._1(ag.Backlinks.Filter.getDefault,void 0),linkStatus:s._1(hg.getDefault,void 0),highlightChanges:s._1(xg.Filter.getDefault,void 0),newLostStatusDateRange:s._1(Ng.getDefault,void 0),newStatus:s._1(Xm.getDefault,void 0),lostStatus:s._1(df.getDefault,void 0),liveOnly:s._1(Af.getDefault,void 0)}}var Uf={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:{hd:28,tl:{hd:29,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}};function Of(e,t,r){var a=void 0!==e?e:Uf,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(qf,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Xu.Filter.toQuery,e,r.followType);case 3:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 4:return s._2(pa.DR.Filter.toQuery,e,r.dr);case 5:return s._2(pa.UR.Filter.toQuery,e,r.ur);case 6:return s._2(pa.OrgDomainTraffic.Filter.toQuery,e,r.orgDomainTraffic);case 7:return s._2(Im.toQuery,e,r.excludeSubdomains);case 8:return s._2(fa.RefDomains.DomainName.Filter.toQuery,e,r.referringDomainName);case 9:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 10:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 11:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 12:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 13:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 14:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 15:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 16:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 17:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 18:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 19:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 20:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 21:return s._2(yg.Filter.toQuery,e,r.contentType);case 22:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 23:return s._2(ag.Backlinks.Filter.toQuery,e,r.groupingType);case 24:return s._2(hg.toQuery,e,r.linkStatus);case 25:return s._2(xg.Filter.toQuery,e,r.highlightChanges);case 26:return s._2(Ng.toQuery,e,r.newLostStatusDateRange);case 27:return s._2(Xm.toQuery,e,r.newStatus);case 28:return s._2(df.toQuery,e,r.lostStatus);case 29:return s._2(Af.toQuery,e,r.liveOnly)}}))}var Nf={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:0}}}}}}}}}}}}}}}}}}}}};function $f(e,t){var r=void 0!==e?l.valFromOption(e):{};return Of(Nf,l.some(r),t)}var If=function(e,t){return i.stringifyQueryDict($f(void 0,e),void 0,void 0)===i.stringifyQueryDict($f(void 0,t),void 0,void 0)},Gf=ya.Sort.MakeFilter({$$default:1,toString:function(e){switch(e){case 0:return"refdomain";case 1:return"dr";case 2:return"firstseen";case 3:return"lost";case 4:return"traffic";case 5:return"refdomains";case 6:return"linkeddomains";case 7:return"linkstotarget";case 8:return"dofollowlinks";case 9:return"lostlinks";case 10:return"newlinks"}},ofString:function(e){switch(e){case"dofollowlinks":return 8;case"dr":return 1;case"firstseen":return 2;case"linkeddomains":return 6;case"linkstotarget":return 7;case"lost":return 3;case"lostlinks":return 9;case"newlinks":return 10;case"refdomain":return 0;case"refdomains":return 5;case"traffic":return 4;default:return}},defaultDirection:"Desc"}),Qf=Gf.getDefault,Vf=Gf.isApplied,jf=Gf.ofQueryWithDefault,Hf=Gf.toQuery,zf={Name:Gf.Name,Direction:Gf.Direction,getDefault:Qf,isApplied:Vf,ofQueryWithDefault:jf,toQuery:Hf,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr)))),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.last_seen)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic)))),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.refdomains)))),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.linked_domains)))),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_lost)))),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_new)))),tl:0}}}};function Yf(e){return{sort:s._1(Qf,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),followType:s._1(Xu.Filter.getDefault,void 0),dr:s._1(pa.DR.Filter.getDefault,void 0),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0),linksToTarget:s._1(pa.LinksToTarget.Filter.getDefault,void 0),excludeSubdomains:s._1(Im.getDefault,void 0),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0),dofollowRefDomains:s._1(pa.DofollowRefDomains.Filter.getDefault,void 0),dofollowLinkedDomains:s._1(pa.DofollowLinkedDomains.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),linkStatus:s._1(hg.getDefault,void 0),highlightChanges:s._1(xg.Filter.getDefault,void 0),newLostStatusDateRange:s._1(Ng.getDefault,void 0),newLinks:s._1(pa.NewLinks.Filter.getDefault,void 0),lostLinks:s._1(pa.LostLinks.Filter.getDefault,void 0),newStatus:s._1(Xm.getDefault,void 0),lostStatus:s._1(df.getDefault,void 0)}}var Jf={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:{hd:28,tl:{hd:29,tl:{hd:30,tl:{hd:31,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}};function Xf(e,t,r){var a,o=e.reportHistoricalPermissions,i=s._1(hg.ofQueryWithDefault,r),n=s._1(hg.ofQueryWithDefault,t);if(0!==i||0===n)a=s._1(xg.Filter.ofQueryWithDefault,r);else{var l=s._1(Ng.ofQueryWithDefault,t);a="number"==typeof l?l+1|0:Yf().highlightChanges}var d,c=ce.has($m.highlightChangesItems(o),a,Qr.equal)?a:$m.maxHighlightChangesItem(o);if(0!==i&&0===n)switch(s._1(xg.Filter.ofQueryWithDefault,t)){case 1:d=0;break;case 2:d=1;break;case 0:case 3:d=2;break;case 4:d=3;break;case 5:d=4;break;case 6:d=5;break;case 7:d=6;break;case 8:d=7}else d=s._1(Ng.ofQueryWithDefault,r);var u,g,m=Mm.isNewLostDateRangeItemAllowed(d,o)?d:me.getWithDefault(Mm.maxNewLostDateRangeItem(e.reportHistoricalPermissions),0),f=0;switch(i){case 0:f=1;break;case 1:switch(n){case 1:u=[s._1(Xm.ofQueryWithDefault,r),Yf().lostStatus];break;case 0:case 2:f=1}break;case 2:switch(n){case 0:case 1:f=1;break;case 2:u=[Yf().newStatus,s._1(df.ofQueryWithDefault,r)]}}1===f&&(u=[Yf().newStatus,Yf().lostStatus]);var p=0;return 0!==i||0===c?p=1:g=[s._1(pa.NewLinks.Filter.ofQueryWithDefault,r),s._1(pa.LostLinks.Filter.ofQueryWithDefault,r)],1===p&&(g=[Yf().newLinks,Yf().lostLinks]),{sort:s._1(jf,r),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,r),followType:s._1(Xu.Filter.ofQueryWithDefault,r),dr:s._1(pa.DR.Filter.ofQueryWithDefault,r),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.ofQueryWithDefault,r),linksToTarget:s._1(pa.LinksToTarget.Filter.ofQueryWithDefault,r),excludeSubdomains:s._1(Im.ofQueryWithDefault,r),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.ofQueryWithDefault,r),dofollowRefDomains:s._1(pa.DofollowRefDomains.Filter.ofQueryWithDefault,r),dofollowLinkedDomains:s._1(pa.DofollowLinkedDomains.Filter.ofQueryWithDefault,r),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,r),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,r),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,r),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,r),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,r),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,r),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,r),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,r),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,r),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,r),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,r),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,r),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,r),contentType:s._1(yg.Filter.ofQueryWithDefault,r),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,r),linkStatus:i,highlightChanges:c,newLostStatusDateRange:m,newLinks:g[0],lostLinks:g[1],newStatus:u[0],lostStatus:u[1]}}function Zf(e,t,r){var a=void 0!==e?e:Jf,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(Hf,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Xu.Filter.toQuery,e,r.followType);case 3:return s._2(pa.DR.Filter.toQuery,e,r.dr);case 4:return s._2(pa.OrgDomainTraffic.Filter.toQuery,e,r.orgDomainTraffic);case 5:return s._2(pa.LinksToTarget.Filter.toQuery,e,r.linksToTarget);case 6:return s._2(Im.toQuery,e,r.excludeSubdomains);case 7:return s._2(fa.RefDomains.DomainName.Filter.toQuery,e,r.referringDomainName);case 8:return s._2(pa.DofollowRefDomains.Filter.toQuery,e,r.dofollowRefDomains);case 9:return s._2(pa.DofollowLinkedDomains.Filter.toQuery,e,r.dofollowLinkedDomains);case 10:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 11:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 12:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 13:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 14:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 15:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 16:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 17:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 18:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 19:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 20:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 21:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 22:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 23:return s._2(yg.Filter.toQuery,e,r.contentType);case 24:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 25:return s._2(hg.toQuery,e,r.linkStatus);case 26:return s._2(xg.Filter.toQuery,e,r.highlightChanges);case 27:return s._2(Ng.toQuery,e,r.newLostStatusDateRange);case 28:return s._2(pa.NewLinks.Filter.toQuery,e,r.newLinks);case 29:return s._2(pa.LostLinks.Filter.toQuery,e,r.lostLinks);case 30:return s._2(Xm.toQuery,e,r.newStatus);case 31:return s._2(df.toQuery,e,r.lostStatus)}}))}var ep={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:0}}}}}}}}}}}}}}}}}}}}}}};function tp(e,t){var r=void 0!==e?l.valFromOption(e):{};return Zf(ep,l.some(r),t)}var rp=function(e,t){return i.stringifyQueryDict(tp(void 0,e),void 0,void 0)===i.stringifyQueryDict(tp(void 0,t),void 0,void 0)},ap=s._1(Rt.css,{hd:Rt.label("newBadge"),tl:{hd:Rt.marginLeft(tt.NewSize.px8),tl:{hd:Rt.marginTop(tt.negative(tt.NewSize.px2)),tl:0}}}),op=function(e){var t=e.oldValue,r=e.oldColor,a=e.value,o=e.color,i=void 0!==r?r:"neutralMutedTextSecondary";return z.createElement("div",void 0,z.createElement(Io.make,{size:"small",corners:"rounded",color:i,value:t,striked:!0}),z.createElement("div",{className:ap},z.createElement(Io.make,{size:"small",corners:"rounded",color:o,value:a})))};function ip(e,t){return{sort:Wf().sort,pagination:Wf().pagination,followType:t.followType,backlinkType:t.backlinkType,dr:t.dr,ur:Wf().ur,orgDomainTraffic:t.orgDomainTraffic,excludeSubdomains:t.excludeSubdomains,referringDomainName:t.referringDomainName,referringPageTitle:t.referringPageTitle,referringPageUrl:t.referringPageUrl,platform:t.platform,language:t.language,refDomains:t.refDomains,linkedDomains:t.linkedDomains,externalLinks:t.externalLinks,orgPageTraffic:t.orgPageTraffic,orgKeywords:t.orgKeywords,anchor:uf($e(e)),anchorWithSurroundingText:t.anchorWithSurroundingText,targetUrl:t.targetUrl,contentType:t.contentType,redirects:t.redirects,groupingType:2,linkStatus:t.linkStatus,highlightChanges:t.highlightChanges,newLostStatusDateRange:t.newLostStatusDateRange,newStatus:t.newStatus,lostStatus:t.lostStatus,liveOnly:Wf().liveOnly}}function np(e,t){if(t<=0)return"";var r=ie.to_float(e)/t;return r<.001?"<0.1%":ae.Float.custom(r,"0.0%")}var sp=np,lp=function(e,t,r){var a={hd:{TAG:0,_0:{NAME:"px",VAL:190}},tl:0},o={hd:{TAG:0,_0:{NAME:"percent",VAL:50}},tl:0},i=s._1(hf.Name.toString,0),n=s._1(ke.Message.to_s,{id:"dfdaa8c3a662489ecb51e877029ef97e",defaultMessage:"Anchor text"}),l={TAG:0,_0:ug.anchorText};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(a,o){var i=ip(o,t);return z.createElement(va.Td.make,{paddingLeft:"none",nowrap:!1,children:z.createElement(ta.make,{href:j.V2.makeUrl(1,{TAG:0,_0:e},Of(void 0,void 0,i)),mode:0,children:z.createElement(pt.make,{inline:!0,wordBreak:"breakWord",children:""!==o?z.createElement(Aa.make,{groupedTerms:r,text:o}):z.createElement(pt.make,{fontStyle:"italic",inline:!0,children:s._1(ke.Message.to_s,{id:"e0b6a8a3014877d5da70bf5d1beba70c",defaultMessage:"Empty anchor"})})})})})}),{renderHeader:function(e,t,r,s,d,c,u,g){return La.makeRenderHeader(l,void 0,n,void 0,i,void 0,void 0,"none",void 0,void 0,void 0,void 0,o,a,void 0,void 0,void 0,e,t,r,s,d,c,u,g)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),0))},dp=function(e){var t;if(dm.showChanges(e)){var r=s._1(ke.Message.to_s,{id:"4c1fed3b9aac2cff257bcb8992b7be68",defaultMessage:"Status"}),a={TAG:0,_0:ug.status};t=function(e,t,o,i,n,s,l,d){return La.makeRenderHeader(a,void 0,r,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,o,i,n,s,l,d)}}else t=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a){if(!dm.showChanges(e))return null;var o;switch(s._3(ym.getStatus,e,Bt.toMomentUtc(r),me.map(a,Bt.toMomentUtc))){case 0:o=z.createElement(Pf,{size:"medium"});break;case 1:o=z.createElement(Mf,{size:"medium"});break;case 2:o=null;break;case 3:o=z.createElement(op,{oldValue:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),value:s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),color:"danger"})}return z.createElement(va.Td.make,{children:o})}),{renderHeader:t},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.last_seen)),0)))},cp=function(e,t){var r=s._1(hf.Name.toString,1),o=s._1(ke.Message.to_s,{id:"b7c288b5586ea752916af992cfbd217f",defaultMessage:"Ref. domains"}),i={TAG:0,_0:ug.refdomains};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{align:"right",contentHeight:"button",paddingRight:"none",width:{hd:{TAG:0,_0:"zero"},tl:0},children:z.createElement(Oi.make,{size:"sm",active:me.mapWithDefault(Ur.get(e.map,o),!1,(function(e){return 0===e})),onClick:function(t){var r=me.mapWithDefault(Ur.get(e.map,o),0,(function(e){return 0===e?void 0:0}));return s._2(e.setRow,o,r)},children:a.s(ae.Float.full(ie.to_float(i)))})}),z.createElement(va.Td.make,{align:"right",contentHeight:"smallText",paddingLeft:"sm",width:{hd:{TAG:0,_0:"zero"},tl:0},children:z.createElement(pt.make,{color:"secondary",fontSize:"xs",children:a.s(np(i,t))})}))}),{renderHeader:function(e,t,a,n,s,l,d,c){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,"right",void 0,void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,e,t,a,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))),0)))},up=function(e){var t=s._1(hf.Name.toString,2),r=s._1(ke.Message.to_s,{id:"db74e612ba4a93d3c5b0480735d32003",defaultMessage:"Top DR"}),o={TAG:0,_0:ug.topDr};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.full(t))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.max,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr)))))},gp=function(e){var t=s._1(hf.Name.toString,3),r=s._1(ke.Message.to_s,{id:"741c041196cf7cfe48ae97316de90e1c",defaultMessage:"Ref. pages"}),o={TAG:0,_0:ug.refpages};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",width:{hd:{TAG:0,_0:"zero"},tl:0},children:a.s(ae.Float.full(ie.to_float(t)))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)))))},mp=function(e){var t=s._1(hf.Name.toString,4),r=s._1(ke.Message.to_s,{id:"da9f5753782536a00a60ead8c519cb82",defaultMessage:"Links to target"}),o={TAG:0,_0:ug.linksToTarget};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){return z.createElement(va.Td.make,{align:"right",contentHeight:"button",children:z.createElement(Oi.make,{size:"sm",active:me.mapWithDefault(Ur.get(e.map,r),!1,(function(e){return 1===e})),onClick:function(t){var a=me.mapWithDefault(Ur.get(e.map,r),1,(function(e){return 1===e?void 0:1}));return s._2(e.setRow,r,a)},children:a.s(ae.Float.full(ie.to_float(o)))})})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0)))},fp=function(e,t,r){var a;if(dm.showNewAndLostLinks(e)){var o=s._1(hf.Name.toString,5),i=s._1(ke.Message.to_s,{id:"13eb4e7436fd5fb8203a5c48f7118c2b",defaultMessage:"New links"}),n={TAG:0,_0:ug.newLinks};a=function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}}else a=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(a,o,i){if(!dm.showNewAndLostLinks(e))return null;var n=ip(i,t);return z.createElement(va.Td.make,{align:"right",children:z.createElement(rg,{value:ie.to_float(o),href:j.V2.makeUrl(1,{TAG:0,_0:r},Of(void 0,void 0,n))})})}),{renderHeader:a},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_new)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),0)))},pp=function(e,t,r){var a;if(dm.showNewAndLostLinks(e)){var o=s._1(hf.Name.toString,6),i=s._1(ke.Message.to_s,{id:"ea2a9add519d056f02dabab988893b5b",defaultMessage:"Lost links"}),n={TAG:0,_0:ug.lostLinks};a=function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}}else a=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(a,o,i){if(!dm.showNewAndLostLinks(e))return null;var n=ip(i,t);return z.createElement(va.Td.make,{align:"right",children:z.createElement(rg,{value:-1*ie.to_float(o),href:j.V2.makeUrl(1,{TAG:0,_0:r},Of(void 0,void 0,n))})})}),{renderHeader:a},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_lost)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),0)))},_p=function(e){var t=s._1(hf.Name.toString,7),r=s._1(ke.Message.to_s,{id:"8ec94902b88755af89b41d412045b994",defaultMessage:"Dofollow links"}),o={TAG:0,_0:ug.dofollowLinks};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(t,r){return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{align:"right",paddingRight:"none",width:{hd:{TAG:0,_0:"zero"},tl:0},children:a.s(ae.Float.full(ie.to_float(r)))}),z.createElement(va.Td.make,{align:"right",contentHeight:"smallText",paddingLeft:"sm",width:{hd:{TAG:0,_0:"zero"},tl:0},children:z.createElement(pt.make,{color:"secondary",fontSize:"xs",children:a.s(np(r,e))})}))}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))))},hp=function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:90}},tl:0},r=s._1(hf.Name.toString,8),o=s._1(ke.Message.to_s,{id:"fc0bb0000257ff0076d9a54a2ffb01ee",defaultMessage:"First seen"}),i={TAG:0,_0:ug.firstSeen};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){var r=Bt.toMomentUtc(t);return z.createElement(va.Td.make,{children:z.createElement(ut.make,{content:a.s(ne.moment(void 0,r,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,r,"dayShortMonthYear"))})})})}),{renderHeader:function(e,a,n,s,l,d,c,u){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,void 0,void 0,void 0,!1,void 0,void 0,void 0,t,void 0,void 0,void 0,e,a,n,s,l,d,c,u)}},s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen)))},kp=function(e){var t;if(dm.showChanges(e)){var r={hd:{TAG:0,_0:{NAME:"px",VAL:90}},tl:0},o=s._1(hf.Name.toString,9),i=s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),n={TAG:0,_0:ug.lost};t=function(e,t,a,s,l,d,c,u){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,void 0,void 0,void 0,!1,void 0,void 0,void 0,r,void 0,void 0,void 0,e,t,a,s,l,d,c,u)}}else t=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(t,r){return dm.showChanges(e)?z.createElement(va.Td.make,{children:a.renderDefaultNull(r,(function(e){var t=Bt.toMomentUtc(e);return z.createElement(ut.make,{content:a.s(ne.moment(void 0,t,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,t,"dayShortMonthYear"))})})}))}):null}),{renderHeader:t},s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.last_seen)))},vp=function(e,t){var r={hd:{TAG:0,_0:{NAME:"px",VAL:60}},tl:0};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,r){return z.createElement(va.Td.make,{align:"left",children:z.createElement(tg,{total:t,value:ie.to_float(r)})})}),{renderHeader:function(e,t,a,o,i,n,s,l){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,"left",void 0,void 0,void 0,void 0,void 0,void 0,r,void 0,void 0,void 0,e,t,a,o,i,n,s,l)}},e)},yp=function(e){var t={hd:{TAG:0,_0:{NAME:"percent",VAL:40}},tl:0};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{children:null})}),{renderHeader:function(e,r,a,o,i,n,s,l){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,void 0,e,r,a,o,i,n,s,l)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))))},Dp=function(e){var t=e.filters,r=e.historyFilter,a=e.settings,o=e.tooltipTarget,i=e.onApplyFilters,n=Oe(a),d=a.reportHistoricalPermissions,c={selectedItem:t.linkStatus,itemTooltip:kg,onClick:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.linkStatus=e,r))}};void 0!==o&&(c.tooltipTarget=l.valFromOption(o));var u,g=Mm.disabledHistoryModes(a);switch(void 0!==g&&(c.disabledItems=l.valFromOption(g)),t.linkStatus){case 0:u=z.createElement(z.Fragment,void 0,z.createElement($m.make,{hint:$m.backlinksHint,showUpgradeMessage:n,items:$m.highlightChangesItems(d),selectedItem:t.highlightChanges,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.highlightChanges=me.getWithDefault(e,kf().highlightChanges),r))}}),dm.isAll(r)&&dm.showChanges(r)?z.createElement(z.Fragment,void 0,z.createElement(pa.NewLinks.make,{value:t.newLinks,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newLinks=e,r))}}),z.createElement(pa.LostLinks.make,{value:t.lostLinks,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.lostLinks=e,r))}})):null);break;case 1:u=z.createElement(z.Fragment,void 0,z.createElement($g,{selectedItem:t.newLostStatusDateRange,showUpgradeMessage:n,items:Mm.newLostDateRangeItems(d),onChange:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newLostStatusDateRange=e,r))}}),z.createElement(Zm,{selectedItem:t.newStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newStatus=e,r))}}));break;case 2:u=z.createElement(z.Fragment,void 0,z.createElement($g,{selectedItem:t.newLostStatusDateRange,showUpgradeMessage:n,items:Mm.newLostDateRangeItems(d),onChange:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newLostStatusDateRange=e,r))}}),z.createElement(cf,{selectedItem:t.lostStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.lostStatus=e,r))}}))}return z.createElement(Je.make,{gap:"px8",fitToContent:!0,children:null},z.createElement(vg,c),u)},Sp=r(34258),Fp=et.style([et.label("compoundTh"),et.minWidth({NAME:"pxFloat",VAL:112})]),Cp=s._1(Rt.css,{hd:Rt.label("title"),tl:0}),wp=s._1(Rt.css,{hd:Rt.label("sortIcon"),tl:0}),Tp=et.style([et.label("nowrap"),et.minWidth("auto")]),bp=function(e){var t=e.domRef,r=e.style,a=e.paddingLeft,o=e.paddingRight,i=e.width,n=e.children,s=void 0!==a?a:"default",d=void 0!==o?o:"default",c=void 0!==i?i:{hd:{TAG:0,_0:{NAME:"px",VAL:0}},tl:0},u={className:ra.$plus$plus$plus(Fp,ra.$plus$plus$plus(Sp.th,ra.$plus$plus$plus(Sp.width(c),ra.$plus$plus$plus(Sp.paddingLeft(s),Sp.paddingRight(d)))))},g=me.map(t,(function(e){return e}));return void 0!==g&&(u.ref=l.valFromOption(g)),void 0!==r&&(u.style=l.valFromOption(r)),z.createElement("th",u,z.createElement(ct.make,{gap:"none",children:n}))},Pp=function(e){var t=e.color,r=e.title,o=e.sortField,i=e.tableSort,n=e.tableSortDirection,d=e.tooltip,c=e.tooltipSrc,u=e.tooltipTarget,g=e.nowrap,m=e.onSort,f=void 0!==t?t:"primary",p=void 0!==g&&g,_="danger"===f?_e.Color.$$Text.danger:_e.Color.$$Text.primary,h=a.renderDefaultNull(o,(function(e){return mt.caml_equal(i,e)?"Desc"===n?z.createElement("div",{className:wp},z.createElement(Xe.Fixed.Triangle.make,s.app(Xe.Fixed.Triangle.makeProps,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]))):z.createElement("div",{className:wp},z.createElement(Xe.Fixed.Triangle.make,s.app(Xe.Fixed.Triangle.makeProps,[void 0,void 0,0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]))):null})),k={color:f,fontSize:"sm",children:z.createElement("span",{className:Cp},a.s(r))},v=p?"nowrap":void 0;void 0!==v&&(k.whiteSpace=l.valFromOption(v));var y,D,S=z.createElement(pt.make,k);if(void 0!==o){var F=l.valFromOption(o);y=z.createElement("div",{className:ra.$plus$plus$plus((D=_,s._1(Rt.css,{hd:Rt.label("link"),tl:{hd:Rt.important(Rt.color(D)),tl:{hd:Rt.cursor("pointer"),tl:{hd:Rt.hover({hd:Rt.selector("& ."+Cp,{hd:Rt.important(Rt.color(_e.Color.$$Text.accent)),tl:0}),tl:{hd:Rt.selector("& ."+wp+" svg",{hd:Rt.important(Rt.color(_e.Color.$$Text.accent)),tl:0}),tl:0}}),tl:0}}}})),ea.ifTrue(Tp,p)),onClick:function(e){return s._2(m,F,mt.caml_equal(F,i)?ci.getOposite(n):"Desc")}},z.createElement(Je.make,{gap:"px2",fitToContent:!0,align:"center",children:null},S,h))}else y=z.createElement("div",{className:ea.ifTrue(Tp,p)},S);return me.mapWithDefault(d,y,(function(e){var t={content:Ot.textContent(e),children:y},r=me.isSome(c)?c:u;return void 0!==r&&(t.singleton=l.valFromOption(r)),z.createElement(Je.make,{fitToContent:!0,children:z.createElement(ut.make,t)})}))},Mp=s._1(Rt.css,{hd:Rt.label("inlineBadge"),tl:{hd:Rt.display("inlineBlock"),tl:{hd:Rt.marginRight(tt.NewSize.px4),tl:0}}}),Ap=s._1(Rt.css,{hd:Rt.label("target"),tl:{hd:Rt.selector("& > svg, & > span",{hd:Rt.marginRight(tt.NewSize.px4),tl:0}),tl:0}}),Rp=r(13078),Lp=Go.MakeFilter({key:"multipleUrlsOnly",$$default:!1});function Ep(e,t,r){var a=Ea.field(e);return pa.rawDataToChQuery(a,t?{from:2,to_:void 0}:{from:void 0,to_:void 0},ie.of_int32,void 0)}var Bp=function(e){var t=e.value,r=e.onChange;return z.createElement(Je.make,{gap:"none",fitToContent:!0,align:"center",children:null},z.createElement(nn.make,{value:t,onChange:r,children:s._1(ke.Message.to_s,{id:"56c63c8fee5a03affef583fea1ad82ed",defaultMessage:"Multiple URLs only"})}),z.createElement(Ot.make,{content:{TAG:1,_0:s._1(ke.Message.to_s,{id:"b9767df7fab64bea8f389a635c971705",defaultMessage:"See only keywords with multiple ranking URLs. This ignores positions in Sitelinks, Top stories, Image packs, and Tweets."})}}))},Kp=(Da.any,Go.MakeFilter({key:"mainOnly",$$default:!1}));function qp(e){return Ea.eq(Ea.field(Da.any(e)),!0)}var xp=function(e){var t=e.value,r=e.onChange;return z.createElement(Je.make,{gap:"none",fitToContent:!0,align:"center",children:null},z.createElement(nn.make,{value:t,onChange:r,children:s._1(ke.Message.to_s,{id:"aeae4ac7c03559e62e79690b7f7f4d60",defaultMessage:"Main positions only"})}),z.createElement(Ot.make,{content:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d1faac8392b17c9b03374effbe157146",defaultMessage:"Exclude positions in Sitelinks, Top stories, Image packs, and Tweets."})}}))},Wp=(Da.any,et.style([et.label("kindIcon"),et.unsafe("alignSelf","center")]),et.style([et.label("linkWithMenu"),et.display("inline")]),et.style([et.label("iconWrapper"),et.display("flex"),et.height({NAME:"pxFloat",VAL:10}),et.width({NAME:"percent",VAL:100}),et.unsafe("alignItems","center"),et.unsafe("justifyContent","center"),et.color(_e.Color.$$Text.tertiary)])),Up=ya.Sort.MakeFilter({$$default:7,toString:function(e){switch(e){case 0:return"keyword";case 1:return"sf";case 2:return"volume";case 3:return"kd";case 4:return"cpc";case 5:return"traffic";case 6:return"trafficChanges";case 7:return"trafficInitial";case 8:return"position";case 9:return"positionChanges";case 10:return"url";case 11:return"lastUpdate"}},ofString:function(e){switch(e){case"cpc":return 4;case"kd":return 3;case"keyword":return 0;case"lastUpdate":return 11;case"position":return 8;case"positionChanges":return 9;case"sf":return 1;case"traffic":return 5;case"trafficChanges":return 6;case"trafficInitial":return 7;case"url":return 10;case"volume":return 2;default:return}},defaultDirection:"Desc"}),Op=Up.Name,Np=Up.getDefault,$p=Up.isApplied,Ip=Up.ofQueryWithDefault,Gp=Up.toQuery,Qp=Up.Direction,Vp={Name:Op,Direction:Qp,getDefault:Np,isApplied:$p,ofQueryWithDefault:Ip,toQuery:Gp,toActualFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.text)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.serp_features)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.volume)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.difficulty)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.cpc)),tl:0};case 5:case 7:break;case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position)),tl:0};case 6:case 9:return 0;case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_url_raw)),tl:0};case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.last_update)),tl:0}}return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.sum_traffic)),tl:0}},toComparedFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.text)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.serp_features)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.volume)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.difficulty)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.cpc)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.direct,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.option_default,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.sum_traffic)))),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.Diff.get,ft.Se_shared.OrganicKeywordsCompared.Diff.traffic_diff_sort)),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.sum_traffic)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position)),tl:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position)),tl:0}};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.Diff.get,ft.Se_shared.OrganicKeywordsCompared.Diff.best_position_diff_sort)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.best_position_url_raw)),tl:0};case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.last_update)),tl:0}}}};function jp(e){return{sort:s._1(Np,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),country:s._1(Sa.WithoutAll.Filter.Country.getDefault,void 0),isUserCountry:s._1(Sa.WithoutAll.Filter.IsUserCountry.getDefault,void 0),currentDate:s._1(Pt.CurrentDate.getDefault,void 0),compareDate:s._1(Pt.CompareDate.getDefault,void 0),positions:s._1(pd.Positions.Filter.getDefault,void 0),volume:s._1(pa.Volume.Filter.getDefault,void 0),kd:s._1(pa.KD.Filter.getDefault,void 0),cpc:s._1(pa.CPC.Filter.getDefault,void 0),orgKeywordTraffic:s._1(pa.OrgKeywordTraffic.Filter.getDefault,void 0),serp:ka.Filter.getDefault(void 0),words:s._1(pa.Words.Filter.getDefault,void 0),keyword:s._1(fa.Keyword.Filter.getDefault,void 0),url:s._1(fa.$$URL.Filter.getDefault,void 0),isMainOnly:s._1(Kp.getDefault,void 0),multipleUrls:s._1(Lp.getDefault,void 0)}}var Hp={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:0}}}}}}}}}}}}}}}}};function zp(e,t,r){var a=void 0!==e?e:Hp,o=Pt.CurrentDate.ofQueryWithDefault,i=s._2(o,t.reportHistoricalPermissions,r);return ce.reduce(a,jp(),(function(e,a){switch(a){case 0:return{sort:s._1(Ip,r),pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 1:return{sort:e.sort,pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,r),country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 2:return{sort:e.sort,pagination:e.pagination,country:s._1(Sa.WithoutAll.Filter.Country.ofQueryWithDefault,r),isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 3:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:s._1(Sa.WithoutAll.Filter.IsUserCountry.ofQueryWithDefault,r),currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 4:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:i,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 5:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:Pt.CompareDate.ofQueryWithDefault(t.reportHistoricalPermissions,i,t.settings.orgKeywordsCompare,r,void 0),positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 6:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:s._1(pd.Positions.Filter.ofQueryWithDefault,r),volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 7:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:s._1(pa.Volume.Filter.ofQueryWithDefault,r),kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 8:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:s._1(pa.KD.Filter.ofQueryWithDefault,r),cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 9:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:s._1(pa.CPC.Filter.ofQueryWithDefault,r),orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 10:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:s._1(pa.OrgKeywordTraffic.Filter.ofQueryWithDefault,r),serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 11:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:ka.Filter.ofQueryWithDefault(r),words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 12:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:s._1(pa.Words.Filter.ofQueryWithDefault,r),keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 13:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:s._1(fa.Keyword.Filter.ofQueryWithDefault,r),url:e.url,isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 14:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:s._1(fa.$$URL.Filter.ofQueryWithDefault,r),isMainOnly:e.isMainOnly,multipleUrls:e.multipleUrls};case 15:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:s._1(Kp.ofQueryWithDefault,r),multipleUrls:e.multipleUrls};case 16:return{sort:e.sort,pagination:e.pagination,country:e.country,isUserCountry:e.isUserCountry,currentDate:e.currentDate,compareDate:e.compareDate,positions:e.positions,volume:e.volume,kd:e.kd,cpc:e.cpc,orgKeywordTraffic:e.orgKeywordTraffic,serp:e.serp,words:e.words,keyword:e.keyword,url:e.url,isMainOnly:e.isMainOnly,multipleUrls:s._1(Lp.ofQueryWithDefault,r)}}}))}function Yp(e,t,r){var a=void 0!==e?e:Hp,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(Gp,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Sa.WithoutAll.Filter.Country.toQuery,e,r.country);case 3:return s._2(Sa.WithoutAll.Filter.IsUserCountry.toQuery,e,r.isUserCountry);case 4:return s._2(Pt.CurrentDate.toQuery,e,r.currentDate);case 5:return s._2(Pt.CompareDate.toQuery,e,r.compareDate);case 6:return s._2(pd.Positions.Filter.toQuery,e,r.positions);case 7:return s._2(pa.Volume.Filter.toQuery,e,r.volume);case 8:return s._2(pa.KD.Filter.toQuery,e,r.kd);case 9:return s._2(pa.CPC.Filter.toQuery,e,r.cpc);case 10:return s._2(pa.OrgKeywordTraffic.Filter.toQuery,e,r.orgKeywordTraffic);case 11:return ka.Filter.toQuery(e,r.serp);case 12:return s._2(pa.Words.Filter.toQuery,e,r.words);case 13:return s._2(fa.Keyword.Filter.toQuery,e,r.keyword);case 14:return s._2(fa.$$URL.Filter.toQuery,e,r.url);case 15:return s._2(Kp.toQuery,e,r.isMainOnly);case 16:return s._2(Lp.toQuery,e,r.multipleUrls)}}))}var Jp={hd:2,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}}};function Xp(e,t){var r=void 0!==e?l.valFromOption(e):{};return Yp(Jp,l.some(r),t)}var Zp=function(e,t){return i.stringifyQueryDict(Xp(void 0,e),void 0,void 0)===i.stringifyQueryDict(Xp(void 0,t),void 0,void 0)},e_={hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:0}}}}}}}}}}};function t_(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:return 0;case 6:return{hd:pd.dataToChQueryActual(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position),t.positions,void 0),tl:0};case 7:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.OrganicKeywordsActual.PositionFilter.get,ft.Se_shared.OrganicKeywordsActual.PositionFilter.volume),t.volume),tl:0};case 8:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.OrganicKeywordsActual.PositionFilter.get,ft.Se_shared.OrganicKeywordsActual.PositionFilter.difficulty),t.kd),tl:0};case 9:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.OrganicKeywordsActual.PositionFilter.get,ft.Se_shared.OrganicKeywordsActual.PositionFilter.cpc),t.cpc),tl:0};case 10:return{hd:pa.OrgKeywordTraffic.makeChFilter(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.sum_traffic),t.orgKeywordTraffic),tl:0};case 11:return{hd:ka.makeChFilterActual(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.serp_features),s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_has_video),s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_has_thumbnail),s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_kind),!1,t.serp),tl:0};case 12:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.OrganicKeywordsActual.PositionFilter.get,ft.Se_shared.OrganicKeywordsActual.PositionFilter.words),t.words),tl:0};case 13:return{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.OrganicKeywordsActual.PositionFilter.get,ft.Se_shared.OrganicKeywordsActual.PositionFilter.text),t.keyword),tl:0};case 14:return{hd:fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_url_raw),t.url),tl:0};case 15:return t.isMainOnly?{hd:qp(s._1(ft.Se_shared.OrganicKeywordsActual.PositionFilter.get,ft.Se_shared.OrganicKeywordsActual.PositionFilter.is_main_position)),tl:0}:0;case 16:return{hd:(r=t.multipleUrls,Ep(Da.any(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.serp_target_positions_count_sig)),r)),tl:0}}var r}function r_(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:return 0;case 6:return{hd:pd.dataToChQueryCompared(s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position),s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position),s._1(ft.Se_shared.OrganicKeywordsCompared.Diff.get,ft.Se_shared.OrganicKeywordsCompared.Diff.best_position_diff),s._1(ft.Se_shared.OrganicKeywordsCompared.Diff.get,ft.Se_shared.OrganicKeywordsCompared.Diff.set),t.positions,void 0),tl:0};case 7:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.volume),t.volume),tl:0};case 8:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.difficulty),t.kd),tl:0};case 9:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.cpc),t.cpc),tl:0};case 10:return{hd:pa.OrgKeywordTraffic.makeChFilter(s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.sum_traffic),t.orgKeywordTraffic),tl:0};case 11:return{hd:ka.makeChFilterCompared(s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.serp_features),s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position_has_video),s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position_has_thumbnail),s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position_kind),s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.serp_features),s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position_has_video),s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position_has_thumbnail),s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position_kind),s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.serp_features),s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.best_position_has_video),s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.best_position_has_thumbnail),s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.best_position_kind),!1,t.serp),tl:0};case 12:return{hd:pa.Words.makeChFilterCompared(s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousPositionFilter.get,ft.Se_shared.OrganicKeywordsCompared.PreviousPositionFilter.words),s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentPositionFilter.get,ft.Se_shared.OrganicKeywordsCompared.CurrentPositionFilter.words),t.words),tl:0};case 13:return{hd:fa.Keyword.makeChFilterCompared(s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousPositionFilter.get,ft.Se_shared.OrganicKeywordsCompared.PreviousPositionFilter.text),s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentPositionFilter.get,ft.Se_shared.OrganicKeywordsCompared.CurrentPositionFilter.text),!1,t.keyword),tl:0};case 14:return{hd:fa.$$URL.makeChFilterCompared(s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position_url_raw),s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position_url_raw),!0,t.url),tl:0};case 15:return t.isMainOnly?{hd:qp(s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentPositionFilter.get,ft.Se_shared.OrganicKeywordsCompared.CurrentPositionFilter.is_main_position)),tl:{hd:qp(s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousPositionFilter.get,ft.Se_shared.OrganicKeywordsCompared.PreviousPositionFilter.is_main_position)),tl:0}}:0;case 16:return{hd:(r=t.multipleUrls,Ep(Da.any(s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.serp_target_positions_count_sig)),r)),tl:0}}var r}var a_=e_,o_=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(e_,(function(t){return t_(t,e)})))),(function(e){return e}))},i_=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(e_,(function(t){return r_(t,e)})))),(function(e){return e}))},n_={paddingLeft:String(26)+"px"};La.makeRenderHeader;var s_=Wm,l_=Um,d_=Om,c_={appendIf:Ig,renderOrHideCell:s_,cellWrapper:l_,singleFieldWrapper:d_,empty:Nm,groupToggle:function(e,t,r,o,i){var n;switch(e){case 0:n=s._1(ke.Message.to_s,{id:"0975855e9017eafaf7d6431ab769c8f9",defaultMessage:"Similar"});break;case 1:n=s._1(ke.Message.to_s,{id:"73802c043ea497bfad886cb90a31d78f",defaultMessage:"Links"});break;case 2:n=""}var d=n,c=0!==e?{TAG:0,_0:cg.groupingLinks}:{TAG:0,_0:cg.groupingSimilar};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(i,n,d,c,u,g){var m=tm(e,u,c),f=me.isSome(Ur.get(t.map,rm(n,m)));return z.useMemo((function(){var e=ie.to_int32(g)-1|0,t={children:e>0?z.createElement(Oi.make,{size:"sm",active:f,onClick:function(e){return s._2(o,n,m)},children:a.s(ae.Int.$$default(e))}):null};return void 0!==r&&(t.width=l.valFromOption(r)),z.createElement(va.Td.make,t)}),[dt.to_string(n),dt.to_string(c),dt.to_string(u),dt.to_string(g),f,t.hash])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(c,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0))))))},dates:function(e,t,r,o){return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(o,i,n,s){return z.useMemo((function(){var o=Bt.toMomentUtc(i),d=Bt.toMomentUtc(n),c=me.map(s,Bt.toMomentUtc),u={content:a.s(ne.moment(void 0,o,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,o,"dayShortMonthYear"))})};void 0!==r&&(u.singleton=l.valFromOption(r));var g,m={content:a.s(ne.moment(void 0,d,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.relativeWithMinutes(d))})};if(void 0!==r&&(m.singleton=l.valFromOption(r)),dm.showChanges(e)&&void 0!==c){var f=l.valFromOption(c),p={content:a.s(ne.moment(void 0,f,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{color:"danger",children:a.s(ne.relativeWithMinutes(f))})};void 0!==r&&(p.singleton=l.valFromOption(r)),g=z.createElement(Je.make,{children:z.createElement(ut.make,p)})}else g=null;var _={children:z.createElement(ct.make,{gap:"none",children:null},z.createElement(Je.make,{children:z.createElement(ut.make,u)}),z.createElement(Je.make,{children:z.createElement(ut.make,m)}),g),key:"crawlBlock"};return void 0!==t&&(_.width=l.valFromOption(t)),z.createElement(va.Td.make,_)}),[t,i.toString(),n.toString(),me.map(s,(function(e){return e.toString()}))])}),{renderHeader:function(t,r,a,o,i,n,d,c){var u={children:null};void 0!==t&&(u.domRef=l.valFromOption(t)),void 0!==r&&(u.style=l.valFromOption(r));var g={title:s._1(ke.Message.to_s,{id:"fc0bb0000257ff0076d9a54a2ffb01ee",defaultMessage:"First seen"}),sortField:s._1(xf.Name.toString,6),tableSort:n,tableSortDirection:d,tooltip:cg.firstSeen,onSort:i};void 0!==o&&(g.tooltipTarget=l.valFromOption(o));var m,f={title:s._1(ke.Message.to_s,{id:"fea02fd1c8ad0f7099e189e9eb605cd4",defaultMessage:"Last seen"}),sortField:s._1(xf.Name.toString,5),tableSort:n,tableSortDirection:d,tooltip:cg.lastSeenLive,onSort:i};if(void 0!==o&&(f.tooltipTarget=l.valFromOption(o)),dm.showChanges(e)){var p={color:"danger",title:s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),sortField:s._1(xf.Name.toString,4),tableSort:n,tableSortDirection:d,tooltip:cg.lastSeen,onSort:i};void 0!==o&&(p.tooltipTarget=l.valFromOption(o)),m=z.createElement(Pp,p)}else m=null;return z.createElement(bp,u,z.createElement(Pp,g),z.createElement(Pp,f),m)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_visited)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_seen)),0))))},keywords:function(e,t,r){var o=s._1(xf.Name.toString,11),i=s._1(ke.Message.to_s,{id:"0c11c4b6bcb2fd8fe631ea3d43e300da",defaultMessage:"Kw."}),d={TAG:0,_0:cg.keywords};return s._5(l_,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.positions)),e,(function(r,o,i){return z.useMemo((function(){var e=Ve.fromUrlWithMode(n.Url.show(o),0),r=Math.max(ie.to_float(i),0),s=a.s(ae.Float.full(r)),d={align:"right",children:me.mapWithDefault(e,s,(function(e){if(r<=0)return s;var t=jp();return z.createElement(ta.make,{href:j.V2.makeOrganicKeywordsUrlDict(e,l.some(Yp({hd:5,tl:0},void 0,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:"DontCompare",positions:t.positions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,serp:t.serp,words:t.words,keyword:t.keyword,url:t.url,isMainOnly:t.isMainOnly,multipleUrls:t.multipleUrls})),void 0),mode:0,children:s})}))};return void 0!==t&&(d.width=l.valFromOption(t)),z.createElement(va.Td.make,d)}),[e,t,dt.to_string(i)])}),{renderHeader:function(e,t,r,a,n,s,l,c){return La.makeRenderHeader(d,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,l,c)}},void 0)},domainTraffic:function(e,t,r){var o=s._1(xf.Name.toString,3),i=s._1(ke.Message.to_s,{id:"434850a40cd8793f18d7bd26156e79f2",defaultMessage:"Domain traffic"}),n={TAG:0,_0:cg.domainTraffic};return s._5(d_,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic)),e,(function(r){return z.useMemo((function(){var e={align:"right",children:a.s(ae.Float.tableAbbr(ie.to_float(r)))};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},pageTraffic:function(e,t,r){var o=s._1(xf.Name.toString,7),i=s._1(ke.Message.to_s,{id:"b48296041b92f7014242a696ec124618",defaultMessage:"Page traffic"}),n={TAG:0,_0:cg.traffic};return s._5(d_,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.traffic)),e,(function(r){return z.useMemo((function(){var e={align:"right",children:a.s(ae.Float.tableAbbr(ie.to_float(r)))};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},externalLinks:function(e,t,r){var o=s._1(xf.Name.toString,10),i=s._1(ke.Message.to_s,{id:"56a33a78c7529b5058875c5a27d9d0b1",defaultMessage:"Ext."}),n={TAG:0,_0:cg.ext};return s._5(d_,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.external_links)),e,(function(r){return z.useMemo((function(){var e={align:"right",children:a.s(ae.Float.full(ie.to_float(r)))};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},linkedDomains:function(e,t,r){var o=s._1(xf.Name.toString,9),i=s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),n={TAG:0,_0:cg.linkedDomains};return s._5(l_,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.linked_domains)),e,(function(r,o,i){return z.useMemo((function(){var e={align:"right",children:z.createElement(ta.make,{href:vt.SE.linkedDomains(o),children:a.s(ae.Float.full(ie.to_float(i)))})};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,o,dt.to_string(i)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},referringDomains:function(e,t,r){var o=s._1(xf.Name.toString,8),i=s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),d={TAG:0,_0:cg.referringDomain};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i,d){return z.useMemo((function(){var r,c=a.s(ae.Float.full(ie.to_float(o)));if(ie.to_float(o)>0){var u=mt.caml_obj_dup(Yf());r=z.createElement(ta.make,{href:j.V2.makeRefdomainsUrlDict({protocol:0,url:n.Url.show(i),mode:0},void 0,l.some(Zf({hd:26,tl:0},void 0,(u.highlightChanges=0,u))),void 0),mode:0,children:c})}else r=c;var g={align:"right",children:r};return void 0!==t&&(g.width=l.valFromOption(t)),s._4(s_,e,d,z.createElement(va.Td.make,g),void 0)}),[e,t,i,dt.to_string(o)])}),{renderHeader:function(e,t,r,a,n,s,l,c){return La.makeRenderHeader(d,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,l,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.refdomains)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),0))))},dr:function(e,t,r){var o=s._1(xf.Name.toString,1),i=s._1(ke.Message.to_s,{id:"8d49b76f431ce378e48ff8c4c5598338",defaultMessage:"DR"}),n={TAG:0,_0:cg.dr};return s._5(l_,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr)),e,(function(r,o,i){return z.useMemo((function(){var e={align:"right",children:a.s(ae.Float.full(i))};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,i])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},ur:function(e,t,r,o){var i=s._1(ke.Message.to_s,{id:"b791d5bd9b85fc867f1b967bf2c1e731",defaultMessage:"UR"}),n={TAG:1,_0:og};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(o,i,n,d){var c=Bt.toMomentUtc(d),u=c.isSameOrAfter(we);return z.useMemo((function(){var o;if(n<=0&&!u){var d={content:Ot.textContent(cg.urUnavailable),children:z.createElement(pt.make,{color:"secondary",children:a.s(Gt.mdash)})};void 0!==r&&(d.singleton=l.valFromOption(r)),o=z.createElement(ut.make,d)}else o=a.s(ae.Float.precisePositiveSmallNumbers(n));var c={align:"right",children:o};return void 0!==t&&(c.width=l.valFromOption(t)),s._4(s_,e,i,z.createElement(va.Td.make,c),void 0)}),[e,t,n,ne.moment(void 0,c,"dayDigitMonthYearTime")])}),{renderHeader:function(e,t,r,a,o,s,l,d){return La.makeRenderHeader(n,void 0,i,void 0,void 0,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,s,l,d)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.ur)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_visited)),0))))},referringPage:function(e,t,r,a,o,i,d,c){var u=void 0!==t?t:Aa.emptyGroupedTerms,g=void 0!==r?r:Aa.emptyGroupedTerms,m=void 0!==a?a:Aa.emptyGroupedTerms,f={width:"33%"},p=s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"}),_={TAG:0,_0:cg.referringPage};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a,c,f,p,_,h,k,v,y,D,S,F){var C=on.fromString(f);return z.useMemo((function(t){var f,w=s._2(fm.getLostStatus,y,D),T={paddingLeft:"none",nowrap:!1,children:null,key:"referringPageBlock"};if(void 0!==i&&(T.width=l.valFromOption(i)),"Redirect"===h){var b=me.mapWithDefault(k,"",(function(e){return" "+dt.to_string(e)}));f=[z.createElement(Io.make,{size:"small",color:"warningMuted",value:s._1(J.sprintf({_0:{TAG:11,_0:"REDIRECT",_1:{TAG:2,_0:0,_1:0}},_1:"REDIRECT%s"}),b)})]}else f=[];var P,M=ge.map(p,(function(e){return z.createElement(Io.make,{size:"small",value:e.toUpperCase(),key:e})})),A=ge.map(_,(function(e){return z.createElement(Io.make,{size:"small",value:e.toUpperCase(),key:e})})),R=ge.concat(ge.concat(f,M),A);if(void 0!==w)if(3!==w)P=w>=2?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Mf,{tooltipTarget:o,value:tf(w),tooltip:rf(w)})}):null;else{var L=dt.to_string(S);P=z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Mf,{tooltipTarget:o,value:L+s._1(ke.Message.to_s,{id:"39761f28b7ea23cb93c294b0730c9ad7",defaultMessage:" Redirect"}),tooltip:rf(3)})})}else P=null;return s._4(s_,e,r,z.createElement(va.Td.make,T,z.createElement(ta.make,{href:n.Url.show(c),mode:3,children:z.createElement(pt.make,{inline:!0,wordBreak:"breakWord",children:z.createElement(Aa.make,{groupedTerms:g,text:a})})}),z.createElement(ct.make,{gap:"px4",children:null},z.createElement("div",void 0,z.createElement(vn.make,{displayLink:n.Url.show(c),tkLinkContextInput:C,color:"green",highlightAnywhereTerms:fo.$at(u.contain,m.contain),highlightStartTerms:fo.$at(u.startWith,m.startWith),highlightEndTerms:fo.$at(u.endWith,m.endWith)})),0!==R.length?z.createElement(kt.make,{gap:"px4",vGap:"px4",children:R}):null,s._3(fm.isNewlyPublished,d,Bt.toMomentUtc(v),F)?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Pf,{tooltipTarget:o,value:Hm(0),tooltip:zm(0),striked:me.isSome(w)})}):null,P)),void 0)}),[a,n.Url.show(c),f,p.join(","),_.join(","),h,me.map(k,ie.to_int32),ne.apiDate(v),me.map(y,(function(e){return ce.getAssoc(ft.T.LinkDeindexedReason.delete_reason_enum,e,(function(e,t){return e===t}))})),D,ie.to_int32(S),F,Aa.toKey(u),Aa.toKey(g),e,i,d,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(_,void 0,p,void 0,void 0,void 0,void 0,"none",void 0,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.languages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.powered_by)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Crawl.redirect_code)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.lost_reason)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Deindexed.drop_reason)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Crawl.http_code)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.discovered_status)),0))))))))))))))},anchor:function(e,t,r,o,i,n,d){var c=void 0!==r?r:Aa.emptyGroupedTerms,u=void 0!==o?o:Aa.emptyGroupedTerms,g=void 0!==i?i:Aa.emptyGroupedTerms,m={width:"50%"},f=s._1(ke.Message.to_s,{id:"58816c4aac22ee9dbafbc26fb8577d75",defaultMessage:"Anchor and target URL"}),p={TAG:0,_0:cg.anchorAndTargetUrl};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i,d,m,f,p,_,h,k,v,y,D,S,F,C,w,T,b,P,M,A,R){return z.useMemo((function(){var r,L,E,B=ie.to_int32(R),K=wm.makeData(F,S,b,T,P,m,f,C),q=K.redirectChainTkLinkContextInput,x=K.redirectChain,W=K.initialUrl,U=Ig(Ig(Ig(Ig("Image"===p?{hd:"IMAGE",tl:0}:"Frame"===p?{hd:"FRAME",tl:0}:"Canonical"===p?{hd:"CANONICAL",tl:0}:0,k,"UGC"),v,"NOFOLLOW"),y,"SPONSORED"),D,"CONTENT"),O=wm.isBrokenSource(W,T),N=on.fromString(K.initialUrlTkLinkContextInputString);if(O&&void 0!==P&&"Targetchanged"!==P){var $=wm.toLostRedirectReason(P),I={singleton:t,children:z.createElement(Io.make,{size:"small",corners:"rounded",color:"danger",value:s._1(ke.Message.to_s,{id:"0000f524ba4821e4bde2e63f640ef924",defaultMessage:"Lost: "})+bg.showReason($)})},G=me.map(bg.toTooltip($),Ot.textContent);void 0!==G&&(I.content=l.valFromOption(G)),r=z.createElement("div",{className:Mp},z.createElement(ut.make,I))}else r=null;if(x){var Q=wm.linkRenderer;L=z.createElement(bg.make,{redirectChain:x,linkRenderer:function(e){var t=s._2(Q,e,q);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){return s._3(t,e,void 0,u)}}}}}}})}else L=null;if(s._3(fm.isGenericNew,e,Bt.toMomentUtc(M),A)){var V=me.isSome(w);E=z.createElement(Je.make,{fitToContent:!0,children:z.createElement(bf,{tooltipTarget:t,color:V?"neutralMutedTextSecondary":"success",value:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),striked:V})})}else E=null;var j={nowrap:!1,children:z.createElement(ct.make,{gap:"px2",children:null},_i.isNotBlank(o)||_i.isNotBlank(d)||_i.isNotBlank(i)?z.createElement(pt.make,{wordBreak:"breakWord",children:null},_i.isNotBlank(o)?z.createElement(z.Fragment,void 0,z.createElement(Aa.make,{groupedTerms:g,text:o}),a.s(" ")):null,z.createElement(ta.make,{href:W,mode:3,children:z.createElement(pt.make,{inline:!0,wordBreak:"breakWord",children:z.createElement(Aa.make,{groupedTerms:Aa.combineGroupedTerms({hd:c,tl:{hd:g,tl:0}}),text:i})})}),_i.isNotBlank(d)?z.createElement(z.Fragment,void 0,a.s(" "),z.createElement(Aa.make,{groupedTerms:g,text:d})):null):null,0!==U?z.createElement(Je.make,{gap:"px4",fitToContent:!0,children:a.list(ce.map(U,(function(e){return z.createElement(Io.make,{size:"small",color:"neutralMuted",value:e,key:e})})))}):null,z.createElement(pt.make,{children:z.createElement(ct.make,{gap:"px4",children:null},z.createElement(ct.make,{gap:"none",children:null},z.createElement("div",{className:Ap},_&&!h?z.createElement("div",{className:Mp},z.createElement(Io.make,{size:"small",color:"warningMuted",value:"JS"})):null,x?z.createElement(vn.make,{displayLink:W,tkLinkContextInput:N,color:"green"}):z.createElement(vn.make,{displayLink:W,tkLinkContextInput:N,color:"green",highlightAnywhereTerms:u.contain,highlightStartTerms:u.startWith,highlightEndTerms:u.endWith}),r),L),s._3(fm.isAddedToExistingPage,e,Bt.toMomentUtc(M),A)?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Pf,{tooltipTarget:t,value:Hm(1),tooltip:zm(1),striked:me.isSome(w)})}):null,s._3(fm.isRestored,e,Bt.toMomentUtc(M),A)?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Pf,{tooltipTarget:t,value:Hm(2),tooltip:zm(2),striked:me.isSome(w)})}):null,E,mt.caml_equal(w,"Removedfromhtml")&&200===B?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Mf,{tooltipTarget:t,value:tf(0),tooltip:rf(0)})}):mt.caml_equal(w,"Removedfromhtml")&&200!==B?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Mf,{tooltipTarget:t,value:tf(6),tooltip:rf(6)})}):null)})),key:"linkBlock"};return void 0!==n&&(j.width=l.valFromOption(n)),z.createElement(va.Td.make,j)}),[e,c,g,u,n,m])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(p,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,m,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.left_context)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.right_context)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_rendered)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_raw)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.ugc)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.nofollow)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.sponsored)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.content)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.lost_reason)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.redirect_broken_source)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.redirect_broken_new_target)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.redirect_broken_reason)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.discovered_status)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Crawl.http_code)),0)))))))))))))))))))))))}},u_=10;function g_(e,t){if("number"==typeof t){var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,rowMap:e.rowMap,sort:e.sort,sortDirection:e.sortDirection}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,rowMap:Xg(void 0),sort:t._0,sortDirection:t._1};var o,i,n=t._0;if("number"==typeof n)return e;switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,rowMap:t._1,sort:e.sort,sortDirection:e.sortDirection};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero,partial:!1}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:{total:ie.zero,partial:!1}})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,rowMap:t._1,sort:e.sort,sortDirection:e.sortDirection};default:return e}}var m_=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.rawAnchor,o=e.target,i=e.chFilter,d=e.filters,c=e.historyFilter,u=e.settings,g=e.expandedRows,m=e.count,f=z.useReducer(g_,{data:0,oldData:0,error:void 0,offset:0,rowMap:Xg(void 0),sort:7,sortDirection:"Desc"}),p=f[1],_=f[0],h=_.rowMap,k=me.mapWithDefault(Ur.get(g.map,a),!1,(function(e){return 1===e})),v=ie.to_int32(m),y=Aa.getTerms(d.referringPageTitle.rules),D=Aa.getTerms(d.referringPageUrl.rules),S=Aa.getTerms(d.anchorWithSurroundingText.rules),F=Aa.getTerms(d.anchor.rules),C=Aa.getTerms(d.targetUrl.rules),w=mt.caml_obj_dup(d);w.sort={name:_.sort,direction:_.sortDirection};var T=Gg({hd:ce.flatten(i),tl:{hd:{hd:s._2(fa.Backlinks.Anchor.makeChFilterWithData,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),uf($e(a))),tl:0},tl:0}}),b={hd:c_.referringPage(l.some(h),D,y,void 0,r,void 0,c,void 0),tl:{hd:c_.dr(l.some(h),void 0,void 0),tl:{hd:c_.ur(l.some(h),void 0,void 0,void 0),tl:{hd:c_.domainTraffic(l.some(h),void 0,void 0),tl:{hd:c_.referringDomains(l.some(h),void 0,void 0),tl:{hd:c_.linkedDomains(l.some(h),void 0,void 0),tl:{hd:c_.externalLinks(l.some(h),void 0,void 0),tl:{hd:c_.pageTraffic(l.some(h),void 0,void 0),tl:{hd:c_.keywords(l.some(h),void 0,void 0),tl:{hd:c_.anchor(c,r,F,C,S,void 0,void 0),tl:{hd:c_.dates(c,void 0,l.some(r),void 0),tl:0}}}}}}}}}}},P=s._3(Ra.FieldsRequestDescr.customRow,b,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:b,parentData:e,isPadded:!1})}),Vg),M=s._1(Ra.FieldsRequestDescr.toRequest,P),A=z.useRef(new AbortController),R=function(e,t,r){var a=void 0!==e?e:u_,i=void 0!==t?t:0;A.current.abort(),A.current=new AbortController,s._1(p,0);var d=xf.toFieldName(_.sort);return Ye.forEach(B(l.some(A.current),n.Protocolless_url.show(o.url),o.mode,o.protocol,dm.toHistoryMode(c),dm.toSince(c),{filter:T,size:a,offset:i,order_by:d?ce.map(d,(function(e){return[_.sortDirection,e]})):void 0,shape:ce.map(M,(function(e){return e[1]})),timeout:void 0},2),(function(e){var t=jg(e);return s._1(p,{TAG:0,_0:t,_1:de.mapWithDefault(t,_.rowMap,(function(e){return function(e){var t=ce.map(M,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)),0)))),(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(l.some(h),void 0),e.rows)}(e)[1]}))})}))};z.useEffect((function(){var e=_.data;k&&0===e&&R(void 0,void 0)}),[k,_.data]),z.useEffect((function(){k&&R(void 0,void 0)}),[_.sort,_.sortDirection]);var L=function(e){return s._2(g.setRow,a,void 0)},E={_0:function(e){var t={data:_.data,settings:u,offset:_.offset,remainingCount:de.mapWithDefault(_.data,0,(function(e){return v-e.count|0})),rightAddon:z.createElement(bt,{exportFunc:function(e,t){var r=xf.toFieldName(_.sort);return G(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-backlinks-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode)),o.url,o.mode,dm.toSince(c),o.protocol,dm.toHistoryMode(c),{filter:T,size:t,offset:0,order_by:r?ce.map(r,(function(e){return[_.sortDirection,e]})):void 0,shape:ce.map(M,(function(e){return e[1]})),timeout:void 0},2)},isTrial:u.subscription.isTrial,limitResetDate:u.subscription.dateResetUsagesMonthly,totalResults:v,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:o,limitsFunc:N}),onClose:L,onMoreDataRequested:function(e,t,r){return R(e,t)}};return void 0!==_.error&&(t.error=l.valFromOption(_.error)),z.createElement(Gl,t)}};return k?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:u,data:_.data,tableData:de.mapWithDefault(_.data,0,(function(e){return e.rows})),row:P,tooltipTarget:r,isLoading:de.isLoading(_.data),failureState:te.Table.getFailureState(_.data),sort:s._1(xf.Name.toString,_.sort),sortDirection:_.sortDirection,totalRowsNumber:v,reportLink:j.V2.makeUrl(1,{TAG:1,_0:o},Of(void 0,void 0,w)),totalMessage:{id:"849a1b4931b575428999a9e9af4bb736",defaultMessage:"{totalDisplay} {total, plural, zero {backlinks} one {backlink} other {backlinks}}"},customFooter:E,onClose:L,onRefetch:function(e){return R(void 0,void 0)},onSort:function(e,t,r){return s._1(p,{TAG:1,_0:me.getWithDefault(s._1(xf.Name.ofString,e),7),_1:t})}}),tableRootRef:t,hash:g.hash,onDimensionsChange:g.renewHash}):null},f_=r(81985),p_=r(49094),__=s._1(Rt.css,{hd:Rt.label("dropdown"),tl:{hd:Rt.marginLeft({NAME:"px",VAL:-1}),tl:0}}),h_={equals:Qr.equal},k_=bi.Make(h_);function v_(e,t){return"number"==typeof t?{searchValue:"",searchField:e.searchField}:0===t.TAG?{searchValue:t._0,searchField:e.searchField}:{searchValue:e.searchValue,searchField:t._0}}function y_(e){switch(e){case 0:return{label:fa.RefDomains.DomainName.defaultLabel,value:0,disabled:!1};case 1:return{label:fa.Backlinks.ReferringPageUrl.defaultLabel,value:1,disabled:!1};case 2:return{label:fa.Backlinks.ReferringPageTitle.defaultLabel,value:2,disabled:!1};case 3:return{label:fa.Backlinks.Anchor.defaultLabel,value:3,disabled:!1};case 4:return{label:fa.Backlinks.SurroundingText.defaultLabel,value:4,disabled:!1};case 5:return{label:fa.Backlinks.TargetPageTitle.defaultLabel,value:5,disabled:!1};case 6:return{label:fa.Backlinks.TargetUrl.defaultLabel,value:6,disabled:!1}}}function D_(e){return{matchType:0,rules:{hd:[{TAG:0,_0:1},e.trim(),0],tl:0}}}var S_={hd:0,tl:{hd:2,tl:{hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:6,tl:0}}}}}},F_={hd:0,tl:{hd:2,tl:{hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:0}}}}}}},C_={hd:2,tl:{hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:6,tl:0}}}}},w_={hd:2,tl:{hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:0,tl:{hd:6,tl:0}}}}}},T_=function(e){var t=e.items,r=e.initialSelected,a=e.onApply,o=z.useReducer(v_,{searchValue:"",searchField:r}),i=o[1],n=o[0],d=n.searchField,c=n.searchValue,u=z.useRef(null),g=ue.use(d),m=function(e,t){var r=t.trim();return s._1(i,0),s._1(a,[e,r])};return z.useEffect((function(){g!==d&&(_i.isBlank(c)?Sg.focus(u):m(d,c))}),[d]),z.createElement(Je.make,{gap:"none",fitToContent:!0,children:null},z.createElement(f_.make,f_.makeProps(void 0,void 0,void 0,void 0,u,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,s._1(ke.Message.to_s,{id:"dc29b8d5386b0725d7b07bae8538974e",defaultMessage:"Word or phrase"}),void 0,void 0,void 0,void 0,void 0,c,l.some(z.createElement(Xe.Search.make,Xe.Search.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))),void 0,void 0,void 0,void 0,void 0,(function(e){return s._1(i,{TAG:0,_0:e})}),void 0,void 0,void 0,(function(e){var t=p_.$$KeyboardEvent.keyFromEventKey(e.key);return 3!==t?4!==t?void 0:s._1(i,{TAG:0,_0:""}):m(d,c)}),void 0,void 0,void 0)),z.createElement("div",{className:__},z.createElement(k_.make,{selectedItem:d,items:t,roundness:"rightOnly",onChange:function(e){return s._1(i,{TAG:1,_0:e})}})))},b_=Pl.Make({all:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:0}}}}}}}}}}}}}}}}}}),P_=z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),M_=function(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"644207cb91b1774079e96012f511a4af",defaultMessage:"Referring domain"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"d60252cc9b33603259f681b10fb7e17b",defaultMessage:"Domain name"}),1),tl:{hd:a(s._1(ke.Message.to_s,{id:"434850a40cd8793f18d7bd26156e79f2",defaultMessage:"Domain traffic"}),0),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),2),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),7),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),8),tl:{hd:a(s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),9),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),10),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"45bd3c42f979a78085c4343a3f4e7f7f",defaultMessage:"Backlink"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"0a778e16bdca6704758c9ca06db061d0",defaultMessage:"Backlink type"}),11),tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),12),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),13),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),14),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),15),tl:{hd:a(s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),16),tl:0}}}}}}}}}}}}}}}}}}}}}}}};return z.createElement(b_.make,{label:P_,dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.orgDomainTraffic,s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.referringDomainName,s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.orgPageTraffic,s._1(pa.OrgPageTraffic.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.backlinkType,s._1(Dg.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 13:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 14:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 15:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 16:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})};function A_(e,t){return{sort:Wf().sort,pagination:Wf().pagination,followType:t.followType,backlinkType:t.backlinkType,dr:t.dr,ur:Wf().ur,orgDomainTraffic:t.orgDomainTraffic,excludeSubdomains:t.excludeSubdomains,referringDomainName:{matchType:0,rules:{hd:[0,e,0],tl:0}},referringPageTitle:t.referringPageTitle,referringPageUrl:t.referringPageUrl,platform:t.platform,language:t.language,refDomains:t.refDomains,linkedDomains:t.linkedDomains,externalLinks:t.externalLinks,orgPageTraffic:t.orgPageTraffic,orgKeywords:t.orgKeywords,anchor:t.anchor,anchorWithSurroundingText:t.anchorWithSurroundingText,targetUrl:t.targetUrl,contentType:t.contentType,redirects:t.redirects,groupingType:2,linkStatus:t.linkStatus,highlightChanges:t.highlightChanges,newLostStatusDateRange:t.newLostStatusDateRange,newStatus:t.newStatus,lostStatus:t.lostStatus,liveOnly:Wf().liveOnly}}var R_=function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:150}},tl:0},r={hd:{TAG:0,_0:{NAME:"percent",VAL:50}},tl:0},a=s._1(zf.Name.toString,0),o=s._1(ke.Message.to_s,{id:"45e3e69365959a4bf04b5589ef5cf8c1",defaultMessage:"Domain"}),i={TAG:0,_0:gg.domain};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a,o){var i=on.fromString(a);return z.createElement(va.Td.make,{paddingLeft:"none",children:z.createElement(vn.make,{displayLink:s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:2,_0:0,_1:0}},_1:"%s%s"}),443===ie.to_int32(o)?"https://":"http://",r),tkLinkContextInput:i,color:"blue",label:r,highlightAnywhereTerms:e.contain,highlightStartTerms:e.startWith,highlightEndTerms:e.endWith})})}),{renderHeader:function(e,n,s,l,d,c,u,g){return La.makeRenderHeader(i,void 0,o,void 0,a,void 0,"left","none",void 0,void 0,void 0,void 0,r,t,void 0,void 0,void 0,e,n,s,l,d,c,u,g)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_tkLinkContext_input)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.port)))),0))))},L_=function(e,t,r){var a,o=void 0!==t&&t;if(dm.showChanges(e)){var i=s._1(ke.Message.to_s,{id:"4c1fed3b9aac2cff257bcb8992b7be68",defaultMessage:"Status"}),n={TAG:0,_0:gg.status};a=function(e,t,r,a,o,s,l,d){return La.makeRenderHeader(n,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,s,l,d)}}else a=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a){if(!dm.showChanges(e))return null;var i;switch(s._3(ym.getStatus,e,Bt.toMomentUtc(r),me.map(a,Bt.toMomentUtc))){case 0:i=z.createElement(Pf,{size:"medium"});break;case 1:i=z.createElement(Mf,{size:"medium"});break;case 2:i=o?z.createElement(Pf,{size:"medium"}):null;break;case 3:i=z.createElement(op,{oldValue:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),value:s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),color:"danger"})}return z.createElement(va.Td.make,{children:i})}),{renderHeader:a},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.last_seen)),0)))},E_=function(e){var t=s._1(zf.Name.toString,1),r=s._1(ke.Message.to_s,{id:"7d582c9dcc009877cf05410d75e63f12",defaultMessage:"DR"}),o={TAG:0,_0:gg.dr};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.full(t))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr)))))},B_=function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:100}},tl:0},r=s._1(zf.Name.toString,5),o=s._1(ke.Message.to_s,{id:"1b5fc907034778d516e616001b7d71f2",defaultMessage:"Dofollow ref. domains"}),i={TAG:0,_0:gg.dofollowRefDomains};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){var i=ie.to_float(o),n=a.s(ae.Float.full(i));return z.createElement(va.Td.make,{align:"right",children:i>0?z.createElement(ta.make,{href:j.V2.makeRefdomainsUrlDict({protocol:e.protocol,url:r,mode:e.mode},void 0,l.some(s._2(Xu.Filter.toQuery,{},1)),void 0),mode:0,children:n}):n})}),{renderHeader:function(e,a,n,s,l,d,c,u){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,t,void 0,void 0,void 0,e,a,n,s,l,d,c,u)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.refdomains)))),0)))},K_=function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:115}},tl:0},r=s._1(zf.Name.toString,6),o=s._1(ke.Message.to_s,{id:"ef879770e9b98090b2d5e1f8ad188138",defaultMessage:"Dofollow linked domains"}),i={TAG:0,_0:gg.dofollowLinkedDomains};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.full(ie.to_float(t)))})}),{renderHeader:function(e,a,n,s,l,d,c,u){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,t,void 0,void 0,void 0,e,a,n,s,l,d,c,u)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.linked_domains)))))},q_=function(e){var t=s._1(zf.Name.toString,4),r=s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),o={TAG:0,_0:gg.traffic};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.tableAbbr(ie.to_float(t)))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic)))))},x_=function(e){var t=s._1(zf.Name.toString,7),r=s._1(ke.Message.to_s,{id:"da9f5753782536a00a60ead8c519cb82",defaultMessage:"Links to target"}),o={TAG:0,_0:gg.linksToTarget};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){return z.createElement(va.Td.make,{align:"right",children:z.createElement(Oi.make,{size:"sm",active:me.isSome(Ur.get(e.map,dt.to_string(r))),onClick:function(t){var a=me.mapWithDefault(Ur.get(e.map,dt.to_string(r)),!0,(function(e){}));return s._2(e.setRow,dt.to_string(r),a)},children:a.s(ae.Int.$$default(ie.to_int32(o)))})})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0)))},W_=function(e,t,r){var o=s._1(zf.Name.toString,7),i=s._1(ke.Message.to_s,{id:"da9f5753782536a00a60ead8c519cb82",defaultMessage:"Links to target"}),n={TAG:0,_0:gg.linksToTarget};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){var n=A_(o,t);return z.createElement(va.Td.make,{align:"right",children:z.createElement(ta.make,{href:j.V2.makeUrl(1,{TAG:0,_0:e},Of(void 0,void 0,n)),mode:0,children:a.s(ae.Int.$$default(ie.to_int32(i)))})})}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0)))},U_=function(e,t,r){var a;if(dm.showNewAndLostLinks(e)){var o=s._1(zf.Name.toString,10),i=s._1(ke.Message.to_s,{id:"13eb4e7436fd5fb8203a5c48f7118c2b",defaultMessage:"New links"}),n={TAG:0,_0:gg.newLinks};a=function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}}else a=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(a,o,i){if(!dm.showNewAndLostLinks(e))return null;var n=mt.caml_obj_dup(A_(i,t));return n.linkStatus=1,z.createElement(va.Td.make,{align:"right",children:z.createElement(rg,{value:ie.to_float(o),href:j.V2.makeUrl(1,{TAG:0,_0:r},Of(void 0,void 0,n))})})}),{renderHeader:a},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_new)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),0)))},O_=function(e,t,r){var a;if(dm.showNewAndLostLinks(e)){var o=s._1(zf.Name.toString,9),i=s._1(ke.Message.to_s,{id:"ea2a9add519d056f02dabab988893b5b",defaultMessage:"Lost links"}),n={TAG:0,_0:gg.lostLinks};a=function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}}else a=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(a,o,i){if(!dm.showNewAndLostLinks(e))return null;var n=mt.caml_obj_dup(A_(i,t));return n.linkStatus=2,z.createElement(va.Td.make,{align:"right",children:z.createElement(rg,{value:-1*ie.to_float(o),href:j.V2.makeUrl(1,{TAG:0,_0:r},Of(void 0,void 0,n))})})}),{renderHeader:a},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_lost)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),0)))},N_=function(e){var t=s._1(zf.Name.toString,8),r=s._1(ke.Message.to_s,{id:"8ec94902b88755af89b41d412045b994",defaultMessage:"Dofollow links"}),o={TAG:0,_0:gg.dofollowLinks};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.full(ie.to_float(t)))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))))},$_=function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:60}},tl:0};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(t,r){return z.createElement(va.Td.make,{align:"left",children:z.createElement(tg,{total:e,value:ie.to_float(r)})})}),{renderHeader:function(e,r,a,o,i,n,s,l){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,"left",void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,e,r,a,o,i,n,s,l)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))))},I_=function(e){var t={hd:{TAG:0,_0:{NAME:"percent",VAL:100}},tl:0};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{children:null})}),{renderHeader:function(e,r,a,o,i,n,s,l){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,void 0,e,r,a,o,i,n,s,l)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))))},G_=function(e){var t=s._1(zf.Name.toString,2),r=s._1(ke.Message.to_s,{id:"fc0bb0000257ff0076d9a54a2ffb01ee",defaultMessage:"First seen"}),o={TAG:0,_0:gg.firstSeen};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){var r=Bt.toMomentUtc(t);return z.createElement(va.Td.make,{children:z.createElement(ut.make,{content:a.s(ne.moment(void 0,r,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,r,"dayShortMonthYear"))})})})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,void 0,void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen)))},Q_=function(e){var t;if(dm.showChanges(e)){var r=s._1(zf.Name.toString,3),o=s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),i={TAG:0,_0:gg.lost};t=function(e,t,a,n,s,l,d,c){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,void 0,void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,a,n,s,l,d,c)}}else t=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(t,r){return dm.showChanges(e)?z.createElement(va.Td.make,{children:a.renderDefaultNull(r,(function(e){var t=Bt.toMomentUtc(e);return z.createElement(ut.make,{content:a.s(ne.moment(void 0,t,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,t,"dayShortMonthYear"))})})}))}):null}),{renderHeader:t},s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.last_seen)))},V_=s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0)));function j_(e,t){if("number"==typeof t){var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:e.totalDofollowLinks}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,sort:t._0,sortDirection:t._1,totalDofollowLinks:e.totalDofollowLinks};var o,i,n=t._0;if("number"==typeof n)return e;switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:0};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:{total:ie.zero}})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:t._1};default:return e}}var H_=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.rawAnchor,o=e.target,i=e.chFilter,d=e.filters,c=e.historyFilter,u=e.settings,g=e.expandedRows,m=e.count,f=z.useReducer(j_,{data:0,oldData:0,error:void 0,offset:0,sort:1,sortDirection:"Desc",totalDofollowLinks:0}),p=f[1],_=f[0],h=me.mapWithDefault(Ur.get(g.map,a),!1,(function(e){return 0===e})),k=ie.to_int32(m),v=mt.caml_obj_dup(d);v.anchor=uf($e(a)),v.sort={name:_.sort,direction:_.sortDirection};var y=Aa.getTerms(v.referringDomainName.rules),D=Gg({hd:ce.flatten(i),tl:{hd:{hd:s._2(fa.Backlinks.Anchor.makeChFilterWithData,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),uf($e(a))),tl:0},tl:0}}),S={hd:R_(y),tl:{hd:L_(c,void 0,void 0),tl:{hd:E_(void 0),tl:{hd:B_(o),tl:{hd:K_(void 0),tl:{hd:q_(void 0),tl:{hd:W_(Ve.Safe.toUnsafe(o),v,void 0),tl:{hd:U_(c,v,Ve.Safe.toUnsafe(o)),tl:{hd:O_(c,v,Ve.Safe.toUnsafe(o)),tl:{hd:N_(void 0),tl:{hd:$_(_.totalDofollowLinks),tl:{hd:I_(void 0),tl:{hd:G_(void 0),tl:{hd:Q_(c),tl:0}}}}}}}}}}}}}},F=s._3(Ra.FieldsRequestDescr.customRow,S,(function(e,t,r,a){return z.createElement(te.Row.make,{columns:S,parentData:e,isPadded:!1,key:dt.to_string(t)})}),V_),C=s._1(Ra.FieldsRequestDescr.toRequest,F),w=z.useRef(new AbortController),T=function(e,t,r){var a=void 0!==e?e:u_,i=void 0!==t?t:0;w.current.abort(),w.current=new AbortController,s._1(p,0);var d=function(e){var t=ce.map(C,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0),(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a){var o=ie.to_float(a);return s._1(t,o>e?o:e)}),_.totalDofollowLinks,e.rows)},u=zf.toFieldName(_.sort);return Ye.forEach(q(l.some(w.current),n.Protocolless_url.show(o.url),o.mode,o.protocol,dm.toHistoryMode(c),dm.toSince(c),{filter:D,size:a,offset:i,order_by:u?ce.map(u,(function(e){return[_.sortDirection,e]})):void 0,shape:ce.map(C,(function(e){return e[1]})),timeout:void 0}),(function(e){return s._1(p,{TAG:0,_0:e,_1:de.mapWithDefault(e,0,d)})}))};z.useEffect((function(){var e=_.data;h&&0===e&&T(void 0,void 0)}),[h,_.data]),z.useEffect((function(){h&&T(void 0,void 0)}),[_.sort,_.sortDirection]);var b=function(e){return s._2(g.setRow,a,void 0)},P={_0:function(e){var t={data:_.data,settings:u,offset:_.offset,remainingCount:de.mapWithDefault(_.data,0,(function(e){return k-e.count|0})),rightAddon:z.createElement(bt,{exportFunc:function(e,t){var r=zf.toFieldName(_.sort);return I(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-refdomains-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-refdomains-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode)),o.url,o.mode,dm.toSince(c),o.protocol,dm.toHistoryMode(c),{filter:D,size:t,offset:0,order_by:r?ce.map(r,(function(e){return[_.sortDirection,e]})):void 0,shape:ce.map(C,(function(e){return e[1]})),timeout:void 0},dm.showExportNewLostColumns(c))},isTrial:u.subscription.isTrial,limitResetDate:u.subscription.dateResetUsagesMonthly,totalResults:k,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:o,limitsFunc:N}),onClose:b,onMoreDataRequested:function(e,t,r){return T(e,t)}};return void 0!==_.error&&(t.error=l.valFromOption(_.error)),z.createElement(Gl,t)}};return h?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:u,data:_.data,tableData:de.mapWithDefault(_.data,0,(function(e){return e.rows})),row:F,tooltipTarget:r,isLoading:de.isLoading(_.data),failureState:te.Table.getFailureState(_.data),sort:s._1(zf.Name.toString,_.sort),sortDirection:_.sortDirection,totalRowsNumber:k,reportLink:j.V2.makeUrl(5,{TAG:1,_0:o},Zf(void 0,void 0,v)),totalMessage:{id:"de56ef4abee91719375ef6b128cdd796",defaultMessage:"{totalDisplay} {total, plural, zero {domains} one {domain} other {domains}}"},customFooter:P,onClose:b,onRefetch:function(e){return T(void 0,void 0)},onSort:function(e,t,r){return s._1(p,{TAG:1,_0:me.getWithDefault(s._1(zf.Name.ofString,e),1),_1:t})}}),tableRootRef:t,hash:g.hash,onDimensionsChange:g.renewHash}):null};function z_(e,t){if(!t)return{remoteData:1,totalRefdomains:e.totalRefdomains,totalRefpages:e.totalRefpages,totalDofollowLinks:e.totalDofollowLinks};var r=t._1;return{remoteData:t._0,totalRefdomains:r.refdomains,totalRefpages:r.refpages,totalDofollowLinks:r.dofollowLinks}}zu(St.caml_string_compare);var Y_={contents:gt()};function J_(e,t,r,a,o,i,l,d){s._1(e,0);var c=gt();Y_.contents=c;var g,m,f,p,_,h,k=function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0))),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i){var n=ie.to_float(a),l=n>e.refdomains?n:e.refdomains,d=ie.to_float(o),c=d>e.refpages?d:e.refpages,u=ie.to_float(i),g=u>e.dofollowLinks?u:e.dofollowLinks;return s._1(t,{refdomains:l,refpages:c,dofollowLinks:g})}),{refdomains:0,refpages:0,dofollowLinks:0},e.rows)};return Ye.forEach((g=n.Protocolless_url.show(r.url),m=r.mode,f=r.protocol,p=dm.toHistoryMode(d),_=dm.toSince(d),h={filter:l,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0},R(void 0,u.request,{se_params:{history_mode:p,since:_,target:g,mode:m,protocol:f},params:h})),(function(t){if(Y_.contents===c)return s._1(e,{_0:t,_1:de.mapWithDefault(t,{refdomains:0,refpages:0,dofollowLinks:0},k)})}))}La.makeRenderHeader;var X_=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=z.useReducer(z_,{remoteData:0,totalRefdomains:0,totalRefpages:0,totalDofollowLinks:0}),c=d[1],u=d[0],g=he.useUrl(void 0,void 0),m=g.search,f=g.path,p=ue.use(m),h=z.useMemo((function(){return i.parseQueryToDict(m,void 0,void 0)}),[m]),k=z.useMemo((function(){return i.parseQueryToDict(p,void 0,void 0)}),[p]),v=function(e,t,r){var a,o=e.reportHistoricalPermissions,i=s._1(hg.ofQueryWithDefault,r),n=s._1(hg.ofQueryWithDefault,t);if(0!==i||0===n)a=s._1(xg.Filter.ofQueryWithDefault,r);else{var l=s._1(Ng.ofQueryWithDefault,t);a="number"==typeof l?l+1|0:kf().highlightChanges}var d,c=ce.has($m.highlightChangesItems(o),a,Qr.equal)?a:$m.maxHighlightChangesItem(o);if(0!==i&&0===n)switch(s._1(xg.Filter.ofQueryWithDefault,t)){case 1:d=0;break;case 2:d=1;break;case 0:case 3:d=2;break;case 4:d=3;break;case 5:d=4;break;case 6:d=5;break;case 7:d=6;break;case 8:d=7}else d=s._1(Ng.ofQueryWithDefault,r);var u,g,m=Mm.isNewLostDateRangeItemAllowed(d,o)?d:me.getWithDefault(Mm.maxNewLostDateRangeItem(e.reportHistoricalPermissions),0),f=0;switch(i){case 0:f=1;break;case 1:switch(n){case 1:u=[s._1(Xm.ofQueryWithDefault,r),kf().lostStatus];break;case 0:case 2:f=1}break;case 2:switch(n){case 0:case 1:f=1;break;case 2:u=[kf().newStatus,s._1(df.ofQueryWithDefault,r)]}}1===f&&(u=[kf().newStatus,kf().lostStatus]);var p=0;return 0!==i||0===c?p=1:g=[s._1(pa.NewLinks.Filter.ofQueryWithDefault,r),s._1(pa.LostLinks.Filter.ofQueryWithDefault,r)],1===p&&(g=[kf().newLinks,kf().lostLinks]),{sort:s._1(pf,r),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,r),followType:s._1(Xu.Filter.ofQueryWithDefault,r),dr:s._1(pa.DR.Filter.ofQueryWithDefault,r),anchorsRefDomains:s._1(pa.Anchors.RefDomains.Filter.ofQueryWithDefault,r),refPages:s._1(pa.RefPages.Filter.ofQueryWithDefault,r),linksToTarget:s._1(pa.LinksToTarget.Filter.ofQueryWithDefault,r),excludeSubdomains:s._1(Im.ofQueryWithDefault,r),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.ofQueryWithDefault,r),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.ofQueryWithDefault,r),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,r),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,r),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,r),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,r),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,r),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,r),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,r),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,r),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,r),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,r),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,r),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,r),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,r),contentType:s._1(yg.Filter.ofQueryWithDefault,r),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,r),linkStatus:i,highlightChanges:c,newLostStatusDateRange:m,newLinks:g[0],lostLinks:g[1],newStatus:u[0],lostStatus:u[1]}}(r,k,h),y=a.useStateValue(v),D=y[1],S=y[0],F=function(e,t){var r=void 0!==e&&e;s._1(D,t);var a=i.makeStringWithQueryDict(i.makePathname(f),l.some(yf(void 0,l.some(h),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};z.useEffect((function(){F(!0,v)}),[i.stringifyQueryDict(yf(void 0,void 0,v),void 0,void 0)]);var C=Re(hf.toFieldName(v.sort.name),v.sort.direction),w=Yu(u.remoteData,(function(e){return ie.to_float(e.stats.total)})),T=uo.useSingleton({overrides:["className"]}),b=T[1],P=ya.useMultipleExpandedRows(void 0,void 0),M=z.useMemo((function(){var e=v.linkStatus,t=v.highlightChanges,r=v.newLostStatusDateRange,a=v.newStatus,o=v.lostStatus;switch(e){case 0:return{TAG:0,_0:{highlightChanges:t}};case 1:return{TAG:1,_0:{dateRange:r,status:a,liveOnly:!1}};case 2:return{TAG:2,_0:{dateRange:r,status:o}}}}),[s._1(hg.toString,v.linkStatus),s._1(xg.Filter.toString,v.highlightChanges),s._1(Ng.toString,v.newLostStatusDateRange),s._1(Xm.toString,v.newStatus),s._1(df.toString,v.lostStatus)]),A=Aa.getTerms(v.anchor.rules),R=de.mapWithDefault(u.remoteData,[0,0,0],(function(e){var t=e.stats;return[ie.to_float(t.dofollow_links),ie.to_float(t.refdomains),ie.to_float(t.refpages)]})),E={hd:lp(Ve.Safe.toUnsafe(t),v,A),tl:{hd:dp(M),tl:{hd:cp(P,R[1]),tl:{hd:vp(s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))),u.totalRefdomains),tl:{hd:up(void 0),tl:{hd:gp(void 0),tl:{hd:mp(P),tl:{hd:fp(M,v,Ve.Safe.toUnsafe(t)),tl:{hd:pp(M,v,Ve.Safe.toUnsafe(t)),tl:{hd:_p(R[0]),tl:{hd:vp(s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),u.totalDofollowLinks),tl:{hd:yp(void 0),tl:{hd:hp(void 0),tl:{hd:kp(M),tl:0}}}}}}}}}}}}}},B=z.useMemo((function(){var e={hd:Xu.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.sponsored),v.followType)(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)),tl:{hd:pa.DR.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr),v.dr),tl:{hd:Gm(s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.is_root_domain),v.excludeSubdomains),tl:{hd:s._2(fa.RefDomains.DomainName.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name),v.referringDomainName),tl:{hd:s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.title),v.referringPageTitle),tl:{hd:s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url_plain),v.referringPageUrl),tl:{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.powered_by),v.platform),tl:{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.languages),v.language),tl:{hd:pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.refdomains),v.refDomains),tl:{hd:pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.linked_domains),v.linkedDomains),tl:{hd:pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.external_links),v.externalLinks),tl:{hd:pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.traffic),v.orgPageTraffic),tl:{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.positions),v.orgKeywords),tl:{hd:Dg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.content),v.backlinkType),tl:{hd:s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),v.anchor),tl:{hd:s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.right_context),v.anchorWithSurroundingText),tl:{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url_plain),v.targetUrl),tl:{hd:yg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.non_html_suffix),v.contentType),tl:{hd:Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.url),v.redirects),tl:{hd:pa.OrgDomainTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic),v.orgDomainTraffic),tl:0}}}}}}}}}}}}}}}}}}}};return[Gg({hd:e,tl:{hd:{hd:s._1(Dm.makeChFilter,M),tl:{hd:s._2(pa.Anchors.RefDomains.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name),v.anchorsRefDomains),tl:{hd:pa.RefPages.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url),v.refPages),tl:{hd:pa.LinksToTarget.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id),v.linksToTarget),tl:{hd:pa.NewLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_new),v.newLinks),tl:{hd:pa.LostLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_lost),v.lostLinks),tl:0}}}}}},tl:0}}),{hd:e,tl:{hd:{hd:s._1(pm.makeChFilter,dm.withoutLiveOnly(dm.withoutStatus(M))),tl:0},tl:0}},{hd:e,tl:{hd:{hd:s._1(Dm.makeChFilter,dm.withoutLiveOnly(M)),tl:0},tl:0}}]}),[i.stringifyQueryDict(yf(void 0,void 0,v),void 0,void 0)]),K=B[2],q=B[1],x=B[0],W=s._3(Ra.FieldsRequestDescr.customRow,E,(function(e,a,o,i){return z.createElement(z.Fragment,{children:null,key:a+Y_.contents},z.createElement(te.Row.make,{columns:E,parentData:e}),z.createElement(H_,{tableRootRef:e.tableRootRef,tooltipTarget:b,rawAnchor:a,target:t,chFilter:K,filters:(n=a,s=v,{sort:Yf().sort,pagination:Yf().pagination,followType:s.followType,dr:s.dr,orgDomainTraffic:s.orgDomainTraffic,linksToTarget:s.linksToTarget,excludeSubdomains:s.excludeSubdomains,referringDomainName:s.referringDomainName,dofollowRefDomains:Yf().dofollowRefDomains,dofollowLinkedDomains:Yf().dofollowLinkedDomains,referringPageTitle:s.referringPageTitle,referringPageUrl:s.referringPageUrl,platform:s.platform,language:s.language,refDomains:s.refDomains,linkedDomains:s.linkedDomains,externalLinks:s.externalLinks,orgPageTraffic:s.orgPageTraffic,orgKeywords:s.orgKeywords,backlinkType:s.backlinkType,anchor:uf($e(n)),anchorWithSurroundingText:s.anchorWithSurroundingText,targetUrl:s.targetUrl,contentType:s.contentType,redirects:s.redirects,linkStatus:s.linkStatus,highlightChanges:s.highlightChanges,newLostStatusDateRange:s.newLostStatusDateRange,newLinks:s.newLinks,lostLinks:s.lostLinks,newStatus:s.newStatus,lostStatus:s.lostStatus}),historyFilter:M,settings:r,expandedRows:P,count:i}),z.createElement(m_,{tableRootRef:e.tableRootRef,tooltipTarget:b,rawAnchor:a,target:t,chFilter:q,filters:ip(a,v),historyFilter:M,settings:r,expandedRows:P,count:o}));var n,s}),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))),0)))),U=z.useMemo((function(){return s._1(Ra.FieldsRequestDescr.toRequest,W)}),[]),O=z.useCallback((function(e){return s._1(P.closeAll,void 0),J_(c,U,t,C,v.pagination.offset,v.pagination.limit,x,M)}),[]);z.useEffect((function(){s._1(P.closeAll,void 0),J_(c,U,t,C,v.pagination.offset,v.pagination.limit,x,M)}),[Ve.Safe.toKey(t),M,s._1(hf.Name.toString,v.sort.name),s._1(hf.Direction.toString,v.sort.direction),v.pagination.offset,v.pagination.limit,x]);var $,I=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Ju,{remoteData:u.remoteData,getter:function(e){return ie.to_float(e.stats.total)},message:{id:"8c9b5c1cfaaaf599759192cc1a2cb843",defaultMessage:"{totalStr} {total, plural, zero {anchors} one {anchor} other {anchors}}"}}),z.createElement(Dp,{filters:v,historyFilter:M,settings:r,tooltipTarget:b,onApplyFilters:function(e){return F(!1,e)}})),z.createElement(Je.make,{gap:"px10",children:z.createElement(bt,{exportFunc:function(e,r){return function(e,t,r,a,o,i,n,s,l){return L(e,t,void 0,_.request,{se_params:{history_mode:n,since:o,target:r,mode:a,protocol:i},params:s,with_new_lost:l})}(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-anchors-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-anchors-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode)),t.url,t.mode,dm.toSince(M),t.protocol,dm.toHistoryMode(M),{filter:x,size:r,offset:0,order_by:C,shape:ce.map(U,(function(e){return e[1]})),timeout:void 0},dm.showExportNewLostColumns(M))},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|w,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:t,limitsFunc:N})})),G=u.remoteData;$="number"==typeof G||1!==G.TAG?void 0:G._0;var Q={settings:r,children:null};return void 0!==$&&(Q.error=l.valFromOption($)),z.createElement(Po,Q,z.createElement(ct.make,{children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(s._1(ke.Message.to_s,{id:"298c39da16df95f22618dcfb7747e0dd",defaultMessage:"Anchors"}))})}),z.createElement(co,{showApplyFilters:!Ff(S,v),onClearFilters:function(e){return s._1(D,v)},onApplyFilters:function(e){var t=mt.caml_obj_dup(S),r=S.pagination;return t.pagination={limit:r.limit,offset:0},F(void 0,t)},children:null},z.createElement(Xu.make,{value:S.followType,onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.followType=e,t))}}),z.createElement(pa.DR.make,{value:S.dr,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.dr=kf().dr,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.dr=e,t))}}),z.createElement(pa.Anchors.RefDomains.make,{value:S.anchorsRefDomains,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.anchorsRefDomains=kf().anchorsRefDomains,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.anchorsRefDomains=e,t))}}),z.createElement(pa.RefPages.make,{value:S.refPages,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.refPages=kf().refPages,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.refPages=e,t))}}),z.createElement(pa.LinksToTarget.make,{value:S.linksToTarget,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.linksToTarget=kf().linksToTarget,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.linksToTarget=e,t))}}),z.createElement(T_,{items:ce.map(S_,y_),initialSelected:3,onApply:function(e){var t=D_(e[1]);switch(e[0]){case 0:var r=mt.caml_obj_dup(S);return s._1(D,(r.referringDomainName=t,r));case 1:var a=mt.caml_obj_dup(S);return s._1(D,(a.referringPageUrl=t,a));case 2:var o=mt.caml_obj_dup(S);return s._1(D,(o.referringPageTitle=t,o));case 3:var i=mt.caml_obj_dup(S);return s._1(D,(i.anchor=t,i));case 4:var n=mt.caml_obj_dup(S);return s._1(D,(n.anchorWithSurroundingText=t,n));case 5:return;case 6:var l=mt.caml_obj_dup(S);return s._1(D,(l.targetUrl=t,l))}}}),z.createElement(Je.make,{children:z.createElement(po.make,{padding:"controlToggle",children:z.createElement(Qm,{value:S.excludeSubdomains,onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.excludeSubdomains=e,t))}})})}),z.createElement(M_,{filters:S,render:function(e,t,r,a){var o=function(t){return s._1(a,e)},i=function(e){switch(e){case 0:return"RefDomainTraffic";case 1:return"RefDomain";case 2:return"RefPageTitle";case 3:return"RefPageUrl";case 4:return"Platform";case 5:return"Language";case 6:return"RefpageRefDomains";case 7:return"RefpageLinkedDomains";case 8:return"ExternalLinks";case 9:return"RefpageTraffic";case 10:return"KeywordsInTop100";case 11:return"BacklinkType";case 12:return"Anchor";case 13:return"SurroundingText";case 14:return"TargetUrl";case 15:return"ContentType";case 16:return"Redirects"}}(e);switch(e){case 0:return z.createElement(pa.OrgDomainTraffic.make,{value:S.orgDomainTraffic,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.orgDomainTraffic=kf().orgDomainTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.orgDomainTraffic=e,t))},key:i});case 1:return z.createElement(fa.RefDomains.DomainName.make,{value:S.referringDomainName,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.referringDomainName=kf().referringDomainName,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.referringDomainName=e,t))},key:i});case 2:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:S.referringPageTitle,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.referringPageTitle=kf().referringPageTitle,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.referringPageTitle=e,t))},key:i});case 3:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:S.referringPageUrl,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.referringPageUrl=kf().referringPageUrl,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.referringPageUrl=e,t))},key:i});case 4:return z.createElement(Zu.Platform.make,{autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.platform=kf().platform,t))},label:Zu.Platform.refPageLabel,onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.platform=e,t))},value:S.platform,key:i});case 5:return z.createElement(Zu.SeLanguage.make,{autoOpen:t,label:Zu.SeLanguage.refPageLabel,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.language=kf().language,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.language=me.getWithDefault(e,kf().language),t))},value:S.language,key:i});case 6:return z.createElement(pa.RefDomains.make,{value:S.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.refDomains=kf().refDomains,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.refDomains=e,t))},key:i});case 7:return z.createElement(pa.LinkedDomains.make,{value:S.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.linkedDomains=kf().linkedDomains,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.linkedDomains=e,t))},key:i});case 8:return z.createElement(pa.ExternalLinks.make,{value:S.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.externalLinks=kf().externalLinks,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.externalLinks=e,t))},key:i});case 9:return z.createElement(pa.OrgPageTraffic.make,{value:S.orgPageTraffic,label:pa.OrgPageTraffic.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.orgPageTraffic=kf().orgPageTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.orgPageTraffic=e,t))},key:i});case 10:return z.createElement(pa.OrgKeywords.make,{value:S.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.orgKeywords=kf().orgKeywords,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.orgKeywords=e,t))},key:i});case 11:return z.createElement(Dg.make,{autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.backlinkType=kf().backlinkType,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.backlinkType=e,t))},selectedItem:S.backlinkType,key:i});case 12:return z.createElement(fa.Backlinks.Anchor.make,{value:S.anchor,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.anchor=kf().anchor,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.anchor=e,t))},key:i});case 13:return z.createElement(fa.Backlinks.SurroundingText.make,{value:S.anchorWithSurroundingText,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.anchorWithSurroundingText=kf().anchorWithSurroundingText,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.anchorWithSurroundingText=e,t))},key:i});case 14:return z.createElement(fa.Backlinks.TargetUrl.make,{value:S.targetUrl,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.targetUrl=kf().targetUrl,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.targetUrl=e,t))},key:i});case 15:return z.createElement(yg.make,{autoOpen:t,label:yg.targetLabel,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.contentType=kf().contentType,t))},onHidden:o,onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.contentType=e,t))},selectedItem:S.contentType,key:i});case 16:return z.createElement(Zu.Redirects.make,{autoOpen:t,label:Zu.Redirects.targetLabel,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.redirects=kf().redirects,t))},onApply:function(e){var t=mt.caml_obj_dup(S);return s._1(D,(t.redirects=e,t))},value:S.redirects,key:i})}}})),z.createElement(te.Table.make,{row:W,data:de.mapWithDefault(u.remoteData,0,(function(e){return e.rows})),hasAppliedFilters:!1,header:I,isLoading:de.isLoading(u.remoteData),failureState:te.Table.getFailureState(u.remoteData),renderError:Be(u.remoteData,O,r.isUpgradable),totalRowsNumber:0|w,pagination:v.pagination,sortDirection:v.sort.direction,sort:s._1(hf.Name.toString,v.sort.name),onPaginationChange:function(e){var t=mt.caml_obj_dup(v);return F(void 0,(t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(v);return a.pagination=r,a.sort={name:me.getWithDefault(s._1(hf.Name.ofString,e),s._1(hf.Name.getDefault,void 0)),direction:t},F(void 0,a)},onRefetch:O,onClearFilters:function(e){return F(void 0,kf())}})),z.createElement(ut.make,{singleton:T[0]}))},Z_=r(18375),eh=r(46234),th=r(81922);function rh(e){switch(e){case 0:return _e.Color.Background.box;case 1:return _e.Color.Chart.greenMutedBg;case 2:return _e.Color.Chart.greenBg;case 3:return _e.Color.Chart.greenHardMuted;case 4:return _e.Color.Chart.greenMuted;case 5:return _e.Color.Chart.greenMidMuted;case 6:return _e.Color.Chart.green;case 7:return _e.Color.Chart.redMutedBg;case 8:return _e.Color.Chart.redBg;case 9:return _e.Color.Chart.redHardMuted;case 10:return _e.Color.Chart.redMuted;case 11:return _e.Color.Chart.redMidMuted;case 12:return _e.Color.Chart.red}}function ah(e){return s._3(e,tt.NewSize.px2,"solid",_e.Color.Border.info)}function oh(e){return s._3(e,"zero","none","transparent")}function ih(e){return e?hi.Shadow.box({NAME:"px",VAL:-1},void 0,void 0,void 0,void 0,_e.Color.Border.lineAlpha):"none"}var nh=s._1(Rt.css,{hd:Rt.label("container"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.overflow("auto"),tl:{hd:Rt.backgroundColor(_e.Color.Background.box),tl:{hd:Rt.userSelect("none"),tl:0}}}}}}),sh=s._1(Rt.css,{hd:Rt.label("loader"),tl:{hd:Rt.display("flex"),tl:0}}),lh=s._1(Rt.css,{hd:Rt.label("calendarWeekdayCell"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.minWidth({NAME:"px",VAL:25}),tl:0}}}),dh=s._1(Rt.css,{hd:Rt.label("calendarMonthDaysContainer"),tl:{hd:Rt.minWidth("maxContent"),tl:0}}),ch=s._1(Rt.css,{hd:Rt.label("prevButton"),tl:{hd:Rt.$$float("left"),tl:{hd:Rt.marginTop(tt.NewSize.px2),tl:0}}}),uh=s._1(Rt.css,{hd:Rt.label("nextButton"),tl:{hd:Rt.$$float("right"),tl:{hd:Rt.marginTop(tt.NewSize.px2),tl:0}}}),gh=s._1(Rt.css,{hd:Rt.label("error"),tl:{hd:Rt.position("absolute"),tl:{hd:Rt.top({NAME:"calc",VAL:["sub",{NAME:"percent",VAL:50},{NAME:"px",VAL:79}]}),tl:{hd:Rt.left({NAME:"calc",VAL:["sub",{NAME:"percent",VAL:50},{NAME:"px",VAL:60}]}),tl:0}}}}),mh=s._1(Rt.css,{hd:Rt.label("cellContainer"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.height({NAME:"percent",VAL:100}),tl:0}}});function fh(e,t){return s._1(Rt.css,{hd:Rt.label("cellContent"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.height({NAME:"percent",VAL:100}),tl:{hd:Rt.minWidth({NAME:"px",VAL:25}),tl:{hd:Rt.minHeight({NAME:"px",VAL:63}),tl:{hd:Rt.backgroundColor(t?_e.Color.Background.boxDark:rh(e)),tl:{hd:Rt.borderRadius({NAME:"px",VAL:3}),tl:0}}}}}}})}var ph=s._1(Rt.css,{hd:Rt.label("calendarCell"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.height({NAME:"percent",VAL:100}),tl:0}}}}),_h=s._1(Rt.css,{hd:Rt.label("cellTitle"),tl:{hd:Rt.padding3(tt.NewSize.px8,tt.NewSize.px4,"zero"),tl:0}}),hh=s._1(Rt.css,{hd:Rt.label("calendarCellSelectableLayer"),tl:{hd:Rt.position("absolute"),tl:{hd:Rt.top({NAME:"px",VAL:-3}),tl:{hd:Rt.left({NAME:"px",VAL:-3}),tl:{hd:Rt.width({NAME:"calc",VAL:["add",{NAME:"percent",VAL:100},{NAME:"px",VAL:6}]}),tl:{hd:Rt.height({NAME:"calc",VAL:["add",{NAME:"percent",VAL:100},{NAME:"px",VAL:6}]}),tl:{hd:Rt.cursor("pointer"),tl:{hd:Rt.hover({hd:ah(Rt.border),tl:0}),tl:0}}}}}}}});function kh(e,t,r,a){return s._1(Rt.css,{hd:Rt.label("calendarCellSelected"),tl:{hd:(r?ah:oh)(Rt.borderTop),tl:{hd:(a?ah:oh)(Rt.borderBottom),tl:{hd:(e?ah:oh)(Rt.borderLeft),tl:{hd:(t?ah:oh)(Rt.borderRight),tl:{hd:Rt.after({hd:Rt.contentRule({NAME:"text",VAL:" "}),tl:{hd:Rt.opacity(.13),tl:{hd:Rt.position("absolute"),tl:{hd:Rt.top(r?"zero":{NAME:"px",VAL:2}),tl:{hd:Rt.left(e?"zero":{NAME:"px",VAL:2}),tl:{hd:Rt.width(e?{NAME:"percent",VAL:100}:{NAME:"calc",VAL:["sub",{NAME:"percent",VAL:100},{NAME:"px",VAL:2}]}),tl:{hd:Rt.height(r?{NAME:"percent",VAL:100}:{NAME:"calc",VAL:["sub",{NAME:"percent",VAL:100},{NAME:"px",VAL:2}]}),tl:{hd:Rt.backgroundColor(_e.Color.Border.info),tl:0}}}}}}}}),tl:{hd:Rt.hover({hd:Rt.after({hd:Rt.top("zero"),tl:{hd:Rt.left("zero"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.height({NAME:"percent",VAL:100}),tl:0}}}}),tl:0}),tl:0}}}}}}})}function vh(e,t){return s._1(Rt.css,{hd:Rt.label("cellCount"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.alignItems("flexStart"),tl:{hd:Rt.alignContent("center"),tl:{hd:Rt.justifyContent("flexEnd"),tl:{hd:Rt.padding3(tt.NewSize.px3,tt.NewSize.px4,tt.NewSize.px2),tl:{hd:Rt.borderTopLeftRadius(e?{NAME:"px",VAL:3}:"zero"),tl:{hd:Rt.borderTopRightRadius(e?{NAME:"px",VAL:3}:"zero"),tl:{hd:Rt.borderBottomLeftRadius(t?{NAME:"px",VAL:3}:"zero"),tl:{hd:Rt.borderBottomRightRadius(t?{NAME:"px",VAL:3}:"zero"),tl:0}}}}}}}}}})}function yh(e){return s._1(Rt.css,{hd:Rt.label("cellCountBackground"),tl:{hd:Rt.backgroundColor(rh(e)),tl:0}})}function Dh(e,t,r){return!!e.isSameOrBefore(r,"day")&&t.isSameOrBefore(e,"day")}var Sh=[0,1,2,3,4,5,6];function Fh(e){return e>6||e<0?fo.failwith(s._1(J.sprintf({_0:{TAG:4,_0:3,_1:0,_2:0,_3:{TAG:11,_0:" is not a valid weekday integer",_1:0}},_1:"%i is not a valid weekday integer"}),e)):e}function Ch(e,t){return((7+e|0)-t|0)%7}function wh(e,t){return(((7+t|0)-1|0)-e|0)%7}var Th={defaultWeek:Sh,fromString:function(e){switch(e){case"Friday":return 5;case"Monday":return 1;case"Saturday":return 6;case"Sunday":return 0;case"Thursday":return 4;case"Tuesday":return 2;case"Wednesday":return 3;default:return}},unsafeFromString:function(e){switch(e){case"Friday":return 5;case"Monday":return 1;case"Saturday":return 6;case"Sunday":return 0;case"Thursday":return 4;case"Tuesday":return 2;case"Wednesday":return 3;default:return fo.failwith(s._1(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:" is not a valid weekday",_1:0}},_1:"%s is not a valid weekday"}),e))}},toLabel:function(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"fb7b595c49fbe160ddab77c6d393e6e3",defaultMessage:"Sun"});case 1:return s._1(ke.Message.to_s,{id:"f069ceb7cd19af09938ac8728cb4bd75",defaultMessage:"Mon"});case 2:return s._1(ke.Message.to_s,{id:"78539ffa98889c38fc6b970a706c5516",defaultMessage:"Tue"});case 3:return s._1(ke.Message.to_s,{id:"2c5afefdbf04af9e759787b81a41139c",defaultMessage:"Wed"});case 4:return s._1(ke.Message.to_s,{id:"4deb9504554c53107625c9d5e081e2d9",defaultMessage:"Thu"});case 5:return s._1(ke.Message.to_s,{id:"8309513896e17617fb99315f9f4d6781",defaultMessage:"Fri"});case 6:return s._1(ke.Message.to_s,{id:"77d3fd3a4f8089e6f225bb795440b833",defaultMessage:"Sat"})}},toInt:function(e){return e},fromInt:Fh,makeWeek:function(e){return ge.concat(ge.sliceToEnd(Sh,e),ge.slice(Sh,0,e))},daysBeforeUntilStartOfWeek:Ch,daysAfterUntilStartOfWeek:wh};function bh(e){return e>12||e<1?fo.failwith(s._1(J.sprintf({_0:{TAG:4,_0:3,_1:0,_2:0,_3:{TAG:11,_0:" is not a valid month integer",_1:0}},_1:"%i is not a valid month integer"}),e)):e-1|0}function Ph(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December"}}function Mh(e){return bh(1+(0|new Date(Date.now()).getMonth())|0)}var Ah={toInt:function(e){return e+1|0},fromInt:function(e){switch(e){case 1:return 0;case 2:return 1;case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 8:return 7;case 9:return 8;case 10:return 9;case 11:return 10;case 12:return 11;default:return}},unsafeFromInt:bh,toString:Ph,toLabel:function(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"cfc94b39dbf87a7db6e3b49dca848801",defaultMessage:"January"});case 1:return s._1(ke.Message.to_s,{id:"244802ed77a78f0e6e9d6bd3704bef3e",defaultMessage:"February"});case 2:return s._1(ke.Message.to_s,{id:"0d5e5a82b058438db7c85ae80a75c838",defaultMessage:"March"});case 3:return s._1(ke.Message.to_s,{id:"e9d3be008f5f03e69db4acda453548e1",defaultMessage:"April"});case 4:return s._1(ke.Message.to_s,{id:"1bf7e6fbc4f3fcfbdc9d70dd3553b377",defaultMessage:"May"});case 5:return s._1(ke.Message.to_s,{id:"3531e63ba1a4d264137a278c49bfcb44",defaultMessage:"June"});case 6:return s._1(ke.Message.to_s,{id:"5e7bc1870dec3d9b5bb26a62f5288223",defaultMessage:"July"});case 7:return s._1(ke.Message.to_s,{id:"4a33bedb9353b61a5ac9423f1384046b",defaultMessage:"August"});case 8:return s._1(ke.Message.to_s,{id:"0b809c18813fe56467445da5b6600d32",defaultMessage:"September"});case 9:return s._1(ke.Message.to_s,{id:"a558850ab1bf22a742501b9707fc11df",defaultMessage:"October"});case 10:return s._1(ke.Message.to_s,{id:"8b1607372bf8944f6edf97d4ff639dc0",defaultMessage:"November"});case 11:return s._1(ke.Message.to_s,{id:"6899df50f07f1c557e49cc1019287598",defaultMessage:"December"})}},getCurrent:Mh};function Rh(e){return 0|new Date(Date.now()).getFullYear()}var Lh={getCurrent:Rh},Eh=function(e){return{date:e.get("date"),day:Fh(e.get("day"))}};function Bh(e,t,r){var a=void 0!==t?t:1;return Bt.fromStringUtc(s._3(J.sprintf({_0:{TAG:4,_0:3,_1:0,_2:0,_3:{TAG:12,_0:32,_1:{TAG:2,_0:0,_1:{TAG:12,_0:32,_1:{TAG:4,_0:3,_1:0,_2:0,_3:0}}}}},_1:"%i %s %i"}),a,Ph(e.month),e.year))}function Kh(e,t){return e.year<t.year||e.year===t.year&&(e.month+1|0)<(t.month+1|0)}function qh(e,t){return e.year===t.year&&(e.month+1|0)==(t.month+1|0)}function xh(e){var t=e[1],r=e[0];return Kh(r,t)?[r,t]:[t,r]}function Wh(e,t){var r=xh([e,t]),a=r[1],o=r[0];return 1+(Math.imul(a.year-o.year|0,12)+((a.month+1|0)-(o.month+1|0)|0)|0)|0}function Uh(e,t){var r=Bh(e,void 0),a=ge.makeBy(r.daysInMonth(),(function(e){return{date:e+1|0,day:Fh(re.Moment.add(Z.duration(e,"days"),r).day())}}));return{calendarMonth:e,weekdays:ge.reduceWithIndex(a,[],(function(e,r,o){var i=r.day;if(0===o)return[ge.concat(ge.make(Ch(i,t),void 0),[r])];if(o===(a.length-1|0)){if(i===t)return ge.concat(e,[ge.concat([r],ge.make(wh(i,t),void 0))]);var n=ge.concatMany([ge.getExn(e,e.length-1|0),[r],ge.make(wh(i,t),void 0)]);return ge.concat(ge.slice(e,0,e.length-1|0),[n])}if(i===t)return ge.concat(e,[[r]]);var s=ge.concat(ge.getExn(e,e.length-1|0),[r]);return ge.concat(ge.slice(e,0,e.length-1|0),[s])}))}}function Oh(e,t,r){var a=e.year,o=void 0!==t?t:1,i=o%12,n=(o-i|0)/12|0,s=(e.month+1|0)-i|0;return s<=0?{month:bh(s+12|0),year:(a-n|0)-1|0}:{month:bh(s),year:a-n|0}}function Nh(e,t,r){var a=e.year,o=void 0!==t?t:1,i=o%12,n=(o-i|0)/12|0,s=(e.month+1|0)+i|0;return s>12?{month:bh(s-12|0),year:1+(a+n|0)|0}:{month:bh(s),year:a+n|0}}var $h={toMoment:Bh,fromMoment:function(e){return{month:bh(e.get("month")+1|0),year:e.get("year")}},isBefore:Kh,isAfter:function(e,t){return e.year>t.year||e.year===t.year&&(e.month+1|0)>(t.month+1|0)},isEqual:qh,sortPair:xh,getMonthCount:Wh,makeWeekdays:Uh,getPreviousMonth:Oh,getNextMonth:Nh,makeCalendarMonthsBetween:function(e,t){if(qh(e,t))return{hd:e,tl:0};var r=xh([e,t]),a=r[0],o=Wh(a,r[1]);return ce.makeBy(o,(function(e){return 0===e?a:Nh(a,e)}))},makePrevMonthWeekdays:function(e,t,r,a){return Uh(Oh(e,void 0!==t?t:1),r)},getCurrent:function(e){return{month:Mh(),year:Rh()}},toApiDates:function(e,t,r){var a=$t.getMinDate(r),o=re.Moment.endOf("month",Bh(t,void 0)).utc(),i=re.Moment.startOf("month",Bh(e,void 0)).utc();return[Bt.toJs(i.isSameOrAfter(a)?i:a),Bt.toJs(o.isSameOrAfter(a)?o:a)]}},Ih=Ah.getCurrent(void 0),Gh=It.Make({key:"month",$$default:Ih,localStorageKey:void 0,toString:function(e){return String(Ah.toInt(e))},ofString:function(e){return me.flatMap(me.flatMap(e,th.fromString),Ah.fromInt)}}),Qh=Gh.getDefault,Vh=Gh.toString,jh=Gh.setter,Hh=Gh.isApplied,zh=Gh.ofQueryWithDefault,Yh=Gh.key,Jh=Gh.localStorageKey,Xh=Gh.ofString,Zh=Gh.getter,ek=Gh.ofQuery,tk=Gh.ofQueryWithCustomDefault,rk=Gh.toQuery,ak={key:Yh,localStorageKey:Jh,getDefault:Qh,toString:Vh,ofString:Xh,getter:Zh,setter:jh,isApplied:Hh,ofQuery:ek,ofQueryWithDefault:zh,ofQueryWithCustomDefault:tk,toQuery:rk},ok=Lh.getCurrent(void 0),ik=It.Make({key:"year",$$default:ok,localStorageKey:void 0,toString:function(e){return String(e)},ofString:function(e){return me.flatMap(e,th.fromString)}}),nk=ik.getDefault,sk=ik.toString,lk=ik.setter,dk=ik.isApplied,ck=ik.ofQueryWithDefault,uk=ik.key,gk=ik.localStorageKey,mk=ik.ofString,fk=ik.getter,pk=ik.ofQuery,_k=ik.ofQueryWithCustomDefault,hk=ik.toQuery;function kk(e){return{month:s._1(Qh,void 0),year:s._1(nk,void 0)}}function vk(e,t){return s._2(lk,s._2(jh,e,s._1(Vh,t.month)),s._1(sk,t.year))}var yk={Month:ak,Year:{key:uk,localStorageKey:gk,getDefault:nk,toString:sk,ofString:mk,getter:fk,setter:lk,isApplied:dk,ofQuery:pk,ofQueryWithDefault:ck,ofQueryWithCustomDefault:_k,toQuery:hk},getDefault:kk,isApplied:function(e){return!!s._1(Hh,e)||s._1(dk,e)},ofQueryWithDefault:function(e){return{month:s._1(zh,e),year:s._1(ck,e)}},toQuery:vk},Dk=re.Moment.subtract(Z.duration(6,"days"),Bt.nowUtc(void 0)),Sk=It.Make({key:"calendarSelectStart",$$default:Dk,localStorageKey:void 0,toString:function(e){return ne.moment(void 0,e,"dateWithDashes")},ofString:function(e){return me.map(e,Bt.fromStringUtc)}}),Fk=Bt.nowUtc(void 0),Ck=It.Make({key:"calendarSelectEnd",$$default:Fk,localStorageKey:void 0,toString:function(e){return ne.moment(void 0,e,"dateWithDashes")},ofString:function(e){return me.map(e,Bt.fromStringUtc)}}),wk={defaultMonthsToShow:3,Navigation:yk,$$Selection:{Start:Sk,End:Ck,getDefault:function(e){return{start:s._1(Sk.getDefault,void 0),end_:s._1(Ck.getDefault,void 0)}},isApplied:function(e){return!!s._1(Sk.isApplied,e)||s._1(Ck.isApplied,e)},ofQueryWithDefault:function(e){return{start:s._1(Sk.ofQueryWithDefault,e),end_:s._1(Ck.ofQueryWithDefault,e)}},toQuery:function(e,t){return s._2(Ck.setter,s._2(Sk.setter,e,s._1(Sk.toString,t.start)),s._1(Ck.toString,t.end_))}}};function Tk(e){var t,r,o,i,n,s,d=e.state,c=e.backgroundColor,u=e.children,g=void 0!==u?l.valFromOption(u):null;if(t="number"!=typeof d&&2===d.TAG&&d._2.row-1>>>0>1,"number"==typeof d||2!==d.TAG)r=!1;else{var m=d._2.row;r=1===m||m>=3}if(o="number"!=typeof d&&2===d.TAG&&d._2.col-1>>>0>1,"number"==typeof d||2!==d.TAG)i=!1;else{var f=d._2.col;i=1===f||f>=3}return n="number"!=typeof d&&2===d.TAG,s="number"!=typeof d&&0===d.TAG,"number"==typeof d?z.createElement("div",{className:ph}):z.createElement("div",{className:fh(c,s)},z.createElement("div",{className:ph},z.createElement(ct.make,{gap:"none",layout:{hd:{NAME:"px",VAL:25},tl:{hd:{NAME:"fr",VAL:1},tl:0}},fullHeight:!0,children:null},z.createElement("div",{className:_h},z.createElement(pt.make,{color:s?"tertiary":"primary",fontSize:"xs",align:"right",children:a.s(String(d._1.date))})),g)),z.createElement("div",{className:ra.$plus$plus$plus(ea.ifTrue(hh,!s),ea.ifTrue(kh(t,r,o,i),n))}))}var bk={bgColor:0,fontColor:"primary",fontColorInverse:!1};function Pk(e,t,r){if(0===e)return bk;var a=r?[7,8,9,10,11,12]:[1,2,3,4,5,6],o=t,i=e,n=0|Math.round(i/o*6),s=n>=6,l=r?s?"secondary":"dangerContrast":s?"secondary":"successContrast";return{bgColor:me.getWithDefault(ge.get(a,St.caml_int_max(n-1|0,0)),0),fontColor:l,fontColorInverse:s}}var Mk=function(e){var t,r=e.state,o=e.maxNewCount,i=e.maxLostCount,n=e.newCount,s=e.lostCount,d=void 0!==o?l.valFromOption(o):void 0,c=void 0!==i?l.valFromOption(i):void 0,u=void 0!==n?l.valFromOption(n):void 0,g=void 0!==s?l.valFromOption(s):void 0,m=me.getWithDefault(d,1),f=me.getWithDefault(c,1),p=void 0!==u?void 0!==g?bk:Pk(u,m,0):void 0!==g?Pk(g,f,1):bk;if(void 0!==u)if(void 0!==g){var _=Pk(u,m,0),h=Pk(g,f,1);t=z.createElement(ct.make,{gap:"none",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:0}},children:null},z.createElement("div",{className:ra.$plus$plus$plus(vh(!0,g<=0),yh(_.bgColor))},z.createElement(pt.make,{color:_.fontColor,fontSize:"xs",align:"right",inverse:_.fontColorInverse,children:u>0?a.s(ae.Int.full(u)):null})),z.createElement("div",{className:ra.$plus$plus$plus(vh(u<=0,!0),yh(h.bgColor))},z.createElement(pt.make,{color:h.fontColor,fontSize:"xs",align:"right",inverse:h.fontColorInverse,children:g>0?a.s(ae.Int.full(g)):null})))}else t=u>0?z.createElement("div",{className:vh(!0,!0)},z.createElement(pt.make,{color:p.fontColor,fontSize:"xs",align:"right",inverse:p.fontColorInverse,children:a.s(ae.Int.full(u))})):null;else t=void 0!==g&&g>0?z.createElement("div",{className:vh(!0,!0)},z.createElement(pt.make,{color:p.fontColor,fontSize:"xs",align:"right",inverse:p.fontColorInverse,children:a.s(ae.Int.full(g))})):null;return z.createElement(Tk,{state:r,backgroundColor:p.bgColor,children:t})};function Ak(e,t){if("number"==typeof t){var r,a=e.dateStart,o=e.dateEnd;if(void 0!==a&&void 0!==o){var i=l.valFromOption(o),n=l.valFromOption(a);r=n.unix()>i.unix()?[l.some(i),l.some(n)]:[l.some(n),l.some(i)]}else r=[e.dateStart,e.dateEnd];return{isDragging:!1,dateStart:r[0],dateEnd:r[1]}}switch(0|t.TAG){case 0:return{isDragging:!1,dateStart:t._0,dateEnd:t._1};case 1:var s=t._0;return{isDragging:!0,dateStart:l.some(s),dateEnd:l.some(s)};case 2:return{isDragging:e.isDragging,dateStart:e.dateStart,dateEnd:l.some(t._0)}}}function Rk(e,t,r){var a=void 0!==e?e:Ir.noop;return z.createElement("div",{className:gh},z.createElement(Je.make,{fullHeight:!0,align:"center",children:z.createElement(le.make,{reqId:d.getRequestId(r),onClick:a})}))}function Lk(e){return z.createElement(Tk,{state:e,backgroundColor:0})}var Ek=function(e){var t=e.startOfWeek,r=e.startMonth,o=e.monthsToShow,n=e.remoteData,d=e.renderError,c=e.renderDay,u=e.minDate,g=e.maxDate,m=e.selectedDates,f=e.onNext,p=e.onPrevious,_=e.onSelectionChange,h=void 0!==t?t:0,k=void 0!==r?r:$h.getCurrent(void 0),v=void 0!==o?o:3,y=void 0!==d?d:function(e){return Rk(void 0,0,e)},D=void 0!==c?c:Lk,S=void 0!==_?_:function(e,t){},F=me.mapWithDefault(m,[void 0,void 0],(function(e){return[l.some(e[0]),l.some(e[1])]})),C=F[1],w=F[0],T=z.useReducer(Ak,{isDragging:!1,dateStart:w,dateEnd:C}),b=T[1],P=T[0],M=he.useUrl(void 0,void 0),A=M.search,R=M.hash,L=M.path;z.useEffect((function(){s._1(b,{TAG:0,_0:w,_1:C})}),[w,C]),z.useEffect((function(){if(!1===P.isDragging){var e=P.dateStart,t=P.dateEnd;void 0!==e&&void 0!==t&&s._2(S,l.valFromOption(e),l.valFromOption(t))}}),[P.isDragging]);var E=me.map(u,$h.fromMoment),B=me.map(g,$h.fromMoment),K=ce.reverse(ce.filter(ce.makeBy(v,(function(e){return 0===e?$h.makeWeekdays(k,h):$h.makePrevMonthWeekdays(k,e,h,void 0)})),(function(e){var t=e.calendarMonth;return!!me.mapWithDefault(E,!0,(function(e){return!$h.isBefore(t,e)}))&&me.mapWithDefault(B,!0,(function(e){return!$h.isAfter(t,e)}))}))),q=ce.size(K);z.useEffect((function(){if(0===q){var e=vk(i.parseQueryToDict(A,void 0,void 0),me.getWithDefault(B,kk()));he.push(i.makeStringWithQueryDict(i.makePathname(L),l.some(e),R,void 0,void 0))}}),[q]);var x,W,U,O=me.mapWithDefault(E,!0,(function(e){return!$h.isBefore($h.getPreviousMonth(k,q,void 0),e)}))&&me.isSome(p),N=me.mapWithDefault(B,!0,(function(e){return!$h.isAfter($h.getNextMonth(k,1,void 0),e)}))&&me.isSome(f);return x=void 0!==n&&"number"!=typeof n&&1===n.TAG?s._1(y,n._0):null,z.createElement("div",{className:nh},z.createElement("div",{className:(U=!me.mapWithDefault(n,!1,de.isFailure),s._1(Rt.css,{hd:Rt.label("calendar"),tl:{hd:Rt.visibility(U?"visible":"hidden"),tl:{hd:Rt.minWidth("fitContent"),tl:{hd:Rt.overflow("auto"),tl:0}}}}))},z.createElement(Je.make,{gap:"none",align:"center",children:a.list(ce.mapWithIndex(K,(function(e,t){var r,o,i,n=t.calendarMonth;if(0===e&&O){var d={children:z.createElement(Xe.Caret.make,Xe.Caret.makeProps(void 0,void 0,void 0,2,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0))};void 0!==p&&(d.onClick=l.valFromOption(p)),r=z.createElement("div",{className:ch},z.createElement(_o.make,d))}else r=null;if(e===(q-1|0)&&N){var c={children:z.createElement(Xe.Caret.make,Xe.Caret.makeProps(void 0,void 0,void 0,2,3,void 0,void 0,void 0,void 0,void 0,void 0,void 0))};void 0!==f&&(c.onClick=l.valFromOption(f)),o=z.createElement("div",{className:uh},z.createElement(_o.make,c))}else o=null;return z.createElement("div",{className:(i=e>0,s._1(Rt.css,{hd:Rt.label("calendarMonth"),tl:{hd:Rt.textAlign("center"),tl:{hd:Rt.padding(tt.NewSize.px16),tl:{hd:Rt.boxShadow(ih(i)),tl:{hd:Rt.minWidth({NAME:"px",VAL:175}),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:0}}}}}}))},r,z.createElement(pt.make,{color:"primary",fontWeight:"bold",align:"center",inline:!0,children:a.s(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:32,_1:{TAG:4,_0:3,_1:0,_2:0,_3:0}}},_1:"%s %i"}),Ah.toLabel(n.month),n.year))}),o)})))}),z.createElement("div",{className:(W=me.mapWithDefault(n,!1,de.isLoading),s._1(Rt.css,{hd:Rt.label("calendarWeekdaysHeader"),tl:{hd:Rt.boxShadow(W?"none":hi.Shadow.box(void 0,{NAME:"px",VAL:-1},void 0,void 0,!0,_e.Color.Border.lineAlpha)),tl:0}}))},z.createElement(Je.make,{gap:"none",children:ge.makeBy(q,(function(e){return z.createElement("div",{className:(t=e>0,s._1(Rt.css,{hd:Rt.label("calendarWeekdays"),tl:{hd:Rt.padding3("zero",tt.NewSize.px4,tt.NewSize.px4),tl:{hd:Rt.boxShadow(ih(t)),tl:0}}}))},z.createElement(Je.make,{gap:"px4",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:0}}}}}}},children:ge.map(Th.makeWeek(h),(function(e){return z.createElement("div",{className:lh},z.createElement(pt.make,{color:"primary",fontSize:"xs",align:"center",children:a.s(Th.toLabel(e))}))}))}));var t}))})),z.createElement("div",{className:sh},me.mapWithDefault(n,!1,de.isLoading)?z.createElement(Y.Bar.make,{height:"xxs"}):null),z.createElement("div",{className:dh,onMouseLeave:function(e){if(P.isDragging)return s._1(b,0)},onMouseUp:function(e){if(P.isDragging)return s._1(b,0)}},z.createElement(Je.make,{gap:"none",layout:ce.make(q,{NAME:"fr",VAL:1}),align:"top",children:a.list(ce.mapWithIndex(K,(function(e,t){var r,a=t.calendarMonth;return z.createElement("div",{className:(r=e>0,s._1(Rt.css,{hd:Rt.label("calendarMonthDays"),tl:{hd:Rt.minWidth("fitContent"),tl:{hd:Rt.padding(tt.NewSize.px4),tl:{hd:Rt.boxShadow(ih(r)),tl:{hd:Rt.height({NAME:"percent",VAL:100}),tl:0}}}}}))},z.createElement(ct.make,{gap:"px4",fullHeight:!1,children:ge.map(t.weekdays,(function(e){return z.createElement(Je.make,{gap:"px4",layout:ce.make(e.length,{NAME:"fr",VAL:1}),children:ge.map(e,(function(e){if(void 0===e)return s._1(D,0);var t,r=e.day,o=e.date,i=$h.toMoment(a,o,void 0),n=me.mapWithDefault(g,!1,(function(e){return i.isAfter(e,"day")}))||me.mapWithDefault(u,!1,(function(e){return e.isAfter(i,"day")})),d=P.dateStart,c=P.dateEnd;if(void 0!==d&&void 0!==c){var m=l.valFromOption(c),f=l.valFromOption(d),p=f.unix()>m.unix()?[m,f]:[f,m],_=p[1],k=p[0],v=re.Moment.subtract(Z.duration(7,"days"),i),y=re.Moment.add(Z.duration(7,"days"),i),S=Dh(i,k,_),F=0===Th.daysBeforeUntilStartOfWeek(r,h)||i.isSame(k,"day")||1===o,C=0===Th.daysAfterUntilStartOfWeek(r,h)||i.isSame(_,"day")||o===i.daysInMonth(),w=F?C?3:0:C?1:2,T=i.date()<=7||!Dh(v,k,i),M=i.date()>(i.daysInMonth()-7|0)||!Dh(y,i,_);t=[S,w,T?M?3:0:M?1:2]}else t=[!1,3,3];var A={className:mh},R=n?void 0:function(e){return s._1(b,{TAG:1,_0:i})};void 0!==R&&(A.onMouseDown=l.valFromOption(R));var L=n?void 0:function(e){if(P.isDragging&&!n&&!me.mapWithDefault(P.dateEnd,!1,(function(e){return _i.equal(ne.moment(void 0,i,"dayShortMonthYear"),ne.moment(void 0,e,"dayShortMonthYear"))})))return s._1(b,{TAG:2,_0:i})};return void 0!==L&&(A.onMouseMove=l.valFromOption(L)),z.createElement("div",A,s._1(D,n?{TAG:0,_0:a,_1:e}:t[0]?{TAG:2,_0:a,_1:e,_2:{row:t[1],col:t[2]}}:{TAG:1,_0:a,_1:e}))}))})}))}))})))}))),x)};function Bk(e,t){return function(e,t){return 1+(0|t.diff(e,"days"))|0}(e,t)>1?5:100}function Kk(e,t){var r=fo.abs(0|t.diff(e,"days"))+1|0;return ge.makeBy(r,(function(t){return ne.moment(void 0,re.Moment.add(Z.duration(t,"days"),e),"dateWithDashes")}))}function qk(e){var t=e.isCalendarAvailable,r=e.isCalendarLiteAvailable;return t?0:r?1:2}function xk(e,t,r){var a=ce.filter($h.makeCalendarMonthsBetween(t,r),(function(t){return me.isNone(Ur.get(e,function(e){return s._2(J.sprintf({_0:{TAG:4,_0:0,_1:{TAG:0,_0:2,_1:4},_2:0,_3:{TAG:12,_0:45,_1:{TAG:4,_0:0,_1:{TAG:0,_0:2,_1:2},_2:0,_3:{TAG:11,_0:"-01",_1:0}}}},_1:"%04d-%02d-01"}),e.year,Ah.toInt(e.month))}(t)))})),o=ce.head(a),i=ce.head(ce.reverse(a));if(void 0!==o&&void 0!==i)return[o,i]}var Wk={hd:0,tl:{hd:1,tl:0}},Uk=It.MakeList({key:"changeType",all:Wk,$$default:Wk,localStorageKey:void 0,toString:function(e){return e?"lost":"new"},ofString:function(e){if(void 0!==e)switch(e){case"lost":return 1;case"new":return 0;default:return}},ordered:!0}),Ok=function(e){var t=e.data,r=e.onChange,a=function(e){return ce.has(t,e,Qr.equal)?ce.filter(t,(function(t){return!Qr.equal(t,e)})):{hd:e,tl:t}};return z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Nt.make,{label:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),color:_e.Color.Chart.green,checked:ce.has(t,0,Qr.equal),onChange:function(e){return s._1(r,a(0))}}),z.createElement(Nt.make,{label:s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),color:_e.Color.Chart.red,checked:ce.has(t,1,Qr.equal),onChange:function(e){return s._1(r,a(1))}}))},Nk=ya.Sort.MakeFilter({$$default:1,toString:function(e){switch(e){case 0:return"url";case 1:return"trafficInitial";case 2:return"traffic";case 3:return"value";case 4:return"keywordsCount";case 5:return"topKeyword";case 6:return"topKeywordVolume";case 7:return"topKeywordPosition"}},ofString:function(e){switch(e){case"keywordsCount":return 4;case"topKeyword":return 5;case"topKeywordPosition":return 7;case"topKeywordVolume":return 6;case"traffic":return 2;case"trafficInitial":return 1;case"url":return 0;case"value":return 3;default:return}},defaultDirection:"Desc"}),$k=Nk.Name,Ik=Nk.getDefault,Gk=Nk.isApplied,Qk=Nk.ofQueryWithDefault,Vk=Nk.toQuery,jk=Nk.Direction,Hk={Name:$k,Direction:jk,getDefault:Ik,isApplied:Gk,ofQueryWithDefault:Qk,toQuery:Vk,toFieldName:function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.url)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_traffic)),tl:0};case 2:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_traffic)),tl:0};case 3:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_value_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_value)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.keywords)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_text)),tl:0};case 6:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_volume_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_volume)),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_best_position)),tl:0}}}},zk={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:0}}}}}}}}}}}}}}}}}}};function Yk(e,t,r){var a=s._1(wk.$$Selection.ofQueryWithDefault,e),o=$t.getMinDate(r.reportHistoricalPermissions),i=Bt.nowUtc(void 0),n=a.start.isValid()?a.start:s._1(wk.$$Selection.Start.getDefault,void 0),l=a.end_.isValid()?a.end_:s._1(wk.$$Selection.End.getDefault,void 0),d=n.isBefore(l)?[n,l]:[l,n],c=d[1],u=d[0],g=u.isBefore(o)?o:u,m=c.isBefore(o)?o:c,f=g.isAfter(i)?i:g,p=m.isAfter(i)?i:m,_=re.Moment.add(Z.duration(0>t?0:t,"months"),f),h={start:f,end_:p.isBefore(_)?p:_},k=r.settings.keywordDataSource,v=s._2(Sa.WithAll.Filter.ofQueryWithCustomDefault,e,k?{_0:k._0}:void 0);return{sort:s._1(Qk,e),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,e),calendarNavigation:s._1(wk.Navigation.ofQueryWithDefault,e),calendarSelection:h,changeType:s._1(Uk.ofQueryWithDefault,e),volumeMode:s._2(Pa.ofQueryWithCustomDefault,e,r.settings.topPagesVolumeMode),country:v,url:s._1(fa.$$URL.Filter.ofQueryWithDefault,e),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,e),orgValue:s._1(pa.OrgValue.Filter.ofQueryWithDefault,e),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,e),positions:s._1(pd.Positions.Filter.ofQueryWithDefault,e),volume:s._1(pa.Volume.Filter.ofQueryWithDefault,e),kd:s._1(pa.KD.Filter.ofQueryWithDefault,e),cpc:s._1(pa.CPC.Filter.ofQueryWithDefault,e),orgKeywordTraffic:s._1(pa.OrgKeywordTraffic.Filter.ofQueryWithDefault,e),serp:ka.Filter.ofQueryWithDefault(e),words:s._1(pa.Words.Filter.ofQueryWithDefault,e),keyword:s._1(fa.Keyword.Filter.ofQueryWithDefault,e)}}function Jk(e,t,r){var a=void 0!==e?e:zk,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(Vk,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(wk.Navigation.toQuery,e,r.calendarNavigation);case 3:return s._2(wk.$$Selection.toQuery,e,r.calendarSelection);case 4:return s._2(Uk.toQuery,e,r.changeType);case 5:return s._2(Pa.toQuery,e,r.volumeMode);case 6:return s._2(Sa.WithAll.Filter.toQuery,e,r.country);case 7:return s._2(fa.$$URL.Filter.toQuery,e,r.url);case 8:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 9:return s._2(pa.OrgValue.Filter.toQuery,e,r.orgValue);case 10:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 11:return s._2(pd.Positions.Filter.toQuery,e,r.positions);case 12:return s._2(pa.Volume.Filter.toQuery,e,r.volume);case 13:return s._2(pa.KD.Filter.toQuery,e,r.kd);case 14:return s._2(pa.CPC.Filter.toQuery,e,r.cpc);case 15:return s._2(pa.OrgKeywordTraffic.Filter.toQuery,e,r.orgKeywordTraffic);case 16:return ka.Filter.toQuery(e,r.serp);case 17:return s._2(pa.Words.Filter.toQuery,e,r.words);case 18:return s._2(fa.Keyword.Filter.toQuery,e,r.keyword)}}))}function Xk(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:return 0;case 7:return{hd:fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.raw_url),t.url),tl:0};case 8:var r=t.volumeMode;return{hd:pa.OrgPageTraffic.makeChFilter("Average"===r?s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_traffic_avg):s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_traffic),t.orgPageTraffic),tl:0};case 9:var a=t.volumeMode;return{hd:pa.OrgValue.makeChFilter("Average"===a?s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_value_avg):s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_value),t.orgValue),tl:0};case 10:return{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.keywords),t.orgKeywords),tl:0};case 11:return{hd:pd.Positions.makeChFilterActual(s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.position),t.positions),tl:0};case 12:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.volume),t.volume),tl:0};case 13:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.difficulty),t.kd),tl:0};case 14:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.cpc),t.cpc),tl:0};case 15:return{hd:pa.OrgKeywordTraffic.makeChFilter(s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.traffic),t.orgKeywordTraffic),tl:0};case 16:return{hd:ka.makeChFilterActual(s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.serp_features),s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.has_video),s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.has_thumbnail),s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.position_kind),!1,t.serp),tl:0};case 17:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.words),t.words),tl:0};case 18:return{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.PagesMovements.PositionFilter.get,ft.Se_shared.PagesMovements.PositionFilter.text),t.keyword),tl:0}}}var Zk={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:0}}}}}}}}}}}}}};function ev(e,t){var r=void 0!==e?l.valFromOption(e):{};return Jk(Zk,l.some(r),t)}var tv={getDefault:function(e){return{sort:s._1(Ik,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),calendarNavigation:s._1(wk.Navigation.getDefault,void 0),calendarSelection:s._1(wk.$$Selection.getDefault,void 0),changeType:s._1(Uk.getDefault,void 0),volumeMode:s._1(Pa.getDefault,void 0),country:s._1(Sa.WithAll.Filter.getDefault,void 0),url:s._1(fa.$$URL.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgValue:s._1(pa.OrgValue.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),positions:s._1(pd.Positions.Filter.getDefault,void 0),volume:s._1(pa.Volume.Filter.getDefault,void 0),kd:s._1(pa.KD.Filter.getDefault,void 0),cpc:s._1(pa.CPC.Filter.getDefault,void 0),orgKeywordTraffic:s._1(pa.OrgKeywordTraffic.Filter.getDefault,void 0),serp:ka.Filter.getDefault(void 0),words:s._1(pa.Words.Filter.getDefault,void 0),keyword:s._1(fa.Keyword.Filter.getDefault,void 0)}},all:zk,calendar:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:0}}}}}}}}}}}}}},calendarNavigation:{hd:2,tl:{hd:3,tl:0}},table:{hd:0,tl:{hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:0}}}}}}}}}}}}}}}}}},isFilterApplied:function(e,t){switch(t){case 0:return s._1(Gk,e);case 1:return s._1(ya.Pagination.Filter.isApplied,e);case 2:return s._1(wk.Navigation.isApplied,e);case 3:return s._1(wk.$$Selection.isApplied,e);case 4:return s._1(Uk.isApplied,e);case 5:return s._1(Pa.isApplied,e);case 6:return s._1(Sa.WithAll.Filter.isApplied,e);case 7:return s._1(fa.$$URL.Filter.isApplied,e);case 8:return s._1(gn.OrgPageTraffic.Filter.isApplied,e);case 9:return s._1(gn.OrgValue.Filter.isApplied,e);case 10:return s._1(gn.OrgKeywords.Filter.isApplied,e);case 11:return s._1(pd.Positions.Filter.isApplied,e);case 12:return s._1(pa.Volume.Filter.isApplied,e);case 13:return s._1(pa.KD.Filter.isApplied,e);case 14:return s._1(pa.CPC.Filter.isApplied,e);case 15:return s._1(pa.OrgKeywordTraffic.Filter.isApplied,e);case 16:return ka.Filter.isApplied(e);case 17:return s._1(pa.Words.Filter.isApplied,e);case 18:return s._1(fa.Keyword.Filter.isApplied,e)}},ofQuery:Yk,toQuery:Jk,makeChFilter:Xk,makeChFiltersAll:function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(zk,(function(t){return Xk(t,e)})))),(function(e){return e}))},makeStatusFilter:function(e){var t=Ea.field(Da.any(s._1(ft.Se_shared.PagesMovements.Diff.get,ft.Se_shared.PagesMovements.Diff.set)));return Da.disjunctOpt({hd:ce.has(e.changeType,0,Qr.equal)?Ea.eq(t,md.diff_set_to_string("Left")):void 0,tl:{hd:ce.has(e.changeType,1,Qr.equal)?Ea.eq(t,md.diff_set_to_string("Right")):void 0,tl:0}})},TopLevel:{all:Zk,ofQuery:Yk,toQuery:ev,equal:function(e,t){return i.stringifyQueryDict(ev(void 0,e),void 0,void 0)===i.stringifyQueryDict(ev(void 0,t),void 0,void 0)}}};La.makeRenderHeader;var rv=s._1(Rt.css,{hd:Rt.label("totalResults"),tl:0}),av=s._1(Rt.css,{hd:Rt.label("filterWrapper"),tl:0}),ov=s._1(Rt.css,{hd:Rt.label("header"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.flexDirection("row"),tl:{hd:Rt.flexWrap("wrap"),tl:{hd:Rt.selector("& > div:not(:last-child)",{hd:Rt.marginRight(tt.NewSize.px8),tl:{hd:Rt.selector("&."+rv,{hd:Rt.marginRight(tt.NewSize.px16),tl:{hd:Rt.display("flex"),tl:{hd:Rt.alignItems("center"),tl:0}}}),tl:{hd:Rt.selector("&."+av,{hd:Rt.marginLeft(tt.NewSize.px8),tl:0}),tl:0}}}),tl:0}}}}}),iv=s._1(Rt.css,{hd:Rt.label("exportButtonWrapper"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.justifyContent("flexEnd"),tl:{hd:Rt.flex3(1,1,"auto"),tl:{hd:Rt.alignItems("center"),tl:{hd:Rt.media(tt.Media.mobileDown,{hd:Rt.justifyContent("flexStart"),tl:0}),tl:0}}}}}}),nv=s._1(Rt.css,{hd:Rt.label("footer"),tl:{hd:Rt.boxShadow(hi.Shadow.box(void 0,{NAME:"px",VAL:1},void 0,void 0,!0,_e.Color.Border.lineAlpha)),tl:0}}),sv=(s._1(Rt.css,{hd:Rt.label("checkbox"),tl:{hd:Rt.cursor("pointer"),tl:0}}),s._1(Rt.css,{hd:Rt.label("showMoreFooterLast"),tl:0})),lv=s._1(Rt.css,{hd:Rt.label("showMoreFooter"),tl:{hd:Rt.paddingLeft(tt.NewSize.px16),tl:{hd:Rt.paddingRight(tt.NewSize.px16),tl:{hd:Rt.selectSelf(sv)({hd:Rt.paddingBottom(tt.NewSize.px16),tl:0}),tl:0}}}});function dv(e){return s._1(Rt.css,{hd:Rt.label("dateRowContent"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.padding3(e?tt.NewSize.px24:tt.NewSize.px16,tt.NewSize.px16,tt.NewSize.px8),tl:{hd:Rt.marginBottom({NAME:"px",VAL:-1}),tl:{hd:Rt.zIndex(1),tl:{hd:Rt.borderBottom({NAME:"px",VAL:1},"solid",_e.Color.Background.box),tl:0}}}}}})}function cv(e){return{make:function(t){var r=t.filterData,a=t.settings,o=t.selectedDates,i=t.startMonth,n=t.remoteData,d=t.renderDay,c=t.renderError,u=t.onNext,g=t.onPrevious,m=t.onSelectionChange,f=t.onFilterChange,p={startMonth:i,monthsToShow:3,minDate:$t.getMinDate(a.reportHistoricalPermissions),maxDate:Bt.nowUtc(void 0),selectedDates:o,onNext:u,onPrevious:g,onSelectionChange:m};return void 0!==n&&(p.remoteData=l.valFromOption(n)),void 0!==c&&(p.renderError=l.valFromOption(c)),void 0!==d&&(p.renderDay=l.valFromOption(d)),z.createElement(po.make,{padding:"none",background:1,children:z.createElement(ct.make,{gap:"none",children:null},z.createElement(Ek,p),z.createElement("div",{className:nv},s._3(e.footer,r,a,f)))})}}}var uv=r(22330);function gv(e){if("number"!=typeof e)return{TAG:3,_0:e._0,_1:e._1};switch(e){case 0:var t=Bt.nowUtc(void 0);return{TAG:3,_0:Bt.getStartOfDayMomentUtc(t),_1:Bt.getEndOfDayMomentUtc(t)};case 1:var r=Bt.subtractDaysMomentUtc(Bt.nowUtc(void 0),1);return{TAG:3,_0:Bt.getStartOfDayMomentUtc(r),_1:Bt.getEndOfDayMomentUtc(r)};case 2:return{TAG:0,_0:6};case 3:return{TAG:0,_0:29};case 4:var a=Bt.subtractMonthsMomentUtc(Bt.nowUtc(void 0),3);return{TAG:3,_0:Bt.getStartOfDayMomentUtc(a),_1:Bt.getEndOfDayMomentUtc(Bt.nowUtc(void 0))}}}var mv={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:0}}}}};function fv(e){if("string"==typeof e)return"HistoryUnlimited"===e?mv:0;if("HistoryLimited"!==e.NAME)return 0;var t=e.VAL;if("Days"!==t.NAME)return t.VAL>=3?mv:0;var r=t.VAL;return r>=30?{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:0}}}}:r>=7?{hd:0,tl:{hd:1,tl:{hd:2,tl:0}}}:r>=2?{hd:0,tl:{hd:1,tl:0}}:r>=1?{hd:0,tl:0}:0}var pv=function(e){var t,r=e.data,a=e.menuRight,o=e.showUpgradeMessage,i=e.items,n=e.historicalPermissions,d=e.onChange,c=void 0!==o&&o,u=void 0!==i?i:0,g=ce.map(mv,(function(e){return s._4(Tg.makeItem,function(e){if("number"!=typeof e)return"";switch(e){case 0:return s._1(ke.Message.to_s,{id:"992399864573d81dcdd63bb6fbfcd660",defaultMessage:"Today"});case 1:return s._1(ke.Message.to_s,{id:"74c54849128858666b28503756907897",defaultMessage:"Yesterday"});case 2:return s._1(ke.Message.to_s,{id:"adc588b4698d02f76f471edeca13395d",defaultMessage:"Last 7 days"});case 3:return s._1(ke.Message.to_s,{id:"b16485eae8d685f0f6ee35f0d4207928",defaultMessage:"Last 30 days"});case 4:return s._1(ke.Message.to_s,{id:"3a7def688f39caff6f46fe332a2a246b",defaultMessage:"Last 3 months"})}}(e),gv(e),(t=e,!ce.has(u,t,Qr.equal)),void 0);var t})),m=c?l.some(Vt.fullHistory):void 0;if("string"==typeof n)t="HistoryUnlimited"===n?Gt.seHistoryStartDate:Bt.now(void 0);else{var f=n.VAL;t="Days"===f.NAME?Bt.subtractDaysMomentUtc(Bt.now(void 0),f.VAL):Bt.subtractMonthsMomentUtc(Bt.now(void 0),f.VAL)}var p,_=Bt.getStartOfDayMoment(t),h={icon:z.createElement(Xe.Calendar.make,Xe.Calendar.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),customRange:[l.some(_),l.some(Tg.now)],selectedItem:gv((p=r,function(e){var t=Bt.nowUtc(void 0),r=Bt.subtractDaysMomentUtc(Bt.nowUtc(void 0),1),a=Bt.subtractDaysMomentUtc(Bt.nowUtc(void 0),6),o=Bt.subtractDaysMomentUtc(Bt.nowUtc(void 0),29),i=Bt.subtractMonthsMomentUtc(Bt.nowUtc(void 0),3);switch(0|e.TAG){case 0:return 7!==e._0?3:2;case 1:return 3!==e._0?3:4;case 2:return 3;case 3:var n=e._1,s=e._0;return Bt.isSameDate(s,n)&&Bt.isSameDate(s,t)?0:Bt.isSameDate(s,n)&&Bt.isSameDate(s,r)?1:Bt.isSameDate(n,t)&&Bt.isSameDate(s,a)?2:Bt.isSameDate(n,t)&&Bt.isSameDate(s,o)?3:Bt.isSameDate(n,t)&&Bt.isSameDate(s,i)?4:{_0:s,_1:n}}}({TAG:3,_0:p.start,_1:p.end_}))),items:g,controlLabelText:"",hintPosition:0,onChange:function(e){return s._1(d,Tg.toDates(e))}};return void 0!==a&&(h.menuRight=l.valFromOption(a)),void 0!==m&&(h.hint=l.valFromOption(m)),z.createElement(Tg.make,h)},_v=function(e){var t=e.data,r=e.settings,a=e.onChange;return z.createElement(po.make,{padding:"block",children:z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Ok,{data:t.changeType,onChange:function(e){return s._1(a,{changeType:e,calendarSelection:t.calendarSelection})}}),z.createElement(pv,{data:t.calendarSelection,menuRight:!0,showUpgradeMessage:fe.canUpgradeToExtendHistory(r.isUpgradable,r.reportHistoricalPermissions),items:fv(r.reportHistoricalPermissions),historicalPermissions:r.reportHistoricalPermissions,onChange:function(e){return s._1(a,{changeType:t.changeType,calendarSelection:{start:e[0],end_:e[1]}})}}))})},hv=r(29863),kv=r(82530);function vv(e,t){if("number"==typeof t)switch(t){case 0:return{calendarData:1,oldCalendarData:void 0,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData};case 1:var r=e.calendarData;return"number"!=typeof r&&2===r.TAG?{calendarData:{TAG:0,_0:r._0},oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData}:{calendarData:1,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData};case 2:return{calendarData:0,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData};case 3:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:de.mapLoadingWithDefault(e.tableData,1,(function(e){return{TAG:0,_0:e}})),dateTotals:e.dateTotals,tableByDateData:e.tableByDateData}}else switch(0|t.TAG){case 0:var a=t._0;if("number"==typeof a)return e;switch(0|a.TAG){case 1:return{calendarData:a,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData};case 2:var o=ce.reduce(a._0,e.oldCalendarData,(function(e,t){return Ur.set(e,ne.apiDateUtc(t.date),t)}));return{calendarData:{TAG:2,_0:o},oldCalendarData:o,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData};default:return e}case 1:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:t._0,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData};case 2:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:Ur.set(e.tableByDateData,ne.apiDateUtc(t._0),{TAG:0,_0:void 0})};case 3:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:Ur.set(e.tableByDateData,ne.apiDateUtc(t._0),t._1)};case 4:var i=t._1,n=de.mapWithDefault(e.tableData,0,(function(e){return e.rows.rows})),l=ce.reverse(i.rows.rows),d=s._2(t._2,n,l),c=ne.apiDateUtc(t._0),u=i.rows.count;return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:{TAG:2,_0:{rows:{count:0,rows:d}}},dateTotals:Ur.set(e.dateTotals,c,me.mapWithDefault(Ur.get(e.dateTotals,c),1,(function(e){return u+e|0}))),tableByDateData:Ur.set(e.tableByDateData,c,{TAG:2,_0:void 0})};case 5:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:t._0,tableByDateData:e.tableByDateData}}}function yv(e,t,r,a,o,i,n){var l=["Desc",s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.$$Date.get,ft.Se_shared.PagesMovements.$$Date.date))],d=Hk.toFieldName(e,a);return{filter:n,size:t,offset:r,order_by:d?ce.add(ce.map(d,(function(e){return[o,e]})),l):{hd:l,tl:0},shape:ce.map(i,(function(e){return e[1]})),timeout:void 0}}function Dv(e,t,r,a,o,i,c,u){var g=$h.toApiDates(t,r,u);return Ye.forEach(d.performResult(void 0,void 0,hv.request,{args:{mode:a.mode,protocol:a.protocol,url:n.Protocolless_url.show(a.url),dateFrom:g[0],dateTo:l.some(g[1]),country:o},params:c,reportArgs:i}),(function(t){return s._1(e,{TAG:0,_0:t})}))}var Sv={contents:gt()};function Fv(e,t,r,a,o,i){s._1(e,3);var n=gt();return Sv.contents=n,Ye.forEach(d.performResult(void 0,void 0,uv.request,{args:o,params:a,date:void 0}),(function(a){if(Sv.contents===n){s._1(e,{TAG:1,_0:a}),s._1(i,a);var o=de.mapWithDefault(a,void 0,(function(e){var a=ce.map(r,(function(e){return e[0]}));return Ra.foldRows(t,(function(e,t){return Fa.getValue(a,e,t)}),(function(e,t,r,a,o,i){var n=ne.apiDateUtc(a);return s._1(t,Ur.set(e,n,me.mapWithDefault(Ur.get(e,n),1,(function(e){return 1+e|0}))))}),void 0,e.rows.rows)}));return s._1(e,{TAG:5,_0:o})}}))}function Cv(e,t,r){var a=ne.moment(void 0,$h.toMoment(t,r.date,void 0),"dateWithDashes");if("number"!=typeof e){switch(0|e.TAG){case 0:case 2:break;default:return}return me.map(Ur.get(e._0,a),(function(e){return{new_:e.new_,lost:e.lost}}))}}function wv(e,t,r){var a=Bt.toMomentUtc(r),o=Cv(e,$h.fromMoment(a),Eh(a));return me.mapWithDefault(o,0,(function(e){return(ce.has(t,0,Qr.equal)?e.new_:0)+(ce.has(t,1,Qr.equal)?e.lost:0)|0}))}var Tv=cv({footer:function(e,t,r){return z.createElement(_v,{data:e,settings:t,onChange:r})}}),bv=function(e){var t,r=e.filters,o=e.target,c=e.settings,u=e.onApplyFilters,g=e.onRemoteDataChanged,m=r.calendarNavigation,f=$h.getPreviousMonth(m,2,void 0),p=z.useReducer(vv,{calendarData:0,oldCalendarData:void 0,tableData:0,dateTotals:void 0,tableByDateData:void 0}),_=p[1],h=p[0],k=uo.useSingleton({overrides:["className"]}),v=k[1],y=z.useMemo((function(){return me.map(Da.conjunct(ce.concatMany([tv.makeChFiltersAll(r),ce.filterMap({hd:tv.makeStatusFilter(r),tl:0},Ir.identity)])),Da.makeFilter)}),[i.stringifyQueryDict(tv.toQuery(void 0,void 0,r),void 0,void 0)]),D=r.calendarSelection.start,S=r.calendarSelection.end_,F=re.Moment.endOf("month",$h.toMoment(m,void 0,void 0)).utc(),C=re.Moment.startOf("month",$h.toMoment(f,void 0,void 0)).utc(),w=h.calendarData,T=0;if("number"==typeof w)t=[void 0,void 0];else switch(0|w.TAG){case 0:case 2:T=1;break;default:t=[void 0,void 0]}if(1===T){var b=w._0,P=Kk(C,F);t=ge.reduce(P,[void 0,void 0],(function(e,t){var a=e[1],o=e[0],i=Ur.get(b,t);if(void 0===i)return[o,a];var n=ce.has(r.changeType,0,Qr.equal)?i.new_:0,s=ce.has(r.changeType,0,Qr.equal)?i.lost:0;return[me.mapWithDefault(o,n,(function(e){return e>n?e:n})),me.mapWithDefault(a,s,(function(e){return e>s?e:s}))]}))}var M=t[1],A=t[0],R=z.useMemo((function(){return function(e){return function(e,t,r,o){var i=0===e.country,d=xe(e.country),c=pn,u=fn,g=s._1($k.toString,0),m=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"}),f=s._1($k.toString,4),p=s._1(ke.Message.to_s,{id:"2cc7550a475496eea42b70c8d01ba4fd",defaultMessage:"Keywords"}),_={TAG:0,_0:mo.topPageKeywordsCount},h=Aa.getTerms(e.keyword.rules);return{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a,o){var i=Aa.getTerms(e.url.rules);return z.useMemo((function(){var e=n.Url.show(r),t=on.fromString(o),s="Left"===a||"Both"===a?["blue",!1]:["grey",!0],c={displayLink:e,tkLinkContextInput:t,color:s[0],striked:s[1],highlightAnywhereTerms:i.contain,highlightStartTerms:i.startWith,highlightEndTerms:i.endWith,boldDomain:!1};return void 0!==d&&(c.country=l.valFromOption(d)),z.createElement(va.Td.make,{paddingLeft:"none",nowrap:!1,children:z.createElement(ct.make,{gap:"none",children:z.createElement("div",void 0,z.createElement(vn.make,c))})})}),[r,o,Aa.toKey(i)])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,m,void 0,g,void 0,void 0,"none",void 0,void 0,void 0,void 0,u,c,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PagesMovements.Diff.get,ft.Se_shared.PagesMovements.Diff.set)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.tkLinkContext_input)),0)))),tl:{hd:Ca.makeStatusColumn(s._1(ft.Se_shared.PagesMovements.Diff.get,ft.Se_shared.PagesMovements.Diff.set),void 0,void 0),tl:{hd:Ca.makeTrafficColumnWithVolumeMode(s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_traffic),s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_traffic_avg),e.volumeMode,s._1($k.toString,2),void 0,void 0,void 0),tl:{hd:Ca.makeValueColumnWithVolumeMode(s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_value),s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.sum_value_avg),e.volumeMode,s._1($k.toString,3),void 0,void 0),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,i,s,c){var u={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:0}}}}}}}}}}}},g=zp(u,t,Jk(void 0,void 0,e)),m=g.sort,f=g.pagination,p=me.mapWithDefault(d,se.of_code(md.country_to_string(c).toLowerCase()),(function(e){return e})),_=g.positions,h=g.volume,k=g.kd,v=g.cpc,y=g.orgKeywordTraffic,D=g.serp,S=g.words,F=g.keyword,C=g.url,w=g.isMainOnly,T=g.multipleUrls,b=Yp(u,void 0,{sort:m,pagination:f,country:p,isUserCountry:!0,currentDate:o,compareDate:"PrevDay",positions:_,volume:h,kd:k,cpc:v,orgKeywordTraffic:y,serp:D,words:S,keyword:F,url:C,isMainOnly:w,multipleUrls:T}),P=n.Url.show(s);return z.useMemo((function(){var e=a.s(ae.Int.full(ie.to_int32(i))),t=Ve.fromUrlWithMode(P,0);return z.createElement(va.Td.make,{align:"right",children:void 0!==t?z.createElement(ta.make,{href:j.V2.makeOrganicKeywordsUrlDict(t,l.some(b),void 0),mode:0,children:e}):e})}),[ie.to_int32(i),P,b])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(_,void 0,p,void 0,f,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_country)),0)))),tl:{hd:Ca.makeTopKeywordWithDiffColumn(s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_text),s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_country),s._1(ft.Se_shared.PagesMovements.Diff.get,ft.Se_shared.PagesMovements.Diff.set),s._1($k.toString,5),_n,hn,i,l.some(r),void 0,h,void 0),tl:{hd:Ca.makeTopKeywordVolumeWithDiff(s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_volume),s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_volume_avg),s._1(ft.Se_shared.PagesMovements.Diff.get,ft.Se_shared.PagesMovements.Diff.set),e.volumeMode,s._1($k.toString,6),void 0),tl:{hd:Ca.makeTopKeywordPositionWithDiff(s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_best_position),s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.top_keyword_best_position_kind),s._1(ft.Se_shared.PagesMovements.Diff.get,ft.Se_shared.PagesMovements.Diff.set),s._1($k.toString,7),l.some(r),void 0),tl:{hd:Ca.makeSpacerColumn(s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.hash),kn),tl:0}}}}}}}}}}(r,c,v,e)}}),[i.stringifyQueryDict(tv.toQuery(tv.table,void 0,r),void 0,void 0)]),E=s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PagesMovements.$$Date.get,ft.Se_shared.PagesMovements.$$Date.date)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PagesMovements.Page.get,ft.Se_shared.PagesMovements.Page.url)),0))),B=s._1(Ra.FieldsRequestDescr.toRequest,s._3(Ra.FieldsRequestDescr.customRow,s._1(R,"Today"),(function(e,t,r,a){return null}),E)),K=function(e,t,r,a){return{mode:e.mode,protocol:e.protocol,url:n.Protocolless_url.show(e.url),dateFrom:Bt.toJs(t),dateTo:l.some(Bt.toJs(r)),country:a}}(o,D,S,xe(r.country)),q=yv(r.volumeMode,Bk(D,S),0,r.sort.name,r.sort.direction,B,y),x=z.useMemo((function(){return function(e,t){var a=wv(h.calendarData,r.changeType,t),o=me.getWithDefault(Ur.get(h.dateTotals,ne.apiDateUtc(t)),0),i=a-o|0;return i<=0&&!e?null:z.createElement("tr",void 0,z.createElement("td",{className:ra.$plus$plus$plus(lv,ea.ifTrue(sv,e)),colSpan:99},z.createElement(Gl,{data:me.getWithDefault(Ur.get(h.tableByDateData,ne.apiDateUtc(t)),{TAG:2,_0:void 0}),settings:c,offset:o,remainingCount:i,showTopBorder:!1,vGap:1,onMoreDataRequested:function(e,a,o){return function(e,t,r,a,o,i){s._1(e,{TAG:2,_0:r});var n=function(e,o){var i=ce.toArray(e),n=ce.map(a,(function(e){return e[0]}));return ce.reverse(Ra.foldRows(t,(function(e,t){return Fa.getValue(n,e,t)}),(function(e,t,a,n,l,d){var c=e[1],u=e[0],g=a===(i.length-1|0),m=Bt.toMomentUtc(n).isBefore(Bt.toMomentUtc(r)),f=ge.get(i,a);return void 0!==f?m&&!u?s._1(t,[!0,ce.concatMany([{hd:f,tl:0},o,c])]):g&&!u?s._1(t,[!0,ce.concat(o,{hd:f,tl:c})]):s._1(t,[u,{hd:f,tl:c}]):s._1(t,[u,c])}),[!1,0],e)[1])};return Ye.forEach(d.performResult(void 0,void 0,uv.request,{args:o,params:i,date:l.some(r)}),(function(t){if("number"!=typeof t)switch(0|t.TAG){case 1:return s._1(e,{TAG:3,_0:r,_1:t});case 2:return s._1(e,{TAG:4,_0:r,_1:t._0,_2:n});default:return}}))}(_,E,t,B,K,yv(r.volumeMode,e,a,r.sort.name,r.sort.direction,B,y))}})))}}),[h.calendarData,h.dateTotals,h.tableByDateData]),W=de.mapLoadingWithDefault(h.tableData,0,(function(e){return ce.length(e.rows.rows)})),U=s._3(Ra.FieldsRequestDescr.customRow,s._1(R,"Today"),(function(e,t,i,d){var u={contents:void 0},g=h.tableData,m=0;if("number"!=typeof g)switch(0|g.TAG){case 0:case 2:m=1}1===m&&me.forEach(ce.get(g._0.rows.rows,e.index-1|0),(function(t){var r=ce.map(B,(function(e){return e[0]}));Ra.renderRowField(s._3(Ra.FieldsRequestDescr.customRow,void 0,(function(e,t,r,a){return u.contents=l.some(t),null}),E),{getValue:function(e){return Fa.getValue(r,t,e)},tableRootRef:e.tableRootRef,index:e.index-1|0})}));var f,p=u.contents,_=!(void 0!==p&&!mt.caml_notequal(l.valFromOption(p),t));if(_&&0!==e.index){var k=u.contents;f=s._2(x,!1,Bt.subtractDaysDateUtc(t,void 0!==k?0|Bt.toMomentUtc(t).diff(Bt.toMomentUtc(l.valFromOption(k)),"days"):0))}else f=null;return z.createElement(z.Fragment,void 0,f,_?z.createElement("tr",void 0,z.createElement("td",{colSpan:99},z.createElement("div",{className:dv(0===e.index)},z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(gi.make,{children:a.s(ne.dateUtc(void 0,t,"dayShortMonthYear"))}),Bt.isSameDate(D,S)?null:z.createElement(bt,{exportFunc:function(e,a){var i=["Desc",s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.$$Date.get,ft.Se_shared.PagesMovements.$$Date.date))],d=Hk.toFieldName(r.volumeMode,r.sort.name);return L(e,s._3(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-calendar-pages-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}},_1:"%s-calendar-pages-%s-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode),Sa.Item.toCode(r.country)),void 0,kv.request,{args:{mode:o.mode,protocol:o.protocol,url:n.Protocolless_url.show(o.url),dateFrom:Bt.toJs(D),dateTo:l.some(Bt.toJs(S)),country:xe(r.country)},params:{filter:y,size:a,offset:0,order_by:d?ce.add(ce.map(d,(function(e){return[r.sort.direction,e]})),i):{hd:i,tl:0},shape:void 0,timeout:void 0},volumeMode:r.volumeMode,date:l.some(t)})},isTrial:c.subscription.isTrial,limitResetDate:c.subscription.dateResetUsagesMonthly,totalResults:wv(h.calendarData,r.changeType,t),target:o,limitsFunc:O,color:"ghost"}))))):null,z.createElement(te.Row.make,{columns:s._1(R,{NAME:"Date",VAL:ne.apiDateUtc(t)}),parentData:e}),e.index===(W-1|0)?s._2(x,!0,t):null)}),E);z.useEffect((function(){s._1(_,2)}),[i.stringifyQueryDict(tv.toQuery(tv.calendar,void 0,r),void 0,void 0),o]),z.useEffect((function(){Fv(_,E,B,q,K,g)}),[o,i.stringifyQueryDict(tv.toQuery(tv.table,void 0,r),void 0,void 0),ne.moment(void 0,D,"dateWithDashes"),ne.moment(void 0,S,"dateWithDashes")]);var N=function(e){var t=$h.fromMoment(C),a=$h.fromMoment(F);s._1(_,0),Dv(_,t,a,o,xe(r.country),K,q,c.reportHistoricalPermissions);var i=$h.fromMoment(D),n=$h.fromMoment(S);if($h.isBefore(i,t)||$h.isAfter(i,a)||$h.isBefore(n,t)||$h.isAfter(n,a))return Dv(_,i,n,o,xe(r.country),K,q,c.reportHistoricalPermissions)};z.useEffect((function(){N()}),[i.stringifyQueryDict(tv.toQuery(tv.calendar,void 0,r),void 0,void 0),Ve.Safe.toKey(o)]),z.useEffect((function(){var e=$h.fromMoment(C),t=$h.fromMoment(F),a=$h.fromMoment(D),i=$h.fromMoment(S),n=h.calendarData,l=0;if("number"!=typeof n)switch(0|n.TAG){case 0:case 2:l=1}if(1===l){var d=n._0,u=xk(d,e,t),g=xk(d,a,i);ce.forEach({hd:u,tl:{hd:g,tl:0}},(function(e){return me.forEach(e,(function(e){return s._1(_,1),Dv(_,e[0],e[1],o,xe(r.country),K,q,c.reportHistoricalPermissions)}))}))}}),[i.stringifyQueryDict(tv.toQuery(tv.calendarNavigation,void 0,r),void 0,void 0)]);var $=z.useCallback((function(e){return Fv(_,E,B,q,K,g)}),[]),I=function(e,t,r,a){var o=function(e,t,r){var a=Kk(t,r);if("number"!=typeof e){switch(0|e.TAG){case 0:case 2:break;default:return}var o=e._0;return ge.reduce(a,{new_:0,lost:0},(function(e,t){return me.mapWithDefault(Ur.get(o,t),e,(function(t){return{new_:e.new_+t.new_|0,lost:e.lost+t.lost|0}}))}))}}(e,r,a);return me.mapWithDefault(o,0,(function(e){return(ce.has(t,0,Qr.equal)?e.new_:0)+(ce.has(t,1,Qr.equal)?e.lost:0)|0}))}(h.calendarData,r.changeType,D,S),G=z.createElement("div",{className:ov},z.createElement(z.Fragment,void 0,z.createElement("div",{className:rv},z.createElement(Ju,{remoteData:h.tableData,getter:function(e){return I},message:{id:"9e044241abd58f45d426b6b9195a7806",defaultMessage:"{totalStr} {total, plural, zero {pages} one {page} other {pages}}"}})),z.createElement("div",{className:iv},z.createElement(bt,{exportFunc:function(e,t){var a=["Desc",s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PagesMovements.$$Date.get,ft.Se_shared.PagesMovements.$$Date.date))],i=Hk.toFieldName(r.volumeMode,r.sort.name);return L(e,s._3(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-calendar-pages-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}},_1:"%s-calendar-pages-%s-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode),Sa.Item.toCode(r.country)),void 0,kv.request,{args:{mode:o.mode,protocol:o.protocol,url:n.Protocolless_url.show(o.url),dateFrom:Bt.toJs(D),dateTo:l.some(Bt.toJs(S)),country:xe(r.country)},params:{filter:y,size:t,offset:0,order_by:i?ce.add(ce.map(i,(function(e){return[r.sort.direction,e]})),a):{hd:a,tl:0},shape:void 0,timeout:void 0},volumeMode:r.volumeMode,date:void 0})},isTrial:c.subscription.isTrial,limitResetDate:c.subscription.dateResetUsagesMonthly,totalResults:I,target:o,limitsFunc:O})))),Q=r.changeType,H=h.calendarData,Y=N;return z.createElement(z.Fragment,void 0,z.createElement(ct.make,{children:null},z.createElement(Tv.make,{filterData:{changeType:r.changeType,calendarSelection:r.calendarSelection},settings:c,selectedDates:[r.calendarSelection.start,r.calendarSelection.end_],startMonth:r.calendarNavigation,remoteData:h.calendarData,renderDay:function(e){return function(e,t,r,a,o,i){if("number"==typeof i)return z.createElement(Mk,{state:i});var n=Cv(e,i._0,i._1),s=ce.has(t,0,Qr.equal)?me.map(n,(function(e){return e.new_})):void 0,l=ce.has(t,1,Qr.equal)?me.map(n,(function(e){return e.lost})):void 0;return z.createElement(Mk,{state:i,maxNewCount:r,maxLostCount:a,newCount:s,lostCount:l})}(H,Q,A,M,0,e)},renderError:function(e){return Rk(Y,0,e)},onNext:function(e){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:$h.getNextMonth(r.calendarNavigation,void 0,void 0),calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onPrevious:function(e){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:$h.getPreviousMonth(r.calendarNavigation,void 0,void 0),calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onSelectionChange:function(e,t){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:{start:e,end_:t},changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onFilterChange:function(e){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:e.calendarSelection,changeType:e.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})}}),z.createElement(te.Table.make,{row:U,data:de.mapWithDefault(h.tableData,0,(function(e){return e.rows.rows})),hasAppliedFilters:!s._2(tv.TopLevel.equal,r,tv.getDefault(void 0)),header:G,isLoading:de.isLoading(h.tableData),failureState:te.Table.getFailureState(h.tableData),renderError:Be(h.tableData,$,c.isUpgradable),tooltipTarget:v,totalRowsNumber:I,customFooter:0,pagination:r.pagination,sortDirection:r.sort.direction,sort:s._1(Hk.Name.toString,r.sort.name),onSort:function(e,t,a){return s._1(u,{sort:{name:me.getWithDefault(s._1(Hk.Name.ofString,e),s._1(Hk.Name.getDefault,void 0)),direction:t},pagination:a,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onRefetch:$,onClearFilters:function(e){var t=tv.getDefault(void 0);return s._1(u,{sort:r.sort,pagination:t.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:t.volumeMode,country:t.country,url:t.url,orgPageTraffic:t.orgPageTraffic,orgValue:t.orgValue,orgKeywords:t.orgKeywords,positions:t.positions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,serp:t.serp,words:t.words,keyword:t.keyword})}})),z.createElement(ut.make,{singleton:k[0]}))},Pv=r(82240),Mv=s._1(Rt.css,{hd:Rt.label("upgrade"),tl:{hd:Rt.marginTop({NAME:"px",VAL:40}),tl:0}}),Av=(s._1(Rt.css,{hd:Rt.label("upgradeSm"),tl:{hd:Rt.marginTop({NAME:"px",VAL:26}),tl:0}}),et.style([et.label("iconCaret")])),Rv=et.style([et.label("wrapper"),et.backgroundColor(_e.Color.Background.box)]),Lv=et.style([et.label("wrapperClosed"),et.unsafe("cursor","pointer"),et.selector("&:hover",[et.selector("& ."+Av,[et.color(_e.Color.$$Text.primary)])])]),Ev=r(29701),Bv=r(58119),Kv=r(88083),qv=r(38707),xv=Ev,Wv=Bv,Uv=qv,Ov=Kv,Nv=function(e){var t=Pv.use(void 0).appliedTheme?Wv:xv;return z.createElement("div",{className:Mv},z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"90820440a08b97a2f4460eaefe18a106",defaultMessage:"Upgrade to unlock Calendar"}),text:s._1(ke.Message.to_s,{id:"3d417290b9dcf40ff3b6d723b9f043c0",defaultMessage:"Get a calendar view for all position changes and see new and lost ranking pages on a daily basis. Changes in referring domains are coming soon."}),imageType:{TAG:1,_0:z.createElement("img",{height:"608",src:t,width:"802"})},imageGap:"px40"}))},$v="seShowCalendarPlaceholder",Iv=function(e){var t=Pv.use(void 0),r=a.useStateValue(p_.LocalStorage.mapWithDefault($v,!0,(function(e){return"false"!==e}))),o=r[1],i=r[0],n=function(e){return p_.LocalStorage.set(e?"true":"false",$v),s._1(o,e)};return z.createElement("div",{className:ra.$plus$plus$plus(Rv,ea.ifTrue(Lv,!i)),onClick:function(e){return i?void 0:n(!i)}},z.createElement(po.make,{children:null},z.createElement(_o.make,{floatRight:!0,onClick:function(e){return n(!i)},children:z.createElement("div",{className:Av},z.createElement(Xe.Caret.make,Xe.Caret.makeProps(void 0,void 0,void 0,void 0,i?0:1,void 0,void 0,void 0,void 0,void 0,void 0,void 0)))}),i?z.createElement(po.make,{padding:"blockLg",children:z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"54bc0a70d2d3a5bad2677cdce9105769",defaultMessage:"Upgrade to unlock calendar view"}),text:s._1(ke.Message.to_s,{id:"d12acf0bd28d4a9aa37c9a043f85288b",defaultMessage:"Get a calendar view of all movements for keyword positions on a daily basis."}),imageType:{TAG:0,_0:{src:t.appliedTheme?Uv:Ov,width:720,height:238}},imageGap:"px40"})}):z.createElement(Je.make,{children:z.createElement(H.make,{children:s._1(ke.Message.to_s,{id:"d1df59a6b4aeed72d7b710113cd68818",defaultMessage:"Calendar view"})})})))},Gv=r(86149),Qv={hd:0,tl:{hd:2,tl:{hd:1,tl:{hd:3,tl:0}}}},Vv=It.MakeList({key:"changeType",all:Qv,$$default:Qv,localStorageKey:void 0,toString:function(e){switch(e){case 0:return"new";case 1:return"lost";case 2:return"improved";case 3:return"declined"}},ofString:function(e){if(void 0!==e)switch(e){case"declined":return 3;case"improved":return 2;case"lost":return 1;case"new":return 0;default:return}},ordered:!0}),jv=function(e){var t=e.data,r=e.onChange,a=function(e){return ce.has(t,e,Qr.equal)?ce.filter(t,(function(t){return!Qr.equal(t,e)})):{hd:e,tl:t}};return z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Nt.make,{label:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),color:_e.Color.Chart.green,checked:ce.has(t,0,Qr.equal),onChange:function(e){return s._1(r,a(0))}}),z.createElement(Nt.make,{label:s._1(ke.Message.to_s,{id:"b3eee883a128f6cb7010cd488940ca70",defaultMessage:"Improved"}),color:_e.Color.Chart.green,checked:ce.has(t,2,Qr.equal),onChange:function(e){return s._1(r,a(2))}}),z.createElement(Nt.make,{label:s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),color:_e.Color.Chart.red,checked:ce.has(t,1,Qr.equal),onChange:function(e){return s._1(r,a(1))}}),z.createElement(Nt.make,{label:s._1(ke.Message.to_s,{id:"b1f1df83cf0fc33bdc75f0ed9f1088fb",defaultMessage:"Declined"}),color:_e.Color.Chart.red,checked:ce.has(t,3,Qr.equal),onChange:function(e){return s._1(r,a(3))}}))};function Hv(e,t,r,a){return ne.apiDateUtc(t)+"_"+e+"_"+r+"_"+md.kind_to_string(a)}var zv=ya.Sort.MakeFilter({$$default:6,toString:function(e){switch(e){case 0:return"keyword";case 1:return"sf";case 2:return"volume";case 3:return"kd";case 4:return"cpc";case 5:return"traffic";case 6:return"trafficChanges";case 7:return"position";case 8:return"positionChanges";case 9:return"url"}},ofString:function(e){switch(e){case"cpc":return 4;case"kd":return 3;case"keyword":return 0;case"position":return 7;case"positionChanges":return 8;case"sf":return 1;case"traffic":return 5;case"trafficChanges":return 6;case"url":return 9;case"volume":return 2;default:return}},defaultDirection:"Desc"}),Yv=zv.Name,Jv=zv.getDefault,Xv=zv.isApplied,Zv=zv.ofQueryWithDefault,ey=zv.toQuery,ty=zv.Direction,ry={Name:Yv,Direction:ty,getDefault:Jv,isApplied:Xv,ofQueryWithDefault:Zv,toQuery:ey,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.keyword)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.serp_features)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.volume)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.difficulty)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.cpc)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.traffic)),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.Diff.get,ft.Se_shared.PositionsMovements.Diff.traffic_sort)),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.position)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.Diff.get,ft.Se_shared.PositionsMovements.Diff.position)),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.url)),tl:0}}}},ay={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}}}}}}}};function oy(e,t,r){var a=s._1(wk.$$Selection.ofQueryWithDefault,e),o=$t.getMinDate(r.reportHistoricalPermissions),i=Bt.nowUtc(void 0),n=a.start.isValid()?a.start:s._1(wk.$$Selection.Start.getDefault,void 0),d=a.end_.isValid()?a.end_:s._1(wk.$$Selection.End.getDefault,void 0),c=n.isBefore(d)?[n,d]:[d,n],u=c[1],g=c[0],m=g.isBefore(o)?o:g,f=u.isBefore(o)?o:u,p=m.isAfter(i)?i:m,_=f.isAfter(i)?i:f,h=re.Moment.add(Z.duration(0>t?0:t,"months"),p),k={start:p,end_:_.isBefore(h)?_:h},v=r.settings.keywordDataSource,y=s._2(Sa.WithoutAll.Filter.Country.ofQueryWithCustomDefault,e,v?l.some(v._0):l.some(Qe));return{sort:s._1(Zv,e),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,e),calendarNavigation:s._1(wk.Navigation.ofQueryWithDefault,e),calendarSelection:k,changeType:s._1(Vv.ofQueryWithDefault,e),country:y,positions:s._1(pd.Positions.Filter.ofQueryWithDefault,e),volume:s._1(pa.Volume.Filter.ofQueryWithDefault,e),kd:s._1(pa.KD.Filter.ofQueryWithDefault,e),cpc:s._1(pa.CPC.Filter.ofQueryWithDefault,e),orgKeywordTraffic:s._1(pa.OrgKeywordTraffic.Filter.ofQueryWithDefault,e),serp:ka.Filter.ofQueryWithDefault(e),words:s._1(pa.Words.Filter.ofQueryWithDefault,e),keyword:s._1(fa.Keyword.Filter.ofQueryWithDefault,e),url:s._1(fa.$$URL.Filter.ofQueryWithDefault,e)}}function iy(e,t,r){var a=void 0!==e?e:ay,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(ey,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(wk.Navigation.toQuery,e,r.calendarNavigation);case 3:return s._2(wk.$$Selection.toQuery,e,r.calendarSelection);case 4:return s._2(Vv.toQuery,e,r.changeType);case 5:return s._2(Sa.WithoutAll.Filter.Country.toQuery,e,r.country);case 6:return s._2(pd.Positions.Filter.toQuery,e,r.positions);case 7:return s._2(pa.Volume.Filter.toQuery,e,r.volume);case 8:return s._2(pa.KD.Filter.toQuery,e,r.kd);case 9:return s._2(pa.CPC.Filter.toQuery,e,r.cpc);case 10:return s._2(pa.OrgKeywordTraffic.Filter.toQuery,e,r.orgKeywordTraffic);case 11:return ka.Filter.toQuery(e,r.serp);case 12:return s._2(pa.Words.Filter.toQuery,e,r.words);case 13:return s._2(fa.Keyword.Filter.toQuery,e,r.keyword);case 14:return s._2(fa.$$URL.Filter.toQuery,e,r.url)}}))}function ny(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:return;case 6:return pd.Positions.makeChFilterActual(s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.position),t.positions);case 7:return pa.Volume.makeChFilter(s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.volume),t.volume);case 8:return pa.KD.makeChFilter(s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.difficulty),t.kd);case 9:return pa.CPC.makeChFilter(s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.cpc),t.cpc);case 10:return pa.OrgKeywordTraffic.makeChFilter(s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.traffic),t.orgKeywordTraffic);case 11:return ka.makeChFilterActual(s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.serp_features),s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.has_video),s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.has_thumbnail),s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.position_kind),!1,t.serp);case 12:return pa.Words.makeChFilter(s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.words),t.words);case 13:return fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.text),t.keyword);case 14:return fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.PositionsMovements.PositionFilter.get,ft.Se_shared.PositionsMovements.PositionFilter.raw_url),t.url)}}var sy={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}}};function ly(e,t){var r=void 0!==e?l.valFromOption(e):{};return iy(sy,l.some(r),t)}var dy={getDefault:function(e){return{sort:s._1(Jv,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),calendarNavigation:s._1(wk.Navigation.getDefault,void 0),calendarSelection:s._1(wk.$$Selection.getDefault,void 0),changeType:s._1(Vv.getDefault,void 0),country:s._1(Sa.WithoutAll.Filter.Country.getDefault,void 0),positions:s._1(pd.Positions.Filter.getDefault,void 0),volume:s._1(pa.Volume.Filter.getDefault,void 0),kd:s._1(pa.KD.Filter.getDefault,void 0),cpc:s._1(pa.CPC.Filter.getDefault,void 0),orgKeywordTraffic:s._1(pa.OrgKeywordTraffic.Filter.getDefault,void 0),serp:ka.Filter.getDefault(void 0),words:s._1(pa.Words.Filter.getDefault,void 0),keyword:s._1(fa.Keyword.Filter.getDefault,void 0),url:s._1(fa.$$URL.Filter.getDefault,void 0)}},all:ay,calendar:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}}},calendarNavigation:{hd:2,tl:{hd:3,tl:0}},table:{hd:0,tl:{hd:1,tl:{hd:3,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:4,tl:0}}}}}}}}}}}}}},isFilterApplied:function(e,t){switch(t){case 0:return s._1(Xv,e);case 1:return s._1(ya.Pagination.Filter.isApplied,e);case 2:return s._1(wk.Navigation.isApplied,e);case 3:return s._1(wk.$$Selection.isApplied,e);case 4:return s._1(Vv.isApplied,e);case 5:return s._1(Sa.WithoutAll.Filter.Country.isApplied,e);case 6:return s._1(pd.Positions.Filter.isApplied,e);case 7:return s._1(pa.Volume.Filter.isApplied,e);case 8:return s._1(pa.KD.Filter.isApplied,e);case 9:return s._1(pa.CPC.Filter.isApplied,e);case 10:return s._1(pa.OrgKeywordTraffic.Filter.isApplied,e);case 11:return ka.Filter.isApplied(e);case 12:return s._1(pa.Words.Filter.isApplied,e);case 13:return s._1(fa.Keyword.Filter.isApplied,e);case 14:return s._1(fa.$$URL.Filter.isApplied,e)}},ofQuery:oy,toQuery:iy,makeChFilter:ny,makeChFiltersAll:function(e){return ce.filterMap(ay,(function(t){return ny(t,e)}))},makeStatusFilter:function(e){var t=Ea.field(Da.any(s._1(ft.Se_shared.PositionsMovements.Diff.get,ft.Se_shared.PositionsMovements.Diff.position))),r=Ea.field(Da.any(s._1(ft.Se_shared.PositionsMovements.Diff.get,ft.Se_shared.PositionsMovements.Diff.set))),a=Ea.eq(r,md.diff_set_to_string("Both"));return Da.disjunctOpt({hd:ce.has(e.changeType,0,Qr.equal)?Ea.eq(r,md.diff_set_to_string("Left")):void 0,tl:{hd:ce.has(e.changeType,2,Qr.equal)?Ea.$amp$amp(Ea.$less(t,0),a):void 0,tl:{hd:ce.has(e.changeType,1,Qr.equal)?Ea.eq(r,md.diff_set_to_string("Right")):void 0,tl:{hd:ce.has(e.changeType,3,Qr.equal)?Ea.$amp$amp(Ea.$great(t,0),a):void 0,tl:0}}}})},TopLevel:{all:sy,ofQuery:oy,toQuery:ly,equal:function(e,t){return i.stringifyQueryDict(ly(void 0,e),void 0,void 0)===i.stringifyQueryDict(ly(void 0,t),void 0,void 0)}}},cy=r(52384),uy=r(58662),gy=function(e){var t=e.data,r=e.settings,a=e.onChange;return z.createElement(po.make,{padding:"block",children:z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(jv,{data:t.changeType,onChange:function(e){return s._1(a,{changeType:e,calendarSelection:t.calendarSelection})}}),z.createElement(pv,{data:t.calendarSelection,menuRight:!0,showUpgradeMessage:fe.canUpgradeToExtendHistory(r.isUpgradable,r.reportHistoricalPermissions),items:fv(r.reportHistoricalPermissions),historicalPermissions:r.reportHistoricalPermissions,onChange:function(e){return s._1(a,{changeType:t.changeType,calendarSelection:{start:e[0],end_:e[1]}})}}))})},my=r(49222),fy=r(28111);function py(e,t){if("number"==typeof t)switch(t){case 0:return{calendarData:1,oldCalendarData:void 0,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 1:var r=e.calendarData;return"number"!=typeof r&&2===r.TAG?{calendarData:{TAG:0,_0:r._0},oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries}:{calendarData:1,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 2:return{calendarData:0,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 3:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:de.mapLoadingWithDefault(e.tableData,1,(function(e){return{TAG:0,_0:e}})),dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 4:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:void 0}}else switch(0|t.TAG){case 0:var a=t._0;if("number"==typeof a)return e;switch(0|a.TAG){case 1:return{calendarData:a,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 2:var o=ce.reduce(a._0,e.oldCalendarData,(function(e,t){return Ur.set(e,ne.apiDateUtc(t.date),t)}));return{calendarData:{TAG:2,_0:o},oldCalendarData:o,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};default:return e}case 1:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:t._0,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 2:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:Ur.set(e.tableByDateData,ne.apiDateUtc(t._0),{TAG:0,_0:void 0}),remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 3:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:Ur.set(e.tableByDateData,ne.apiDateUtc(t._0),t._1),remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 4:var i=t._1,l=de.mapWithDefault(e.tableData,0,(function(e){return e.rows.rows})),d=ce.reverse(i.rows.rows),c=s._2(t._2,l,d),u=ne.apiDateUtc(t._0),g=i.rows.count;return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:{TAG:2,_0:{rows:{count:0,rows:c}}},dateTotals:Ur.set(e.dateTotals,u,me.mapWithDefault(Ur.get(e.dateTotals,u),1,(function(e){return g+e|0}))),tableByDateData:Ur.set(e.tableByDateData,u,{TAG:2,_0:void 0}),remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 5:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:t._0,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 6:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:t._0,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 7:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:t._0,keywordsSummaries:e.keywordsSummaries};case 8:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:de.mapWithDefault(t._0,void 0,(function(e){return ce.reduce(e,void 0,(function(e,t){return Ur.set(e,n.Clean_keyword.show(t.keyword),t)}))}))};case 9:var m=t._2,f=t._0;return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:de.map(e.remoteKeLists,(function(e){return ce.map(e,(function(e){return e.id===f?{id:e.id,name:e.name,length:m}:e}))})),remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(t._1,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:{hd:f,tl:e.keywordsLists},inRtProjects:e.inRtProjects}}))}))}))};case 10:var p=t._2,_=t._0;return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:de.map(e.remoteKeLists,(function(e){return ce.map(e,(function(e){return e.id===_?{id:e.id,name:e.name,length:p}:e}))})),remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(t._1,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:ce.filter(e.keywordsLists,(function(e){return e!==_})),inRtProjects:e.inRtProjects}}))}))}))};case 11:var h=t._2,k=t._1,v=t._0;return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:de.map(e.remoteKeLists,(function(e){return ce.concat(e,{hd:{id:v,name:k,length:ce.length(h)},tl:0})})),remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(h,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:{hd:v,tl:e.keywordsLists},inRtProjects:e.inRtProjects}}))}))}))};case 12:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:e.dateTotals,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(t._0,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:e.keywordsLists,inRtProjects:!0}}))}))}))};case 13:return{calendarData:e.calendarData,oldCalendarData:e.oldCalendarData,tableData:e.tableData,dateTotals:t._0,tableByDateData:e.tableByDateData,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries}}}var _y={contents:gt()};function hy(e,t,r,a,o,i){var n=["Desc",s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.$$Date.get,ft.Se_shared.PositionsMovements.$$Date.date))],l=ry.toFieldName(r);return{filter:i,size:e,offset:t,order_by:l?ce.add(ce.map(l,(function(e){return[a,e]})),n):{hd:n,tl:0},shape:ce.map(o,(function(e){return e[1]})),timeout:void 0}}function ky(e,t,r,a,o,i,c,u){var g=$h.toApiDates(t,r,u);return Ye.forEach(d.performResult(void 0,void 0,my.request,{args:{mode:a.mode,protocol:a.protocol,url:n.Protocolless_url.show(a.url),dateFrom:g[0],dateTo:l.some(g[1]),country:o},params:c,reportArgs:i}),(function(t){return s._1(e,{TAG:0,_0:t})}))}var vy={contents:gt()};function yy(e,t,r,a,o,i){s._1(e,3);var n=gt();return vy.contents=n,Ye.forEach(d.performResult(void 0,void 0,uy.request,{args:o,params:a,date:void 0}),(function(a){if(vy.contents===n){s._1(e,{TAG:1,_0:a}),s._1(i,a);var o=de.mapWithDefault(a,void 0,(function(e){var a=ce.map(r,(function(e){return e[0]}));return Ra.foldRows(t,(function(e,t){return Fa.getValue(a,e,t)}),(function(e,t,r,a,o,i,n){var l=ne.apiDateUtc(a);return s._1(t,Ur.set(e,l,me.mapWithDefault(Ur.get(e,l),1,(function(e){return 1+e|0}))))}),void 0,e.rows.rows)}));return s._1(e,{TAG:13,_0:o})}}))}function Dy(e){return Ye.forEach(Vl.getProjectsAndLocations(void 0),(function(t){return s._1(e,{TAG:6,_0:t})}))}function Sy(e,t,r){var a=ne.moment(void 0,$h.toMoment(t,r.date,void 0),"dateWithDashes");if("number"!=typeof e){switch(0|e.TAG){case 0:case 2:break;default:return}return me.map(Ur.get(e._0,a),(function(e){return{new_:e.new_,lost:e.lost,improved:e.improved,declined:e.declined}}))}}function Fy(e,t,r){var a=Bt.toMomentUtc(r),o=Sy(e,$h.fromMoment(a),Eh(a));return me.mapWithDefault(o,0,(function(e){return(((ce.has(t,0,Qr.equal)?e.new_:0)+(ce.has(t,2,Qr.equal)?e.improved:0)|0)+(ce.has(t,1,Qr.equal)?e.lost:0)|0)+(ce.has(t,3,Qr.equal)?e.declined:0)|0}))}var Cy=cv({footer:function(e,t,r){return z.createElement(gy,{data:e,settings:t,onChange:r})}}),wy=function(e){var t,r=e.filters,o=e.target,c=e.settings,u=e.onApplyFilters,g=e.onRemoteDataChanged,m=c.limits.isRankTrackerPresent,f=z.useContext(dd).canCreateKeywordList,p=qk(c.limits),_=r.calendarNavigation,h=$h.getPreviousMonth(_,2,void 0),k=z.useReducer(py,{calendarData:0,oldCalendarData:void 0,tableData:0,dateTotals:void 0,tableByDateData:void 0,remoteKeLists:0,remoteRtProjects:0,remoteLanguagesByCountry:0,keywordsSummaries:void 0}),v=k[1],y=k[0],D=ya.useMultipleExpandedRows(void 0,void 0),S=uo.useSingleton({overrides:["className"]}),F=S[1],C=ya.useSelectableRowsString(void 0),w=C[2],T=C[1],b=C[0],P=a.useStateValue(void 0),M=P[1],A=P[0],R=c.settings.keywordDataSource,E=me.getWithDefault(r.country,R?R._0:Qe),B=function(e,t,r,a){return d.performResult(void 0,!1,cy.request,{protocol:r.protocol,target:r.url,mode:r.mode,country:t,keyword:e,dateFrom:a,mainOnly:!1})},K=z.useMemo((function(){return me.map(Da.conjunct(ce.concatMany([dy.makeChFiltersAll(r),ce.filterMap({hd:dy.makeStatusFilter(r),tl:0},Ir.identity)])),Da.makeFilter)}),[i.stringifyQueryDict(dy.toQuery(void 0,void 0,r),void 0,void 0)]),q=r.calendarSelection.start,x=r.calendarSelection.end_,W=re.Moment.endOf("month",$h.toMoment(_,void 0,void 0)).utc(),N=re.Moment.startOf("month",$h.toMoment(h,void 0,void 0)).utc(),$=y.calendarData,I=0;if("number"==typeof $)t=[void 0,void 0];else switch(0|$.TAG){case 0:case 2:I=1;break;default:t=[void 0,void 0]}if(1===I){var G=$._0,Q=Kk(N,W);t=ge.reduce(Q,[void 0,void 0],(function(e,t){var a=e[1],o=e[0],i=Ur.get(G,t);if(void 0===i)return[o,a];var n=i.declined,s=i.improved,l=i.lost,d=i.new_,c=ce.has(r.changeType,0,Qr.equal),u=ce.has(r.changeType,2,Qr.equal),g=c?u?d+s|0:d:u?s:0,m=ce.has(r.changeType,1,Qr.equal),f=ce.has(r.changeType,3,Qr.equal),p=m?f?l+n|0:l:f?n:0;return[me.mapWithDefault(o,g,(function(e){return e>g?e:g})),me.mapWithDefault(a,p,(function(e){return e>p?e:p}))]}))}var j=t[1],Y=t[0],X=z.useMemo((function(){return function(e,t,r){var o=s._1(Yv.toString,6),i=s._1(ke.Message.to_s,{id:"5d9f4d005bba038194a47653acdc6217",defaultMessage:"Change"}),d={TAG:0,_0:mo.topPageTrafficChange},c=s._1(Yv.toString,7),u=s._1(ke.Message.to_s,{id:"503120a12c22a7865fd9c6d66e390abe",defaultMessage:"Position"}),g={TAG:0,_0:mo.position},m=s._1(Yv.toString,8),f=s._1(ke.Message.to_s,{id:"a3e42224f06303e830d1bd0c6e1d30f2",defaultMessage:"Change"}),p={TAG:0,_0:mo.positionChange},_={hd:{TAG:0,_0:{NAME:"px",VAL:200}},tl:0},h={hd:{TAG:0,_0:{NAME:"percent",VAL:60}},tl:0},k=l.some(n_),v=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"}),y={TAG:0,_0:mo.url};return{hd:tn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.keyword)),me.getWithDefault(e.country,Qe),s._1(Yv.toString,0),2,{hd:{TAG:0,_0:{NAME:"percent",VAL:40}},tl:0},{hd:{TAG:0,_0:{NAME:"px",VAL:150}},tl:0},Aa.getTerms(e.keyword.rules)),tl:{hd:Ca.makeSfColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.serp_features)),t,s._1(Yv.toString,1),void 0),tl:{hd:Ca.makeVolumeColumn(s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.volume),s._1(Yv.toString,2),void 0,void 0),tl:{hd:Ca.makeDifficultyColumn(s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.difficulty),s._1(Yv.toString,3),void 0),tl:{hd:Ca.makeCpcColumn(s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.cpc),s._1(Yv.toString,4),void 0),tl:{hd:Ca.makeTrafficColumn(s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.traffic),s._1(Yv.toString,5),void 0,void 0),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r,o){return z.useMemo((function(){var e,i,n=ie.to_int32(t),d=0;if(0!==n)if(void 0!==r&&void 0!==o){var c={value:a.s(ae.Int.full(ie.to_int32(r))),date:a.s(ne.dateUtc(void 0,l.valFromOption(o),"dayShortMonthYear"))};e=z.createElement(ut.make,{content:z.createElement(pt.make,{color:"primary",fontSize:"sm",children:s._2(ke.Message.format_to_s,{id:"54ae0943bd89ca1ef946abf7945f2c85",defaultMessage:"Previous: {value} ({date})"},c)}),children:z.createElement(_a.Int.make,_a.Int.makeProps(void 0,n,void 0,"md",void 0,void 0))})}else i=n,d=1;else e=null;return 1===d&&(e=z.createElement(_a.Int.make,_a.Int.makeProps(void 0,i,void 0,"md",void 0,void 0))),z.createElement(va.Td.make,{align:"right",children:e})}),[ie.to_int32(t),me.map(r,ie.to_int32),o])}),{renderHeader:function(e,t,r,a,n,s,l,c){return an(d,void 0,i,void 0,o,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,l,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.Diff.get,ft.Se_shared.PositionsMovements.Diff.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.PreviousPosition.get,ft.Se_shared.PositionsMovements.PreviousPosition.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.PreviousPosition.get,ft.Se_shared.PositionsMovements.PreviousPosition.last_update)),0)))),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r){return z.useMemo((function(){var e=me.map(t,ie.to_int32),o=me.map(r,ie.to_int32),i=z.createElement("div",{className:Wp},z.createElement(Xe.TextArrow.make,s.app(Xe.TextArrow.makeProps,[void 0,void 0,0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]))),n=z.createElement("div",{className:Wp},z.createElement(Xe.Cross.make,s.app(Xe.Cross.makeProps,[void 0,void 0,0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])));return z.createElement(va.Td.make,{align:"right",children:z.createElement(Je.make,{gap:"px2",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"px",VAL:8},tl:{hd:{NAME:"fr",VAL:1},tl:0}}},align:"baseline",children:void 0!==e?void 0!==o?e===o?z.createElement(z.Fragment,void 0,z.createElement("div",void 0,a.s(Gt.nbsp)),z.createElement("div",void 0,a.s(Gt.nbsp)),z.createElement(pt.make,{align:"center",children:a.s(ae.Int.full(e))})):z.createElement(z.Fragment,void 0,z.createElement(pt.make,{color:"secondary",align:"center",children:a.s(ae.Int.full(o))}),i,z.createElement(pt.make,{align:"center",children:a.s(ae.Int.full(e))})):z.createElement(z.Fragment,void 0,n,i,z.createElement(pt.make,{align:"center",children:a.s(ae.Int.full(e))})):void 0!==o?z.createElement(z.Fragment,void 0,z.createElement(pt.make,{color:"secondary",align:"center",children:a.s(ae.Int.full(o))}),i,n):fo.failwith("no position available")})})}),[me.map(t,ie.to_int32),me.map(r,ie.to_int32)])}),{renderHeader:function(e,t,r,a,o,i,n,s){return an(g,void 0,u,void 0,c,"Asc","right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.CurrentPosition.get,ft.Se_shared.PositionsMovements.CurrentPosition.position)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.PreviousPosition.get,ft.Se_shared.PositionsMovements.PreviousPosition.position)),0))),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r,o,i){return z.useMemo((function(){var e;if(void 0!==t)if(void 0!==r)if(ie.eq(t,r))e=null;else if(void 0!==i){var n={date:a.s(ne.dateUtc(void 0,l.valFromOption(i),"dayShortMonthYear"))};e=z.createElement(ut.make,{content:z.createElement(pt.make,{color:"primary",fontSize:"sm",children:s._2(ke.Message.format_to_s,{id:"9c321321c9d91d5bdfc079f2c6a683dd",defaultMessage:"Compared to {date}"},n)}),children:z.createElement(_a.Int.make,_a.Int.makeProps(void 0,Math.imul(ie.to_int32(o),-1),"Triangle","md",void 0,void 0))})}else e=fo.failwith("'prev position' is present, but no 'update date'");else e=z.createElement(Rp.make,{fontSize:"md",value:"New"});else e=void 0!==r?z.createElement(Rp.make,{fontSize:"md",value:"Lost"}):fo.failwith("no position available");return z.createElement(va.Td.make,{align:"right",children:z.createElement(ct.make,{align:"right",children:e})})}),[me.map(t,ie.to_int32),me.map(r,ie.to_int32),ie.to_int32(o),i])}),{renderHeader:function(e,t,r,a,o,i,n,s){return an(p,void 0,f,void 0,m,"Asc","right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.CurrentPosition.get,ft.Se_shared.PositionsMovements.CurrentPosition.position)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.PreviousPosition.get,ft.Se_shared.PositionsMovements.PreviousPosition.position)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.Diff.get,ft.Se_shared.PositionsMovements.Diff.position)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.PreviousPosition.get,ft.Se_shared.PositionsMovements.PreviousPosition.last_update)),0))))),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i,s,l,d){var c=Aa.getTerms(e.url.rules);return z.useMemo((function(){return z.createElement(va.Td.make,{nowrap:!1,children:z.createElement(Je.make,{gap:"px4",layout:{hd:{NAME:"px",VAL:14},tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},"Organic"!==i?z.createElement(_d.make,{value:i,color:_e.Color.$$Text.link,tooltipTarget:t}):z.createElement("span",void 0,a.s(Gt.nbsp)),z.createElement(vd,{hasThumbnail:s,hasVideo:l,displayLink:o,tkLinkContextInputString:d,tooltipTarget:t,country:me.getWithDefault(e.country,Qe),urlTerms:c}))})}),[n.Url.show(o),i,s,l,Aa.toKey(c),me.getWithDefault(e.country,Qe).code])}),{renderHeader:function(e,t,r,a,o,i,n,s){return an(y,void 0,v,void 0,void 0,void 0,void 0,void 0,void 0,void 0,k,void 0,h,_,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.has_thumbnail)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.has_video)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.tkLinkContext_input)),0)))))),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,a,o,i){var l=n.Url.show(o),d=Hv(t,a,l,i),c=Ur.get(r.map,d),u=void 0!==c&&"string"!=typeof c&&"PositionHistory"===c.NAME;return z.useMemo((function(){return z.createElement(va.Td.make,{contentHeight:"button",paddingRight:"none",children:z.createElement(Oi.make,{size:"sm",active:u,onClick:function(e){return s._2(r.setRow,d,u?void 0:{NAME:"PositionHistory",VAL:t})},children:z.createElement(Xe.ChartLine.make,Xe.ChartLine.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))})})}),[t,r.hash,l,u])}),{renderHeader:function(e,t,r,a,o,i,n,s){return an(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.keyword)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.$$Date.get,ft.Se_shared.PositionsMovements.$$Date.date)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.kind)),0))))),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,o,i,l,d,c){var u=n.Url.show(d),g=Hv(t,o,u,c),m=function(e,t){var r=Ur.get(e.map,t);return void 0!==r&&"string"!=typeof r&&"Serp"===r.NAME};return z.useMemo((function(){var e=m(r,g);return z.createElement(va.Td.make,{contentHeight:"button",paddingRight:"none",children:z.createElement(Oi.make,{size:"sm",active:e,onClick:function(a){return s._2(r.setRow,g,e?void 0:{NAME:"Serp",VAL:[t,i,l,!1]})},children:a.s("SERP")})})}),[g,i,r.hash,u,m])}),{renderHeader:function(e,t,r,a,o,i,n,s){return an(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"none",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.keyword)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.$$Date.get,ft.Se_shared.PositionsMovements.$$Date.date)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.last_update)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.language)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.kind)),0))))))),tl:0}}}}}}}}}}}}}(r,F,D)}),[i.stringifyQueryDict(dy.toQuery(dy.table,void 0,r),void 0,void 0),F,D.hash]),Z=s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.$$Date.get,ft.Se_shared.PositionsMovements.$$Date.date)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.keyword)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.PositionsMovements.MergedPosition.get,ft.Se_shared.PositionsMovements.MergedPosition.kind)),0)))),ee=s._1(Ra.FieldsRequestDescr.toRequest,s._3(Ra.FieldsRequestDescr.customRow,X,(function(e,t,r,a,o){return null}),Z));z.useEffect((function(){m&&(Ye.forEach(Ql.Lists.$$fetch(void 0),(function(e){return s._1(v,{TAG:5,_0:e})})),Dy(v))}),[m]),z.useEffect((function(){m&&!0===E.ke&&Ye.forEach(Vl.getLanguagesByCountry(E),(function(e){return s._1(v,{TAG:7,_0:e})}))}),[i.stringifyQueryDict(dy.toQuery({hd:5,tl:0},void 0,r),void 0,void 0),m]),z.useEffect((function(){de.forEach(y.tableData,(function(e){var t=ce.map(ee,(function(e){return e[0]})),r=Ra.foldRows(Z,(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i,n){return s._1(t,{hd:o,tl:e})}),0,e.rows.rows);return function(e,t){s._1(e,4);var r=gt();return _y.contents=r,Ye.forEach(U(t),(function(t){if(_y.contents===r)return s._1(e,{TAG:8,_0:t})}))}(v,r)}))}),[y.tableData]);var oe=function(e,t,r,a){return{mode:e.mode,protocol:e.protocol,url:n.Protocolless_url.show(e.url),dateFrom:Bt.toJs(t),dateTo:l.some(Bt.toJs(r)),country:me.getWithDefault(a,Qe)}}(o,q,x,E),le=hy(Bk(q,x),0,r.sort.name,r.sort.direction,ee,K),ue=z.useMemo((function(){return function(e,t){var a=Fy(y.calendarData,r.changeType,t),o=me.getWithDefault(Ur.get(y.dateTotals,ne.apiDateUtc(t)),0),i=a-o|0;return i<=0&&!e?null:z.createElement("tr",void 0,z.createElement("td",{className:ra.$plus$plus$plus(lv,ea.ifTrue(sv,e)),colSpan:99},z.createElement(Gl,{data:me.getWithDefault(Ur.get(y.tableByDateData,ne.apiDateUtc(t)),{TAG:2,_0:void 0}),settings:c,offset:o,remainingCount:i,showTopBorder:!1,vGap:1,onMoreDataRequested:function(e,a,o){return function(e,t,r,a,o,i){s._1(e,{TAG:2,_0:r});var n=function(e,o){var i=ce.toArray(e),n=ce.map(a,(function(e){return e[0]}));return ce.reverse(Ra.foldRows(t,(function(e,t){return Fa.getValue(n,e,t)}),(function(e,t,a,n,l,d,c){var u=e[1],g=e[0],m=a===(i.length-1|0),f=Bt.toMomentUtc(n).isBefore(Bt.toMomentUtc(r)),p=ge.get(i,a);return void 0!==p?f&&!g?s._1(t,[!0,ce.concatMany([{hd:p,tl:0},o,u])]):m&&!g?s._1(t,[!0,ce.concat(o,{hd:p,tl:u})]):s._1(t,[g,{hd:p,tl:u}]):s._1(t,[g,u])}),[!1,0],e)[1])};return Ye.forEach(d.performResult(void 0,void 0,uy.request,{args:o,params:i,date:l.some(r)}),(function(t){if("number"!=typeof t)switch(0|t.TAG){case 1:return s._1(e,{TAG:3,_0:r,_1:t});case 2:return s._1(e,{TAG:4,_0:r,_1:t._0,_2:n});default:return}}))}(v,Z,t,ee,oe,hy(e,a,r.sort.name,r.sort.direction,ee,K))}})))}}),[y.calendarData,y.dateTotals,y.tableByDateData]),fe=de.mapLoadingWithDefault(y.tableData,0,(function(e){return ce.length(e.rows.rows)})),pe=s._3(Ra.FieldsRequestDescr.customRow,X,(function(e,t,i,d,u){var g=n.Url.show(d),p=Ur.has(b,i),_=ce.filterMap({hd:Ur.get(y.keywordsSummaries,i),tl:0},(function(e){if(void 0!==e&&(e.inRtProjects||ce.length(e.keywordsLists)>0))return e})),h=Hv(i,t,g,u),k={contents:void 0},S=y.tableData,F=0;if("number"!=typeof S)switch(0|S.TAG){case 0:case 2:F=1}1===F&&me.forEach(ce.get(S._0.rows.rows,e.index-1|0),(function(t){var r=ce.map(ee,(function(e){return e[0]}));Ra.renderRowField(s._3(Ra.FieldsRequestDescr.customRow,void 0,(function(e,t,r,a,o){return k.contents=l.some(t),null}),Z),{getValue:function(e){return Fa.getValue(r,t,e)},tableRootRef:e.tableRootRef,index:e.index-1|0})}));var C,w,P=k.contents,R=!(void 0!==P&&!mt.caml_notequal(l.valFromOption(P),t));if(R&&0!==e.index){var W=k.contents;C=s._2(ue,!1,Bt.subtractDaysDateUtc(t,void 0!==W?0|Bt.toMomentUtc(t).diff(Bt.toMomentUtc(l.valFromOption(W)),"days"):0))}else C=null;if(m){var U=function(e){return s._1(M,h)};w=z.createElement(va.Td.make,{paddingLeft:"none",width:{hd:{TAG:0,_0:{NAME:"px",VAL:26}},tl:0},minWidth:{hd:{TAG:0,_0:{NAME:"px",VAL:26}},tl:0},children:z.createElement("div",{className:Pc},_?z.createElement(_o.make,{onClick:U,children:z.createElement(Xe.Check.make,Xe.Check.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}):z.createElement(_o.make,{onClick:U,children:z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}))})}else w=z.createElement(va.Td.make,{paddingLeft:"none",paddingRight:"none",children:null});var N,$=Ur.get(D.map,h);if(void 0!==$&&"string"!=typeof $&&"Serp"===$.NAME){var I=$.VAL,G=I[2],Q=I[1],j=I[0];N=z.createElement(id,{settings:c,keyword:j,country:E,target:o,lastUpdate:Q,language:G,isOnlyTarget:I[3],onIsOnlyTargetChanged:function(e){return s._2(D.setRow,h,{NAME:"Serp",VAL:[j,Q,G,e]})},onClose:function(e){return s._2(D.setRow,h,void 0)}})}else N=null;var H=Ur.get(D.map,h),Y=Ur.get(D.map,h),re=Ur.get(D.map,h);return z.createElement(z.Fragment,void 0,z.createElement("div",{className:bc},m?z.createElement(nd.make,nd.makeProps(void 0!==A&&A===h,c.limits.batchKeywords,{hd:i,tl:0},_,2,void 0,E,c.isUpgradable,c.limits.lists,y.remoteKeLists,y.remoteRtProjects,y.remoteLanguagesByCountry,f,(function(e){return s._1(M,e?h:void 0)}),(function(e,t,r){return s._1(v,{TAG:9,_0:e,_1:t,_2:r})}),(function(e,t,r){return s._1(v,{TAG:10,_0:e,_1:t,_2:r})}),(function(e){return s._1(v,{TAG:12,_0:e}),Dy(v)}),void 0,(function(e,t,r,a){return s._1(v,{TAG:11,_0:t,_1:r,_2:a})}),void 0,void 0,void 0)):null),C,R?z.createElement("tr",void 0,z.createElement("td",{colSpan:99},z.createElement("div",{className:dv(0===e.index)},z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(gi.make,{children:a.s(ne.dateUtc(void 0,t,"dayShortMonthYear"))}),Bt.isSameDate(q,x)?null:z.createElement(bt,{exportFunc:function(e,a){var i=["Desc",s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.$$Date.get,ft.Se_shared.PositionsMovements.$$Date.date))],d=ry.toFieldName(r.sort.name);return L(e,s._3(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-calendar-positions-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}},_1:"%s-calendar-positions-%s-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode),se.code(E)),void 0,fy.request,{args:{mode:o.mode,protocol:o.protocol,url:n.Protocolless_url.show(o.url),dateFrom:Bt.toJs(q),dateTo:l.some(Bt.toJs(x)),country:E},params:{filter:K,size:a,offset:0,order_by:d?ce.add(ce.map(d,(function(e){return[r.sort.direction,e]})),i):{hd:i,tl:0},shape:void 0,timeout:void 0},date:l.some(t)})},isTrial:c.subscription.isTrial,limitResetDate:c.subscription.dateResetUsagesMonthly,totalResults:Fy(y.calendarData,r.changeType,t),target:o,limitsFunc:O,color:"ghost"}))))):null,z.createElement(te.Row.make,{columns:X,parentData:e,isSelected:p,onSelect:function(e){return s._2(T,[i],!p)},children:w}),z.createElement(Eo.make,{children:N,tableRootRef:e.tableRootRef,hash:D.hash,isOpen:void 0!==H&&"string"!=typeof H&&"Serp"===H.NAME,onDimensionsChange:D.renewHash}),z.createElement(Eo.make,{children:void 0!==Y&&"string"!=typeof Y&&"PositionHistory"===Y.NAME?z.createElement(Gv.make,{keyword:Y.VAL,country:E,target:Ve.Safe.toUnsafe(o),historicalPermissions:c.chartHistoricalPermissions,isUpgradable:c.isUpgradable,dateResetUsagesMonthly:c.subscription.dateResetUsagesMonthly,dateResetUsagesWeekly:c.subscription.dateResetUsagesWeekly,onPositionsHistoryFetch:B,onCompetitorPositionsHistoryFetch:B,onClose:function(e){return s._2(D.setRow,h,void 0)}}):null,tableRootRef:e.tableRootRef,hash:D.hash,isOpen:void 0!==re&&"string"!=typeof re&&"PositionHistory"===re.NAME,onDimensionsChange:D.renewHash}),e.index===(fe-1|0)?s._2(ue,!0,t):null)}),Z);z.useEffect((function(){s._1(v,2)}),[i.stringifyQueryDict(dy.toQuery(dy.calendar,void 0,r),void 0,void 0),o]),z.useEffect((function(){s._1(D.closeAll,void 0),s._1(w,void 0),yy(v,Z,ee,le,oe,g)}),[o,i.stringifyQueryDict(dy.toQuery(dy.table,void 0,r),void 0,void 0),ne.moment(void 0,q,"dateWithDashes"),ne.moment(void 0,x,"dateWithDashes")]);var he=function(e){var t=$h.fromMoment(N),r=$h.fromMoment(W);s._1(v,0),ky(v,t,r,o,E,oe,le,c.reportHistoricalPermissions);var a=$h.fromMoment(q),i=$h.fromMoment(x);if($h.isBefore(a,t)||$h.isAfter(a,r)||$h.isBefore(i,t)||$h.isAfter(i,r))return ky(v,a,i,o,E,oe,le,c.reportHistoricalPermissions)};z.useEffect((function(){he()}),[i.stringifyQueryDict(dy.toQuery(dy.calendar,void 0,r),void 0,void 0),Ve.Safe.toKey(o)]),z.useEffect((function(){var e=$h.fromMoment(N),t=$h.fromMoment(W),r=$h.fromMoment(q),a=$h.fromMoment(x),i=y.calendarData,n=0;if("number"!=typeof i)switch(0|i.TAG){case 0:case 2:n=1}if(1===n){var l=i._0,d=xk(l,e,t),u=xk(l,r,a);ce.forEach({hd:d,tl:{hd:u,tl:0}},(function(e){return me.forEach(e,(function(e){return s._1(v,1),ky(v,e[0],e[1],o,E,oe,le,c.reportHistoricalPermissions)}))}))}}),[i.stringifyQueryDict(dy.toQuery(dy.calendarNavigation,void 0,r),void 0,void 0)]);var ve,ye=z.useCallback((function(e){return s._1(D.closeAll,void 0),s._1(w,void 0),yy(v,Z,ee,le,oe,g)}),[]),De=function(e,t,r,a){var o=function(e,t,r){var a=Kk(t,r);if("number"!=typeof e){switch(0|e.TAG){case 0:case 2:break;default:return}var o=e._0;return ge.reduce(a,{new_:0,lost:0,improved:0,declined:0},(function(e,t){return me.mapWithDefault(Ur.get(o,t),e,(function(t){return{new_:e.new_+t.new_|0,lost:e.lost+t.lost|0,improved:e.improved+t.improved|0,declined:e.declined+t.declined|0}}))}))}}(e,r,a);return me.mapWithDefault(o,0,(function(e){return(((ce.has(t,0,Qr.equal)?e.new_:0)+(ce.has(t,2,Qr.equal)?e.improved:0)|0)+(ce.has(t,1,Qr.equal)?e.lost:0)|0)+(ce.has(t,3,Qr.equal)?e.declined:0)|0}))}(y.calendarData,r.changeType,q,x),Se=z.useMemo((function(){return de.mapWithDefault(y.tableData,0,(function(e){return e.rows.rows}))}),[y.tableData]),Fe=z.useMemo((function(){var e=ce.map(ee,(function(e){return e[0]}));return Ra.foldRows(Z,(function(t,r){return Fa.getValue(e,t,r)}),(function(e,t,r,a,o,i,n){var l=e[1],d=e[0];return s._1(t,Ur.has(b,o)?[{hd:o,tl:d},Bo.set(l,r,!0)]:[d,l])}),[0,void 0],Se)}),[Se,b]),Ce=Fe[0],we=z.createElement(Ju,{remoteData:y.tableData,getter:function(e){return De},message:{id:"3269935c0d9e68db09bf5b92b1885bb7",defaultMessage:"{totalStr} {total, plural, zero {position changes} one {position change} other {position changes}}"}});if(Ce){var Te={selected:ae.Int.full(ce.length(Ce))};ve=z.createElement(z.Fragment,void 0,z.createElement("div",{className:rv},z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"ab216f638df44cb883cd780cb847cb36",defaultMessage:"{selected} selected"},Te)})),m?z.createElement(nd.Controlled.make,{batchKeywords:c.limits.batchKeywords,keywords:Ce,keywordsSummaries:ce.reduce(Ce,0,(function(e,t){var r=Ur.get(y.keywordsSummaries,t);return void 0!==r?{hd:r,tl:e}:e})),country:E,isUpgradablePlan:c.isUpgradable,listsLimit:c.limits.lists,remoteKeLists:y.remoteKeLists,remoteRtLists:y.remoteRtProjects,remoteRtLanguagesByCountry:y.remoteLanguagesByCountry,canCreateKeywordList:f,onKeKeywordsAdded:function(e,t,r){return s._1(v,{TAG:9,_0:e,_1:t,_2:r})},onKeKeywordsRemoved:function(e,t,r){return s._1(v,{TAG:10,_0:e,_1:t,_2:r})},onRtKeywordsAdded:function(e){return s._1(v,{TAG:12,_0:e}),Dy(v)},onKeListCreated:function(e,t,r,a){return s._1(v,{TAG:11,_0:t,_1:r,_2:a})}}):null,z.createElement(sd.Button.make,{value:ce.joinWithNewLine(ce.reverse(Ce)),label:s._1(ke.Message.to_s,{id:"92005275389b58285f79fb62a0204001",defaultMessage:"Copy"}),color:"outline"}))}else ve=z.createElement(z.Fragment,void 0,z.createElement("div",{className:rv},we),1!==p?null:z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(jv,{data:r.changeType,onChange:function(e){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:e,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})}}),z.createElement(pv,{data:r.calendarSelection,showUpgradeMessage:!0,items:fv(c.reportHistoricalPermissions),historicalPermissions:c.reportHistoricalPermissions,onChange:function(e){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:{start:e[0],end_:e[1]},changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})}})),z.createElement("div",{className:iv},z.createElement(bt,{exportFunc:function(e,t){var a=["Desc",s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.PositionsMovements.$$Date.get,ft.Se_shared.PositionsMovements.$$Date.date))],i=ry.toFieldName(r.sort.name);return L(e,s._3(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-calendar-positions-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}},_1:"%s-calendar-positions-%s-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode),se.code(E)),void 0,fy.request,{args:{mode:o.mode,protocol:o.protocol,url:n.Protocolless_url.show(o.url),dateFrom:Bt.toJs(q),dateTo:l.some(Bt.toJs(x)),country:E},params:{filter:K,size:t,offset:0,order_by:i?ce.add(ce.map(i,(function(e){return[r.sort.direction,e]})),a):{hd:a,tl:0},shape:void 0,timeout:void 0},date:void 0})},isTrial:c.subscription.isTrial,limitResetDate:c.subscription.dateResetUsagesMonthly,totalResults:De,target:o,limitsFunc:O})));var be,Pe=z.createElement("div",{className:ov},ve);if(0!==p)be=z.createElement(Iv,{});else{var Me=r.changeType,Ae=y.calendarData,Re=he;be=z.createElement(Cy.make,{filterData:{changeType:r.changeType,calendarSelection:r.calendarSelection},settings:c,selectedDates:[r.calendarSelection.start,r.calendarSelection.end_],startMonth:r.calendarNavigation,remoteData:y.calendarData,renderDay:function(e){return function(e,t,r,a,o,i){if("number"==typeof i)return z.createElement(Mk,{state:i});var n=Sy(e,i._0,i._1),s=ce.has(t,0,Qr.equal),l=ce.has(t,2,Qr.equal),d=s?l?me.map(n,(function(e){return e.new_+e.improved|0})):me.map(n,(function(e){return e.new_})):l?me.map(n,(function(e){return e.improved})):void 0,c=ce.has(t,1,Qr.equal),u=ce.has(t,3,Qr.equal),g=c?u?me.map(n,(function(e){return e.lost+e.declined|0})):me.map(n,(function(e){return e.lost})):u?me.map(n,(function(e){return e.declined})):void 0;return z.createElement(Mk,{state:i,maxNewCount:r,maxLostCount:a,newCount:d,lostCount:g})}(Ae,Me,Y,j,0,e)},renderError:function(e){return Rk(Re,0,e)},onNext:function(e){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:$h.getNextMonth(r.calendarNavigation,void 0,void 0),calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},onPrevious:function(e){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:$h.getPreviousMonth(r.calendarNavigation,void 0,void 0),calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},onSelectionChange:function(e,t){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:{start:e,end_:t},changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},onFilterChange:function(e){return s._1(u,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:e.calendarSelection,changeType:e.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})}})}return z.createElement(z.Fragment,void 0,z.createElement(ct.make,{children:null},be,z.createElement(te.Table.make,{row:pe,data:de.mapWithDefault(y.tableData,0,(function(e){return e.rows.rows})),hasAppliedFilters:!s._2(dy.TopLevel.equal,r,dy.getDefault(void 0)),header:Pe,isLoading:de.isLoading(y.tableData),failureState:te.Table.getFailureState(y.tableData),renderError:Be(y.tableData,ye,c.isUpgradable),tooltipTarget:F,totalRowsNumber:De,rowsSelectionConfig:[Fe[1],function(e,t){if(!t)return s._1(w,void 0);var r=ce.map(ee,(function(e){return e[0]})),a=ce.toArray(Ra.foldRows(Z,(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,n){return s._1(t,{hd:o,tl:e})}),0,Se));return s._2(T,a,t)},w],customFooter:0,pagination:r.pagination,sortDirection:r.sort.direction,sort:s._1(ry.Name.toString,r.sort.name),onSort:function(e,t,a){return s._1(u,{sort:{name:me.getWithDefault(s._1(ry.Name.ofString,e),s._1(ry.Name.getDefault,void 0)),direction:t},pagination:a,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},onRefetch:ye,onClearFilters:function(e){var t=dy.getDefault(void 0);return s._1(u,{sort:r.sort,pagination:t.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:t.country,positions:t.positions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,serp:t.serp,words:t.words,keyword:t.keyword,url:t.url})}})),z.createElement(ut.make,{singleton:S[0]}))},Ty=r(94084),by=[0,1,2,3,4,5,6,7];function Py(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"2922f231d13ebc40c7ee0913b985a6e9",defaultMessage:"Position"});case 1:return s._1(ke.Message.to_s,{id:"e35d1596f2eecba8004e0589cd9a484e",defaultMessage:"Volume"});case 2:return s._1(ke.Message.to_s,{id:"f63f2cd95bd1c765c0517dc19fc50cfb",defaultMessage:"KD"});case 3:return s._1(ke.Message.to_s,{id:"15abccc61b619875f773b1ca64651d0a",defaultMessage:"CPC"});case 4:return s._1(ke.Message.to_s,{id:"4fc5ddf0ebbea09dbc8bf7c27540ea80",defaultMessage:"Traffic from keyword"});case 5:return s._1(ke.Message.to_s,{id:"c6dc3db67c0bcb4295f1621626f01d63",defaultMessage:"SERP features"});case 6:return s._1(ke.Message.to_s,{id:"f7dec7436f53b91413df86f8787aca9f",defaultMessage:"Words in keyword"});case 7:return s._1(ke.Message.to_s,{id:"cf185135872a72c1290e5f1ba5112940",defaultMessage:"Keyword"})}}var My=ce.fromArray(by),Ay=Pl.Make({all:My});function Ry(e){var t=e.historicalPermissions,r=e.filters,a=e.onFiltersChange;return z.createElement(Ay.make,{label:z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"c585d36482a6bfce90d2c4a6a0139f10",defaultMessage:"Keyword filters"})),dropdownItems:ce.map(ce.fromArray(by),(function(e){return Pl.makeDropdownItem(Py(e),e,void 0,void 0,void 0)})),isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(r.positions,s._1(pd.Positions.Filter.getDefault,void 0));case 1:return mt.caml_notequal(r.volume,s._1(pa.Volume.Filter.getDefault,void 0));case 2:return mt.caml_notequal(r.kd,s._1(pa.KD.Filter.getDefault,void 0));case 3:return mt.caml_notequal(r.cpc,s._1(pa.CPC.Filter.getDefault,void 0));case 4:return mt.caml_notequal(r.orgKeywordTraffic,s._1(pa.OrgKeywordTraffic.Filter.getDefault,void 0));case 5:return mt.caml_notequal(r.serp,ka.Filter.getDefault(void 0));case 6:return mt.caml_notequal(r.words,s._1(pa.Words.Filter.getDefault,void 0));case 7:return mt.caml_notequal(r.keyword,s._1(fa.Keyword.Filter.getDefault,void 0))}},render:function(e,o,i,n){var l=function(t){return s._1(n,e)},d=Py(e);switch(e){case 0:return z.createElement(Ty.make,{label:d,historicalPermissions:t,data:r.positions,onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:e,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},autoOpen:o,onHidden:l,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:e,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},hideChanges:!0});case 1:return z.createElement(pa.Volume.make,{value:r.volume,label:d,autoOpen:o,onHidden:l,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:tv.getDefault(void 0).volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:e,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})}});case 2:return z.createElement(pa.KD.make,{value:r.kd,label:d,autoOpen:o,onHidden:l,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:tv.getDefault(void 0).kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:e,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})}});case 3:return z.createElement(pa.CPC.make,{value:r.cpc,label:d,autoOpen:o,onHidden:l,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:tv.getDefault(void 0).cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:e,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})}});case 4:return z.createElement(pa.OrgKeywordTraffic.make,{value:r.orgKeywordTraffic,label:d,autoOpen:o,onHidden:l,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:tv.getDefault(void 0).orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:e,serp:r.serp,words:r.words,keyword:r.keyword})}});case 5:return z.createElement(go.make,{autoOpen:o,label:d,value:r.serp,onHidden:l,onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:e,words:r.words,keyword:r.keyword})},onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:tv.getDefault(void 0).serp,words:r.words,keyword:r.keyword})}});case 6:return z.createElement(pa.Words.make,{value:r.words,label:d,autoOpen:o,onHidden:l,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:tv.getDefault(void 0).words,keyword:r.keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:e,keyword:r.keyword})}});case 7:return z.createElement(fa.Keyword.make,{value:r.keyword,autoOpen:o,label:d,onHidden:l,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:tv.getDefault(void 0).keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:e})}})}}})}var Ly=function(e){var t=e.settings,r=e.filters,a=e.onFiltersChange;return z.createElement(z.Fragment,void 0,z.createElement(Pa.make,{data:r.volumeMode,onSelect:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:e,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})}}),z.createElement(Qo.WithAll.make,{selectedItem:r.country,onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:e,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},scope:2,showFlagInControl:!0}),z.createElement(fa.$$URL.make,{value:r.url,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:tv.getDefault(void 0).url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:e,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})}}),z.createElement(pa.OrgPageTraffic.make,{value:r.orgPageTraffic,label:s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:tv.getDefault(void 0).orgPageTraffic,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:e,orgValue:r.orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})}}),z.createElement(pa.OrgValue.make,{value:r.orgValue,label:s._1(ke.Message.to_s,{id:"12f48e41f2cef57ff5aa9db7ef545742",defaultMessage:"Value"}),onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:tv.getDefault(void 0).orgValue,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:e,orgKeywords:r.orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})}}),z.createElement(pa.OrgKeywords.make,{value:r.orgKeywords,label:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"}),onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:tv.getDefault(void 0).orgKeywords,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,volumeMode:r.volumeMode,country:r.country,url:r.url,orgPageTraffic:r.orgPageTraffic,orgValue:r.orgValue,orgKeywords:e,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword})}}),z.createElement(Ry,{historicalPermissions:t.reportHistoricalPermissions,filters:r,onFiltersChange:a}))},Ey=function(e){var t=e.settings,r=e.filters,a=e.onFiltersChange,o={scope:2,showFlagInControl:!0,onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:e,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})}};return void 0!==r.country&&(o.selectedItem=l.valFromOption(r.country)),z.createElement(z.Fragment,void 0,z.createElement(Qo.make,o),z.createElement(Ty.make,{historicalPermissions:t.reportHistoricalPermissions,data:r.positions,onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:e,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:e,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},hideChanges:!0}),z.createElement(pa.Volume.make,{value:r.volume,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:dy.getDefault(void 0).volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:e,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})}}),z.createElement(pa.KD.make,{value:r.kd,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:dy.getDefault(void 0).kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:e,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})}}),z.createElement(pa.CPC.make,{value:r.cpc,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:dy.getDefault(void 0).cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:e,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})}}),z.createElement(pa.OrgKeywordTraffic.make,{value:r.orgKeywordTraffic,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:dy.getDefault(void 0).orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:e,serp:r.serp,words:r.words,keyword:r.keyword,url:r.url})}}),z.createElement(go.make,{value:r.serp,onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:e,words:r.words,keyword:r.keyword,url:r.url})},onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:dy.getDefault(void 0).serp,words:r.words,keyword:r.keyword,url:r.url})}}),z.createElement(pa.Words.make,{value:r.words,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:dy.getDefault(void 0).words,keyword:r.keyword,url:r.url})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:e,keyword:r.keyword,url:r.url})}}),z.createElement(fa.Keyword.make,{value:r.keyword,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:dy.getDefault(void 0).keyword,url:r.url})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:e,url:r.url})}}),z.createElement(fa.$$URL.make,{value:r.url,onClear:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:dy.getDefault(void 0).url})},onApply:function(e){return s._1(a,{sort:r.sort,pagination:r.pagination,calendarNavigation:r.calendarNavigation,calendarSelection:r.calendarSelection,changeType:r.changeType,country:r.country,positions:r.positions,volume:r.volume,kd:r.kd,cpc:r.cpc,orgKeywordTraffic:r.orgKeywordTraffic,serp:r.serp,words:r.words,keyword:r.keyword,url:e})}}))};function By(e,t){if("number"==typeof t){if(0===t)return{data:0,oldData:0,error:e.error,offset:0,sort:e.sort,sortDirection:e.sortDirection,rowMap:e.rowMap};var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:e.rowMap}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,sort:t._0,sortDirection:t._1,rowMap:e.rowMap};var o,i,n=t._0;if("number"!=typeof n)switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows)})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1}}return{data:e.data,oldData:e.oldData,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1}}var Ky=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.rootDomain,o=e.rootDomainHash,d=e.target,c=e.chFilters,u=e.historyFilter,g=e.filters,m=e.grouping,f=e.settings,p=e.expandedRows,_=e.count,h=z.useReducer(By,{data:0,oldData:0,error:void 0,offset:0,sort:7,sortDirection:"Desc",rowMap:Xg(void 0)}),k=h[1],v=h[0],y=v.rowMap,D=me.isSome(Ur.get(p.map,dt.to_string(o))),S=ie.to_int32(_),F=mt.caml_obj_dup(g);F.sort={name:v.sort,direction:v.sortDirection};var C=Aa.getTerms(F.referringPageTitle.rules),w=Aa.getTerms(F.referringPageUrl.rules),T=Aa.getTerms(F.anchorWithSurroundingText.rules),b=Aa.getTerms(F.anchor.rules),P=Aa.getTerms(F.targetUrl.rules),M=z.useMemo((function(){return me.map(Da.conjunctOpt({hd:Da.conjunct(ce.flatMap(c,(function(e){return ce.filterMap(e,(function(e){return e}))}))),tl:{hd:s._2(fa.RefDomains.DomainName.makeRefDomainChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name),a),tl:0}}),Da.makeFilter)}),[a,i.stringifyQueryDict(Of(void 0,void 0,F),void 0,void 0)]),A={hd:c_.referringPage(l.some(y),w,C,void 0,r,void 0,u,void 0),tl:{hd:c_.dr(l.some(y),void 0,void 0),tl:{hd:c_.ur(l.some(y),void 0,void 0,void 0),tl:{hd:c_.domainTraffic(l.some(y),void 0,void 0),tl:{hd:c_.referringDomains(l.some(y),void 0,void 0),tl:{hd:c_.linkedDomains(l.some(y),void 0,void 0),tl:{hd:c_.externalLinks(l.some(y),void 0,void 0),tl:{hd:c_.pageTraffic(l.some(y),void 0,void 0),tl:{hd:c_.keywords(l.some(y),void 0,void 0),tl:{hd:c_.anchor(u,r,b,P,T,void 0,void 0),tl:{hd:c_.dates(u,void 0,l.some(r),void 0),tl:0}}}}}}}}}}},R=s._3(Ra.FieldsRequestDescr.customRow,A,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:A,parentData:e,isPadded:!1})}),Vg),L=s._1(Ra.FieldsRequestDescr.toRequest,R),E=z.useMemo((function(){var e=v.oldData;return"number"!=typeof e&&2===e.TAG?de.mapWithDefault(v.oldData,0,(function(e){return e.rows})):de.mapWithDefault(v.data,0,(function(e){return e.rows}))}),[v.data]),B=z.useRef(new AbortController),q=function(e,t,r){var a=void 0!==e?e:u_,o=void 0!==t?t:0;B.current.abort(),B.current=new AbortController,s._1(k,1);var i=xf.toFieldName(v.sort),c=i?ce.map(i,(function(e){return[v.sortDirection,e]})):void 0;return Ye.forEach(K(l.some(B.current),d.url,d.mode,d.protocol,dm.toHistoryMode(u),dm.toSince(u),{filter:M,size:a,offset:o,order_by:c,shape:ce.map(L,(function(e){return e[1]})),timeout:void 0},m,void 0,void 0),(function(e){return s._1(k,{TAG:0,_0:e,_1:de.mapWithDefault(e,v.rowMap,(function(e){return function(e){var t=ce.map(L,(function(e){return e[0]}));return Ra.foldRows(Vg,(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(l.some(y),void 0),e.rows)}(e)[1]}))})}))};z.useEffect((function(){s._1(k,0)}),[Ve.Safe.toKey(d),i.stringifyQueryDict(Of(void 0,void 0,F),void 0,void 0)]),z.useEffect((function(){var e=v.data;D&&0===e&&q(void 0,void 0)}),[D,v.data]),z.useEffect((function(){D&&q(void 0,void 0)}),[v.sort,v.sortDirection]);var x=function(e){return s._2(p.setRow,dt.to_string(o),void 0)},W={_0:function(e){var t={data:v.data,settings:f,offset:v.offset,remainingCount:de.mapWithDefault(v.data,0,(function(e){return S-e.count|0})),rightAddon:z.createElement(bt,{exportFunc:function(e,t){var r=xf.toFieldName(v.sort);return Q(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-backlinks-%s"}),n.Protocolless_url.show(d.url),V.toExportName(d.mode)),d.url,d.mode,dm.toSince(u),d.protocol,dm.toHistoryMode(u),{filter:M,size:t,offset:0,order_by:r?ce.map(r,(function(e){return[v.sortDirection,e]})):void 0,shape:ce.map(L,(function(e){return e[1]})),timeout:void 0},m,void 0)},isTrial:f.subscription.isTrial,limitResetDate:f.subscription.dateResetUsagesMonthly,totalResults:S,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:d,limitsFunc:N}),onClose:x,onMoreDataRequested:function(e,t,r){return q(e,t)}};return void 0!==v.error&&(t.error=l.valFromOption(v.error)),z.createElement(Gl,t)}};return D?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:f,data:v.data,tableData:E,row:R,tooltipTarget:r,isLoading:de.isLoading(v.data),failureState:te.Table.getFailureState(v.data),sort:s._1(xf.Name.toString,v.sort),sortDirection:v.sortDirection,totalRowsNumber:S,reportLink:j.V2.makeUrl(1,{TAG:1,_0:d},Of(void 0,void 0,F)),totalMessage:{id:"e792ee69b062d549a259163d3b0484d2",defaultMessage:"{totalDisplay} {total, plural, zero {backlinks} one {backlink} other {backlinks}}"},customFooter:W,onClose:x,onRefetch:function(e){return q(void 0,void 0)},onSort:function(e,t,r){return s._1(k,{TAG:1,_0:me.getWithDefault(s._1(xf.Name.ofString,e),7),_1:t})}}),tableRootRef:t,hash:p.hash,onDimensionsChange:p.renewHash}):null},qy=r(41382),xy={hd:0,tl:{hd:1,tl:0}},Wy=It.MakeList({key:"changeType",all:xy,$$default:xy,localStorageKey:void 0,toString:function(e){return e?"lost":"new"},ofString:function(e){if(void 0!==e)switch(e){case"lost":return 1;case"new":return 0;default:return}},ordered:!0}),Uy={delimiter:Wy.delimiter,stringifyList:Wy.stringifyList,parseList:Wy.parseList,key:Wy.key,all:Wy.all,localStorageKey:Wy.localStorageKey,toString:Wy.toString,ofString:Wy.ofString,getter:Wy.getter,setter:Wy.setter,getDefault:Wy.getDefault,isApplied:Wy.isApplied,ofQuery:Wy.ofQuery,ofQueryWithDefault:Wy.ofQueryWithDefault,ofQueryWithCustomDefault:Wy.ofQueryWithCustomDefault,toQuery:Wy.toQuery,hasItem:function(e,t){return ce.has(e,t,Qr.equal)},toHistoryFilter:function(e){var t=ce.has(e,0,Qr.equal),r=ce.has(e,1,Qr.equal);return t?r?0:1:r?2:0}},Oy=function(e){var t=e.data,r=e.onChange,a=function(e){return ce.has(t,e,Qr.equal)?ce.filter(t,(function(t){return!Qr.equal(t,e)})):{hd:e,tl:t}};return z.createElement(po.make,{padding:"block",children:z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Nt.make,{label:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),color:_e.Color.Chart.green,checked:ce.has(t,0,Qr.equal),onChange:function(e){return s._1(r,a(0))}}),z.createElement(Nt.make,{label:s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),color:_e.Color.Chart.red,checked:ce.has(t,1,Qr.equal),onChange:function(e){return s._1(r,a(1))}}))})},Ny=function(e){var t=e.data,r=e.settings,a=e.onChange;return z.createElement(po.make,{padding:"block",children:z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Oy,{data:t.changeType,onChange:function(e){return s._1(a,{changeType:e,calendarSelection:t.calendarSelection})}}),z.createElement(pv,{data:t.calendarSelection,menuRight:!0,showUpgradeMessage:fe.canUpgradeToExtendHistory(r.isUpgradable,r.reportHistoricalPermissions),items:fv(r.reportHistoricalPermissions),historicalPermissions:r.reportHistoricalPermissions,onChange:function(e){return s._1(a,{changeType:t.changeType,calendarSelection:{start:e[0],end_:e[1]}})}}))})},$y=ya.Sort.MakeFilter({$$default:1,toString:function(e){switch(e){case 0:return"refdomain";case 1:return"dr";case 2:return"firstseen";case 3:return"lost";case 4:return"traffic";case 5:return"refdomains";case 6:return"linkeddomains";case 7:return"linkstotarget";case 8:return"dofollowlinks"}},ofString:function(e){switch(e){case"dofollowlinks":return 8;case"dr":return 1;case"firstseen":return 2;case"linkeddomains":return 6;case"linkstotarget":return 7;case"lost":return 3;case"refdomain":return 0;case"refdomains":return 5;case"traffic":return 4;default:return}},defaultDirection:"Desc"}),Iy=$y.getDefault,Gy=$y.isApplied,Qy=$y.ofQueryWithDefault,Vy=$y.toQuery,jy={Name:$y.Name,Direction:$y.Direction,getDefault:Iy,isApplied:Gy,ofQueryWithDefault:Qy,toQuery:Vy,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr)))),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.last_seen)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic)))),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.refdomains)))),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.linked_domains)))),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),tl:0}}}};function Hy(e){return{sort:s._1(Iy,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),calendarNavigation:s._1(wk.Navigation.getDefault,void 0),calendarSelection:s._1(wk.$$Selection.getDefault,void 0),changeType:s._1(Uy.getDefault,void 0),followType:s._1(Xu.Filter.getDefault,void 0),dr:s._1(pa.DR.Filter.getDefault,void 0),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0),linksToTarget:s._1(pa.LinksToTarget.Filter.getDefault,void 0),excludeSubdomains:s._1(Im.getDefault,void 0),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0),dofollowRefDomains:s._1(pa.DofollowRefDomains.Filter.getDefault,void 0),dofollowLinkedDomains:s._1(pa.DofollowLinkedDomains.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),newStatus:s._1(Xm.getDefault,void 0),lostStatus:s._1(df.getDefault,void 0)}}var zy={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:{hd:28,tl:{hd:29,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},Yy={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:0}}}}}}}}}}}}}}}}}}}}}}},Jy={hd:0,tl:{hd:1,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:{hd:28,tl:{hd:29,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}}}};function Xy(e,t,r){var a=void 0!==e?e:zy,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(Vy,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(wk.Navigation.toQuery,e,r.calendarNavigation);case 3:return s._2(wk.$$Selection.toQuery,e,r.calendarSelection);case 4:return s._2(Uy.toQuery,e,r.changeType);case 5:return s._2(Xu.Filter.toQuery,e,r.followType);case 6:return s._2(pa.DR.Filter.toQuery,e,r.dr);case 7:return s._2(pa.OrgDomainTraffic.Filter.toQuery,e,r.orgDomainTraffic);case 8:return s._2(pa.LinksToTarget.Filter.toQuery,e,r.linksToTarget);case 9:return s._2(Im.toQuery,e,r.excludeSubdomains);case 10:return s._2(fa.RefDomains.DomainName.Filter.toQuery,e,r.referringDomainName);case 11:return s._2(pa.DofollowRefDomains.Filter.toQuery,e,r.dofollowRefDomains);case 12:return s._2(pa.DofollowLinkedDomains.Filter.toQuery,e,r.dofollowLinkedDomains);case 13:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 14:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 15:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 16:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 17:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 18:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 19:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 20:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 21:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 22:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 23:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 24:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 25:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 26:return s._2(yg.Filter.toQuery,e,r.contentType);case 27:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 28:return s._2(Xm.toQuery,e,r.newStatus);case 29:return s._2(df.toQuery,e,r.lostStatus)}}))}var Zy={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:0}}}}}}}}}}}}}}}}}}}}}}};function eD(e,t){var r=void 0!==e?l.valFromOption(e):{};return Xy(Zy,l.some(r),t)}function tD(e,t){switch(e){case 5:return Xu.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.sponsored),t.followType)(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow));case 6:return pa.DR.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr),t.dr);case 7:return pa.OrgDomainTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic),t.orgDomainTraffic);case 8:return pa.LinksToTarget.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id),t.linksToTarget);case 9:return Gm(s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.is_root_domain),t.excludeSubdomains);case 10:return s._2(fa.RefDomains.DomainName.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name),t.referringDomainName);case 11:return pa.DofollowRefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.refdomains),t.dofollowRefDomains);case 12:return pa.DofollowLinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.linked_domains),t.dofollowLinkedDomains);case 13:return s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.title),t.referringPageTitle);case 14:return s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url_plain),t.referringPageUrl);case 15:return Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.powered_by),t.platform);case 16:return Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.languages),t.language);case 17:return pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.refdomains),t.refDomains);case 18:return pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.linked_domains),t.linkedDomains);case 19:return pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.external_links),t.externalLinks);case 20:return pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.traffic),t.orgPageTraffic);case 21:return pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.positions),t.orgKeywords);case 22:return Dg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.content),t.backlinkType);case 23:return s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),t.anchor);case 24:return s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.right_context),t.anchorWithSurroundingText);case 25:return s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url_plain),t.targetUrl);case 26:return yg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.non_html_suffix),t.contentType);case 27:return Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.url),t.redirects);case 0:case 1:case 2:case 3:case 4:case 28:case 29:return}}var rD={getDefault:Hy,all:zy,calendar:Yy,calendarNavigation:{hd:2,tl:0},table:Jy,isFilterApplied:function(e,t){switch(t){case 0:return s._1(Gy,e);case 1:return s._1(ya.Pagination.Filter.isApplied,e);case 2:return s._1(wk.Navigation.isApplied,e);case 3:return s._1(wk.$$Selection.isApplied,e);case 4:return s._1(Uy.isApplied,e);case 5:return s._1(Xu.Filter.isApplied,e);case 6:return s._1(pa.DR.Filter.isApplied,e);case 7:return s._1(pa.OrgDomainTraffic.Filter.isApplied,e);case 8:return s._1(pa.LinksToTarget.Filter.isApplied,e);case 9:return s._1(Im.isApplied,e);case 10:return s._1(fa.RefDomains.DomainName.Filter.isApplied,e);case 11:return s._1(pa.DofollowRefDomains.Filter.isApplied,e);case 12:return s._1(pa.DofollowLinkedDomains.Filter.isApplied,e);case 13:return s._1(fa.Backlinks.ReferringPageTitle.Filter.isApplied,e);case 14:return s._1(fa.Backlinks.ReferringPageUrl.Filter.isApplied,e);case 15:return s._1(Zu.Platform.Filter.isApplied,e);case 16:return s._1(Zu.SeLanguage.Filter.isApplied,e);case 17:return s._1(pa.RefDomains.Filter.isApplied,e);case 18:return s._1(pa.LinkedDomains.Filter.isApplied,e);case 19:return s._1(pa.ExternalLinks.Filter.isApplied,e);case 20:return s._1(pa.OrgPageTraffic.Filter.isApplied,e);case 21:return s._1(pa.OrgKeywords.Filter.isApplied,e);case 22:return s._1(Dg.Filter.isApplied,e);case 23:return s._1(fa.Backlinks.Anchor.Filter.isApplied,e);case 24:return s._1(fa.Backlinks.SurroundingText.Filter.isApplied,e);case 25:return s._1(fa.Backlinks.TargetUrl.Filter.isApplied,e);case 26:return s._1(yg.Filter.isApplied,e);case 27:return s._1(Zu.Redirects.Filter.isApplied,e);case 28:return s._1(Xm.isApplied,e);case 29:return s._1(df.isApplied,e)}},ofQuery:function(e,t,r){var a=s._1(wk.$$Selection.ofQueryWithDefault,e),o=$t.getMinDate(r.reportHistoricalPermissions),i=Bt.nowUtc(void 0),n=a.start.isValid()?a.start:s._1(wk.$$Selection.Start.getDefault,void 0),l=a.end_.isValid()?a.end_:s._1(wk.$$Selection.End.getDefault,void 0),d=n.isBefore(l)?[n,l]:[l,n],c=d[1],u=d[0],g=u.isBefore(o)?o:u,m=c.isBefore(o)?o:c,f=g.isAfter(i)?i:g,p=m.isAfter(i)?i:m,_=re.Moment.endOf("month",re.Moment.add(Z.duration(St.caml_int_max(0,t-1|0),"months"),f)),h={start:f,end_:p.isBefore(_)?p:_},k=s._1(Uy.ofQueryWithDefault,e),v=ce.has(k,0,Qr.equal)?s._1(Xm.ofQueryWithDefault,e):Hy().newStatus,y=ce.has(k,1,Qr.equal)?s._1(df.ofQueryWithDefault,e):Hy().lostStatus;return{sort:s._1(Qy,e),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,e),calendarNavigation:s._1(wk.Navigation.ofQueryWithDefault,e),calendarSelection:h,changeType:k,followType:s._1(Xu.Filter.ofQueryWithDefault,e),dr:s._1(pa.DR.Filter.ofQueryWithDefault,e),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.ofQueryWithDefault,e),linksToTarget:s._1(pa.LinksToTarget.Filter.ofQueryWithDefault,e),excludeSubdomains:s._1(Im.ofQueryWithDefault,e),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.ofQueryWithDefault,e),dofollowRefDomains:s._1(pa.DofollowRefDomains.Filter.ofQueryWithDefault,e),dofollowLinkedDomains:s._1(pa.DofollowLinkedDomains.Filter.ofQueryWithDefault,e),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,e),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,e),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,e),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,e),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,e),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,e),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,e),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,e),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,e),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,e),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,e),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,e),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,e),contentType:s._1(yg.Filter.ofQueryWithDefault,e),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,e),newStatus:v,lostStatus:y}},toQuery:Xy,TopLevel:{all:Zy,toQuery:eD,equal:function(e,t){return i.stringifyQueryDict(eD(void 0,e),void 0,void 0)===i.stringifyQueryDict(eD(void 0,t),void 0,void 0)}},makeChFilter:tD,makeCalendarChFilters:function(e){return ce.filterMap(ce.map(Yy,(function(t){return tD(t,e)})),(function(e){return e}))},makeTableChFilters:function(e){return ce.filterMap(ce.concatMany([ce.map(Jy,(function(t){return tD(t,e)})),{hd:s._5(Dm.makeCalendarChFilter,Uy.toHistoryFilter(e.changeType),e.calendarSelection.start,e.calendarSelection.end_,e.newStatus,e.lostStatus),tl:0}]),(function(e){return e}))},makeInnerTableChFilters:function(e){return ce.concatMany([ce.map(Jy,(function(t){return tD(t,e)})),{hd:s._5(pm.makeCalendarChFilter,Uy.toHistoryFilter(e.changeType),e.calendarSelection.start,e.calendarSelection.end_,e.newStatus,e.lostStatus),tl:0}])},makeChFiltersAll:function(e){return ce.filterMap(ce.map(zy,(function(t){return tD(t,e)})),(function(e){return e}))},getCustomHistoryFilter:function(e,t,r,a){switch(e){case 0:return{TAG:0,_0:{highlightChanges:8}};case 1:return{TAG:1,_0:{dateRange:t,status:r,liveOnly:!1}};case 2:return{TAG:2,_0:{dateRange:t,status:a}}}}};function aD(e,t){if("number"==typeof t)return 0===t?{calendarData:1,tableData:e.tableData,totalDofollowLinks:e.totalDofollowLinks}:{calendarData:e.calendarData,tableData:1,totalDofollowLinks:e.totalDofollowLinks};if(0!==t.TAG)return{calendarData:e.calendarData,tableData:t._0,totalDofollowLinks:t._1};var r=t._0;if("number"==typeof r)return{calendarData:r,tableData:e.tableData,totalDofollowLinks:e.totalDofollowLinks};switch(0|r.TAG){case 0:return{calendarData:1,tableData:e.tableData,totalDofollowLinks:e.totalDofollowLinks};case 2:var a={};return ce.forEach(r._0,(function(e){a[ne.apiDateUtc(e.date)]=e})),{calendarData:{TAG:2,_0:a},tableData:e.tableData,totalDofollowLinks:e.totalDofollowLinks};default:return{calendarData:r,tableData:e.tableData,totalDofollowLinks:e.totalDofollowLinks}}}var oD={contents:gt()},iD={contents:gt()};function nD(e,t,r,a,o,i,d,c,u,g){s._1(e,1);var m=gt();iD.contents=m;var f,p=function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a){var o=ie.to_float(a);return s._1(t,o>e?o:e)}),0,e.rows)},_=dm.toSince(u);if("string"==typeof g)f="HistoryUnlimited"===g?_:void 0;else{var h=g.VAL;f="Days"===h.NAME?l.some($t.dayBack(h.VAL).toDate()):l.some($t.monthBack(h.VAL).toDate())}var k=jy.toFieldName(a);return Ye.forEach(q(void 0,n.Protocolless_url.show(r.url),r.mode,r.protocol,dm.toHistoryMode(u),f,{filter:c,size:d,offset:i,order_by:k?ce.map(k,(function(e){return[o,e]})):void 0,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0}),(function(t){if(iD.contents===m)return s._1(e,{TAG:1,_0:t,_1:de.mapWithDefault(t,0,p)})}))}var sD=cv({footer:function(e,t,r){return z.createElement(Ny,{data:e,settings:t,onChange:r})}}),lD=function(e){var t=e.filters,r=e.target,a=e.settings,o=e.onApplyFilters,c=rD.toQuery(void 0,void 0,t),u=Xf(a,c,c),g=t.calendarNavigation,m=$h.getPreviousMonth(g,2,void 0),f=z.useReducer(aD,{calendarData:0,tableData:0,totalDofollowLinks:0}),p=f[1],_=f[0],h=Yu(_.tableData,(function(e){return ie.to_float(e.stats.total)})),k=ya.useMultipleExpandedRows(void 0,void 0),v=uo.useSingleton({overrides:["className"]}),y=v[1],D=z.useMemo((function(){return rD.getCustomHistoryFilter(Uy.toHistoryFilter(t.changeType),{_0:t.calendarSelection.start,_1:t.calendarSelection.end_},t.newStatus,t.lostStatus)}),[s._1(Uy.toString,t.changeType),s._1(Xm.toString,t.newStatus),s._1(df.toString,t.lostStatus)]),S=z.useMemo((function(){return me.map(Da.conjunct(rD.makeCalendarChFilters(t)),Da.makeFilter)}),[i.stringifyQueryDict(rD.toQuery(rD.calendar,void 0,t),void 0,void 0)]),F=z.useMemo((function(){return me.map(Da.conjunct(rD.makeCalendarChFilters(t)),Da.makeFilter)}),[i.stringifyQueryDict(rD.toQuery(rD.table,void 0,t),void 0,void 0)]),C=z.useMemo((function(){return rD.makeInnerTableChFilters(t)}),[i.stringifyQueryDict(rD.toQuery(rD.table,void 0,t),void 0,void 0)]),w=re.Moment.endOf("month",$h.toMoment(g,void 0,void 0)).utc(),T=re.Moment.startOf("month",$h.toMoment(m,void 0,void 0)).utc(),b=de.mapWithDefault(_.calendarData,[void 0,void 0],(function(e){var t=Kk(T,w);return ge.reduce(t,[void 0,void 0],(function(t,r){var a=t[1],o=t[0],i=Vs.get(e,r);if(void 0===i)return[o,a];var n=i.lost_refdomains,s=i.new_refdomains;return[me.mapWithDefault(o,s,(function(e){return e>s?e:s})),me.mapWithDefault(a,n,(function(e){return e>n?e:n}))]}))})),P=b[1],M=b[0],A=Aa.getTerms(t.referringDomainName.rules),R={hd:R_(A),tl:{hd:L_(D,!0,void 0),tl:{hd:E_(void 0),tl:{hd:B_(r),tl:{hd:K_(void 0),tl:{hd:q_(void 0),tl:{hd:x_(k),tl:{hd:U_(D,u,Ve.Safe.toUnsafe(r)),tl:{hd:O_(D,u,Ve.Safe.toUnsafe(r)),tl:{hd:N_(void 0),tl:{hd:$_(_.totalDofollowLinks),tl:{hd:I_(void 0),tl:{hd:G_(void 0),tl:{hd:Q_(D),tl:0}}}}}}}}}}}}}},L=s._3(Ra.FieldsRequestDescr.customRow,R,(function(e,t,o,i){return z.createElement(z.Fragment,{children:null,key:t},z.createElement(te.Row.make,{columns:R,parentData:e}),z.createElement(Ky,{tableRootRef:e.tableRootRef,tooltipTarget:y,rootDomain:o,rootDomainHash:t,target:r,chFilters:{hd:C,tl:0},historyFilter:D,filters:A_(o,u),grouping:{TAG:1,_0:t},settings:a,expandedRows:k,count:i}))}),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0)))),E=s._1(Ra.FieldsRequestDescr.toRequest,L);z.useEffect((function(){!function(e,t,r,a){s._1(e,0);var o=gt();oD.contents=o,Ye.forEach(d.performResult(void 0,void 0,qy.request,{args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),from:t,compareDate:void 0,country:void 0,grouping:0},filter:a}),(function(t){if(oD.contents===o)return s._1(e,{TAG:0,_0:t})}))}(p,Zt(a.reportHistoricalPermissions),r,S)}),[i.stringifyQueryDict(rD.toQuery(rD.calendar,void 0,t),void 0,void 0),r]),z.useEffect((function(){s._1(k.closeAll,void 0),nD(p,E,r,t.sort.name,t.sort.direction,t.pagination.offset,t.pagination.limit,F,D,a.reportHistoricalPermissions)}),[r,i.stringifyQueryDict(rD.toQuery(rD.table,void 0,t),void 0,void 0),ne.moment(void 0,t.calendarSelection.start,"dateWithDashes"),ne.moment(void 0,t.calendarSelection.end_,"dateWithDashes")]);var B=z.useCallback((function(e){return s._1(k.closeAll,void 0),nD(p,E,r,t.sort.name,t.sort.direction,t.pagination.offset,t.pagination.limit,F,D,a.reportHistoricalPermissions)}),[]),K=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Ju,{remoteData:_.tableData,getter:function(e){return ie.to_float(e.stats.total)},message:{id:"4a4a1a4fa56fcb1cc3ba729152efb411",defaultMessage:"{totalStr} {total, plural, zero {domains} one {domain} other {domains}}"}}),z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:null},Uy.hasItem(t.changeType,0)?z.createElement(Zm,{label:s._1(ke.Message.to_s,{id:"33f8540cc4c17eb9b1b1a0fac4db05a6",defaultMessage:"New status"}),selectedItem:t.newStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.newStatus=e,r))}}):null,Uy.hasItem(t.changeType,1)?z.createElement(cf,{label:s._1(ke.Message.to_s,{id:"7c00038e0fe11e63cbbb9da498b2c399",defaultMessage:"Lost status"}),selectedItem:t.lostStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.lostStatus=e,r))}}):null)),z.createElement(Je.make,{gap:"px10",children:z.createElement(bt,{exportFunc:function(e,a){var o=jy.toFieldName(t.sort.name);return I(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-refdomains-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-refdomains-%s"}),n.Protocolless_url.show(r.url),V.toExportName(r.mode)),r.url,r.mode,dm.toSince(D),r.protocol,dm.toHistoryMode(D),{filter:F,size:a,offset:0,order_by:o?ce.map(o,(function(e){return[t.sort.direction,e]})):void 0,shape:ce.map(E,(function(e){return e[1]})),timeout:void 0},dm.showExportNewLostColumns(D))},isTrial:a.subscription.isTrial,limitResetDate:a.subscription.dateResetUsagesMonthly,totalResults:0|h,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:r,limitsFunc:N})})),q=B;return z.createElement(z.Fragment,void 0,z.createElement(ct.make,{children:null},z.createElement(sD.make,{filterData:{changeType:t.changeType,calendarSelection:t.calendarSelection},settings:a,selectedDates:[t.calendarSelection.start,t.calendarSelection.end_],startMonth:t.calendarNavigation,remoteData:_.calendarData,renderDay:function(e){if("number"==typeof e)return z.createElement(Mk,{state:e});var r=ne.moment(void 0,$h.toMoment(e._0,e._1.date,void 0),"dateWithDashes"),a=de.mapWithDefault(_.calendarData,[void 0,void 0],(function(e){return me.mapWithDefault(Vs.get(e,r),[void 0,void 0],(function(e){return[e.new_refdomains,e.lost_refdomains]}))})),o=Uy.hasItem(t.changeType,0)?l.some(a[0]):void 0,i=Uy.hasItem(t.changeType,1)?l.some(a[1]):void 0,n={state:e,maxNewCount:M,maxLostCount:P};return void 0!==o&&(n.newCount=l.valFromOption(o)),void 0!==i&&(n.lostCount=l.valFromOption(i)),z.createElement(Mk,n)},renderError:function(e){return Rk(q,0,e)},onNext:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.calendarNavigation=$h.getNextMonth(t.calendarNavigation,void 0,void 0),r))},onPrevious:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.calendarNavigation=$h.getPreviousMonth(t.calendarNavigation,void 0,void 0),r))},onSelectionChange:function(e,r){var a=mt.caml_obj_dup(t);return s._1(o,(a.calendarSelection={start:e,end_:r},a))},onFilterChange:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.changeType=e.changeType,r.calendarSelection=e.calendarSelection,r))}}),z.createElement(te.Table.make,{row:L,data:de.mapWithDefault(_.tableData,0,(function(e){return e.rows})),hasAppliedFilters:!1,header:K,isLoading:de.isLoading(_.tableData),failureState:te.Table.getFailureState(_.tableData),renderError:Be(_.tableData,B,a.isUpgradable),totalRowsNumber:0|h,pagination:t.pagination,sortDirection:t.sort.direction,sort:s._1(jy.Name.toString,t.sort.name),onPaginationChange:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.pagination=e,r))},onSort:function(e,r,a){var i=mt.caml_obj_dup(t);return i.pagination=a,i.sort={name:me.getWithDefault(s._1(jy.Name.ofString,e),s._1(jy.Name.getDefault,void 0)),direction:r},s._1(o,i)},onRefetch:B,onClearFilters:function(e){return s._1(o,rD.getDefault(void 0))}})),z.createElement(ut.make,{singleton:v[0]}))},dD=Pl.Make({all:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:0}}}}}}}}}}}}}}}}}}}),cD=z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"}));function uD(e){switch(e){case 0:return"DomainName";case 1:return"DofollowRefDomains";case 2:return"DofollowLinkedDomains";case 3:return"RefPageTitle";case 4:return"RefPageUrl";case 5:return"Platform";case 6:return"Language";case 7:return"RefpageRefDomains";case 8:return"RefpageLinkedDomains";case 9:return"ExternalLinks";case 10:return"RefpageTraffic";case 11:return"KeywordsInTop100";case 12:return"BacklinkType";case 13:return"Anchor";case 14:return"SurroundingText";case 15:return"TargetUrl";case 16:return"ContentType";case 17:return"Redirects"}}var gD=function(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"644207cb91b1774079e96012f511a4af",defaultMessage:"Referring domain"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"d60252cc9b33603259f681b10fb7e17b",defaultMessage:"Domain name"}),0),tl:{hd:a(s._1(ke.Message.to_s,{id:"1b5fc907034778d516e616001b7d71f2",defaultMessage:"Dofollow ref. domains"}),1),tl:{hd:a(s._1(ke.Message.to_s,{id:"ef879770e9b98090b2d5e1f8ad188138",defaultMessage:"Dofollow linked domains"}),2),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),7),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),8),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),9),tl:{hd:a(s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),10),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),11),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"45bd3c42f979a78085c4343a3f4e7f7f",defaultMessage:"Backlink"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"0a778e16bdca6704758c9ca06db061d0",defaultMessage:"Backlink type"}),12),tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),13),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),14),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),15),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),16),tl:{hd:a(s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),17),tl:0}}}}}}}}}}}}}}}}}}}}}}}}};return z.createElement(dD.make,{label:cD,dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.referringDomainName,s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.dofollowRefDomains,s._1(pa.DofollowRefDomains.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.dofollowLinkedDomains,s._1(pa.DofollowLinkedDomains.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.orgPageTraffic,s._1(pa.OrgPageTraffic.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.backlinkType,s._1(Dg.Filter.getDefault,void 0));case 13:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 14:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 15:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 16:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 17:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})};function mD(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"644207cb91b1774079e96012f511a4af",defaultMessage:"Referring domain"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"d60252cc9b33603259f681b10fb7e17b",defaultMessage:"Domain name"}),0),tl:{hd:a(s._1(ke.Message.to_s,{id:"1b5fc907034778d516e616001b7d71f2",defaultMessage:"Dofollow ref. domains"}),1),tl:{hd:a(s._1(ke.Message.to_s,{id:"ef879770e9b98090b2d5e1f8ad188138",defaultMessage:"Dofollow linked domains"}),2),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),7),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),8),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),9),tl:{hd:a(s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),10),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),11),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"45bd3c42f979a78085c4343a3f4e7f7f",defaultMessage:"Backlink"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"0a778e16bdca6704758c9ca06db061d0",defaultMessage:"Backlink type"}),12),tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),13),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),14),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),15),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),16),tl:{hd:a(s._1(ke.Message.to_s,{id:"473df70960fd6dfde5bec2db824082a8",defaultMessage:"Redirects"}),17),tl:0}}}}}}}}}}}}}}}}}}}}}}}}};return z.createElement(dD.make,{label:cD,dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.referringDomainName,s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.dofollowRefDomains,s._1(pa.DofollowRefDomains.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.dofollowLinkedDomains,s._1(pa.DofollowLinkedDomains.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.orgPageTraffic,s._1(pa.OrgPageTraffic.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.backlinkType,s._1(Dg.Filter.getDefault,void 0));case 13:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 14:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 15:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 16:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 17:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})}var fD=function(e){var t=e.onFiltersChange,r=e.filters;return z.createElement(z.Fragment,void 0,z.createElement(Xu.make,{value:r.followType,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.followType=e,a))}}),z.createElement(pa.DR.make,{value:r.dr,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dr=rD.getDefault(void 0).dr,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dr=e,a))}}),z.createElement(pa.OrgDomainTraffic.make,{value:r.orgDomainTraffic,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgDomainTraffic=rD.getDefault(void 0).orgDomainTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgDomainTraffic=e,a))}}),z.createElement(pa.LinksToTarget.make,{value:r.linksToTarget,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linksToTarget=rD.getDefault(void 0).linksToTarget,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linksToTarget=e,a))}}),z.createElement(T_,{items:ce.map(S_,y_),initialSelected:0,onApply:function(e){var a=D_(e[1]);switch(e[0]){case 0:var o=mt.caml_obj_dup(r);return s._1(t,(o.referringDomainName=a,o));case 1:var i=mt.caml_obj_dup(r);return s._1(t,(i.referringPageUrl=a,i));case 2:var n=mt.caml_obj_dup(r);return s._1(t,(n.referringPageTitle=a,n));case 3:var l=mt.caml_obj_dup(r);return s._1(t,(l.anchor=a,l));case 4:var d=mt.caml_obj_dup(r);return s._1(t,(d.anchorWithSurroundingText=a,d));case 5:return;case 6:var c=mt.caml_obj_dup(r);return s._1(t,(c.targetUrl=a,c))}}}),z.createElement(Je.make,{children:z.createElement(po.make,{padding:"controlToggle",children:z.createElement(Qm,{value:r.excludeSubdomains,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.excludeSubdomains=e,a))}})})}),z.createElement(mD,{filters:r,render:function(e,a,o,i){var n=function(t){return s._1(i,e)},l=uD(e);switch(e){case 0:return z.createElement(fa.RefDomains.DomainName.make,{value:r.referringDomainName,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringDomainName=rD.getDefault(void 0).referringDomainName,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringDomainName=e,a))},key:l});case 1:return z.createElement(pa.DofollowRefDomains.make,{value:r.dofollowRefDomains,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowRefDomains=rD.getDefault(void 0).dofollowRefDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowRefDomains=e,a))},key:l});case 2:return z.createElement(pa.DofollowLinkedDomains.make,{value:r.dofollowLinkedDomains,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowLinkedDomains=rD.getDefault(void 0).dofollowLinkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowLinkedDomains=e,a))},key:l});case 3:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:r.referringPageTitle,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=rD.getDefault(void 0).referringPageTitle,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=e,a))},key:l});case 4:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:r.referringPageUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=rD.getDefault(void 0).referringPageUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=e,a))},key:l});case 5:return z.createElement(Zu.Platform.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=rD.getDefault(void 0).platform,a))},label:Zu.Platform.refPageLabel,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=e,a))},value:r.platform,key:l});case 6:return z.createElement(Zu.SeLanguage.make,{autoOpen:a,label:Zu.SeLanguage.refPageLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=rD.getDefault(void 0).language,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=me.getWithDefault(e,rD.getDefault(void 0).language),a))},value:r.language,key:l});case 7:return z.createElement(pa.RefDomains.make,{value:r.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=rD.getDefault(void 0).refDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=e,a))},key:l});case 8:return z.createElement(pa.LinkedDomains.make,{value:r.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=rD.getDefault(void 0).linkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=e,a))},key:l});case 9:return z.createElement(pa.ExternalLinks.make,{value:r.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=rD.getDefault(void 0).externalLinks,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=e,a))},key:l});case 10:return z.createElement(pa.OrgPageTraffic.make,{value:r.orgPageTraffic,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=rD.getDefault(void 0).orgPageTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=e,a))},key:l});case 11:return z.createElement(pa.OrgKeywords.make,{value:r.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=rD.getDefault(void 0).orgKeywords,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=e,a))},key:l});case 12:return z.createElement(Dg.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=rD.getDefault(void 0).backlinkType,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=e,a))},selectedItem:r.backlinkType,key:l});case 13:return z.createElement(fa.Backlinks.Anchor.make,{value:r.anchor,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=rD.getDefault(void 0).anchor,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=e,a))},key:l});case 14:return z.createElement(fa.Backlinks.SurroundingText.make,{value:r.anchorWithSurroundingText,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=rD.getDefault(void 0).anchorWithSurroundingText,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=e,a))},key:l});case 15:return z.createElement(fa.Backlinks.TargetUrl.make,{value:r.targetUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=rD.getDefault(void 0).targetUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=e,a))},key:l});case 16:return z.createElement(yg.make,{autoOpen:a,label:yg.targetLabel,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=rD.getDefault(void 0).contentType,a))},onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=e,a))},selectedItem:r.contentType,key:l});case 17:return z.createElement(Zu.Redirects.make,{autoOpen:a,label:Zu.Redirects.targetLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=rD.getDefault(void 0).redirects,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=e,a))},value:r.redirects,key:l})}}}))},pD=It.Make({key:"tab",$$default:2,localStorageKey:void 0,toString:function(e){switch(e){case 0:return"backlinks";case 1:return"refdomains";case 2:return"positions";case 3:return"pages"}},ofString:function(e){if(void 0!==e)switch(e){case"backlinks":return 0;case"pages":return 3;case"positions":return 2;case"refdomains":return 1;default:return}}}),_D=pD.getDefault,hD=(pD.isApplied,pD.ofQueryWithDefault),kD=pD.toQuery,vD=[2,3,1,0];function yD(e){return 1!==e?0!==e:ye}function DD(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"13b4a8637b2b0859a7b7aad596a9b860",defaultMessage:"Backlinks"});case 1:return s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"});case 2:return s._1(ke.Message.to_s,{id:"0bf6dda98fc196364782eed2dec9dc5c",defaultMessage:"Positions"});case 3:return s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"})}}pD.key,pD.localStorageKey,pD.toString,pD.ofString,pD.getter,pD.setter,pD.ofQuery,pD.ofQueryWithCustomDefault,s._1(_D,void 0);var SD={hd:0,tl:0};function FD(e,t,r){var a=void 0!==e?e:SD,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){return s._2(kD,e,r.selectedTab)}))}function CD(e,t){if(0!==t.TAG)return{backlinksFilters:e.backlinksFilters,referringDomainsFilters:e.referringDomainsFilters,positionsFilters:e.positionsFilters,pagesFilters:e.pagesFilters,remoteDataStatus:t._0};var r=t._0;switch(0|r.TAG){case 0:return{backlinksFilters:r._0,referringDomainsFilters:e.referringDomainsFilters,positionsFilters:e.positionsFilters,pagesFilters:e.pagesFilters,remoteDataStatus:e.remoteDataStatus};case 1:return{backlinksFilters:e.backlinksFilters,referringDomainsFilters:r._0,positionsFilters:e.positionsFilters,pagesFilters:e.pagesFilters,remoteDataStatus:e.remoteDataStatus};case 2:return{backlinksFilters:e.backlinksFilters,referringDomainsFilters:e.referringDomainsFilters,positionsFilters:r._0,pagesFilters:e.pagesFilters,remoteDataStatus:e.remoteDataStatus};case 3:return{backlinksFilters:e.backlinksFilters,referringDomainsFilters:e.referringDomainsFilters,positionsFilters:e.positionsFilters,pagesFilters:r._0,remoteDataStatus:e.remoteDataStatus}}}function wD(e){var t=e.tab,r=e.isComingSoon,o=void 0!==r&&r;return z.createElement(Je.make,{gap:"px6",children:null},z.createElement(pt.make,{color:o?"tertiary":"primary",children:a.s(DD(t))}),o?z.createElement(Io.Custom.make,{corners:"rounded",color:"neutralMutedTextSecondary",value:z.createElement(pt.make,{color:"secondary",fontSize:"xxs",fontWeight:"regular",children:s._1(ke.Message.to_s,{id:"dcb384183c2d8bbf0aff47b3675be294",defaultMessage:"Coming soon"})})}):null)}var TD=function(e){var t=e.target,r=e.settings,d=z.useReducer(CD,{backlinksFilters:"",referringDomainsFilters:rD.getDefault(void 0),positionsFilters:dy.getDefault(void 0),pagesFilters:tv.getDefault(void 0),remoteDataStatus:0}),c=d[1],u=d[0],g=he.useUrl(void 0,void 0),m=g.search,f=g.path,p=z.useMemo((function(){return i.parseQueryToDict(m,void 0,void 0)}),[m]),_=qk(r.limits),h=dy.ofQuery(p,3,r),k=a.useStateValue(h),v=k[1],y=k[0];z.useEffect((function(){s._1(v,h)}),[i.stringifyQueryDict(dy.toQuery(void 0,void 0,h),void 0,void 0)]);var D=function(e,t){var r=void 0!==e&&e;s._1(v,t);var a=i.makeStringWithQueryDict(i.makePathname(f),l.some(dy.toQuery(void 0,l.some(p),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)},S=tv.ofQuery(p,3,r),F=a.useStateValue(S),C=F[1],w=F[0];z.useEffect((function(){s._1(C,S)}),[i.stringifyQueryDict(tv.toQuery(void 0,void 0,S),void 0,void 0)]);var T=function(e,t){var r=void 0!==e&&e;s._1(C,t);var a=i.makeStringWithQueryDict(i.makePathname(f),l.some(tv.toQuery(void 0,l.some(p),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)},b=rD.ofQuery(p,3,r),P=a.useStateValue(b),M=P[1],A=P[0],R=function(e,t){var r=void 0!==e&&e;s._1(M,t);var a=i.makeStringWithQueryDict(i.makePathname(f),l.some(rD.toQuery(void 0,l.some(p),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)},L={selectedTab:s._1(hD,p)};Ie(f,FD(void 0,l.some(p),L));var E,B=function(e){return s._1(c,{TAG:1,_0:de.map(e,(function(e){}))})},K=u.remoteDataStatus;E="number"==typeof K||1!==K.TAG?void 0:K._0;var q,x,W,U,O={settings:r,children:null};switch(void 0!==E&&(O.error=l.valFromOption(E)),L.selectedTab){case 0:q=yD(0)&&0===_||!yD(0)||0===_?null:z.createElement(Nv,{});break;case 1:q=yD(1)&&0===_?z.createElement(lD,{filters:b,target:t,settings:r,onApplyFilters:function(e){return R(!1,e)}}):yD(1)&&0!==_?z.createElement(Nv,{}):null;break;case 2:q=yD(2)?z.createElement(wy,{filters:h,target:t,settings:r,onApplyFilters:function(e){return D(!1,e)},onRemoteDataChanged:B}):null;break;case 3:q=yD(3)&&0===_?z.createElement(bv,{filters:S,target:t,settings:r,onApplyFilters:function(e){return T(!1,e)},onRemoteDataChanged:B}):yD(3)&&0!==_?z.createElement(Nv,{}):null}return z.createElement(ct.make,{children:z.createElement(Po,O,z.createElement(eh.make,{name:"calendarTab",onSelected:function(e){var a,o,d=(a=e,o=ge.reduce(vD,[],(function(e,t){return 0!==t?ge.concat(e,[t]):e})),me.getWithDefault(ge.get(o,a),s._1(_D,void 0)));if(mt.caml_notequal(L.selectedTab,d)){var g,m;switch(L.selectedTab){case 0:g={TAG:0,_0:""};break;case 1:g={TAG:1,_0:rD.ofQuery(p,3,r)};break;case 2:g={TAG:2,_0:dy.ofQuery(p,3,r)};break;case 3:g={TAG:3,_0:tv.ofQuery(p,3,r)}}switch(s._1(c,{TAG:0,_0:g}),d){case 0:m={};break;case 1:m=rD.toQuery(void 0,void 0,u.referringDomainsFilters);break;case 2:m=dy.toQuery(void 0,void 0,u.positionsFilters);break;case 3:m=tv.toQuery(void 0,void 0,u.pagesFilters)}return he.replace(i.makeStringWithQueryDict(i.makePathname(f),l.some(FD(void 0,l.some(s._2(Ve.Filter.toQuery,m,n.Protocolless_url.show(t.url))),{selectedTab:d})),void 0,void 0,void 0))}},selectedTabIndex:(x=L.selectedTab,W=me.getExn(ge.getIndexBy(vD,(function(e){return Qr.equal(x,e)}))),U=ge.reduceWithIndex(vD,0,(function(e,t,r){return r>=W||0!==t?e:e+1|0})),W-U|0),data:ce.fromArray(ge.filterMap(vD,(function(e){if(0!==e)return function(e){switch(e){case 0:return eh.Tab.make(s._1(ke.Message.to_s,{id:"13b4a8637b2b0859a7b7aad596a9b860",defaultMessage:"Backlinks"}),l.some(z.createElement(wD,{tab:0})),void 0,l.some(z.createElement(co,{gap:1,showApplyFilters:!s._2(rD.TopLevel.equal,A,b),onClearFilters:function(e){return s._1(M,b)},onApplyFilters:function(e){var t=mt.caml_obj_dup(A),r=A.pagination;return t.pagination={limit:r.limit,offset:0},R(void 0,t)},children:null})),2===o.env,0!==_,void 0);case 1:return eh.Tab.make(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),l.some(z.createElement(wD,{tab:1,isComingSoon:!0})),void 0,l.some(z.createElement(co,{gap:1,showApplyFilters:!s._2(rD.TopLevel.equal,A,b),onClearFilters:function(e){return s._1(M,b)},onApplyFilters:function(e){var t=mt.caml_obj_dup(A),r=A.pagination;return t.pagination={limit:r.limit,offset:0},R(void 0,t)},children:z.createElement(fD,{onFiltersChange:M,filters:A})})),2===o.env,0!==_,void 0);case 2:return eh.Tab.make(s._1(ke.Message.to_s,{id:"0bf6dda98fc196364782eed2dec9dc5c",defaultMessage:"Positions"}),l.some(z.createElement(wD,{tab:2})),void 0,l.some(z.createElement(co,{gap:1,showApplyFilters:!s._2(dy.TopLevel.equal,y,h),onClearFilters:function(e){return s._1(v,h)},onApplyFilters:function(e){var t=y.pagination;return D(void 0,{sort:y.sort,pagination:{limit:t.limit,offset:0},calendarNavigation:y.calendarNavigation,calendarSelection:y.calendarSelection,changeType:y.changeType,country:y.country,positions:y.positions,volume:y.volume,kd:y.kd,cpc:y.cpc,orgKeywordTraffic:y.orgKeywordTraffic,serp:y.serp,words:y.words,keyword:y.keyword,url:y.url})},children:z.createElement(Ey,{settings:r,filters:y,onFiltersChange:v})})),!1,void 0,void 0);case 3:return eh.Tab.make(s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"}),l.some(z.createElement(wD,{tab:3})),void 0,l.some(z.createElement(co,{gap:1,showApplyFilters:!s._2(tv.TopLevel.equal,w,S),onClearFilters:function(e){return s._1(C,S)},onApplyFilters:function(e){var t=w.pagination;return T(void 0,{sort:w.sort,pagination:{limit:t.limit,offset:0},calendarNavigation:w.calendarNavigation,calendarSelection:w.calendarSelection,changeType:w.changeType,volumeMode:w.volumeMode,country:w.country,url:w.url,orgPageTraffic:w.orgPageTraffic,orgValue:w.orgValue,orgKeywords:w.orgKeywords,positions:w.positions,volume:w.volume,kd:w.kd,cpc:w.cpc,orgKeywordTraffic:w.orgKeywordTraffic,serp:w.serp,words:w.words,keyword:w.keyword})},children:z.createElement(Ly,{settings:r,filters:w,onFiltersChange:C})})),!1,0!==_,void 0)}}(e)}))),fullHeight:!0,theme:1}),q)})},bD=function(e){var t=e.target,r=e.settings,a=e.onToggleSidebar;return z.createElement(Po,{settings:r,children:z.createElement(ct.make,{children:null},z.createElement(oo,{onToggleSidebar:a,children:z.createElement(lt.make,{children:s._1(ke.Message.to_s,{id:"42bab2366a1bb9f7eda535ad3051ee5e",defaultMessage:"Calendar"})})}),z.createElement(TD,{target:t,settings:r}))})},PD=r(95596),MD=et.style([et.label("content"),et.minHeight({NAME:"pxFloat",VAL:788}),et.display("flex"),et.unsafe("alignItems","center"),et.unsafe("justifyContent","center")]),AD=et.style([et.label("rightTooltipWraper"),et.unsafe("position","relative")]),RD=et.style([et.label("rightTooltip"),et.unsafe("position","absolute"),et.right({NAME:"pxFloat",VAL:-9}),et.top("zero")]),LD=r(19330),ED=_e.Color.Chart.blue,BD=_e.Color.Chart.blueContrast;function KD(e){var t=e.title,r=e.followed,o=e.notFollowed,i=e.followedHref,n=e.followedColor,l=e.followedTooltip,d=e.notFollowedTooltip;return z.createElement(ct.make,{gap:"px16",children:null},z.createElement(H.make,{children:a.s(t)}),z.createElement(ct.make,{gap:"px8",children:null},z.createElement(PD.make,{max:r.value+o.value|0,items:{hd:{value:r.value,color:n,title:"Followed"},tl:{hd:{value:o.value,color:_e.Color.Chart.empty,title:"Not followed"},tl:0}},hasBackground:!0,renderEmpty:!0,title:t}),z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},align:"top",children:null},z.createElement(ct.make,{gap:"px4",children:null},z.createElement(pt.make,{fontSize:"md",children:null},s._1(ke.Message.to_s,{id:"27f722f95a91023e535cd212ebea09d9",defaultMessage:"Followed"}),z.createElement(Ot.make,{content:{TAG:0,_0:l},theme:1})),z.createElement(kt.make,{gap:"px8",vGap:"none",vAlign:"bottom",children:null},z.createElement(ta.make,{href:i,mode:0,children:z.createElement(pt.make,{fontSize:"md",children:a.s(ae.Int.$$default(r.value))})}),z.createElement(pt.make,{color:"secondary",fontSize:"sm",children:a.s(ae.Float.percentage(r.percent/100))}))),z.createElement(ct.make,{gap:"px4",children:null},z.createElement("div",{className:AD},z.createElement(pt.make,{fontSize:"md",align:"right",children:null},s._1(ke.Message.to_s,{id:"3add535cba198a5a570e252401253af3",defaultMessage:"Not followed"}),z.createElement("div",{className:RD},z.createElement(Ot.make,{content:{TAG:0,_0:d},theme:1})))),z.createElement(kt.make,{gap:"px8",vGap:"none",vAlign:"bottom",layout:{NAME:"list",VAL:{hd:1,tl:{hd:0,tl:0}}},children:null},z.createElement(pt.make,{color:"primary",fontSize:"md",align:"right",children:a.s(ae.Int.$$default(o.value))}),z.createElement(pt.make,{color:"secondary",fontSize:"sm",align:"right",children:a.s(ae.Float.percentage(o.percent/100))}))))))}function qD(e){var t=e.title,r=e.data,o=e.href,i=e.color,n=e.tooltip,s=z.createElement(pt.make,{fontSize:"md",align:"right",children:a.s(ae.Int.$$default(r.value))});return z.createElement(ct.make,{gap:"px8",children:null},z.createElement(Je.make,{gap:"px8",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:{hd:{NAME:"px",VAL:38},tl:0}}},children:null},z.createElement(pt.make,{color:"primary",fontSize:"md",children:null},a.s(t),me.mapWithDefault(n,null,(function(e){return z.createElement(Ot.make,{content:{TAG:0,_0:e},theme:1})}))),me.mapWithDefault(o,s,(function(e){return z.createElement(ta.make,{href:e,mode:0,children:s})})),z.createElement(pt.make,{color:"secondary",fontSize:"sm",align:"right",children:a.s(ae.Float.percentage(r.percent/100))})),z.createElement(PD.make,{max:100,items:{hd:{value:r.percent,color:i,title:t},tl:0},size:0,hasBackground:!0,renderEmpty:!0,title:t,hideTooltip:!0}))}var xD={hd:0,tl:{hd:1,tl:0}};function WD(e){var t=e.value,r=e.onChange;return z.createElement(Qt.make,{children:a.list(ce.map(xD,(function(e){return z.createElement(Qt.Button.make,{isSelected:t===e,onClick:function(t){return s._1(r,e)},theme:1,size:0,children:a.s((o=e,o?s._1(ke.Message.to_s,{id:"157a65576d6e7d316c159fbc91eb5050",defaultMessage:"By DR"}):s._1(ke.Message.to_s,{id:"81a3abe013ba5523f1e4f11ae2cd3ab9",defaultMessage:"By UR"}))),key:e?"DR":"UR"});var o})))})}var UD=function(e){var t,r=e.target,o=e.filters,i=a.useStateValue(0),c=i[0],u=E(xg.valueToReportMode(o.highlightChanges)),g=zl.use3(void 0,void 0,!1,void 0,(function(e){return R(void 0,LD.request,{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),compareDate:u,country:Sa.Item.toCountryOpt(o.country)})}),[Ve.Safe.toKey(r),me.map(u,ne.apiDate),Sa.Item.toCode(o.country)]),m=g[0],f=0;if("number"==typeof m)0===m?t=null:f=1;else switch(0|m.TAG){case 0:f=1;break;case 1:t=z.createElement("div",{className:MD},z.createElement(le.make,{reqId:d.getRequestId(m._0),height:"stretch",paddings:!0,onClick:g[1]}));break;case 2:var p=m._0,_=p.refdomains,h=p.backlinks,k=mt.caml_obj_dup(Yf()),v=mt.caml_obj_dup(Wf()),y=function(e){var t=mt.caml_obj_dup(Wf());return j.V2.makeBacklinksUrlDict(Ve.Safe.toUnsafe(r),void 0,void 0,l.some(Of(void 0,void 0,(t.highlightChanges=0,t.groupingType=2,t.followType=e,t))),void 0)};t=z.createElement(ct.make,{children:null},z.createElement(KD,{title:s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),followed:_.followed,notFollowed:_.not_followed,followedHref:j.V2.makeRefdomainsUrlDict(Ve.Safe.toUnsafe(r),void 0,l.some(Zf(void 0,void 0,(k.highlightChanges=0,k.followType=1,k))),void 0),followedColor:ED,followedTooltip:mo.refdomainsFollowed,notFollowedTooltip:mo.refdomainsNotFollowed}),z.createElement(fi.make,{}),z.createElement(KD,{title:s._1(ke.Message.to_s,{id:"13b4a8637b2b0859a7b7aad596a9b860",defaultMessage:"Backlinks"}),followed:h.followed,notFollowed:h.not_followed,followedHref:j.V2.makeBacklinksUrlDict(Ve.Safe.toUnsafe(r),void 0,void 0,l.some(Of(void 0,void 0,(v.highlightChanges=0,v.groupingType=2,v.followType=1,v))),void 0),followedColor:BD,followedTooltip:mo.backlinksFollowed,notFollowedTooltip:mo.backlinksNotFollowed}),z.createElement(ct.make,{gap:"px24",children:null},z.createElement(ct.make,{gap:"px12",children:null},z.createElement(gi.make,{children:s._1(ke.Message.to_s,{id:"3add535cba198a5a570e252401253af3",defaultMessage:"Not followed"})}),z.createElement(ct.make,{gap:"px8",children:z.createElement(z.Fragment,void 0,z.createElement(qD,{title:s._1(ke.Message.to_s,{id:"d06efd4c5fe5a2693868bfed8d48dd4e",defaultMessage:"Nofollow"}),data:h.nofollow,href:y(2),color:BD,tooltip:mo.backlinksNofollow}),z.createElement(qD,{title:s._1(ke.Message.to_s,{id:"7b50684fd8264b90e136833885dc6e2a",defaultMessage:"UGC"}),data:h.ugc,href:y(3),color:BD,tooltip:mo.backlinksUgc}),z.createElement(qD,{title:s._1(ke.Message.to_s,{id:"c2ed790baef1c874ace67f038ffa7171",defaultMessage:"Sponsored"}),data:h.sponsored,href:y(4),color:BD,tooltip:mo.backlinksSponsored}))})),z.createElement(ct.make,{gap:"px12",children:null},z.createElement(WD,{value:c,onChange:i[1]}),z.createElement(ct.make,{gap:"px8",children:a.list(ce.mapWithIndex(c?p.backlinks_by_dr:p.backlinks_by_ur,(function(e,t){var a,o=Math.imul(e,10),i=o+9|0;if(c){var n=mt.caml_obj_dup(Wf());a=j.V2.makeBacklinksUrlDict(Ve.Safe.toUnsafe(r),void 0,void 0,l.some(Of(void 0,void 0,(n.highlightChanges=0,n.groupingType=2,n.dr={from:o,to_:i},n))),void 0)}else a=void 0;var d={title:s._3(J.sprintf({_0:{TAG:4,_0:3,_1:0,_2:0,_3:{TAG:2,_0:0,_1:{TAG:4,_0:3,_1:0,_2:0,_3:0}}},_1:"%i%s%i"}),o,Gt.ndash,i),data:t,color:BD};return void 0!==a&&(d.href=l.valFromOption(a)),z.createElement(qD,d)})))}))))}return 1===f&&(t=z.createElement("div",{className:MD},z.createElement(Y.Box.make,{size:"md",background:0,fullHeight:!0}))),z.createElement(po.make,{padding:"block",background:1,children:t})},OD=r(23628),ND=r(1112),$D=r(58261),ID=function(e){var t=e.onRefetch,r=e.children,o={a:function(e){return z.createElement(it.make,{color:"link",size:"sm",onClick:function(e){return s._1(t,void 0)},children:a.s(e)})}};return z.createElement(ut.make,{content:s._2(ke.Message.format_to_s,{id:"bd8393fac0430c8f6a3ef44161958046",defaultMessage:"Couldn't fetch data. <a>Try again</a>"},o),children:r})},GD=et.style([et.label("iconWrapper"),et.display("inlineFlex"),et.unsafe("alignItems","center"),et.unsafe("justifyContent","center"),et.width({NAME:"pxFloat",VAL:14}),et.height({NAME:"pxFloat",VAL:18})]);function QD(e){return ge.map(e,OD.Raw.toKey).join("-")}function VD(e,t,r,a){return e?t?function(e,t){var r=0;if("number"==typeof e)if(1!==e){if(0===e)return 0;r=2}else{if("number"!=typeof t)return{_0:t._0};if(0!==t)switch(t){case 1:return 1;case 2:r=2;break;case 3:return 3}else r=2}else{var a=e._0;if("number"!=typeof t)return{_0:a};if(0!==t)switch(t){case 1:return{_0:a};case 2:r=2;break;case 3:return 3}else r=2}if(2===r&&"number"==typeof t&&t<3)switch(t){case 0:return 0;case 1:break;case 2:return 2}if("number"==typeof e)return 2===e?2:3}(s._1(r,void 0),s._1(a,void 0)):s._1(r,void 0):t?s._1(a,void 0):1}function jD(e,t,r,a){return Sa.Item.toCode(t)+(OD.Raw.toKey(e)+(jt(r)+me.getWithDefault(s._1(Ki,a),"")))}function HD(e,t,r){return OD.Raw.toKey(e)+(jt(t)+me.getWithDefault(s._1(Ki,r),""))}function zD(e,t){var r=0;switch(e){case 0:case 1:r=1;break;case 2:case 3:r=2;break;case 4:var a=t.refDomains;if("number"==typeof a)return 0===a?1:0;switch(0|a.TAG){case 0:return 0;case 1:var o=a._0;return 0===o.TAG||"SeInvalidUrl"!==o._0?3:2;case 2:return{_0:a._0.tkLinkContextInput}}case 5:var i=t.urlRating;if("number"==typeof i)return 0===i?1:0;switch(0|i.TAG){case 0:return 0;case 1:var n=i._0;return 0===n.TAG||"SeInvalidUrl"!==n._0?3:2;case 2:return{_0:i._0.tkLinkContextInput}}case 6:var s=t.pages;if("number"==typeof s)return 0===s?1:0;switch(0|s.TAG){case 0:return 0;case 1:var l=s._0;return 0===l.TAG||"SeInvalidUrl"!==l._0?3:2;case 2:return{_0:s._0.tkLinkContextInput}}}switch(r){case 1:var d=t.traffic;if("number"==typeof d)return 0===d?1:0;switch(0|d.TAG){case 0:return 0;case 1:var c=d._0;return 0===c.TAG||"SeInvalidUrl"!==c._0?3:2;case 2:return{_0:d._0.tkLinkContextInput}}case 2:var u=t.traffic;if("number"==typeof u)return 0===u?1:0;switch(0|u.TAG){case 0:return 0;case 1:var g=u._0;return 0===g.TAG||"SeInvalidUrl"!==g._0?3:2;case 2:return{_0:u._0.tkLinkContextInput}}}}function YD(e){var t=e.keywords;if("number"==typeof t)return 0===t?1:0;switch(0|t.TAG){case 0:return 0;case 1:var r=t._0;return 0===r.TAG||"SeInvalidUrl"!==r._0?3:2;case 2:return{_0:t._0.tkLinkContextInput}}}function JD(e,t,r,a,o,i,n,s,l){var d=jD(e,t,r,a),c=HD(e,r,a);return{traffic:me.getWithDefault(Ur.get(o,d),0),pages:me.getWithDefault(Ur.get(i,d),0),refDomains:me.getWithDefault(Ur.get(n,c),0),urlRating:me.getWithDefault(Ur.get(s,c),0),keywords:me.getWithDefault(Ur.get(l,d),0)}}function XD(e,t,r,a,o,i,n,s,l){return{target:e,data:JD(e,t,r,a,o,i,n,s,l)}}function ZD(e,t){return{elementType:2,dataKey:OD.Raw.toKey(t),yAxisId:"value",name:t.url,stackId:void 0,value:t,type_:"linear",color:At.getChartColor(void 0,e,void 0),reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0}}var eS={make:function(e){var t=e.allDomains,r=e.source,o=e.spec,i=e.isPagesChartOpen,n=e.isKeywordsChartOpen,l=e.onRefetch,d=e.onSpecChanged,c=e.onEditTarget;return z.createElement(Et.Horizontal.make,{renderItem:function(e,o,d){return me.mapWithDefault(ge.getBy(t,(function(e){return mt.caml_equal(e.target,o.value)})),null,(function(t){var u,g=VD(i,n,(function(e){return zD(r,t.data)}),(function(e){return YD(t.data)})),m=z.createElement(pt.make,{color:"secondary",inline:!0,wordBreak:"breakAll",children:a.s(o.name)}),f=z.createElement(Nt.make,{color:o.color,checked:o.show,onChange:function(e){return s._1(d,void 0)}}),p=0;if("number"==typeof g)1!==g?0!==g?p=1:u=[z.createElement("div",{className:GD},z.createElement(Y.Icon.make,{size:"xs"})),m]:u=[f,m];else{var _=g._0;void 0!==_?u=[f,z.createElement($D.make,{displayLink:o.name,tkLinkContextInput:_,color:o.show?"black":"grey",prettifyUrl:!1})]:p=1}1===p&&(u=[z.createElement("div",{className:GD},z.createElement(Xe.Alert.$$Error.make,s.app(Xe.Alert.$$Error.makeProps,[void 0,void 0,void 0,void 0,_e.Color.$$Text.secondary,void 0,void 0,void 0,void 0,void 0,void 0]))),m]);var h=z.createElement("div",{key:o.dataKey},z.createElement(Je.make,{gap:"px10",fitToContent:!0,align:"top",children:null},u[0],z.createElement(pt.make,{children:u[1]})));if("number"!=typeof g)return h;if(2!==g)return g>=3?z.createElement(ID,{onRefetch:function(e){return s._1(l,t)},children:h}):h;var k={a:function(t){return z.createElement(it.make,{color:"link",size:"sm",onClick:function(t){return s._1(c,e-1|0)},children:a.s(t)})}};return z.createElement(ut.make,{content:s._2(ke.Message.format_to_s,{id:"62580e7d99ff7095b953254fa0caf543",defaultMessage:"URL is not valid. <a>Edit</a>"},k),children:h})}))},spec:o,onClick:function(e){return s._1(d,ce.map(o,(function(t){return e===t.dataKey?{elementType:t.elementType,dataKey:t.dataKey,yAxisId:t.yAxisId,name:t.name,stackId:t.stackId,value:t.value,type_:t.type_,color:t.color,reversed:t.reversed,show:!t.show,areaFill:t.areaFill,areaFillOpacity:t.areaFillOpacity,areaStrokeWidth:t.areaStrokeWidth}:t})))}})}},tS={emptyRemoteData:{traffic:0,pages:0,refDomains:0,urlRating:0,keywords:0},getCacheKeyTrafficPages:jD,getCacheKeyRefDomains:HD,getPagesRemoteDataState:zD,getKeywordsRemoteDataState:YD,getRemoteData:JD,targetToDomain:XD,targetsToDomains:function(e,t,r,a,o,i,n,s,l){return ge.map(e,(function(e){return XD(e,t,r,a,o,i,n,s,l)}))},makeSpec:ZD,makeAllSpec:function(e){return ce.fromArray(ge.mapWithIndex(e,ZD))},Legend:eS};function rS(e,t,r,a){return jt(e)+(ce.joinWith(ce.map(t,se.code),"-")+(OD.Raw.toKey(r)+me.getWithDefault(s._1(Ki,a),"")))}var aS=ee.MakeComparable({cmp:se.compare});function oS(e,t){if(2!==e&&e<5){var r=t.metrics;if("number"==typeof r)return 0===r?1:0;switch(0|r.TAG){case 0:return 0;case 1:var a=r._0;return 0===a.TAG||"SeInvalidUrl"!==a._0?3:2;case 2:return{_0:void 0}}}var o=t.pages;if("number"==typeof o)return 0===o?1:0;switch(0|o.TAG){case 0:return 0;case 1:var i=o._0;return 0===i.TAG||"SeInvalidUrl"!==i._0?3:2;case 2:return{_0:void 0}}}function iS(e){var t=e.keywords;if("number"==typeof t)return 0===t?1:0;switch(0|t.TAG){case 0:return 0;case 1:var r=t._0;return 0===r.TAG||"SeInvalidUrl"!==r._0?3:2;case 2:return{_0:void 0}}}function nS(e,t){return{elementType:2,dataKey:se.code(t),yAxisId:"value",name:se.name(t),stackId:void 0,value:t,type_:"linear",color:At.getChartColor(Fe,e,void 0),reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0}}var sS={make:function(e){var t=e.spec,r=e.source,o=e.remoteData,i=e.isPagesChartOpen,n=e.isKeywordsChartOpen,l=e.onRefetch,d=e.onSpecChanged,c=VD(i,n,(function(e){return oS(r,o)}),(function(e){return iS(o)}));return z.createElement(Et.Horizontal.make,{renderItem:function(e,t,r){var o,i=z.createElement(pt.make,{inline:!0,wordBreak:"breakAll",children:a.s(t.name)}),n=z.createElement(Nt.make,{color:t.color,checked:t.show,onChange:function(e){return s._1(r,void 0)}});if("number"==typeof c)switch(c){case 0:o=[z.createElement("div",{className:GD},z.createElement(Y.Icon.make,{size:"xs"})),i];break;case 1:o=[n,i];break;case 2:o=[z.createElement("div",{className:GD},z.createElement(Xe.Alert.$$Error.make,s.app(Xe.Alert.$$Error.makeProps,[void 0,void 0,void 0,void 0,_e.Color.$$Text.secondary,void 0,void 0,void 0,void 0,void 0,void 0]))),z.createElement(pt.make,{color:"secondary",inline:!0,wordBreak:"breakAll",children:a.s(t.name)})];break;case 3:o=[z.createElement("div",{className:GD},z.createElement(Xe.Alert.$$Error.make,s.app(Xe.Alert.$$Error.makeProps,[void 0,void 0,void 0,void 0,_e.Color.$$Text.secondary,void 0,void 0,void 0,void 0,void 0,void 0]))),i]}else o=[n,i];var d=z.createElement("div",{key:t.dataKey},z.createElement(Je.make,{gap:"px10",fitToContent:!0,align:"top",children:null},o[0],z.createElement(pt.make,{children:o[1]})));return"number"==typeof c&&c>=3?z.createElement(ID,{onRefetch:function(e){return s._1(l,void 0)},children:d}):d},spec:t,onClick:function(e){return s._1(d,ce.map(t,(function(t){return e===t.dataKey?{elementType:t.elementType,dataKey:t.dataKey,yAxisId:t.yAxisId,name:t.name,stackId:t.stackId,value:t.value,type_:t.type_,color:t.color,reversed:t.reversed,show:!t.show,areaFill:t.areaFill,areaFillOpacity:t.areaFillOpacity,areaStrokeWidth:t.areaStrokeWidth}:t})))}})}},lS={getCacheKey:rS,getRemoteData:function(e,t,r,a,o,i,n){var s=rS(e,t,r,a);return{metrics:me.getWithDefault(Ur.get(o,s),0),pages:me.getWithDefault(Ur.get(i,s),0),keywords:me.getWithDefault(Ur.get(n,s),0)}},Comparable:aS,unique:function(e){return ce.reduceReverse(e,[ha.make(aS),0],(function(e,t){var r=e[1],a=e[0];return ha.has(a,t)?[a,r]:[ha.add(a,t),ce.concat({hd:t,tl:0},r)]}))[1]},getPagesRemoteDataState:oS,getKeywordsRemoteDataState:iS,colors:Fe,makeSpec:nS,makeAllSpec:function(e){return ce.mapWithIndex(e,nS)},Legend:sS};function dS(e,t){return re.moment(["YYYY-MM-DD"],String(e)+"-"+t)}function cS(e){var t=Bt.now(void 0).year();return ce.toArray(ce.map(yr(re.momentUtc(void 0,s._1(J.sprintf({_0:{TAG:4,_0:3,_1:0,_2:0,_3:{TAG:11,_0:"-01-01",_1:0}},_1:"%i-01-01"}),t)),re.momentUtc(void 0,s._1(J.sprintf({_0:{TAG:4,_0:3,_1:0,_2:0,_3:{TAG:11,_0:"-12-31",_1:0}},_1:"%i-12-31"}),t)),e),(function(e){return ne.moment(void 0,e,"monthDayWithDash")})))}function uS(e,t){return{elementType:2,dataKey:String(t),yAxisId:"value",name:String(t),stackId:void 0,value:t,type_:"linear",color:At.getChartColor(void 0,e,void 0),reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0}}var gS=Bt.now(void 0).year(),mS=Gt.seHistoryStartDate.year(),fS=ce.range(mS,gS),pS={make:function(e){var t=e.spec,r=e.source,o=e.domain,i=e.availableFromDate,n=e.isPagesChartOpen,l=e.isKeywordsChartOpen,d=e.onRefetch,c=e.onClearCountry,u=e.onSpecChanged,g=VD(n,l,(function(e){return zD(r,o.data)}),(function(e){return YD(o.data)}));return z.createElement(Et.Horizontal.make,{renderItem:function(e,t,r){var n,l=t.value<i.year(),u=z.createElement(pt.make,{color:"secondary",inline:!0,wordBreak:"breakAll",children:a.s(t.name)}),m=0;if(l){var f={a:function(e){return z.createElement(it.make,{color:"link",size:"sm",onClick:function(e){return s._1(c,void 0)},children:a.s(e)})},b:function(e){return z.createElement(ta.make,{href:vt.pricing,mode:3,children:a.s(e)})}};n=z.createElement(ut.make,{content:s._2(ke.Message.format_to_s,{id:"c729b10009f23b7c3c9fed8e1e40abdd",defaultMessage:"<a>Check performance in all countries</a> or <b>upgrade</b> your plan to see full history."},f),children:z.createElement(Nt.make,{label:a.s(t.name),checked:!1,disabled:!0,onChange:function(e){}})})}else"number"==typeof g&&1!==g?n=0!==g?z.createElement(z.Fragment,void 0,z.createElement(Xe.Alert.$$Error.make,s.app(Xe.Alert.$$Error.makeProps,[void 0,void 0,void 0,void 0,_e.Color.$$Text.secondary,void 0,void 0,void 0,void 0,void 0,void 0])),z.createElement(ID,{onRefetch:function(e){return s._1(d,o)},children:u})):z.createElement(z.Fragment,void 0,z.createElement(Y.Icon.make,{size:"xs"}),u):m=1;return 1===m&&(n=z.createElement(Nt.make,{label:a.s(t.name),color:t.color,checked:t.show,onChange:function(e){return s._1(r,void 0)}})),z.createElement("div",{key:t.dataKey},z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:n}))},spec:t,onClick:function(e){return s._1(u,ce.map(t,(function(t){return e===t.dataKey?{elementType:t.elementType,dataKey:t.dataKey,yAxisId:t.yAxisId,name:t.name,stackId:t.stackId,value:t.value,type_:t.type_,color:t.color,reversed:t.reversed,show:!t.show,areaFill:t.areaFill,areaFillOpacity:t.areaFillOpacity,areaStrokeWidth:t.areaStrokeWidth}:t})))}})}},_S={monthDayToMoment:dS,getDateKeys:cS,xAxisTickFormatter:function(e,t){var r=dS(2e3,t);return 0!==e?ne.moment(void 0,r,"shortMonth"):ne.moment(void 0,r,"dayShortMonth")},makeSpec:uS,years:fS,spec:ce.mapWithIndex(fS,uS),getStubDataForEmptyChart:function(e){return ge.map(cS(e),(function(e){var t={};return t.date=Fr(e),t.stub=Cr(1),t}))},Legend:pS},hS=It.MakeList({key:"countries",all:0,$$default:0,localStorageKey:void 0,toString:function(e){return se.code(e)},ofString:function(e){try{return me.map(e,se.of_code)}catch(e){return}},ordered:!0}),kS=It.Make({key:"chartMode",$$default:0,localStorageKey:void 0,toString:function(e){switch(e){case 0:return"metrics";case 1:return"cmp";case 2:return"country";case 3:return"years"}},ofString:function(e){if(void 0!==e)switch(e){case"cmp":return 1;case"country":return 2;case"metrics":return 0;case"years":return 3;default:return}}}),vS={toLabel:function(e){switch(e){case 0:return"Metrics";case 1:return"Competitors";case 2:return"Countries";case 3:return"Years"}},key:kS.key,localStorageKey:kS.localStorageKey,getDefault:kS.getDefault,toString:kS.toString,ofString:kS.ofString,getter:kS.getter,setter:kS.setter,isApplied:kS.isApplied,ofQuery:kS.ofQuery,ofQueryWithDefault:kS.ofQueryWithDefault,ofQueryWithCustomDefault:kS.ofQueryWithCustomDefault,toQuery:kS.toQuery},yS=Go.MakeFilter({key:"pagesChartOpen",$$default:!0}),DS=Go.MakeFilter({key:"keywordsChartOpen",$$default:!0});function SS(e,t,r,o,i,n){var l=t.show,d=t.name,c=t.dataKey,u=z.createElement(pt.make,{color:l?"primary":"secondary",children:a.s(d)}),g=0;if("number"==typeof e)g=0===e?2:1;else switch(0|e.TAG){case 0:g=1;break;case 1:return z.createElement(ID,{onRefetch:function(e){return s._1(i,void 0)},children:z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:null},z.createElement(Xe.Alert.$$Error.make,s.app(Xe.Alert.$$Error.makeProps,[void 0,void 0,void 0,void 0,_e.Color.$$Text.secondary,void 0,void 0,void 0,void 0,void 0,void 0])),u),key:c});case 2:g=2}switch(g){case 1:var m=z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:null,key:c},z.createElement(Y.Icon.make,{size:"xs"}),u);return me.mapWithDefault(r,m,(function(e){return z.createElement(ut.make,{content:e,children:m})}));case 2:var f=z.createElement(Nt.make,{label:a.s(d),color:t.color,checked:l,onChange:function(e){return s._1(o,void 0)},key:c});return me.mapWithDefault(r,f,(function(e){return z.createElement(ut.make,{content:e,children:f})}))}}function FS(e,t,r){var o=me.getWithDefault(l.nullable_to_opt(r.payload),[]),n=t?Hs.stableSortBy(o,(function(e,t){return Kt.compare(t.value,e.value)})):o;return ge.filterMap(n,(function(t){return t.value<0?void 0:{color:t.color,label:a.s(me.getWithDefault(i.decode(t.name),t.name)),value:s._1(e,t)}}))}function CS(e,t){return"Average"===t?e.organic.trafficAvg:e.organic.traffic}function wS(e,t){return"Average"===t?e.paid.trafficAvg:e.paid.traffic}function TS(e,t){return Pe("Average"===t?e.organic.costAvg:e.organic.cost)}function bS(e,t){return Pe("Average"===t?e.paid.costAvg:e.paid.cost)}var PS=[0,1];function MS(e){return e?s._1(ke.Message.to_s,{id:"3c02378513978df0ffc674e5a0120ec3",defaultMessage:"Paid"}):s._1(ke.Message.to_s,{id:"2e05c042c7ebceb67a640376f9c2be29",defaultMessage:"Organic"})}var AS=It.Make({key:"trafficType",$$default:0,localStorageKey:void 0,toString:function(e){return e?"paid":"organic"},ofString:function(e){if(void 0!==e)switch(e){case"organic":return 0;case"paid":return 1;default:return}}}),RS=AS.toString;AS.key,AS.localStorageKey,AS.getDefault,AS.ofString,AS.getter,AS.setter,AS.isApplied,AS.ofQuery;var LS=AS.ofQueryWithDefault,ES=(AS.ofQueryWithCustomDefault,AS.toQuery),BS=function(e){var t=e.organicNumber,r=e.paidNumber,a=e.value,o=e.onChange,i=e.renderLabel,n=void 0!==i?i:MS;return z.createElement(Qt.make,{children:ge.map(PS,(function(e){var i={isSelected:mt.caml_equal(a,e),onClick:function(t){return s._1(o,e)},children:s._1(n,e),key:me.getWithDefault(s._1(RS,e),"")},d=me.map(e?r:t,(function(e){return String(e)}));return void 0!==d&&(i.addon=l.valFromOption(d)),z.createElement(Qt.Button.make,i)}))})},KS=r(9429);function qS(e,t,r){switch(e){case 0:return yn.organicTraffic(t);case 1:return yn.paidTraffic(t);case 2:return yn.organicTrafficValue(t);case 3:return yn.paidTrafficCost(t);case 4:return yn.refDomains;case 5:return yn.urlRating(!1,r,t,void 0);case 6:return yn.organicPages}}function xS(e,t){switch(e){case 0:return bn(t);case 1:return Mn(t);case 2:return Pn(t);case 3:return An(t);case 4:return Dn(t);case 5:return Sn(t,void 0);case 6:return Fn(t)}}function WS(e){switch(e){case 2:case 3:return Me;case 5:return ae.Float.preciseSmallNumbers;case 0:case 1:case 4:case 6:return ae.Float.full}}var US=It.Make({key:"competitorsSource",$$default:0,localStorageKey:void 0,toString:function(e){return KS.stringify(s._1(c.write_overviewPagesChartMetricsSource,e))},ofString:function(e){return me.flatMap(e,(function(e){try{return s._1(c.read_overviewPagesChartMetricsSource,JSON.parse(e))}catch(e){return}}))}}),OS={hd:4,tl:{hd:5,tl:{hd:0,tl:{hd:2,tl:{hd:6,tl:{hd:1,tl:{hd:3,tl:0}}}}}}};US.key,US.localStorageKey,US.getDefault;var NS=US.toString,$S=(US.ofString,US.getter,US.setter,US.isApplied,US.ofQuery,US.ofQueryWithDefault),IS=(US.ofQueryWithCustomDefault,US.toQuery),GS=function(e){var t=e.value,r=e.mode,o=e.onChange,i=e.granularity;return z.createElement(Gr.make,{menuPlacement:"bottomStart",selectedValue:l.some(t),isEqual:Qr.equal,onChange:o,children:a.list(ce.map(OS,(function(e){return z.createElement(Gr.ItemWithTooltip.make,{label:qS(e,i,r),tooltipContent:Ot.renderContent(xS(e,i)),value:e})})))})};function QS(e){switch(e){case 0:return"organicTraffic";case 1:return"paidTraffic";case 2:return"organicTrafficValue";case 3:return"paidTrafficCost";case 4:return"refDomains";case 5:return"urlRating";case 6:return"pages"}}function VS(e){switch(e){case"organicTraffic":return 0;case"organicTrafficValue":return 2;case"pages":return 6;case"paidTraffic":return 1;case"paidTrafficCost":return 3;case"refDomains":return 4;case"urlRating":return 5;default:return}}var jS=It.MakeList({key:"chartPerformanceSources",all:{hd:4,tl:{hd:5,tl:{hd:0,tl:{hd:2,tl:{hd:6,tl:{hd:1,tl:{hd:3,tl:0}}}}}}},$$default:{hd:4,tl:{hd:0,tl:{hd:1,tl:0}}},localStorageKey:void 0,toString:function(e){return QS(e)},ofString:function(e){return me.flatMap(e,VS)},ordered:!0});function HS(e){switch(e){case 0:case 1:return"traffic";case 2:case 3:return"trafficCost";case 4:return"refDomains";case 5:return"urlRating";case 6:return"pages"}}var zS={hd:_e.Color.Chart.blue,tl:{hd:_e.Color.Chart.wasabi,tl:{hd:_e.Color.Chart.orange,tl:{hd:_e.Color.Chart.orangeMidMuted,tl:{hd:_e.Color.Chart.yellow,tl:{hd:_e.Color.Chart.green,tl:{hd:_e.Color.Chart.greenMidMuted,tl:0}}}}}}};function YS(e,t,r,a){var o={date:"",organicTraffic:0,paidTraffic:0,organicTrafficValue:0,paidTrafficCost:0,refDomains:0,urlRating:void 0,pages:0,stub:0},i=de.mapWithDefault(a.traffic,void 0,(function(e){return ce.reduce(e.rows,void 0,(function(e,t){var a=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.update(e,a,(function(e){var i=me.getWithDefault(e,o);return{date:a,organicTraffic:CS(t,r),paidTraffic:wS(t,r),organicTrafficValue:TS(t,r),paidTrafficCost:bS(t,r),refDomains:i.refDomains,urlRating:i.urlRating,pages:i.pages,stub:i.stub}}))}))})),n=de.mapWithDefault(a.pages,i,(function(e){return ce.reduce(e.rows,i,(function(e,t){var r=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.update(e,r,(function(e){var a=me.getWithDefault(e,o);return{date:r,organicTraffic:a.organicTraffic,paidTraffic:a.paidTraffic,organicTrafficValue:a.organicTrafficValue,paidTrafficCost:a.paidTrafficCost,refDomains:a.refDomains,urlRating:a.urlRating,pages:t.pages,stub:a.stub}}))}))})),s=de.mapWithDefault(a.refDomains,n,(function(e){return ce.reduce(e.rows,n,(function(e,t){var r=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.update(e,r,(function(e){var a=me.getWithDefault(e,o);return{date:r,organicTraffic:a.organicTraffic,paidTraffic:a.paidTraffic,organicTrafficValue:a.organicTrafficValue,paidTrafficCost:a.paidTrafficCost,refDomains:t.refdomains,urlRating:a.urlRating,pages:a.pages,stub:a.stub}}))}))})),l=de.mapWithDefault(a.urlRating,s,(function(e){return ce.reduce(e.rows,s,(function(e,t){var r=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.update(e,r,(function(e){var a=me.getWithDefault(e,o);return{date:r,organicTraffic:a.organicTraffic,paidTraffic:a.paidTraffic,organicTrafficValue:a.organicTrafficValue,paidTrafficCost:a.paidTrafficCost,refDomains:a.refDomains,urlRating:t.ur,pages:a.pages,stub:a.stub}}))}))})),d=Yt(e),c=yr(d[0],d[1],t);return ce.toArray(ce.map(c,(function(e){var t=ne.moment(void 0,e,"dateWithDashes");return me.getWithDefault(Ur.get(l,t),{date:t,organicTraffic:0,paidTraffic:0,organicTrafficValue:0,paidTrafficCost:0,refDomains:0,urlRating:void 0,pages:0,stub:0})})))}function JS(e,t){return ce.filter(qr(e),(function(e){switch(e.value){case 0:case 1:case 2:case 3:break;case 4:var r=t.refDomains;return"number"!=typeof r&&2===r.TAG;case 5:var a=t.urlRating;return"number"!=typeof a&&2===a.TAG;case 6:var o=t.pages;return"number"!=typeof o&&2===o.TAG}var i=t.traffic;return"number"!=typeof i&&2===i.TAG}))}var XS=function(e){var t=e.syncId,r=e.tooltipAnimationActive,o=e.timeFrame,i=e.remoteData,n=e.volumeMode,d=e.spec,c=e.granularity,u=e.mode,g=e.onChangeSpec,m=e.onRefetch,f=e.notes,p=YS(o,c,n,i),_=ce.map(d,(function(e){return{elementType:e.elementType,dataKey:e.dataKey,yAxisId:e.yAxisId,name:qS(e.value,c,u),stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}})),h=JS(_,i),k=Nr.getConfigsFromSpec(h),v=2===ce.length(ce.filter(h,(function(e){return e.value<2}))),y=2===ce.length(ce.filter(h,(function(e){var t=e.value;return 3===t||2===t}))),D=At.YAxisConfig.make(ce.filterMap(h,(function(e){switch(e.value){case 0:if(v)return At.YAxisConfig.makeAxis(void 0,"traffic",s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),!0,void 0,void 0,void 0,void 0,void 0,void 0,_e.Color.$$Text.tertiary,void 0,void 0);break;case 1:if(v)return;break;case 2:if(y)return At.YAxisConfig.makeAxis(void 0,"trafficCost",s._1(ke.Message.to_s,{id:"6298e07878207681e4e01d4c8826c12c",defaultMessage:"Traffic value & cost"}),!0,void 0,void 0,void 0,void 0,void 0,void 0,_e.Color.$$Text.tertiary,void 0,void 0);break;case 3:if(y)return}return At.YAxisConfig.makeAxis(e.dataKey,e.yAxisId,e.name,!0,void 0,void 0,void 0,void 0,void 0,void 0,e.color,e.reversed,void 0)})),void 0),S=vr(k[0]),F=S[1];return z.createElement(ct.make,{children:null},z.createElement(ct.make,{children:z.createElement(Et.Horizontal.make,{renderItem:function(e,t,r){var a,o=0;switch(t.value){case 0:case 1:case 2:case 3:o=1;break;case 4:a=de.map(i.refDomains,(function(e){}));break;case 5:a=de.map(i.urlRating,(function(e){}));break;case 6:a=de.map(i.pages,(function(e){}))}return 1===o&&(a=de.map(i.traffic,(function(e){}))),SS(a,t,l.some(Ot.renderContent(xS(t.value,c))),r,m)},spec:_,onClick:function(e){return s._1(g,ce.map(_,(function(t){return e===t.dataKey?{elementType:t.elementType,dataKey:t.dataKey,yAxisId:t.yAxisId,name:t.name,stackId:t.stackId,value:t.value,type_:t.type_,color:t.color,reversed:t.reversed,show:!t.show,areaFill:t.areaFill,areaFillOpacity:t.areaFillOpacity,areaStrokeWidth:t.areaStrokeWidth}:t})))}})}),z.createElement(At.make,{syncId:t,chartType:S[0],data:p,charts:F,chartHeight:235,xAxisPadding:[2,2],xAxisTicks:xt.getXTicks((function(e){return e.date}),p),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(p,(function(e){return Bt.fromString(e.date)}),c,t)},yAxisConfig:D,tooltipAnimationActive:r,hideTooltip:f[1],renderTooltip:function(e,t){return z.createElement(qt.make,{hideColors:F.length<=1,label:Dr(re.moment(void 0,e.label),c),config:FS((function(e){var t=me.map(VS(e.dataKey),WS);return a.s(me.mapWithDefault(t,"",(function(t){return s._1(t,e.value)})))}),!1,e)})},showAxisLabels:!0,isAnimationActive:!0,animationDuration:1,references:f[0]}))};function ZS(e){switch(e){case 0:return"top3";case 1:return"top4_10";case 2:return"top11"}}var eF=It.MakeList({key:"chartTopPosition",all:{hd:0,tl:{hd:1,tl:{hd:2,tl:0}}},$$default:{hd:0,tl:{hd:1,tl:{hd:2,tl:0}}},localStorageKey:void 0,toString:function(e){return KS.stringify(s._1(c.write_overviewKeywordsChartMetricsSource,e))},ofString:function(e){return me.flatMap(e,(function(e){try{return s._1(c.read_overviewKeywordsChartMetricsSource,JSON.parse(e))}catch(e){return}}))},ordered:!0});function tF(e){switch(e){case 0:return"1"+Gt.ndash+"3";case 1:return"4"+Gt.ndash+"10";case 2:return"11+"}}var rF={hd:_e.Color.Chart.orangeContrast,tl:{hd:_e.Color.Chart.orange,tl:{hd:_e.Color.Chart.yellow,tl:0}}};function aF(e){return ce.mapWithIndex(eF.all,(function(t,r){return{elementType:0,dataKey:ZS(r),yAxisId:"value",name:"",stackId:"value",value:r,type_:"linear",color:At.getChartColor(rF,t,void 0),reversed:!1,show:ce.has(e,r,Qr.equal),areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0}}))}function oF(e,t,r){var a=de.mapWithDefault(r.keywords,void 0,(function(e){return ce.reduce(e.rows,void 0,(function(e,t){var r=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.update(e,r,(function(e){return{date:r,top3:t.keywords.top3,top4_10:t.keywords.top4_10,top11:(t.keywords.total-t.keywords.top4_10|0)-t.keywords.top3|0,total:t.keywords.total}}))}))})),o=Yt(e),i=yr(o[0],o[1],t);return ce.toArray(ce.map(i,(function(e){var t=ne.moment(void 0,e,"dateWithDashes");return me.getWithDefault(Ur.get(a,t),{date:t,top3:0,top4_10:0,top11:0,total:0})})))}function iF(e,t){var r=qr(e);return de.isSuccess(t.keywords)?r:0}function nF(e,t){var r=Yt(e),a=yr(r[0],r[1],t);return ce.toArray(ce.map(a,(function(e){return{date:ne.moment(void 0,e,"dateWithDashes"),top3:0,top4_10:0,top11:0,total:0}})))}var sF={hd:At.YAxisConfig.makeAxis("top3","value",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0},lF=function(e){var t=e.syncId,r=e.tooltipAnimationActive,o=e.timeFrame,i=e.remoteData,n=e.spec,d=e.granularity,c=e.onChangeSpec,u=e.onRefetch,g=e.notes,m=oF(o,d,i),f=ce.map(n,(function(e){return{elementType:e.elementType,dataKey:e.dataKey,yAxisId:e.yAxisId,name:tF(e.value),stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}})),p=iF(f,i),_=Nr.getConfigsFromSpec(p)[0],h=0!==m.length?p?[m,{hd:At.YAxisConfig.makeAxis(void 0,"value",void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0}]:[m,sF]:[nF(o,d),sF],k=h[0];return z.createElement(ct.make,{children:null},z.createElement(ct.make,{children:z.createElement(Et.Horizontal.make,{renderItem:function(e,t,r){return SS(i.keywords,t,void 0,r,u)},spec:f,onClick:function(e){return s._1(c,ce.map(f,(function(t){return e===t.dataKey?{elementType:t.elementType,dataKey:t.dataKey,yAxisId:t.yAxisId,name:t.name,stackId:t.stackId,value:t.value,type_:t.type_,color:t.color,reversed:t.reversed,show:!t.show,areaFill:t.areaFill,areaFillOpacity:t.areaFillOpacity,areaStrokeWidth:t.areaStrokeWidth}:t})))}})}),z.createElement(At.make,{syncId:t,chartType:1,data:k,charts:_,chartHeight:235,xAxisPadding:[2,2],xAxisTicks:xt.getXTicks((function(e){return e.date}),k),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(m,(function(e){return Bt.fromString(e.date)}),d,t)},yAxisConfig:h[1],tooltipAnimationActive:r,hideTooltip:g[1],renderTooltip:function(e,t){var r=ge.reverse(FS((function(e){return a.s(ae.Float.full(e.value))}),!1,e)),o=ge.reduce(me.getWithDefault(l.nullable_to_opt(e.payload),[]),0,(function(e,t){var r=t.value;return r<0?e:e+r})),i=r.length>=2?ge.concat([{color:void 0,label:s._1(ke.Message.to_s,{id:"1d3805625b768a9cbc18a0aedb9cf744",defaultMessage:"All keywords"}),value:a.s(ae.Float.full(o))}],r):r;return z.createElement(qt.make,{hideColors:_.length<=1,label:Dr(re.moment(void 0,e.label),d),config:i})},isAnimationActive:!0,animationDuration:1,references:g[0]}))};function dF(e){switch(e){case"all":return 0;case"top11":return 3;case"top3":return 1;case"top4_10":return 2;default:return}}function cF(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"b650f3cf886f73fd41bcd847993fa785",defaultMessage:"All"});case 1:return"1"+Gt.ndash+"3";case 2:return"4"+Gt.ndash+"10";case 3:return"11+"}}function uF(e){return"Organic keywords: "+cF(e)}var gF=It.Make({key:"keywordsSource",$$default:0,localStorageKey:void 0,toString:function(e){return function(e){switch(e){case 0:return"all";case 1:return"top3";case 2:return"top4_10";case 3:return"top11"}}(e)},ofString:function(e){return me.flatMap(e,dF)}}),mF={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:0}}}};gF.key,gF.localStorageKey,gF.getDefault,gF.toString,gF.ofString,gF.getter,gF.setter,gF.isApplied,gF.ofQuery;var fF=gF.ofQueryWithDefault,pF=(gF.ofQueryWithCustomDefault,gF.toQuery),_F=function(e){var t=e.value,r=e.onChange;return z.createElement(Gr.make,{menuPlacement:"bottomStart",selectedValue:l.some(t),isEqual:Qr.equal,onChange:r,children:a.list(ce.map(mF,(function(e){return z.createElement(Gr.Item.make,{label:cF(e),value:e})})))})},hF={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:0}}}}}};function kF(e){switch(e){case"organic-keywords":return 2;case"organic-traffic":return 0;case"organic-traffic-value":return 1;case"paid-keywords":return 5;case"paid-traffic":return 3;case"paid-traffic-cost":return 4;default:return}}function vF(e,t){switch(e){case 0:return yn.organicTraffic(t);case 1:return yn.organicTrafficValue(t);case 2:return yn.organicKeywords;case 3:return yn.paidTraffic(t);case 4:return yn.paidTrafficCost(t);case 5:return yn.paidKeywords}}function yF(e,t){switch(e){case 0:return bn(t);case 1:return Pn(t);case 2:return Cn(t);case 3:return Mn(t);case 4:return An(t);case 5:return Tn(t)}}var DF=It.Make({key:"countriesSource",$$default:0,localStorageKey:void 0,toString:function(e){return function(e){switch(e){case 0:return"organic-traffic";case 1:return"organic-traffic-value";case 2:return"organic-keywords";case 3:return"paid-traffic";case 4:return"paid-traffic-cost";case 5:return"paid-keywords"}}(e)},ofString:function(e){return me.flatMap(e,kF)}});DF.key,DF.localStorageKey,DF.getDefault;var SF=DF.toString,FF=(DF.ofString,DF.getter,DF.setter,DF.isApplied,DF.ofQuery,DF.ofQueryWithDefault),CF=(DF.ofQueryWithCustomDefault,DF.toQuery),wF=function(e){var t=e.value,r=e.onChange,o=e.granularity;return z.createElement(Gr.make,{menuPlacement:"bottomStart",selectedValue:l.some(t),isEqual:Qr.equal,onChange:r,children:a.list(ce.map(hF,(function(e){return z.createElement(Gr.ItemWithTooltip.make,{label:vF(e,o),tooltipContent:Ot.renderContent(yF(e,o)),value:e})})))})},TF={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:0}}}}}}}}}}}}}}}};function bF(e,t){return!!e||2===t||1===t}function PF(e,t){var r=e.reportHistoricalPermissions,a=s._2(xg.Filter.ofQueryWithCustomDefault,t,e.settings.overviewHighlightChanges),o=ce.has($m.highlightChangesItems(r),a,Qr.equal)?a:$m.maxHighlightChangesItem(r),i=s._1(Sa.WithAll.Filter.ofQueryWithDefault,t),n=s._1(vS.ofQueryWithDefault,t),l=bF(i,n),d=s._2(dr,t,e.settings.overviewChartTimeFrame),c=l&&!Jt(r,d)?Zt(r):d,u=3===n,g=s._2(xi,t,e.settings.overviewChartGranularity),m=Pi(u,c),f=ce.has(m[0],g,Qr.equal)?g:m[1];return{volumeMode:s._2(Pa.ofQueryWithCustomDefault,t,e.settings.overviewVolumeMode),country:i,highlightChanges:o,chartMode:n,competitors:s._1(OD.Raw.CompetitorsFilter.ofQueryWithDefault,t),pagesMainSource:s._1($S,t),countries:s._1(hS.ofQueryWithDefault,t),pagesCountriesSource:s._1(FF,t),trafficType:s._1(LS,t),timeFrame:c,granularity:f,pagesMetricsChartSources:s._2(jS.ofQueryWithCustomDefault,t,e.settings.overviewPagesChartMetricsSources),keywordsMetricsChartSources:s._2(eF.ofQueryWithCustomDefault,t,e.settings.overviewKeywordsChartMetricsSources),keywordsMainSource:s._1(fF,t),isPagesChartOpen:s._2(yS.ofQueryWithCustomDefault,t,e.settings.overviewPagesChartIsOpen),isKeywordsChartOpen:s._2(DS.ofQueryWithCustomDefault,t,e.settings.overviewKeywordsChartIsOpen)}}function MF(e,t,r){var a=void 0!==e?e:TF,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(Pa.toQuery,e,r.volumeMode);case 1:return s._2(Sa.WithAll.Filter.toQuery,e,r.country);case 2:return s._2(xg.Filter.toQuery,e,r.highlightChanges);case 3:return s._2(vS.toQuery,e,r.chartMode);case 4:return s._2(OD.Raw.CompetitorsFilter.toQuery,e,r.competitors);case 5:return s._2(IS,e,r.pagesMainSource);case 6:return s._2(hS.toQuery,e,r.countries);case 7:return s._2(CF,e,r.pagesCountriesSource);case 8:return s._2(ES,e,r.trafficType);case 9:return s._2(cr,e,r.timeFrame);case 10:return s._2(Wi,e,r.granularity);case 11:return s._2(jS.toQuery,e,r.pagesMetricsChartSources);case 12:return s._2(eF.toQuery,e,r.keywordsMetricsChartSources);case 13:return s._2(pF,e,r.keywordsMainSource);case 14:return s._2(yS.toQuery,e,r.isPagesChartOpen);case 15:return s._2(DS.toQuery,e,r.isKeywordsChartOpen)}}))}var AF={hd:0,tl:{hd:1,tl:{hd:2,tl:0}}};function RF(e,t){var r=void 0!==e?l.valFromOption(e):{};return MF(AF,l.some(r),t)}var LF=function(e,t){return i.stringifyQueryDict(RF(void 0,e),void 0,void 0)===i.stringifyQueryDict(RF(void 0,t),void 0,void 0)},EF=r(7524),BF=r(74700),KF=r(39536),qF=r(55560),xF=r(37771),WF=r(84422),UF=r(19560),OF=r(61821);function NF(e,t){switch(0|t.TAG){case 0:return{trafficMap:Ur.set(e.trafficMap,t._0,1),pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 1:return{trafficMap:Ur.set(e.trafficMap,t._0,t._1),pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 2:return{trafficMap:e.trafficMap,pagesMap:Ur.set(e.pagesMap,t._0,1),refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 3:return{trafficMap:e.trafficMap,pagesMap:Ur.set(e.pagesMap,t._0,t._1),refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 4:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:Ur.set(e.refDomainsMap,t._0,1),urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 5:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:Ur.set(e.refDomainsMap,t._0,t._1),urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 6:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:Ur.set(e.urlRatingMap,t._0,1),keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 7:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:Ur.set(e.urlRatingMap,t._0,t._1),keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 8:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:Ur.set(e.keywordsMap,t._0,1),metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 9:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:Ur.set(e.keywordsMap,t._0,t._1),metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 10:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:Ur.set(e.metricsByCountryMap,t._0,1),pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 11:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:Ur.set(e.metricsByCountryMap,t._0,t._1),pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:e.keywordsByCountryMap};case 12:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:Ur.set(e.pagesByCountryMap,t._0,1),keywordsByCountryMap:e.keywordsByCountryMap};case 13:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:Ur.set(e.pagesByCountryMap,t._0,t._1),keywordsByCountryMap:e.keywordsByCountryMap};case 14:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:Ur.set(e.keywordsByCountryMap,t._0,1)};case 15:return{trafficMap:e.trafficMap,pagesMap:e.pagesMap,refDomainsMap:e.refDomainsMap,urlRatingMap:e.urlRatingMap,keywordsMap:e.keywordsMap,metricsByCountryMap:e.metricsByCountryMap,pagesByCountryMap:e.pagesByCountryMap,keywordsByCountryMap:Ur.set(e.keywordsByCountryMap,t._0,t._1)}}}function $F(e,t){if(void 0===e)return s._1(t,void 0);if("number"==typeof e)return 0===e?s._1(t,void 0):void 0;if(1===e.TAG){var r=e._0;return 0===r.TAG||"SeInvalidUrl"!==r._0?s._1(t,void 0):void 0}}function IF(e,t,r,a,o,i,n){var l=lS.getCacheKey(t,r,a,o);return $F(Ur.get(i,l),(function(i){return s._1(e,{TAG:14,_0:l}),Ye.forEach(R(void 0,OF.request,{args:{mode:a.mode,protocol:0,url:a.url,from:t,grouping:o,countries:r}}),(function(t){return s._1(e,{TAG:15,_0:l,_1:de.map(t,(function(e){return e.rows}))}),de.forEachError(t,n)}))}))}function GF(e,t,r,a,o,i,n,l){var d=tS.getCacheKeyTrafficPages(o,a,t,i);return $F(Ur.get(n,d),(function(n){return s._1(e,{TAG:0,_0:d}),Ye.forEach(R(void 0,KF.request,{args:{mode:o.mode,protocol:0,url:o.url,from:t,compareDate:r,country:Sa.Item.toCountryOpt(a),grouping:i}}),(function(t){return s._1(e,{TAG:1,_0:d,_1:t}),de.forEachError(t,l)}))}))}function QF(e,t,r,a,o,i,n,l){var d=tS.getCacheKeyTrafficPages(o,a,t,i);return $F(Ur.get(n,d),(function(n){return s._1(e,{TAG:2,_0:d}),Ye.forEach(R(void 0,BF.request,{args:{mode:o.mode,protocol:0,url:o.url,from:t,compareDate:r,country:Sa.Item.toCountryOpt(a),grouping:i}}),(function(t){return s._1(e,{TAG:3,_0:d,_1:t}),de.forEachError(t,l)}))}))}function VF(e,t,r,a,o,i,n,l){var d=tS.getCacheKeyRefDomains(o,a,i);return $F(Ur.get(n,d),(function(n){return s._1(e,{TAG:4,_0:d}),Ye.forEach(R(void 0,qF.request,{args:{mode:o.mode,protocol:0,url:o.url,from:a,compareDate:t,country:r,grouping:i},filter:void 0}),(function(t){return s._1(e,{TAG:5,_0:d,_1:t}),de.forEachError(t,l)}))}))}function jF(e,t,r,a,o,i,n,l){var d=tS.getCacheKeyRefDomains(o,a,i);return $F(Ur.get(n,d),(function(n){return s._1(e,{TAG:6,_0:d}),Ye.forEach(R(void 0,EF.request,{args:{mode:o.mode,protocol:0,url:o.url,from:a,compareDate:t,country:r,grouping:i}}),(function(t){return s._1(e,{TAG:7,_0:d,_1:t}),de.forEachError(t,l)}))}))}function HF(e,t,r,a,o,i,n,l){var d=tS.getCacheKeyTrafficPages(t,o,r,i);return $F(Ur.get(n,d),(function(n){return s._1(e,{TAG:8,_0:d}),Ye.forEach(R(void 0,xF.request,{args:{mode:t.mode,protocol:0,url:t.url,from:r,compareDate:a,country:Sa.Item.toCountryOpt(o),grouping:i}}),(function(t){return s._1(e,{TAG:9,_0:d,_1:t}),de.forEachError(t,l)}))}))}function zF(e,t,r,a,o,i,n,s,l,d,c,u){var g=Sa.Item.toCountryOpt(i),m=Sa.Item.toCountryOpt(i);return ge.forEach(r,(function(r){switch(t){case 0:case 1:case 2:case 3:return GF(e,a,o,i,r,n,s,u);case 4:return VF(e,o,g,a,r,n,d,u);case 5:return jF(e,o,m,a,r,n,c,u);case 6:return QF(e,a,o,i,r,n,l,u)}}))}function YF(e,t,r,a,o,i,n,s){return ge.forEach(t,(function(t){return HF(e,t,r,a,o,i,n,s)}))}function JF(e,t,r,a,o,i,n,l,d){return 2!==t&&t<5?function(e,t,r,a,o,i,n){var l=lS.getCacheKey(t,r,a,o);return $F(Ur.get(i,l),(function(i){return s._1(e,{TAG:10,_0:l}),Ye.forEach(R(void 0,UF.request,{args:{mode:a.mode,protocol:0,url:a.url,from:t,grouping:o,countries:r}}),(function(t){return s._1(e,{TAG:11,_0:l,_1:t}),de.forEachError(t,n)}))}))}(e,a,o,r,i,n,d):function(e,t,r,a,o,i,n){var l=lS.getCacheKey(t,r,a,o);return $F(Ur.get(i,l),(function(i){return s._1(e,{TAG:12,_0:l}),Ye.forEach(R(void 0,WF.request,{args:{mode:a.mode,protocol:0,url:a.url,from:t,grouping:o,countries:r}}),(function(t){return s._1(e,{TAG:13,_0:l,_1:t}),de.forEachError(t,n)}))}))}(e,a,o,r,i,l,d)}var XF=et.style([et.label("wrapper"),et.unsafe("position","relative"),et.backgroundColor(_e.Color.Background.box),et.boxShadows(tt.BoxShadow.CssJs.elevation1)]),ZF=et.style([et.label("header"),et.padding4(tt.NewSize.px12,tt.NewSize.px16,{NAME:"pxFloat",VAL:0},tt.NewSize.px16)]),eC=et.style([et.label("errorMessage"),et.padding2(tt.NewSize.px80,{NAME:"pxFloat",VAL:0}),et.height({NAME:"percent",VAL:100}),et.display("flex"),et.unsafe("alignItems","center"),et.unsafe("justifyContent","center")]);function tC(e,t,r,a,o){var i=function(e,t,r){return ce.filterMap(e,(function(e){var a=s._1(r,e),o=Bt.toMomentUtc(a[0]);if(o.year()===t)return[ne.moment(void 0,o,"monthDayWithDash"),a[1]]}))},n=ge.map(ce.toArray(_S.years),(function(e){var o;switch(t){case 0:var n=a.traffic;o="number"==typeof n||2!==n.TAG?0:i(n._0.rows,e,(function(e){return[e.date,CS(e,r)]}));break;case 1:var s=a.traffic;o="number"==typeof s||2!==s.TAG?0:i(s._0.rows,e,(function(e){return[e.date,wS(e,r)]}));break;case 2:var l=a.traffic;o="number"==typeof l||2!==l.TAG?0:i(l._0.rows,e,(function(e){return[e.date,TS(e,r)]}));break;case 3:var d=a.traffic;o="number"==typeof d||2!==d.TAG?0:i(d._0.rows,e,(function(e){return[e.date,bS(e,r)]}));break;case 4:var c=a.refDomains;o="number"==typeof c||2!==c.TAG?0:i(c._0.rows,e,(function(e){return[e.date,e.refdomains]}));break;case 5:var u=a.urlRating;o="number"==typeof u||2!==u.TAG?0:i(u._0.rows,e,(function(e){return[e.date,e.ur]}));break;case 6:var g=a.pages;o="number"==typeof g||2!==g.TAG?0:i(g._0.rows,e,(function(e){return[e.date,e.pages]}))}return[e,Ur.fromArray(ce.toArray(o))]}));return ge.map(_S.getDateKeys(o),(function(r){var a=ge.filterMap(n,(function(a){var o=a[0],i=me.map(Ur.get(a[1],r),(function(e){return[String(o),wr(e)]})),n=_S.monthDayToMoment(o,r);return Bt.isFutureUtc(n)||n.isBefore(e)?i:me.getWithDefault(i,[String(o),5!==t?Cr(0):Tr(void 0)])})),o=Vs.fromArray(a);return o[xt.dateKey]=Fr(r),o}))}function rC(e,t,r,a){var o=qr(ce.map(e,(function(e){return e.value<t.year()?{elementType:e.elementType,dataKey:e.dataKey,yAxisId:e.yAxisId,name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:!1,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}:e})));switch(a){case 0:case 1:case 2:case 3:break;case 4:var i=r.refDomains;return"number"==typeof i||2!==i.TAG?0:o;case 5:var n=r.urlRating;return"number"==typeof n||2!==n.TAG?0:o;case 6:var s=r.pages;return"number"==typeof s||2!==s.TAG?0:o}var l=r.traffic;return"number"==typeof l||2!==l.TAG?0:o}var aC=function(e){var t=e.syncId,r=e.tooltipAnimationActive,o=e.availableFrom,i=e.remoteData,n=e.volumeMode,l=e.spec,d=e.source,c=e.granularity,u=e.notes,g=tC(o,d,n,i,c),m=rC(l,o,i,d),f=Nr.getConfigsFromSpec(m),p={hd:At.YAxisConfig.makeAxis(void 0,"value",void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0},_=vr(f[0]),h=_[1];return z.createElement(At.make,{syncId:t,chartType:_[0],data:g,charts:h,chartHeight:260,xAxisPadding:[1,2],xAxisTicks:xt.getXTicks((function(e){return Vs.get(e,xt.dateKey)}),g),xTickFormatter:function(e){return _S.xAxisTickFormatter(c,e)},yAxisConfig:p,tooltipAnimationActive:r,hideTooltip:u[1],renderTooltip:function(e,t){var r=_S.xAxisTickFormatter,o=e.label;return z.createElement(qt.make,{hideColors:h.length<=1,label:function(e){return s._2(r,e,o)}(c),config:FS((function(e){var t=WS(d);return a.s(s._1(t,e.value))}),!1,e)})},references:u[0]})};function oC(e,t,r,a){var o=ge.map(ce.toArray(_S.years),(function(e){var a,o=r.keywords;return a="number"==typeof o||2!==o.TAG?0:ce.map(ce.filter(o._0.rows,(function(t){return Bt.toMomentUtc(t.date).year()===e})),(function(e){var r;switch(t){case 0:r=e.keywords.total;break;case 1:r=e.keywords.top3;break;case 2:r=e.keywords.top4_10;break;case 3:r=(e.keywords.total-e.keywords.top4_10|0)-e.keywords.top3|0}return[ne.moment(void 0,Bt.toMomentUtc(e.date),"monthDayWithDash"),r]})),[e,Ur.fromArray(ce.toArray(a))]}));return ge.map(_S.getDateKeys(a),(function(t){var r=ge.filterMap(o,(function(r){var a=r[0],o=me.map(Ur.get(r[1],t),(function(e){return[String(a),Cr(e)]})),i=_S.monthDayToMoment(a,t);return Bt.isFutureUtc(i)||i.isBefore(e)?o:me.getWithDefault(o,[String(a),Cr(0)])})),a=Vs.fromArray(r);return a.date=Fr(t),a}))}function iC(e,t,r){var a=qr(ce.map(e,(function(e){return e.value<t.year()?{elementType:e.elementType,dataKey:e.dataKey,yAxisId:e.yAxisId,name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:!1,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}:e})));return de.isSuccess(r.keywords)?a:0}var nC=function(e){var t=e.syncId,r=e.tooltipAnimationActive,o=e.availableFrom,i=e.remoteData,n=e.spec,l=e.source,d=e.granularity,c=e.notes,u=oC(o,l,i,d),g=iC(n,o,i),m=Nr.getConfigsFromSpec(g),f=0!==u.length?g?[u,{hd:At.YAxisConfig.makeAxis(void 0,"value",void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0}]:[u,Wr]:[_S.getStubDataForEmptyChart(d),Wr],p=f[0],_=vr(m[0]),h=_[1];return z.createElement(At.make,{syncId:t,chartType:_[0],data:p,charts:h,chartHeight:260,xAxisPadding:[1,2],xAxisTicks:xt.getXTicks((function(e){return Vs.get(e,xt.dateKey)}),p),xTickFormatter:function(e){return _S.xAxisTickFormatter(d,e)},yAxisConfig:f[1],tooltipAnimationActive:r,hideTooltip:c[1],renderTooltip:function(e,t){var r=_S.xAxisTickFormatter,o=e.label;return z.createElement(qt.make,{hideColors:h.length<=1,label:function(e){return s._2(r,e,o)}(d),config:FS((function(e){return a.s(ae.Float.full(e.value))}),!1,e)})},references:c[0]})};function sC(e,t,r,a,o,i){var n,s=0;2!==o&&o<5?n=ce.reduce(de.getWithDefault(a.metrics,0),void 0,(function(e,t){var r=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.set(e,r,ce.map(t.countries,(function(e){var t;switch(o){case 0:t="Average"===i?e.organic.trafficAvg:e.organic.traffic;break;case 1:t=Pe("Average"===i?e.organic.costAvg:e.organic.cost);break;case 3:t="Average"===i?e.paid.trafficAvg:e.paid.traffic;break;case 4:t=Pe("Average"===i?e.paid.costAvg:e.paid.cost);break;case 2:case 5:t=0}return[e.country,t]})))})):s=1,1===s&&(n=ce.reduce(de.getWithDefault(a.pages,0),void 0,(function(e,t){var r=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.set(e,r,ce.map(t.countries,(function(e){var t=2!==o?o>=5?e.paid.keywords:0:e.organic.keywords;return[e.country,t]})))})));var l=Yt(e),d=ce.toArray(yr(l[0],l[1],t)),c=ce.toArray(ce.map(r,(function(e){return[se.code(e.value),Cr(0)]})));return ge.map(d,(function(e){var t=ne.moment(void 0,e,"dateWithDashes"),r=me.getWithDefault(Ur.get(n,t),0),a=ce.toArray(ce.map(r,(function(e){return[se.code(e[0]),Cr(e[1])]}))),o=Vs.fromArray(ge.concatMany([c,a]));return o[xt.dateKey]=Fr(t),o}))}function lC(e,t,r){var a=qr(e);if(2!==r&&r<5){var o=t.metrics;return"number"==typeof o||2!==o.TAG?0:a}var i=t.pages;return"number"==typeof i||2!==i.TAG?0:a}var dC=function(e){var t=e.syncId,r=e.tooltipAnimationActive,o=e.timeFrame,i=e.data,n=e.spec,l=e.source,d=e.granularity,c=e.volumeMode,u=e.notes,g=sC(o,d,n,i,l,c),m=lC(n,i,l),f=Nr.getConfigsFromSpec(m),p=0!==g.length?m?[g,{hd:At.YAxisConfig.makeAxis(void 0,"value",void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0}]:[g,Wr]:[xr(o,d),Wr],_=p[0],h=vr(f[0]),k=h[1];return z.createElement(At.make,{syncId:t,chartType:h[0],data:_,charts:k,chartHeight:260,xAxisPadding:[1,2],xAxisTicks:xt.getXTicks((function(e){return Vs.get(e,xt.dateKey)}),_),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(g,(function(e){return Ar(Vs.get(e,xt.dateKey))}),d,t)},yAxisConfig:p[1],tooltipAnimationActive:r,hideTooltip:u[1],renderTooltip:function(e,t){return z.createElement(qt.make,{hideColors:k.length<=1,label:Dr(re.moment(void 0,e.label),d),config:FS((function(e){var t=function(e){return 1!==e&&4!==e?ae.Float.full:Me}(l);return a.s(s._1(t,e.value))}),!0,e)})},isAnimationActive:!0,animationDuration:1,references:u[0]})};function cC(e,t,r,a,o){var i=function(e,t){return Ur.fromArray(ce.toArray(ce.map(e,(function(e){var r=s._1(t,e);return[ne.moment(void 0,Bt.toMomentUtc(r[0]),"dateWithDashes"),r[1]]}))))},n=ge.map(t,(function(e){var t,o=OD.Raw.toKey(e.target),n=e.data;switch(r){case 0:var s=n.traffic;t="number"==typeof s||2!==s.TAG?void 0:i(s._0.rows,(function(e){return[e.date,CS(e,a)]}));break;case 1:var l=n.traffic;t="number"==typeof l||2!==l.TAG?void 0:i(l._0.rows,(function(e){return[e.date,wS(e,a)]}));break;case 2:var d=n.traffic;t="number"==typeof d||2!==d.TAG?void 0:i(d._0.rows,(function(e){return[e.date,TS(e,a)]}));break;case 3:var c=n.traffic;t="number"==typeof c||2!==c.TAG?void 0:i(c._0.rows,(function(e){return[e.date,bS(e,a)]}));break;case 4:var u=n.refDomains;t="number"==typeof u||2!==u.TAG?void 0:i(u._0.rows,(function(e){return[e.date,e.refdomains]}));break;case 5:var g=n.urlRating;t="number"==typeof g||2!==g.TAG?void 0:i(g._0.rows,(function(e){return[e.date,e.ur]}));break;case 6:var m=n.pages;t="number"==typeof m||2!==m.TAG?void 0:i(m._0.rows,(function(e){return[e.date,e.pages]}))}return[o,t]})),l=Yt(e),d=ge.map(t,(function(e){return[OD.Raw.toKey(e.target),5!==r?Cr(0):Tr(void 0)]})),c=yr(l[0],l[1],o);return ce.toArray(ce.map(c,(function(e){var t=ne.moment(void 0,e,"dateWithDashes"),r=ge.filterMap(n,(function(e){var r=e[0];return me.map(Ur.get(e[1],t),(function(e){return[r,wr(e)]}))})),a=Vs.fromArray(ge.concatMany([d,r]));return a[xt.dateKey]=Fr(t),a})))}function uC(e,t,r){return ce.filter(qr(e),(function(e){return me.mapWithDefault(ge.getBy(t,(function(t){return mt.caml_equal(t.target,e.value)})),!1,(function(e){var t=e.data,a=0;switch(r){case 0:case 1:a=1;break;case 2:case 3:a=2;break;case 4:var o=t.refDomains;return"number"!=typeof o&&2===o.TAG;case 5:var i=t.urlRating;return"number"!=typeof i&&2===i.TAG;case 6:var n=t.pages;return"number"!=typeof n&&2===n.TAG}switch(a){case 1:var s=t.traffic;return"number"!=typeof s&&2===s.TAG;case 2:var l=t.traffic;return"number"!=typeof l&&2===l.TAG}}))}))}var gC=function(e){var t=e.syncId,r=e.tooltipAnimationActive,o=e.timeFrame,i=e.domains,n=e.spec,l=e.source,d=e.granularity,c=e.volumeMode,u=e.notes,g=cC(o,i,l,c,d),m=uC(n,i,l),f=Nr.getConfigsFromSpec(m),p={hd:At.YAxisConfig.makeAxis(void 0,"value",void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0},_=vr(f[0]),h=_[1];return z.createElement(At.make,{syncId:t,chartType:_[0],data:g,charts:h,chartHeight:260,xAxisPadding:[1,2],xAxisTicks:xt.getXTicks((function(e){return Vs.get(e,xt.dateKey)}),g),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(g,(function(e){return Ar(Vs.get(e,xt.dateKey))}),d,t)},yAxisConfig:p,tooltipAnimationActive:r,hideTooltip:u[1],renderTooltip:function(e,t){return z.createElement(qt.make,{hideColors:h.length<=1,label:Dr(re.moment(void 0,e.label),d),config:FS((function(e){var t=WS(l);return a.s(s._1(t,e.value))}),!0,e)})},isAnimationActive:!0,animationDuration:1,references:u[0]})};function mC(e,t,r,a,o){var i=ce.reduce(de.getWithDefault(a.keywords,0),void 0,(function(e,t){var r=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.set(e,r,ce.map(t.countries,(function(e){var t;switch(o){case 0:t=e.keywords.total;break;case 1:t=e.keywords.top3;break;case 2:t=e.keywords.top4_10;break;case 3:t=(e.keywords.total-e.keywords.top4_10|0)-e.keywords.top3|0}return[e.country,t]})))})),n=Yt(e),s=ce.toArray(yr(n[0],n[1],t)),l=ce.toArray(ce.map(r,(function(e){return[se.code(e.value),Cr(0)]})));return ge.map(s,(function(e){var t=ne.moment(void 0,e,"dateWithDashes"),r=me.getWithDefault(Ur.get(i,t),0),a=ce.toArray(ce.map(r,(function(e){return[se.code(e[0]),Cr(e[1])]}))),o=Vs.fromArray(ge.concatMany([l,a]));return o.date=Fr(t),o}))}function fC(e,t){var r=qr(e);return de.isSuccess(t.keywords)?r:0}var pC=function(e){var t=e.syncId,r=e.tooltipAnimationActive,o=e.timeFrame,i=e.data,n=e.spec,s=e.source,l=e.granularity,d=e.notes,c=mC(o,l,n,i,s),u=fC(n,i),g=Nr.getConfigsFromSpec(u),m=0!==c.length?u?[c,{hd:At.YAxisConfig.makeAxis(void 0,"value",void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0}]:[c,Wr]:[xr(o,l),Wr],f=m[0],p=vr(g[0]),_=p[1];return z.createElement(At.make,{syncId:t,chartType:p[0],data:f,charts:_,chartHeight:260,xAxisPadding:[1,2],xAxisTicks:xt.getXTicks((function(e){return Vs.get(e,xt.dateKey)}),f),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(c,(function(e){return Ar(Vs.get(e,"date"))}),l,t)},yAxisConfig:m[1],tooltipAnimationActive:r,hideTooltip:d[1],renderTooltip:function(e,t){return z.createElement(qt.make,{hideColors:_.length<=1,label:Dr(re.moment(void 0,e.label),l),config:FS((function(e){return a.s(ae.Float.full(e.value))}),!0,e)})},isAnimationActive:!0,animationDuration:1,references:d[0]})};function _C(e,t,r,a){var o=ge.map(t,(function(e){var t=OD.Raw.toKey(e.target),a=e.data.keywords;return[t,"number"==typeof a||2!==a.TAG?void 0:Ur.fromArray(ce.toArray(ce.map(a._0.rows,(function(e){var t;switch(r){case 0:t=e.keywords.total;break;case 1:t=e.keywords.top3;break;case 2:t=e.keywords.top4_10;break;case 3:t=(e.keywords.total-e.keywords.top4_10|0)-e.keywords.top3|0}return[ne.moment(void 0,Bt.toMomentUtc(e.date),"dateWithDashes"),t]}))))]})),i=Yt(e),n=ge.map(t,(function(e){return[OD.Raw.toKey(e.target),Cr(0)]})),s=yr(i[0],i[1],a);return ce.toArray(ce.map(s,(function(e){var t=ne.moment(void 0,e,"dateWithDashes"),r=ge.filterMap(o,(function(e){var r=e[0];return me.map(Ur.get(e[1],t),(function(e){return[r,Cr(e)]}))})),a=Vs.fromArray(ge.concatMany([n,r]));return a.date=Fr(t),a})))}function hC(e,t){return ce.filter(qr(e),(function(e){return me.mapWithDefault(ge.getBy(t,(function(t){return mt.caml_equal(t.target,e.value)})),!1,(function(e){return de.isSuccess(e.data.keywords)}))}))}var kC=function(e){var t=e.syncId,r=e.tooltipAnimationActive,o=e.timeFrame,i=e.domains,n=e.spec,s=e.source,l=e.granularity,d=e.notes,c=_C(o,i,s,l),u=hC(n,i),g=Nr.getConfigsFromSpec(u),m=0!==c.length?u?[c,{hd:At.YAxisConfig.makeAxis(void 0,"value",void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0}]:[c,Wr]:[xr(o,l),Wr],f=m[0],p=vr(g[0]),_=p[1];return z.createElement(At.make,{syncId:t,chartType:p[0],data:f,charts:_,chartHeight:260,xAxisPadding:[1,2],xAxisTicks:xt.getXTicks((function(e){return Vs.get(e,xt.dateKey)}),f),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(c,(function(e){return Ar(Vs.get(e,"date"))}),l,t)},yAxisConfig:m[1],tooltipAnimationActive:r,hideTooltip:d[1],renderTooltip:function(e,t){return z.createElement(qt.make,{hideColors:_.length<=1,label:Dr(re.moment(void 0,e.label),l),config:FS((function(e){return a.s(ae.Float.full(e.value))}),!0,e)})},isAnimationActive:!0,animationDuration:1,references:d[0]})};function vC(e,t){return Ai(Ar(Vs.get(t,xt.dateKey)),e)}var yC=function(e,t,r){var a=0===JS(t,e.data),o=0===iF(r,e.data);return!!a&&o},DC=function(e,t,r,a,o,i,n){var l=0===r?void 0:YS(i,n,o,e.data),d=0===a?void 0:oF(i,n,e.data),c=JS(r,e.data),u=iF(a,e.data),g="Metric, "+ce.joinWith(ce.concat(ce.map(c,(function(t){return qS(t.value,n,e.target.mode)})),ce.map(u,(function(e){return"Organic keywords: "+tF(e.value)}))),", ")+"\nVolume, "+ce.joinWith(ce.concat(ce.map(c,(function(e){return e.value>=4?"-":Pa.VolumeMode.toExportColumnName(o)})),ce.map(u,(function(e){return"-"}))),", ")+"\nCountry, "+ce.joinWith(ce.concat(ce.map(c,(function(e){return e.value-4>>>0>1?Sa.Item.toExportColumnName(t):"-"})),ce.map(u,(function(e){return Sa.Item.toExportColumnName(t)}))),", ")+"\n",m=function(e){return ce.map(c,(function(t){switch(t.value){case 0:return e.organicTraffic.toString();case 1:return e.paidTraffic.toString();case 2:return e.organicTrafficValue.toString();case 3:return e.paidTrafficCost.toString();case 4:return e.refDomains.toString();case 5:return me.mapWithDefault(e.urlRating,"",(function(e){return e.toString()}));case 6:return e.pages.toString()}}))},f=function(e){return ce.map(u,(function(t){var r;switch(t.value){case 0:r=e.top3;break;case 1:r=e.top4_10;break;case 2:r=e.top11}return String(r)}))},p=g+ge.joinWithNewLine(void 0!==l?void 0!==d?ge.map(ge.zip(l,d),(function(e){var t=e[0],r=ce.joinWith(ce.concat(m(t),f(e[1])),", ");return Ai(Bt.fromString(t.date),n)+", "+r})):ge.map(l,(function(e){var t=ce.joinWith(m(e),", ");return Ai(Bt.fromString(e.date),n)+", "+t})):void 0!==d?ge.map(d,(function(e){var t=ce.joinWith(f(e),", ");return Ai(Bt.fromString(e.date),n)+", "+t})):[]),_=Se({hd:e.target.url.trim(),tl:{hd:"perf",tl:0}});return js.string(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:{TAG:11,_0:".csv",_1:0}}}},_1:"%s_%s.csv"}),_,ne.moment(void 0,Z(),"timestamp")),"application/octet-stream",p)};function SC(e,t,r,a){return void 0!==r?void 0!==a?hC(uC(t,e,r),e):uC(t,e,r):void 0!==a?hC(t,e):0}var FC=function(e,t,r,a){return 0===SC(e,t,r,a)},CC=function(e,t,r,a,o,i,n,l){var d=me.map(a,(function(t){return cC(i,e,t,r,n)})),c=me.map(o,(function(t){return _C(i,e,t,n)})),u=SC(e,t,a,o),g=me.mapWithDefault(ge.get(e,0),{url:"",mode:3},(function(e){return e.target})),m=me.map(a,(function(e){return qS(e,n,g.mode)})),f=me.map(o,uF),p=me.map(a,(function(e){return e>=4?"-":Pa.VolumeMode.toExportColumnName(r)})),_=me.map(o,(function(e){return"-"})),h=me.map(a,(function(e){return 5===e||4===e?"-":Sa.Item.toExportColumnName(l)})),k=me.map(o,(function(e){return Sa.Item.toExportColumnName(l)})),v="Competitor, "+ce.joinWith(ce.map(u,(function(e){var t=e.value,r=s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:" (",_1:{TAG:2,_0:0,_1:{TAG:12,_0:41,_1:0}}}},_1:"%s (%s)"}),t.url,V.toExportName(t.mode));return void 0!==a?void 0!==o?r+", "+r:r:void 0!==o?r:""})),", ")+"\nMetric, "+ce.joinWith(ce.map(u,(function(e){return void 0!==m?void 0!==f?m+", "+f:m:void 0!==f?f:""})),", ")+"\nVolume, "+ce.joinWith(ce.map(u,(function(e){return void 0!==p?void 0!==_?p+", "+_:p:void 0!==_?_:""})),", ")+"\nCountry, "+ce.joinWith(ce.map(u,(function(e){return void 0!==h?void 0!==k?h+", "+k:h:void 0!==k?k:""})),", ")+"\n",y=function(e,t){var r=OD.Raw.toKey(t.value);return me.mapWithDefault(me.flatMap(Vs.get(e,r),Pr),"",(function(e){return e.toString()}))},D=ge.joinWithNewLine(void 0!==d?void 0!==c?ge.map(ge.zip(d,c),(function(e){var t=e[1],r=e[0],a=ce.joinWith(ce.map(u,(function(e){return y(r,e)+", "+y(t,e)})),", ");return vC(n,r)+", "+a})):ge.map(d,(function(e){var t=ce.joinWith(ce.map(u,(function(t){return y(e,t)})),", ");return vC(n,e)+", "+t})):void 0!==c?ge.map(c,(function(e){var t=ce.joinWith(ce.map(u,(function(t){return y(e,t)})),", ");return vC(n,e)+", "+t})):[]),S=v+D,F=Se({hd:g.url.trim(),tl:{hd:"overview-competitors",tl:0}});return js.string(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:{TAG:11,_0:".csv",_1:0}}}},_1:"%s_%s.csv"}),F,ne.moment(void 0,Z(),"timestamp")),"application/octet-stream",S)};function wC(e,t,r,a){return void 0!==r?void 0!==a?fC(lC(e,t,r),t):lC(e,t,r):void 0!==a?fC(e,t):0}var TC=function(e,t,r,a){return 0===wC(e,t,r,a)},bC=function(e,t,r,a,o,i,n,l){var d=me.map(r,(function(r){return sC(n,l,e,t,r,i)})),c=me.map(a,(function(r){return mC(n,l,e,t,r)})),u=wC(e,t,r,a),g=me.map(r,(function(e){return vF(e,l)})),m=me.map(a,uF),f=me.map(r,(function(e){return 2!==e&&e<5?Pa.VolumeMode.toExportColumnName(i):"-"})),p=me.map(a,(function(e){return"-"})),_="Country, "+ce.joinWith(ce.map(u,(function(e){var t=se.name(e.value).replace(","," - ");return void 0!==r?void 0!==a?t+", "+t:t:void 0!==a?t:""})),", ")+"\nMetric, "+ce.joinWith(ce.map(u,(function(e){return void 0!==g?void 0!==m?g+", "+m:g:void 0!==m?m:""})),", ")+"\nVolume, "+ce.joinWith(ce.map(u,(function(e){return void 0!==f?void 0!==p?f+", "+p:f:void 0!==p?p:""})),", ")+"\n",h=function(e,t){var r=se.code(t.value);return me.mapWithDefault(me.flatMap(Vs.get(e,r),Pr),"",(function(e){return e.toString()}))},k=ge.joinWithNewLine(void 0!==d?void 0!==c?ge.map(ge.zip(d,c),(function(e){var t=e[1],r=e[0],a=ce.joinWith(ce.map(u,(function(e){return h(r,e)+", "+h(t,e)})),", ");return vC(l,r)+", "+a})):ge.map(d,(function(e){var t=ce.joinWith(ce.map(u,(function(t){return h(e,t)})),", ");return vC(l,e)+", "+t})):void 0!==c?ge.map(c,(function(e){var t=ce.joinWith(ce.map(u,(function(t){return h(e,t)})),", ");return vC(l,e)+", "+t})):[]),v=_+k,y=Se({hd:o.url.trim(),tl:{hd:"overview-countries",tl:0}});return js.string(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:{TAG:11,_0:".csv",_1:0}}}},_1:"%s_%s.csv"}),y,ne.moment(void 0,Z(),"timestamp")),"application/octet-stream",v)};function PC(e,t,r,a,o){return void 0!==a?void 0!==o?iC(rC(r,e,t.data,a),e,t.data):rC(r,e,t.data,a):void 0!==o?iC(r,e,t.data):0}var MC=function(e,t,r,a,o){return 0===PC(e,t,r,a,o)},AC=function(e,t,r,a,o,i,n,l){var d=me.map(a,(function(r){return tC(e,r,i,t.data,n)})),c=me.map(o,(function(r){return oC(e,r,t.data,n)})),u=PC(e,t,r,a,o),g=me.map(a,(function(e){return qS(e,n,t.target.mode)})),m=me.map(o,uF),f=me.map(a,(function(e){return e>=4?"-":Pa.VolumeMode.toExportColumnName(i)})),p=me.map(o,(function(e){return"-"})),_=me.map(a,(function(e){return 5===e||4===e?"-":Sa.Item.toExportColumnName(l)})),h=me.map(o,(function(e){return Sa.Item.toExportColumnName(l)})),k="Year, "+ce.joinWith(ce.map(u,(function(e){var t=String(e.value);return void 0!==a?void 0!==o?t+", "+t:t:void 0!==o?t:""})),", ")+"\nMetric, "+ce.joinWith(ce.map(u,(function(e){return void 0!==g?void 0!==m?g+", "+m:g:void 0!==m?m:""})),", ")+"\nVolume, "+ce.joinWith(ce.map(u,(function(e){return void 0!==f?void 0!==p?f+", "+p:f:void 0!==p?p:""})),", ")+"\nCountry, "+ce.joinWith(ce.map(u,(function(e){return void 0!==_?void 0!==h?_+", "+h:_:void 0!==h?h:""})),", ")+"\n",v=function(e,t){var r=String(t.value);return me.mapWithDefault(me.flatMap(Vs.get(e,r),Pr),"",(function(e){return e.toString()}))},y=function(e){var t=me.map(Mr(Vs.get(e,xt.dateKey)),(function(e){return Bt.fromStringUtc("1950-"+e)}));return 0!==n?me.mapWithDefault(t,"",(function(e){return ne.moment(void 0,e,"shortMonth")})):me.mapWithDefault(t,"",(function(e){return ne.moment(void 0,e,"dayShortMonth")}))},D=ge.joinWithNewLine(void 0!==d?void 0!==c?ge.map(ge.zip(d,c),(function(e){var t=e[1],r=e[0],a=ce.joinWith(ce.map(u,(function(e){return v(r,e)+", "+v(t,e)})),", ");return y(r)+", "+a})):ge.map(d,(function(e){var t=ce.joinWith(ce.map(u,(function(t){return v(e,t)})),", ");return y(e)+", "+t})):void 0!==c?ge.map(c,(function(e){var t=ce.joinWith(ce.map(u,(function(t){return v(e,t)})),", ");return y(e)+", "+t})):[]),S=k+D,F=Se({hd:t.target.url.trim(),tl:{hd:"overview-years",tl:0}});return js.string(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:{TAG:11,_0:".csv",_1:0}}}},_1:"%s_%s.csv"}),F,ne.moment(void 0,Z(),"timestamp")),"application/octet-stream",S)},RC=r(87339),LC=r(3831),EC=function(e){var t=e.onRefetch,r={a:function(e){return z.createElement(it.make,{onClick:function(e){return s._1(t,void 0)},children:a.s(e)})}};return z.createElement(pt.make,{color:"secondary",children:s._2(ke.Message.format_to_s,{id:"bd8393fac0430c8f6a3ef44161958046",defaultMessage:"Couldn't fetch data. <a>Try again</a>"},r)})},BC=function(e){var t=e.country,r=e.message,a=e.hideRemoveButton,o=e.onChange,i=e.onRemove,n=void 0!==r?l.valFromOption(r):null,d=void 0!==a&&a,c={scope:2,fullWidth:!0,onSelect:function(e){return s._1(o,e)},placeholder:s._1(ke.Message.to_s,{id:"c17bc640f1508f2eeefd81a0266af116",defaultMessage:"Select country"}),showFlagInControl:!0};return void 0!==t&&(c.selectedCountry=l.valFromOption(t)),z.createElement(ct.make,{gap:"px6",children:null},z.createElement(Je.make,{gap:"px10",layout:d?{hd:"auto",tl:0}:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Sa.WithoutAll.make,c),d?null:z.createElement(ht.make,{color:"ghost",width:"fit",onClick:function(e){return s._1(i,void 0)},children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))})),n)},KC=et.style([et.label("footer"),et.display("flex"),et.height({NAME:"pxFloat",VAL:34}),et.borderTop({NAME:"pxFloat",VAL:1},"solid",_e.Color.Border.lineAlpha)]);function qC(e,t){return t?{countries:t._0}:{countries:ge.concat(e.countries,[void 0])}}var xC=function(e){var t=e.data,r=e.isOpen,o=e.isPagesChartOpen,i=e.isKeywordsChartOpen,n=e.disabled,d=e.source,c=e.topLevelCountry,u=e.countries,g=e.onVisibilityChanged,m=e.onApply,f=e.onRefetch,p=void 0!==n&&n,_=ce.length(u),h=ce.map(u,(function(e){return e})),k=h?ce.toArray(h):c?[c._0]:[void 0],v=VD(o,i,(function(e){return lS.getPagesRemoteDataState(d,t)}),(function(e){return lS.getKeywordsRemoteDataState(t)})),y=z.useReducer(qC,{countries:k}),D=y[1],S=y[0];z.useEffect((function(){s._1(D,{_0:k})}),[r]);var F,C=function(e,t){var r=void 0!==e?e:S.countries,a=ce.toArray(lS.unique(ce.filterMap(ce.fromArray(r),(function(e){return e}))));return s._1(m,a),s._1(g,!1)},w=1===S.countries.length;if(0!==_){var T={num:a.s(String(_))};F=z.createElement(z.Fragment,void 0,z.createElement(pt.make,{children:s._2(ke.Message.format_to_s,{id:"60e2e528bdb1f23bf8c5313848f66ab5",defaultMessage:"Countries:  {num}"},T)}),z.createElement(_o.make,{onClick:function(e){return e.stopPropagation(),C([])},children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}))}else F=z.createElement(z.Fragment,void 0,s._1(ke.Message.to_s,{id:"59c0134a5a183a1d5f938045e63b2e79",defaultMessage:"Countries"}),z.createElement(Xe.Triangle.make,s.app(Xe.Triangle.makeProps,[void 0,void 0,0,r?0:1,void 0,void 0,void 0,void 0,void 0,void 0,void 0])));return z.createElement(LC.make,{isOpen:r,placement:"bottomStart",content:z.createElement("div",void 0,z.createElement(po.make,{padding:"blockSm",children:z.createElement(ct.make,{gap:"px8",children:null},ge.mapWithIndex(S.countries,(function(e,t){var r={hasError:2===v,hasLoader:0===v,message:"number"==typeof v?2!==v?v>=3?z.createElement(EC,{onRefetch:function(e){return s._1(f,t),s._1(g,!1)}}):null:z.createElement(pt.make,{color:"danger",children:s._1(ke.Message.to_s,{id:"c645cb8f5ce0a10891a4710c5e148c0d",defaultMessage:"URL is not valid"})}):null,hideRemoveButton:w,onChange:function(t){var r=function(e,t,r){return ge.mapWithIndex(e,(function(e,a){return e===t?s._1(r,a):a}))}(S.countries,e,(function(e){return t}));return s._1(D,{_0:r})},onRemove:function(t){var r=function(e,t){return ge.filterWithIndex(e,(function(e,r){return r!==t}))}(S.countries,e);return s._1(D,{_0:r})},key:w?"hide"+String(e):"show"+String(e)};return void 0!==t&&(r.country=l.valFromOption(t)),z.createElement(BC,r)})),S.countries.length<10?z.createElement(ht.make,{color:"ghost",onClick:function(e){return s._1(D,0)},children:null},z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"bc5e7f59ee39581561709a463c20f9f6",defaultMessage:"Add country"})):null)}),z.createElement("div",{className:KC},z.createElement(ht.make,{color:"ghost",roundness:"bottomOnly",width:"stretch",height:"stretch",onClick:function(e){return C(void 0)},children:z.createElement(RC.make,{children:s._1(ke.Message.to_s,{id:"b461a989b660dd62c9b9f655c54b7aae",defaultMessage:"Apply"})})}))),maxWidth:{NAME:"px",VAL:338},onClickOutside:function(e){return s._1(g,!1)},offset:[-10,7],fullWidth:!0,onKeyDown:function(e){return 4!==p_.$$KeyboardEvent.keyFromEventKey(e.key)?void 0:s._1(g,!1)},children:z.createElement("div",{onClick:function(e){return p?void 0:s._1(g,!r)}},z.createElement(Je.make,{gap:"px10",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:F}))})},WC=r(56344),UC=et.style([et.label("footer"),et.display("flex"),et.height({NAME:"pxFloat",VAL:34}),et.borderTop({NAME:"pxFloat",VAL:1},"solid",_e.Color.Border.lineAlpha)]);function OC(e,t){return t?{targets:t._0}:{targets:ge.concat(e.targets,[OD.Raw.empty])}}var NC=function(e){var t=e.isOpen,r=e.isPagesChartOpen,o=e.isKeywordsChartOpen,i=e.disabled,n=e.source,d=e.targets,c=e.focusInputIndex,u=e.getDomains,g=e.onVisibilityChanged,m=e.onApply,f=e.onRefetch,p=void 0!==i&&i,_=z.useReducer(OC,{targets:d}),h=_[1],k=_[0],v=ge.filter(d,(function(e){return""!==e.url.trim()})).length;z.useEffect((function(){t&&s._1(h,{_0:d})}),[t]);var y,D=z.useRef(null),S=function(e,t){var r=void 0!==e?e:k.targets;return s._1(m,ge.filter(r,(function(e){return""!==e.url.trim()}))),s._1(g,!1)},F=s._1(u,k.targets);if(0!==v){var C={num:a.s(String(v))};y=z.createElement(z.Fragment,void 0,z.createElement(pt.make,{children:s._2(ke.Message.format_to_s,{id:"31313808acbcc561da316847374d572e",defaultMessage:"Competitors:  {num}"},C)}),z.createElement(_o.make,{onClick:function(e){return e.stopPropagation(),S([])},children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}))}else y=z.createElement(z.Fragment,void 0,s._1(ke.Message.to_s,{id:"38f9b90b54954a98944ad74a2423b270",defaultMessage:"Competitors"}),z.createElement(Xe.Triangle.make,s.app(Xe.Triangle.makeProps,[void 0,void 0,0,t?0:1,void 0,void 0,void 0,void 0,void 0,void 0,void 0])));return z.createElement(LC.make,{isOpen:t,placement:"bottomStart",content:z.createElement("div",void 0,z.createElement(po.make,{padding:"blockSm",children:z.createElement(ct.make,{gap:"px8",children:null},ge.mapWithIndex(F,(function(e,t){var a=VD(r,o,(function(e){return tS.getPagesRemoteDataState(n,t.data)}),(function(e){return tS.getKeywordsRemoteDataState(t.data)})),i=me.getWithDefault(c,k.targets.length-1|0),d={target:t.target,hasError:2===a,hasLoader:0===a,message:"number"==typeof a?2!==a?a>=3?z.createElement(EC,{onRefetch:function(e){return s._1(f,t),s._1(g,!1)}}):null:z.createElement(pt.make,{color:"danger",children:s._1(ke.Message.to_s,{id:"c645cb8f5ce0a10891a4710c5e148c0d",defaultMessage:"URL is not valid"})}):null,hideRemoveButton:1===k.targets.length,onSubmit:function(t,r){var a=function(e,t,r){return ge.mapWithIndex(e,(function(e,a){return e===t?s._1(r,a):a}))}(k.targets,e,(function(e){return r}));if(s._1(h,{_0:a}),t>=2)return S(a)},onRemove:function(t){var r=function(e,t){return ge.filterWithIndex(e,(function(e,r){return r!==t}))}(k.targets,e);return s._1(h,{_0:r})},key:String(e)},u=e===i?D:void 0;return void 0!==u&&(d.domRef=l.valFromOption(u)),z.createElement(WC.make,d)})),k.targets.length<10?z.createElement(ht.make,{color:"ghost",onClick:function(e){return s._1(h,0)},children:null},z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"c85156677e6c8c6c1147a67b2e769944",defaultMessage:"Add competitor"})):null)}),z.createElement("div",{className:UC},z.createElement(ht.make,{color:"ghost",roundness:"bottomOnly",width:"stretch",height:"stretch",onClick:function(e){return S(void 0)},children:z.createElement(RC.make,{children:s._1(ke.Message.to_s,{id:"b461a989b660dd62c9b9f655c54b7aae",defaultMessage:"Apply"})})}))),maxWidth:{NAME:"px",VAL:460},onClickOutside:function(e){return s._1(g,!1)},onShown:function(e){return Sg.focus(D)},offset:[-10,7],fullWidth:!0,onKeyDown:function(e){return 4!==p_.$$KeyboardEvent.keyFromEventKey(e.key)?void 0:s._1(g,!1)},children:z.createElement("div",{onClick:function(e){return p?void 0:s._1(g,!t)}},z.createElement(Je.make,{gap:"px10",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:y}))})},$C="overview-chart";function IC(e,t){switch(0|t.TAG){case 0:return{dropdownOpenState:0,competitorToFocus:t._0,pageMetricsSpec:e.pageMetricsSpec,keywordsMetricsSpec:e.keywordsMetricsSpec,competitorsSpec:e.competitorsSpec,countriesSpec:e.countriesSpec,yearsSpec:e.yearsSpec,api:e.api};case 1:return{dropdownOpenState:t._0,competitorToFocus:void 0,pageMetricsSpec:e.pageMetricsSpec,keywordsMetricsSpec:e.keywordsMetricsSpec,competitorsSpec:e.competitorsSpec,countriesSpec:e.countriesSpec,yearsSpec:e.yearsSpec,api:e.api};case 2:return{dropdownOpenState:e.dropdownOpenState,competitorToFocus:e.competitorToFocus,pageMetricsSpec:t._0,keywordsMetricsSpec:e.keywordsMetricsSpec,competitorsSpec:e.competitorsSpec,countriesSpec:e.countriesSpec,yearsSpec:e.yearsSpec,api:e.api};case 3:return{dropdownOpenState:e.dropdownOpenState,competitorToFocus:e.competitorToFocus,pageMetricsSpec:e.pageMetricsSpec,keywordsMetricsSpec:t._0,competitorsSpec:e.competitorsSpec,countriesSpec:e.countriesSpec,yearsSpec:e.yearsSpec,api:e.api};case 4:return{dropdownOpenState:e.dropdownOpenState,competitorToFocus:e.competitorToFocus,pageMetricsSpec:e.pageMetricsSpec,keywordsMetricsSpec:e.keywordsMetricsSpec,competitorsSpec:t._0,countriesSpec:e.countriesSpec,yearsSpec:e.yearsSpec,api:e.api};case 5:return{dropdownOpenState:e.dropdownOpenState,competitorToFocus:e.competitorToFocus,pageMetricsSpec:e.pageMetricsSpec,keywordsMetricsSpec:e.keywordsMetricsSpec,competitorsSpec:e.competitorsSpec,countriesSpec:t._0,yearsSpec:e.yearsSpec,api:e.api};case 6:return{dropdownOpenState:e.dropdownOpenState,competitorToFocus:e.competitorToFocus,pageMetricsSpec:e.pageMetricsSpec,keywordsMetricsSpec:e.keywordsMetricsSpec,competitorsSpec:e.competitorsSpec,countriesSpec:e.countriesSpec,yearsSpec:t._0,api:e.api};case 7:return{dropdownOpenState:e.dropdownOpenState,competitorToFocus:e.competitorToFocus,pageMetricsSpec:e.pageMetricsSpec,keywordsMetricsSpec:e.keywordsMetricsSpec,competitorsSpec:e.competitorsSpec,countriesSpec:e.countriesSpec,yearsSpec:e.yearsSpec,api:NF(e.api,t._0)}}}var GC=navigator.userAgent.search(/^((?!chrome|android).)*safari/i)>=0,QC=function(e){var t,r=e.compareDate,o=e.target,i=e.historicalPermissions,n=e.settings,d=e.filters,c=e.onFiltersChange,u=e.onError,g=e.onSettingsUpdated,m=OD.Validated.toRaw(OD.Validated.ofTarget(o)),f=ce.toArray(d.competitors),p=0!==f.length?ge.concat([m],f):[m,OD.Raw.empty],_=ge.slice(p,1,p.length),h=z.useReducer(IC,{dropdownOpenState:void 0,competitorToFocus:void 0,pageMetricsSpec:(t=d.pagesMetricsChartSources,ce.mapWithIndex(jS.all,(function(e,r){return{elementType:2,dataKey:QS(r),yAxisId:HS(r),name:"",stackId:void 0,value:r,type_:"linear",color:At.getChartColor(zS,e,void 0),reversed:!1,show:ce.has(t,r,Qr.equal),areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0}}))),keywordsMetricsSpec:aF(d.keywordsMetricsChartSources),competitorsSpec:tS.makeAllSpec(p),countriesSpec:lS.makeAllSpec(d.countries),yearsSpec:_S.spec,api:{trafficMap:void 0,pagesMap:void 0,refDomainsMap:void 0,urlRatingMap:void 0,keywordsMap:void 0,metricsByCountryMap:void 0,pagesByCountryMap:void 0,keywordsByCountryMap:void 0}}),k=h[1],v=h[0],y=bF(d.country,d.chartMode),D=y?Zt(i):0,S=Yt(D)[0],F=!!y&&"HistoryNotAllowed"===i,C=QD(p)+(me.getWithDefault(s._1(vS.toString,d.chartMode),"")+(jt(D)+(OD.Raw.toKey(m)+me.getWithDefault(s._1(Ki,d.granularity),"")))),w=qr(v.pageMetricsSpec);z.useEffect((function(e){var t=d.isPagesChartOpen,a=d.chartMode;t&&!F&&0===a&&function(e,t,r,a,o,i,n,l,d,c,u,g){var m,f=Sa.Item.toCountryOpt(i),p=function(t,r,i,n){return VF(e,o,f,a,t,r,i,n)},_=Sa.Item.toCountryOpt(i),h=function(t,r,i,n){return jF(e,o,_,a,t,r,i,n)};ce.some(t,(function(e){return e.value<4}))&&(m=r,function(t){return GF(e,a,o,i,m,n,t,g)})(l),ce.some(t,(function(e){return e.value>=6}))&&function(t){return function(r){return QF(e,a,o,i,t,n,r,g)}}(r)(d),ce.some(t,(function(e){return 4===e.value}))&&function(e){var t=s._2(p,e,n);return function(e){return s._2(t,e,g)}}(r)(c),ce.some(t,(function(e){return 5===e.value}))&&function(e){var t=s._2(h,e,n);return function(e){return s._2(t,e,g)}}(r)(u)}((function(e){return s._1(k,{TAG:7,_0:e})}),w,m,D,r,d.country,d.granularity,v.api.trafficMap,v.api.pagesMap,v.api.refDomainsMap,v.api.urlRatingMap,u)}),[d.isPagesChartOpen,C,ce.joinWith(ce.filterMap(w,(function(e){return s._1(NS,e.value)})),"-"),me.map(r,(function(e){return e.getTime()})),Sa.Item.toCode(d.country),F]);var T=qr(v.pageMetricsSpec);z.useEffect((function(e){var t=d.isKeywordsChartOpen,a=d.chartMode;t&&0===a&&!F&&HF((function(e){return s._1(k,{TAG:7,_0:e})}),m,D,r,d.country,d.granularity,v.api.keywordsMap,u)}),[d.isKeywordsChartOpen,C,ce.joinWith(ce.filterMap(T,(function(e){return s._1(NS,e.value)})),"-"),me.map(r,(function(e){return e.getTime()})),Sa.Item.toCode(d.country),F]),z.useEffect((function(e){var t=d.isPagesChartOpen,a=d.chartMode;t&&1===a&&!F&&zF((function(e){return s._1(k,{TAG:7,_0:e})}),d.pagesMainSource,p,D,r,d.country,d.granularity,v.api.trafficMap,v.api.pagesMap,v.api.refDomainsMap,v.api.urlRatingMap,u)}),[d.isPagesChartOpen,C,me.map(r,(function(e){return e.getTime()})),s._1(NS,d.pagesMainSource),Sa.Item.toCode(d.country),F]),z.useEffect((function(){var e=d.isKeywordsChartOpen,t=d.chartMode;e&&1===t&&!F&&YF((function(e){return s._1(k,{TAG:7,_0:e})}),p,D,r,d.country,d.granularity,v.api.keywordsMap,u)}),[d.isKeywordsChartOpen,C,me.map(r,(function(e){return e.getTime()})),Sa.Item.toCode(d.country),F]),z.useEffect((function(e){var t=d.isPagesChartOpen,a=d.chartMode;t&&a>=3&&!F&&zF((function(e){return s._1(k,{TAG:7,_0:e})}),d.pagesMainSource,[m],D,r,d.country,d.granularity,v.api.trafficMap,v.api.pagesMap,v.api.refDomainsMap,v.api.urlRatingMap,u)}),[d.isPagesChartOpen,C,me.map(r,(function(e){return e.getTime()})),s._1(NS,d.pagesMainSource),Sa.Item.toCode(d.country),F]),z.useEffect((function(){var e=d.isKeywordsChartOpen,t=d.chartMode;e&&t>=3&&!F&&YF((function(e){return s._1(k,{TAG:7,_0:e})}),[m],D,r,d.country,d.granularity,v.api.keywordsMap,u)}),[d.isKeywordsChartOpen,C,me.map(r,(function(e){return e.getTime()})),Sa.Item.toCode(d.country),F]),z.useEffect((function(){var e=d.isPagesChartOpen,t=d.chartMode;e&&2===t&&!F&&JF((function(e){return s._1(k,{TAG:7,_0:e})}),d.pagesCountriesSource,m,D,d.countries,d.granularity,v.api.metricsByCountryMap,v.api.pagesByCountryMap,u)}),[d.isPagesChartOpen,C,s._1(SF,d.pagesCountriesSource),ce.joinWith(ce.map(d.countries,se.code),"-"),F]),z.useEffect((function(){var e=d.isKeywordsChartOpen,t=d.chartMode;e&&2===t&&!F&&IF((function(e){return s._1(k,{TAG:7,_0:e})}),D,d.countries,m,d.granularity,v.api.keywordsByCountryMap,u)}),[d.isKeywordsChartOpen,C,s._1(SF,d.pagesCountriesSource),ce.joinWith(ce.map(d.countries,se.code),"-"),F]),z.useEffect((function(){s._1(k,{TAG:4,_0:tS.makeAllSpec(p)})}),[QD(p)]),z.useEffect((function(){s._1(k,{TAG:5,_0:lS.makeAllSpec(d.countries)})}),[ce.joinWith(ce.map(d.countries,se.code),"-")]);var b,P=tS.targetsToDomains(p,d.country,D,d.granularity,v.api.trafficMap,v.api.pagesMap,v.api.refDomainsMap,v.api.urlRatingMap,v.api.keywordsMap),M=me.getWithDefault(ge.get(P,0),{target:m,data:tS.emptyRemoteData}),A=function(e){return zF((function(e){return s._1(k,{TAG:7,_0:e})}),d.pagesMainSource,[e.target],D,r,d.country,d.granularity,v.api.trafficMap,v.api.pagesMap,v.api.refDomainsMap,v.api.urlRatingMap,u)},R=lS.getRemoteData(D,d.countries,m,d.granularity,v.api.metricsByCountryMap,v.api.pagesByCountryMap,v.api.keywordsByCountryMap),L="HistoryNotAllowed"===i,E=function(e){return s._1(c,{volumeMode:d.volumeMode,country:0,highlightChanges:d.highlightChanges,chartMode:0,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:0,granularity:2,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})};if(L){var B={a:function(e){return z.createElement(ta.make,{href:vt.pricing,mode:3,children:a.s(e)})}};b=l.some(s._2(ke.Message.format_to_s,{id:"d31b764ddf766c10bb4856aef18d23ce",defaultMessage:"<a>Upgrade</a> your plan to compare domains."},B))}else b=void 0;var K={isOpen:mt.caml_equal(v.dropdownOpenState,0),isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen,disabled:L,source:d.pagesMainSource,targets:_,getDomains:function(e){return tS.targetsToDomains(e,d.country,D,d.granularity,v.api.trafficMap,v.api.pagesMap,v.api.refDomainsMap,v.api.urlRatingMap,v.api.keywordsMap)},onVisibilityChanged:function(e){return s._1(k,{TAG:1,_0:e?0:void 0})},onApply:function(e){0===e.length?s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:0,competitors:0,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen}):s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:1,competitors:ce.fromArray(e),pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})},onRefetch:A};void 0!==v.competitorToFocus&&(K.focusInputIndex=l.valFromOption(v.competitorToFocus));var q,x={isSelected:1===d.chartMode,disabled:L,children:z.createElement(NC,K)};if(void 0!==b&&(x.tooltip=l.valFromOption(b)),L){var W={a:function(e){return z.createElement(ta.make,{href:vt.pricing,mode:3,children:a.s(e)})}};q=l.some(s._2(ke.Message.format_to_s,{id:"e70437e25650681a7d706be871e4d3aa",defaultMessage:"<a>Upgrade</a> your plan to compare countries."},W))}else q=void 0;var U,O={isSelected:2===d.chartMode,disabled:L,children:z.createElement(xC,{data:R,isOpen:mt.caml_equal(v.dropdownOpenState,1),isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen,disabled:L,source:d.pagesCountriesSource,topLevelCountry:d.country,countries:d.countries,onVisibilityChanged:function(e){return s._1(k,{TAG:1,_0:e?1:void 0})},onApply:function(e){return 0===e.length?s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:0,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:0,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen}):s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:2,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:ce.fromArray(e),pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})},onRefetch:function(e){return JF((function(e){return s._1(k,{TAG:7,_0:e})}),d.pagesCountriesSource,m,D,d.countries,d.granularity,v.api.metricsByCountryMap,v.api.pagesByCountryMap,u)}})};if(void 0!==q&&(O.tooltip=l.valFromOption(q)),d.chartMode>=3)U=null;else{var N={value:d.timeFrame,onClearFilters:E,disabledTooltip:function(e){var t={button:function(t){return z.createElement(it.make,{color:"link",onClick:e,children:z.createElement(pt.make,{fontSize:"sm",children:a.s(t)})})},a:function(e){return z.createElement(ta.make,{href:vt.pricing,mode:3,children:a.s(e)})}};return s._2(ke.Message.format_to_s,{id:"1e2b4efac6eabc712e06bb0f93616b69",defaultMessage:"<button>Check performance in all countries</button> or <a>upgrade</a> your plan to see full history."},t)},onChange:function(e){var t=Pi(3===d.chartMode,e),r=mt.caml_obj_dup(n.settings);return s._1(g,(r.overviewChartTimeFrame=e,r)),s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:e,granularity:ce.has(t[0],d.granularity,Qr.equal)?d.granularity:t[1],pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})}},$=y?i:void 0;void 0!==$&&(N.historicalPermissions=l.valFromOption($)),U=z.createElement(fr,N)}var I,G={onApply:function(e){var t=mt.caml_obj_dup(n.settings);return s._1(g,(t.chartNoteSources=e,t))}};switch(void 0!==n.settings.chartNoteSources&&(G.data=l.valFromOption(n.settings.chartNoteSources)),d.chartMode){case 0:I=yC(M,d.isPagesChartOpen?v.pageMetricsSpec:0,d.isKeywordsChartOpen?v.keywordsMetricsSpec:0);break;case 1:I=FC(P,v.competitorsSpec,d.isPagesChartOpen?d.pagesMainSource:void 0,d.isKeywordsChartOpen?d.keywordsMainSource:void 0);break;case 2:I=TC(v.countriesSpec,R,d.isPagesChartOpen?d.pagesCountriesSource:void 0,d.isKeywordsChartOpen?d.keywordsMainSource:void 0);break;case 3:I=MC(S,M,v.yearsSpec,d.isPagesChartOpen?d.pagesMainSource:void 0,d.isKeywordsChartOpen?d.keywordsMainSource:void 0)}var Q,V=z.createElement("div",{className:ZF},z.createElement(kt.make,{vGap:"px12",layout:{NAME:"list",VAL:{hd:1,tl:{hd:0,tl:0}}},children:null},z.createElement(kt.make,{gap:"px16",vGap:"px12",children:z.createElement(kt.make,{gap:"px10",vGap:"px12",children:z.createElement(Qt.make,{children:null,key:(0===ce.length(d.competitors)?"competitors":"")+(0===ce.length(d.countries)?"countries":"")},z.createElement(Qt.Button.make,{isSelected:0===d.chartMode,onClick:function(e){return s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:0,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})},children:s._1(ke.Message.to_s,{id:"96a4ef2dc71e9723d764d794f4264d1e",defaultMessage:"Metrics"})}),z.createElement(Qt.Button.make,x),z.createElement(Qt.Button.make,O),z.createElement(Qt.Button.make,{isSelected:3===d.chartMode,onClick:function(e){return s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:3,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})},children:s._1(ke.Message.to_s,{id:"296abcb6cb6962fe287f12817cf7975f",defaultMessage:"Years"})}))})}),z.createElement(kt.make,{gap:"px10",vGap:"px12",children:null},U,z.createElement(Ei,{value:d.granularity,timeFrame:d.timeFrame,yearsMode:3===d.chartMode,onChange:function(e){var t=mt.caml_obj_dup(n.settings);return s._1(g,(t.overviewChartGranularity=e,t)),s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:e,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})}}),z.createElement(Gi,G),z.createElement(ht.make,{disabled:I,onClick:function(e){switch(d.chartMode){case 0:return DC(M,d.country,d.isPagesChartOpen?v.pageMetricsSpec:0,d.isKeywordsChartOpen?v.keywordsMetricsSpec:0,d.volumeMode,d.timeFrame,d.granularity);case 1:return CC(P,v.competitorsSpec,d.volumeMode,d.isPagesChartOpen?d.pagesMainSource:void 0,d.isKeywordsChartOpen?d.keywordsMainSource:void 0,d.timeFrame,d.granularity,d.country);case 2:return bC(v.countriesSpec,R,d.isPagesChartOpen?d.pagesCountriesSource:void 0,d.isKeywordsChartOpen?d.keywordsMainSource:void 0,M.target,d.volumeMode,d.timeFrame,d.granularity);case 3:return AC(S,M,v.yearsSpec,d.isPagesChartOpen?d.pagesMainSource:void 0,d.isKeywordsChartOpen?d.keywordsMainSource:void 0,d.volumeMode,d.granularity,d.country)}},children:null},z.createElement(Xe.Export.make,Xe.Export.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"601e96c14cea6af2259a933caeca884d",defaultMessage:"Export"}))))),j=d.chartMode>=3?{TAG:1,_0:d.granularity}:{TAG:0,_0:d.granularity},H=zi(j,n.settings.chartNoteSources),Y=H[2],J=zi(j,n.settings.chartNoteSources),X=J[2],Z=H[0]||J[0],ee=!GC,te=0;if(y&&"HistoryNotAllowed"===i?Q=z.createElement("div",{className:eC},z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"69e4429455f209a2bd889c193550ab88",defaultMessage:"Upgrade to access full history chart"}),text:s._1(ke.Message.to_s,{id:"74ae2efbc429da3e98bf17bcc9d2ee41",defaultMessage:"Some features are locked for you. Upgrade your plan for full access or reset your filters to see data for all time."}),onClearFilters:E})):te=1,1===te){var re;switch(d.chartMode){case 0:re=null;break;case 1:re=z.createElement(po.make,{padding:"blockHorizontal",children:z.createElement(tS.Legend.make,{allDomains:P,source:d.pagesMainSource,spec:v.competitorsSpec,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen,onRefetch:A,onSpecChanged:function(e){return s._1(k,{TAG:4,_0:e})},onEditTarget:function(e){return s._1(k,{TAG:0,_0:e})}})});break;case 2:re=z.createElement(po.make,{padding:"blockHorizontal",children:z.createElement(lS.Legend.make,{spec:v.countriesSpec,source:d.pagesCountriesSource,remoteData:R,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen,onRefetch:function(e){return IF((function(e){return s._1(k,{TAG:7,_0:e})}),D,d.countries,m,d.granularity,v.api.keywordsByCountryMap,u)},onSpecChanged:function(e){return s._1(k,{TAG:5,_0:e})}})});break;case 3:re=z.createElement(po.make,{padding:"blockHorizontal",children:z.createElement(_S.Legend.make,{spec:v.yearsSpec,source:d.pagesMainSource,domain:M,availableFromDate:S,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen,onRefetch:A,onClearCountry:function(e){return s._1(c,{volumeMode:d.volumeMode,country:0,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})},onSpecChanged:function(e){return s._1(k,{TAG:6,_0:e})}})})}var ae,oe,ie=d.chartMode,ne=0;if(ie>=3)ne=2;else switch(ie){case 0:ae=null;break;case 1:ne=2;break;case 2:ae=z.createElement(wF,{value:d.pagesCountriesSource,onChange:function(e){return s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:e,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})},granularity:d.granularity})}switch(2===ne&&(ae=z.createElement(GS,{value:d.pagesMainSource,mode:m.mode,onChange:function(e){return s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:e,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})},granularity:d.granularity})),d.chartMode){case 0:oe=z.createElement(XS,{syncId:$C,tooltipAnimationActive:ee,timeFrame:d.timeFrame,remoteData:M.data,volumeMode:d.volumeMode,spec:v.pageMetricsSpec,granularity:d.granularity,mode:m.mode,onChangeSpec:function(e){var t=ce.filterMap(e,(function(e){if(e.show)return e.value}));s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:t,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen});var r=mt.caml_obj_dup(n.settings);return s._1(g,(r.overviewPagesChartMetricsSources=t,r)),s._1(k,{TAG:2,_0:e})},onRefetch:function(e){return A(M)},notes:[Y,Z]});break;case 1:oe=z.createElement(gC,{syncId:$C,tooltipAnimationActive:ee,timeFrame:d.timeFrame,domains:P,spec:v.competitorsSpec,source:d.pagesMainSource,granularity:d.granularity,volumeMode:d.volumeMode,notes:[Y,Z]});break;case 2:oe=z.createElement(dC,{syncId:$C,tooltipAnimationActive:ee,timeFrame:d.timeFrame,data:R,spec:v.countriesSpec,source:d.pagesCountriesSource,granularity:d.granularity,volumeMode:d.volumeMode,notes:[Y,Z]});break;case 3:oe=z.createElement(aC,{syncId:$C,tooltipAnimationActive:ee,availableFrom:S,remoteData:M.data,volumeMode:d.volumeMode,spec:v.yearsSpec,source:d.pagesMainSource,granularity:d.granularity,notes:[Y,Z]})}var le,de=d.chartMode;switch(d.chartMode){case 0:le=z.createElement(lF,{syncId:$C,tooltipAnimationActive:ee,timeFrame:d.timeFrame,remoteData:M.data,spec:v.keywordsMetricsSpec,granularity:d.granularity,onChangeSpec:function(e){var t=ce.filterMap(e,(function(e){if(e.show)return e.value}));s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:t,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen});var r=mt.caml_obj_dup(n.settings);return s._1(g,(r.overviewKeywordsChartMetricsSources=t,r)),s._1(k,{TAG:3,_0:e})},onRefetch:function(e){return A(M)},notes:[X,Z]});break;case 1:le=z.createElement(kC,{syncId:$C,tooltipAnimationActive:ee,timeFrame:d.timeFrame,domains:P,spec:v.competitorsSpec,source:d.keywordsMainSource,granularity:d.granularity,notes:[X,Z]});break;case 2:le=z.createElement(pC,{syncId:$C,tooltipAnimationActive:ee,timeFrame:d.timeFrame,data:R,spec:v.countriesSpec,source:d.keywordsMainSource,granularity:d.granularity,notes:[X,Z]});break;case 3:le=z.createElement(nC,{syncId:$C,tooltipAnimationActive:ee,availableFrom:S,remoteData:M.data,spec:v.yearsSpec,source:d.keywordsMainSource,granularity:d.granularity,notes:[X,Z]})}Q=z.createElement(ct.make,{gap:"px12",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},vAlign:"top",fullHeight:!0,children:null},V,re,z.createElement("div",void 0,z.createElement(ND.make,{title:s._1(ke.Message.to_s,{id:"70939700de782b28ac64fc1c433c99ee",defaultMessage:"Performance"}),controls:ae,isOpen:d.isPagesChartOpen,withTopBorder:!0,onToggle:function(e){s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:e,isKeywordsChartOpen:d.isKeywordsChartOpen});var t=mt.caml_obj_dup(n.settings);return s._1(g,(t.overviewPagesChartIsOpen=e,t))},children:oe}),z.createElement(ND.make,{title:s._1(ke.Message.to_s,{id:"eff8ec7d64ea86849a51a4298efb23f2",defaultMessage:"Organic keywords by top position"}),controls:0!==de?z.createElement(_F,{value:d.keywordsMainSource,onChange:function(e){return s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:e,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:d.isKeywordsChartOpen})}}):null,isOpen:d.isKeywordsChartOpen,withTopBorder:!0,onToggle:function(e){s._1(c,{volumeMode:d.volumeMode,country:d.country,highlightChanges:d.highlightChanges,chartMode:d.chartMode,competitors:d.competitors,pagesMainSource:d.pagesMainSource,countries:d.countries,pagesCountriesSource:d.pagesCountriesSource,trafficType:d.trafficType,timeFrame:d.timeFrame,granularity:d.granularity,pagesMetricsChartSources:d.pagesMetricsChartSources,keywordsMetricsChartSources:d.keywordsMetricsChartSources,keywordsMainSource:d.keywordsMainSource,isPagesChartOpen:d.isPagesChartOpen,isKeywordsChartOpen:e});var t=mt.caml_obj_dup(n.settings);return s._1(g,(t.overviewKeywordsChartIsOpen=e,t))},children:le})))}return z.createElement("div",{className:XF},Q,H[1],J[1])},VC=r(43182);function jC(e,t){return s._1(Rt.css,{hd:Rt.label("chartBody"),tl:{hd:Rt.position(Rt.absolute),tl:{hd:Rt.width({NAME:"px",VAL:e}),tl:{hd:Rt.height({NAME:"px",VAL:t}),tl:0}}}})}var HC=et.style([et.label("svg"),et.unsafe("position","absolute")]);function zC(e){return et.style([et.width({NAME:"percent",VAL:100}),et.height({NAME:"percent",VAL:100}),et.backgroundColor(e)])}function YC(e,t,r,a){var o=(a-90)*Math.PI/180,i=e+r*Math.cos(o),n=t+r*Math.sin(o);return[i.toString(),n.toString()]}function JC(e,t,r,a,o){var i=YC(e,t,r,o),n=YC(e,t,r,a),s=o-a<=180?"0":"1";return ce.joinWith({hd:"M",tl:{hd:i[0],tl:{hd:i[1],tl:{hd:"A",tl:{hd:r.toString(),tl:{hd:r.toString(),tl:{hd:"0",tl:{hd:s,tl:{hd:"0",tl:{hd:n[0],tl:{hd:n[1],tl:0}}}}}}}}}}}," ")}var XC=s._2(J.sprintf({_0:{TAG:11,_0:"0 0 ",_1:{TAG:4,_0:3,_1:0,_2:0,_3:{TAG:12,_0:32,_1:{TAG:4,_0:3,_1:0,_2:0,_3:0}}}},_1:"0 0 %i %i"}),48,52),ZC="12px",ew="http://www.w3.org/2000/svg",tw=function(e){var t=e.value,r=e.color,a=360*t/100,o="mask-"+gt(),i=Fo.href(void 0).concat("#"+o);return z.createElement("div",{className:(48,s._1(Rt.css,{hd:Rt.label("chart"),tl:{hd:Rt.width({NAME:"px",VAL:48}),tl:0}}))},z.createElement("div",{className:jC(48,52)},z.createElement("svg",{className:HC,version:"1.1",viewBox:XC,xmlns:ew},z.createElement("mask",{id:o},z.createElement("path",{d:JC(24,26,18,0,360===a?359.9:a),fill:"none",stroke:"white",strokeWidth:ZC})),0===t?null:z.createElement("g",{mask:s._1(J.sprintf({_0:{TAG:11,_0:"url(",_1:{TAG:2,_0:0,_1:{TAG:12,_0:41,_1:0}}},_1:"url(%s)"}),i)},z.createElement("foreignObject",{height:"100%",width:"100%"},z.createElement("div",{className:zC(r)})))),z.createElement("svg",{className:HC,version:"1.1",viewBox:XC,xmlns:ew},z.createElement("path",{d:JC(24,26,18,0===a?.1:a,360),fill:"none",stroke:Rt.colorToString(_e.Color.Chart.empty),strokeWidth:ZC}))))},rw={hd:1,tl:{hd:2,tl:0}};function aw(e){switch(e){case 0:return;case 1:return"org-traffic";case 2:return"org-keywords"}}function ow(e,t){switch(e){case 0:return yn.organicPages;case 1:return yn.organicTraffic(t);case 2:return yn.organicKeywords}}function iw(e,t){switch(e){case 0:return Fn(t);case 1:return bn(t);case 2:return Cn(t)}}var nw=It.Make({key:"competitorsSource",$$default:1,localStorageKey:void 0,toString:function(e){switch(e){case 0:return"pages";case 1:return"traffic";case 2:return"keywords"}},ofString:function(e){if(void 0!==e)switch(e){case"keywords":return 2;case"pages":return 0;case"traffic":return 1;default:return}}});nw.key,nw.localStorageKey;var sw=nw.getDefault,lw=(nw.toString,nw.ofString,nw.getter,nw.setter,nw.isApplied,nw.ofQuery,nw.ofQueryWithDefault),dw=(nw.ofQueryWithCustomDefault,nw.toQuery),cw=function(e){var t=e.value,r=e.granularity,o=e.onChange;return z.createElement(Qt.make,{children:a.list(ce.map(rw,(function(e){return z.createElement(Qt.Button.make,{isSelected:t===e,onClick:function(t){return s._1(o,e)},tooltip:Ot.renderContent(iw(e,r)),children:a.s(ow(e,r))})})))})},uw={trafficMth:dt.zero,trafficAvg:dt.zero,valueMth:dt.zero,valueAvg:dt.zero,keywordsCount:dt.zero,allUrls:0},gw=ya.Sort.MakeFilter({$$default:1,toString:function(e){switch(e){case 0:return"url";case 1:return"trafficInitial";case 2:return"traffic";case 3:return"trafficChange";case 4:return"trafficChangePct";case 5:return"value";case 6:return"valueChange";case 7:return"valueChangePct";case 8:return"keywordsCount";case 9:return"keywordsCountChange";case 10:return"keywordsCountChangePct";case 11:return"topKeyword";case 12:return"topKeywordVolume";case 13:return"topKeywordPosition"}},ofString:function(e){switch(e){case"keywordsCount":return 8;case"keywordsCountChange":return 9;case"keywordsCountChangePct":return 10;case"topKeyword":return 11;case"topKeywordPosition":return 13;case"topKeywordVolume":return 12;case"traffic":return 2;case"trafficChange":return 3;case"trafficChangePct":return 4;case"trafficInitial":return 1;case"url":return 0;case"value":return 5;case"valueChange":return 6;case"valueChangePct":return 7;default:return}},defaultDirection:"Desc"}),mw=gw.Name,fw=gw.getDefault,pw=gw.isApplied,_w=gw.ofQueryWithDefault,hw=gw.toQuery,kw=gw.Direction,vw={Name:mw,Direction:kw,getDefault:fw,isApplied:pw,ofQueryWithDefault:_w,toQuery:hw,toActualFieldName:function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic)),tl:0};case 2:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic)),tl:0};case 5:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.keywords)),tl:0};case 3:case 4:case 6:case 7:case 9:case 10:return 0;case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_text)),tl:0};case 12:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_volume_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_volume)),tl:0};case 13:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_best_position)),tl:0}}},toComparedFieldName:function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.sum_traffic_sort)),tl:0};case 2:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic)),tl:0};case 3:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff)),tl:0};case 4:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_percent_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_percent)),tl:0};case 5:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value)),tl:0};case 6:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff)),tl:0};case 7:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_percent_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_percent)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.keywords)),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.keywords_diff)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.keywords_diff_percent)),tl:0};case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.top_keyword_text)),tl:0};case 12:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.top_keyword_volume_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.top_keyword_volume)),tl:0};case 13:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.top_keyword_best_position)),tl:0}}}};function yw(e){return{volumeMode:s._1(Pa.getDefault,void 0),country:s._1(Sa.WithAll.Filter.getDefault,void 0),url:s._1(fa.$$URL.Filter.getDefault,void 0),pageStatus:s._1(ba.Filter.getDefault,void 0),orgPageTraffic:s._1(gn.OrgPageTraffic.Filter.getDefault,void 0),orgValue:s._1(gn.OrgValue.Filter.getDefault,void 0),orgKeywords:s._1(gn.OrgKeywords.Filter.getDefault,void 0),positions:s._1(pd.Positions.Filter.getDefault,void 0),volume:s._1(pa.Volume.Filter.getDefault,void 0),kd:s._1(pa.KD.Filter.getDefault,void 0),cpc:s._1(pa.CPC.Filter.getDefault,void 0),orgKeywordTraffic:s._1(pa.OrgKeywordTraffic.Filter.getDefault,void 0),serp:ka.Filter.getDefault(void 0),words:s._1(pa.Words.Filter.getDefault,void 0),keyword:s._1(fa.Keyword.Filter.getDefault,void 0),chartMode:s._1(Gn,void 0),chartSource:s._1(sw,void 0),timeFrame:s._1(ar,void 0),granularity:s._1(Bi,void 0),currentDate:s._1(Pt.CurrentDate.getDefault,void 0),compareDate:s._1(Pt.CompareDate.getDefault,void 0),sort:s._1(fw,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),showTitles:s._1(ln,void 0)}}var Dw={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:0}}}}}}}}}}}}}}}}}}}}}}}};function Sw(e,t,r){var a=void 0!==e?e:Dw,o=Pt.CurrentDate.ofQueryWithDefault,i=s._2(o,t.reportHistoricalPermissions,r),n=pr(r,t.reportHistoricalPermissions,void 0,void 0),l=s._1(qi,r),d=Pi(!1,n),c=ce.has(d[0],l,Qr.equal)?l:d[1];return ce.reduce(a,yw(),(function(e,a){switch(a){case 0:var o=mt.caml_obj_dup(e);return o.volumeMode=s._2(Pa.ofQueryWithCustomDefault,r,t.settings.topPagesVolumeMode),o;case 1:var l=mt.caml_obj_dup(e);return l.country=s._1(Sa.WithAll.Filter.ofQueryWithDefault,r),l;case 2:var d=mt.caml_obj_dup(e);return d.url=s._1(fa.$$URL.Filter.ofQueryWithDefault,r),d;case 3:var u=mt.caml_obj_dup(e);return u.pageStatus=s._1(ba.Filter.ofQueryWithDefault,r),u;case 4:var g=mt.caml_obj_dup(e);return g.orgPageTraffic=s._1(gn.OrgPageTraffic.Filter.ofQueryWithDefault,r),g;case 5:var m=mt.caml_obj_dup(e);return m.orgValue=s._1(gn.OrgValue.Filter.ofQueryWithDefault,r),m;case 6:var f=mt.caml_obj_dup(e);return f.orgKeywords=s._1(gn.OrgKeywords.Filter.ofQueryWithDefault,r),f;case 7:var p=mt.caml_obj_dup(e);return p.positions=s._1(pd.Positions.Filter.ofQueryWithDefault,r),p;case 8:var _=mt.caml_obj_dup(e);return _.volume=s._1(pa.Volume.Filter.ofQueryWithDefault,r),_;case 9:var h=mt.caml_obj_dup(e);return h.kd=s._1(pa.KD.Filter.ofQueryWithDefault,r),h;case 10:var k=mt.caml_obj_dup(e);return k.cpc=s._1(pa.CPC.Filter.ofQueryWithDefault,r),k;case 11:var v=mt.caml_obj_dup(e);return v.orgKeywordTraffic=s._1(pa.OrgKeywordTraffic.Filter.ofQueryWithDefault,r),v;case 12:var y=mt.caml_obj_dup(e);return y.serp=ka.Filter.ofQueryWithDefault(r),y;case 13:var D=mt.caml_obj_dup(e);return D.words=s._1(pa.Words.Filter.ofQueryWithDefault,r),D;case 14:var S=mt.caml_obj_dup(e);return S.keyword=s._1(fa.Keyword.Filter.ofQueryWithDefault,r),S;case 15:var F=mt.caml_obj_dup(e);return F.chartMode=s._1(Qn,r),F;case 16:var C=mt.caml_obj_dup(e);return C.chartSource=s._1(lw,r),C;case 17:var w=mt.caml_obj_dup(e);return w.timeFrame=n,w;case 18:var T=mt.caml_obj_dup(e);return T.granularity=c,T;case 19:var b=mt.caml_obj_dup(e);return b.currentDate=i,b;case 20:var P=mt.caml_obj_dup(e);return P.compareDate=Pt.CompareDate.ofQueryWithDefault(t.reportHistoricalPermissions,i,t.settings.topPagesCompare,r,void 0),P;case 21:var M=mt.caml_obj_dup(e);return M.sort=s._1(_w,r),M;case 22:var A=mt.caml_obj_dup(e);return A.pagination=s._1(ya.Pagination.Filter.ofQueryWithDefault,r),A;case 23:var R=mt.caml_obj_dup(e);return R.showTitles=s._1(dn,r),R}}))}function Fw(e,t,r){var a=void 0!==e?e:Dw,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(Pa.toQuery,e,r.volumeMode);case 1:return s._2(Sa.WithAll.Filter.toQuery,e,r.country);case 2:return s._2(fa.$$URL.Filter.toQuery,e,r.url);case 3:return s._2(ba.Filter.toQuery,e,r.pageStatus);case 4:return s._2(gn.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 5:return s._2(gn.OrgValue.Filter.toQuery,e,r.orgValue);case 6:return s._2(gn.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 7:return s._2(pd.Positions.Filter.toQuery,e,r.positions);case 8:return s._2(pa.Volume.Filter.toQuery,e,r.volume);case 9:return s._2(pa.KD.Filter.toQuery,e,r.kd);case 10:return s._2(pa.CPC.Filter.toQuery,e,r.cpc);case 11:return s._2(pa.OrgKeywordTraffic.Filter.toQuery,e,r.orgKeywordTraffic);case 12:return ka.Filter.toQuery(e,r.serp);case 13:return s._2(pa.Words.Filter.toQuery,e,r.words);case 14:return s._2(fa.Keyword.Filter.toQuery,e,r.keyword);case 15:return s._2(Vn,e,r.chartMode);case 16:return s._2(dw,e,r.chartSource);case 17:return s._2(cr,e,r.timeFrame);case 18:return s._2(Wi,e,r.granularity);case 19:return s._2(Pt.CurrentDate.toQuery,e,r.currentDate);case 20:return s._2(Pt.CompareDate.toQuery,e,r.compareDate);case 21:return s._2(hw,e,r.sort);case 22:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 23:return s._2(cn,e,r.showTitles)}}))}var Cw={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}}}}}}}};function ww(e,t){var r=void 0!==e?l.valFromOption(e):{};return Fw(Cw,l.some(r),t)}var Tw=function(e,t){return i.stringifyQueryDict(ww(void 0,e),void 0,void 0)===i.stringifyQueryDict(ww(void 0,t),void 0,void 0)},bw={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}}}}}}}};function Pw(e,t){switch(e){case 2:return{hd:fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.raw_url),t.url),tl:0};case 4:var r=t.volumeMode;return{hd:gn.OrgPageTraffic.makeChFilterActual("Average"===r?s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic_avg):s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic),t.orgPageTraffic),tl:0};case 5:var a=t.volumeMode;return{hd:gn.OrgValue.makeChFilterActual("Average"===a?s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value_avg):s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value),t.orgValue),tl:0};case 6:return{hd:gn.OrgKeywords.makeChFilterActual(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.keywords),t.orgKeywords),tl:0};case 7:return{hd:pd.Positions.makeChFilterActual(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.position),t.positions),tl:0};case 8:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.volume),t.volume),tl:0};case 9:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.difficulty),t.kd),tl:0};case 10:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.cpc),t.cpc),tl:0};case 11:return{hd:pa.OrgKeywordTraffic.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.traffic),t.orgKeywordTraffic),tl:0};case 12:return{hd:ka.makeChFilterActual(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.serp_features),s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.has_video),s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.has_thumbnail),s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.position_kind),!1,t.serp),tl:0};case 13:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.words),t.words),tl:0};case 14:return{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.TopPagesActual.KeywordInnerFilter.get,ft.Se_shared.TopPagesActual.KeywordInnerFilter.text),t.keyword),tl:0};case 0:case 1:case 3:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:return 0}}function Mw(e,t){switch(e){case 2:return{hd:fa.$$URL.makeChFilterCompared(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.raw_url),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.raw_url),!1,t.url),tl:0};case 3:return{hd:ba.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.set),t.pageStatus),tl:0};case 4:var r=t.volumeMode,a=t.volumeMode;return{hd:gn.OrgPageTraffic.makeChFilterCompared("Average"===r?s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic_avg):s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic),"Average"===a?s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_avg):s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff),t.orgPageTraffic),tl:0};case 5:var o=t.volumeMode,i=t.volumeMode;return{hd:gn.OrgValue.makeChFilterCompared("Average"===o?s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value_avg):s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value),"Average"===i?s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_avg):s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff),t.orgValue),tl:0};case 6:return{hd:gn.OrgKeywords.makeChFilterCompared(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.keywords),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.keywords_diff),t.orgKeywords),tl:0};case 7:return{hd:pd.Positions.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.position),t.positions),tl:{hd:pd.Positions.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.position),t.positions),tl:0}};case 8:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.volume),t.volume),tl:{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.volume),t.volume),tl:0}};case 9:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.difficulty),t.kd),tl:{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.difficulty),t.kd),tl:0}};case 10:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.cpc),t.cpc),tl:{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.cpc),t.cpc),tl:0}};case 11:return{hd:pa.OrgKeywordTraffic.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.traffic),t.orgKeywordTraffic),tl:{hd:pa.OrgKeywordTraffic.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.traffic),t.orgKeywordTraffic),tl:0}};case 12:return{hd:ka.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.serp_features),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.has_video),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.has_thumbnail),s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.position_kind),!1,t.serp),tl:{hd:ka.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.serp_features),s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.has_video),s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.has_thumbnail),s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.position_kind),!1,t.serp),tl:0}};case 13:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.words),t.words),tl:{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.words),t.words),tl:0}};case 14:return{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.CurrentKeywordInnerFilter.text),t.keyword),tl:{hd:fa.Keyword.makeChFilterActual(s._1(ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.get,ft.Se_shared.TopPagesCompared.PreviousKeywordInnerFilter.text),t.keyword),tl:0}};case 0:case 1:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:return 0}}var Aw=bw,Rw=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(bw,(function(t){return Pw(t,e)})))),(function(e){return e}))},Lw=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(bw,(function(t){return Mw(t,e)})))),(function(e){return e}))};function Ew(e,t,r){var o=0===r.country,i=xe(r.country),d=pn,c=fn,u=s._1(mw.toString,0),g=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"}),m=mt.caml_obj_dup(r);return{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,o,s){var d=Aa.getTerms(r.url.rules);return z.useMemo((function(){var e=n.Url.show(t),c={displayLink:e,tkLinkContextInput:on.fromString(o),color:r.showTitles?"green":"blue",highlightAnywhereTerms:d.contain,highlightStartTerms:d.startWith,highlightEndTerms:d.endWith,boldDomain:!1};return void 0!==i&&(c.country=l.valFromOption(i)),z.createElement(va.Td.make,{paddingLeft:"none",nowrap:!1,children:z.createElement(ct.make,{gap:"none",children:null},r.showTitles?z.createElement(ta.make,{color:"base",href:e,mode:3,breakWord:!0,children:a.s(s)}):null,z.createElement("div",void 0,z.createElement(vn.make,c)))})}),[r.showTitles,t,s,o,Aa.toKey(d)])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,g,void 0,u,void 0,void 0,"none",void 0,void 0,void 0,void 0,c,d,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_best_position_title)),0)))),tl:{hd:Ca.makeTrafficColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic_avg),r.volumeMode,s._1(mw.toString,2),void 0,void 0,void 0),tl:{hd:Ca.makeTrafficPctColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_traffic_avg),t,r.volumeMode),tl:{hd:Ca.makeValueColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.sum_value_avg),r.volumeMode,s._1(mw.toString,5),void 0,void 0),tl:{hd:en(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.keywords),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url),Fw({hd:1,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:19,tl:{hd:20,tl:0}}}}}}}}}}},{},(m.compareDate="DontCompare",m)),n.Url.show,void 0,0,s._1(mw.toString,8),void 0,void 0),tl:{hd:Ca.makeTopKeywordColumn(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_text),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_country),void 0,_n,hn,o,l.some(e),void 0,Aa.getTerms(r.keyword.rules),void 0),tl:{hd:Ca.makeTopKeywordVolumeActual(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_volume),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_volume_avg),r.volumeMode,s._1(mw.toString,12),void 0),tl:{hd:Ca.makeTopKeywordPositionActual(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_best_position),s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.top_keyword_best_position_kind),s._1(mw.toString,13),l.some(e),void 0),tl:{hd:Ca.makeSpacerColumn(s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.hash),kn),tl:0}}}}}}}}}}function Bw(e,t,r,o,i,d,c){var u=0===c.country,g=xe(c.country),m=pn,f=fn,p=s._1(mw.toString,0),_=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"}),h=c.volumeMode,k=c.volumeMode,v=mt.caml_obj_dup(c);return{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r,o,i,s,d){var u=me.map(t,n.Url.show),m=me.map(o,n.Url.show),f=Aa.getTerms(c.url.rules);return z.useMemo((function(){var e,t=c.showTitles,o=me.map2(u,r,(function(e,t){return[e,t]})),n=me.map2(m,i,(function(e,t){return[e,t]}));if(t)if(void 0!==n){var p=n[1],_=n[0],h=0;if(void 0!==s)if(void 0!==d)if(s!==d){var k={displayLink:_,tkLinkContextInput:on.fromString(p),color:"green",highlightAnywhereTerms:f.contain,highlightStartTerms:f.startWith,highlightEndTerms:f.endWith,boldDomain:!1};void 0!==g&&(k.country=l.valFromOption(g)),e=z.createElement(z.Fragment,void 0,z.createElement(ta.make,{color:"base",href:_,mode:3,breakWord:!0,children:a.s(d)}),z.createElement(ta.make,{color:"strikedMuted",href:_,mode:3,breakWord:!0,children:a.s(s)}),z.createElement("div",void 0,z.createElement(vn.make,k)))}else h=1;else e=fo.failwith("unexpected commbination in URL column");else h=1;if(1===h)if(void 0!==d){var v={displayLink:_,tkLinkContextInput:on.fromString(p),color:"green",highlightAnywhereTerms:f.contain,highlightStartTerms:f.startWith,highlightEndTerms:f.endWith,boldDomain:!1};void 0!==g&&(v.country=l.valFromOption(g)),e=z.createElement(z.Fragment,void 0,z.createElement(ta.make,{color:"base",href:_,mode:3,breakWord:!0,children:a.s(d)}),z.createElement("div",void 0,z.createElement(vn.make,v)))}else e=fo.failwith("unexpected commbination in URL column")}else if(void 0!==o){var y=o[1],D=o[0];if(void 0!==s){var S={displayLink:D,tkLinkContextInput:on.fromString(y),color:"grey",striked:!0,highlightAnywhereTerms:f.contain,highlightStartTerms:f.startWith,highlightEndTerms:f.endWith,boldDomain:!1};void 0!==g&&(S.country=l.valFromOption(g)),e=z.createElement(z.Fragment,void 0,z.createElement(ta.make,{color:"strikedMuted",href:D,mode:3,breakWord:!0,children:a.s(s)}),z.createElement("div",void 0,z.createElement(vn.make,S)))}else{var F={displayLink:D,tkLinkContextInput:on.fromString(y),color:"grey",striked:!0,highlightAnywhereTerms:f.contain,highlightStartTerms:f.startWith,highlightEndTerms:f.endWith,boldDomain:!1};void 0!==g&&(F.country=l.valFromOption(g)),e=z.createElement("div",void 0,z.createElement(vn.make,F))}}else e=fo.failwith("unexpected to have 'PreviousPage.url' and 'CurrentPage.url'  None");else if(void 0!==n){var C=on.fromString(n[1]),w={displayLink:n[0],tkLinkContextInput:C,color:"blue",highlightAnywhereTerms:f.contain,highlightStartTerms:f.startWith,highlightEndTerms:f.endWith,boldDomain:!1};void 0!==g&&(w.country=l.valFromOption(g)),e=z.createElement("div",void 0,z.createElement(vn.make,w))}else if(void 0!==o){var T=on.fromString(o[1]),b={displayLink:o[0],tkLinkContextInput:T,color:"grey",striked:!0,highlightAnywhereTerms:f.contain,highlightStartTerms:f.startWith,highlightEndTerms:f.endWith,boldDomain:!1};void 0!==g&&(b.country=l.valFromOption(g)),e=z.createElement("div",void 0,z.createElement(vn.make,b))}else e=fo.failwith("unexpected commbination in URL column");return z.createElement(va.Td.make,{paddingLeft:"none",nowrap:!1,children:z.createElement(ct.make,{gap:"none",children:e})})}),[c.showTitles,u,r,m,i,Aa.toKey(f)])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,_,void 0,p,void 0,void 0,"none",void 0,void 0,void 0,void 0,f,m,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_best_position_title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_best_position_title)),0))))))),tl:{hd:Ca.makeStatusColumn(s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.set),void 0,void 0),tl:{hd:Ca.makeTrafficColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic),s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic_avg),c.volumeMode,s._1(mw.toString,2),void 0,void 0,void 0),tl:{hd:Ca.makeTrafficPctColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic),s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_traffic_avg),d,c.volumeMode),tl:{hd:Ca.makeChangesColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_traffic),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_traffic),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_percent),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_traffic_avg),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_traffic_avg),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_percent_avg),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.traffic_diff_avg),o,c.volumeMode,"Average"===h?ie.to_float(i.trafficAvg):ie.to_float(i.trafficMth),l.some(r),s._1(ke.Message.to_s,{id:"9b9c4bd9c4e055824fb9467bd3be6583",defaultMessage:"Traffic"}),void 0,(function(e){return ae.Int.tableAbbr(e)}),t,e,s._1(mw.toString,o>=2?4:3),{TAG:0,_0:mo.topPageTrafficChange},void 0,void 0),tl:{hd:Ca.makeValueColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value),s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.sum_value_avg),c.volumeMode,s._1(mw.toString,5),void 0,void 0),tl:{hd:Ca.makeChangesColumnWithVolumeMode(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_value),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_value),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_percent),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_value_avg),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_value_avg),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_percent_avg),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.value_diff_avg),o,c.volumeMode,"Average"===k?ie.to_float(i.valueAvg):ie.to_float(i.valueMth),l.some(r),s._1(ke.Message.to_s,{id:"c322211f7e474922c7ab1bac85ee08fb",defaultMessage:"Traffic value"}),Ae,Ae,t,e,s._1(mw.toString,o>=2?7:6),{TAG:0,_0:mo.topPageValueChange},void 0,void 0),tl:{hd:en(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.keywords),s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url),Fw({hd:1,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:19,tl:{hd:20,tl:0}}}}}}}}}}},{},(v.compareDate="DontCompare",v)),n.Url.show,void 0,0,s._1(mw.toString,8),void 0,void 0),tl:{hd:Ca.makeChangesColumn(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.keywords),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.keywords),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.keywords_diff_percent),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.keywords_diff),o,ie.to_float(i.keywordsCount),l.some(r),s._1(ke.Message.to_s,{id:"cf2418ac405f4d84ae882166d5b72490",defaultMessage:"Keywords"}),void 0,(function(e){return ae.Int.tableAbbr(e)}),t,e,s._1(mw.toString,o>=2?10:9),{TAG:0,_0:mo.topPageKeywordsCountChange},void 0,void 0),tl:{hd:Ca.makeTopKeywordTextCompared(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_country),s._1(mw.toString,11),u,l.some(r),_n,hn,void 0,Aa.getTerms(c.keyword.rules),void 0),tl:{hd:Ca.makeTopKeywordVolumeCompared(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_volume),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_volume_avg),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_volume),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_volume_avg),c.volumeMode,s._1(mw.toString,12),void 0),tl:{hd:Ca.makeTopKeywordPisitionCompared(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_best_position),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_best_position_kind),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_best_position),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_best_position_kind),s._1(mw.toString,13),l.some(r),void 0),tl:{hd:Ca.makeTopKeywordPisitionDeltaCompared(s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_text),s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.top_keyword_country),s._1(ft.Se_shared.TopPagesCompared.Diff.get,ft.Se_shared.TopPagesCompared.Diff.top_keyword_best_position_diff),void 0),tl:{hd:Ca.makeSpacerColumn(s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.hash),kn),tl:0}}}}}}}}}}}}}}}La.makeRenderHeader;var Kw=r(95198),qw=s._1(Rt.css,{hd:Rt.label("groupBacklinkProfile"),tl:{hd:Rt.gridArea({NAME:"ident",VAL:"bp"}),tl:0}}),xw=s._1(Rt.css,{hd:Rt.label("groupOrganicSearch"),tl:{hd:Rt.gridArea({NAME:"ident",VAL:"os"}),tl:0}}),Ww=s._1(Rt.css,{hd:Rt.label("groupPaidSearch"),tl:{hd:Rt.gridArea({NAME:"ident",VAL:"ps"}),tl:0}}),Uw=s._1(Rt.css,{hd:Rt.label("groupEmpty"),tl:{hd:Rt.gridArea({NAME:"ident",VAL:"ee"}),tl:0}}),Ow=s._1(Rt.css,{hd:Rt.label("group"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.padding2(tt.NewSize.px16,"zero"),tl:{hd:Rt.borderBottom({NAME:"px",VAL:1},"solid",_e.Color.Border.lineAlpha),tl:0}}}}),Nw=s._1(Rt.css,{hd:Rt.label("groupInner"),tl:{hd:Rt.flex({NAME:"num",VAL:1}),tl:{hd:Rt.padding2("zero",tt.NewSize.px16),tl:{hd:Rt.borderRight({NAME:"px",VAL:1},"solid",_e.Color.Border.lineAlpha),tl:0}}}}),$w=s._1(Rt.css,{hd:Rt.label("block"),tl:{hd:Rt.minHeight({NAME:"px",VAL:76}),tl:0}}),Iw=tt.Media.minWidth(1360),Gw=tt.Media.maxWidth(1360),Qw=s._1(Rt.css,{hd:Rt.label("wrapper"),tl:{hd:Rt.display("grid"),tl:{hd:Rt.backgroundColor(_e.Color.Background.box),tl:{hd:Rt.boxShadows(tt.BoxShadow.elevation1),tl:{hd:Rt.media(Iw,{hd:Rt.gridTemplateAreas({NAME:"areas",VAL:{hd:"bp os ps ee",tl:0}}),tl:{hd:Rt.gridTemplateColumns({hd:"auto",tl:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}}}),tl:{hd:Rt.selector("."+Ow+":nth-last-child(2) ."+Nw,{hd:Rt.borderColor("transparent"),tl:0}),tl:{hd:Rt.selector("."+Ow,{hd:Rt.borderColor("transparent"),tl:0}),tl:0}}}}),tl:{hd:Rt.media(tt.Media.tabletUp+" and "+Gw,{hd:Rt.gridTemplateAreas({NAME:"areas",VAL:{hd:"bp bp",tl:{hd:"os ps",tl:0}}}),tl:{hd:Rt.gridTemplateColumns({hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:0}}),tl:{hd:Rt.selector("."+qw+" ."+Nw,{hd:Rt.borderColor("transparent"),tl:0}),tl:{hd:Rt.selector("."+Ww+" ."+Nw,{hd:Rt.borderColor("transparent"),tl:0}),tl:{hd:Rt.selector("."+xw,{hd:Rt.borderColor("transparent"),tl:0}),tl:{hd:Rt.selector("."+Ww,{hd:Rt.borderColor("transparent"),tl:0}),tl:{hd:Rt.selector("."+Uw,{hd:Rt.display("none"),tl:0}),tl:0}}}}}}}),tl:{hd:Rt.media(tt.Media.tabletDown,{hd:Rt.gridTemplateAreas({NAME:"areas",VAL:{hd:"bp",tl:{hd:"os",tl:{hd:"ps",tl:0}}}}),tl:{hd:Rt.selector("."+qw+" ."+Nw,{hd:Rt.borderColor("transparent"),tl:0}),tl:{hd:Rt.selector("."+xw+" ."+Nw,{hd:Rt.borderColor("transparent"),tl:0}),tl:{hd:Rt.selector("."+Ww+" ."+Nw,{hd:Rt.borderColor("transparent"),tl:0}),tl:{hd:Rt.selector("."+Ww,{hd:Rt.borderColor("transparent"),tl:0}),tl:{hd:Rt.selector("."+Uw,{hd:Rt.display("none"),tl:0}),tl:0}}}}}}),tl:0}}}}}}}),Vw=s._1(Rt.css,{hd:Rt.label("blockHeader"),tl:{hd:Rt.paddingRight({NAME:"px",VAL:18}),tl:{hd:Rt.lineHeight({NAME:"px",VAL:18}),tl:0}}}),jw=s._1(Rt.css,{hd:Rt.label("blockDrUr"),tl:{hd:Rt.gridArea({NAME:"ident",VAL:"dr"}),tl:0}}),Hw=s._1(Rt.css,{hd:Rt.label("blockBacklinks"),tl:{hd:Rt.gridArea({NAME:"ident",VAL:"bl"}),tl:0}}),zw=s._1(Rt.css,{hd:Rt.label("blockReferringDomains"),tl:{hd:Rt.gridArea({NAME:"ident",VAL:"rd"}),tl:0}}),Yw=s._1(Rt.css,{hd:Rt.label("blockDrUrContent"),tl:{hd:Rt.display("grid"),tl:{hd:Rt.gridGap(tt.NewSize.px24),tl:{hd:Rt.gridAutoFlow("column"),tl:{hd:Rt.gridTemplateColumns({hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:0}}),tl:{hd:Rt.media(Gw,{hd:Rt.gridGap({NAME:"px",VAL:0}),tl:0}),tl:0}}}}}}),Jw=s._1(Rt.css,{hd:Rt.label("groupBacklinkProfileContent"),tl:{hd:Rt.display("grid"),tl:{hd:Rt.gridAutoFlow("column"),tl:{hd:Rt.media(Iw,{hd:Rt.gridTemplateAreas({NAME:"areas",VAL:{hd:"dr dr bl rd",tl:0}}),tl:{hd:Rt.gridGap(tt.NewSize.px24),tl:0}}),tl:{hd:Rt.media(tt.Media.tabletUp+" and "+Gw,{hd:Rt.gridTemplateAreas({NAME:"areas",VAL:{hd:"dr dr _ bl rd",tl:0}}),tl:{hd:Rt.gridGap({NAME:"px",VAL:0}),tl:{hd:Rt.gridTemplateColumns({hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"px",VAL:33},tl:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:0}}}}}),tl:0}}}),tl:{hd:Rt.media(tt.Media.tabletDown,{hd:Rt.gridTemplateAreas({NAME:"areas",VAL:{hd:"dr dr",tl:{hd:"bl rd",tl:0}}}),tl:{hd:Rt.gridTemplateColumns({hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:0}}),tl:{hd:Rt.gridGap({NAME:"px",VAL:0}),tl:{hd:Rt.selector("."+jw,{hd:Rt.paddingBottom(tt.NewSize.px16),tl:0}),tl:0}}}}),tl:0}}}}}}),Xw=s._1(Rt.css,{hd:Rt.label("groupOrganicPaidSearchContent"),tl:{hd:Rt.display("grid"),tl:{hd:Rt.gridAutoFlow("column"),tl:{hd:Rt.gridTemplateColumns({hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"fr",VAL:1},tl:0}}),tl:{hd:Rt.gridGap({NAME:"px",VAL:0}),tl:{hd:Rt.media(Iw,{hd:Rt.gridGap(tt.NewSize.px24),tl:{hd:Rt.gridTemplateColumns({hd:"auto",tl:{hd:"auto",tl:0}}),tl:0}}),tl:0}}}}}}),Zw=r(56471),eT=r(22656),tT=r(1413),rT={contents:gt()};function aT(e,t,r,a,o){s._1(e,3);var i=gt();return rT.contents=i,Ye.forEach(R(void 0,Kw.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:r,country:Sa.Item.toCountryOpt(a)}}),(function(t){if(rT.contents===i)return"number"!=typeof t&&1===t.TAG&&s._1(o,t._0),s._1(e,{TAG:3,_0:t})}))}var oT={contents:gt()};function iT(e,t,r,a,o){s._1(e,1);var i=gt();return oT.contents=i,Ye.forEach(R(void 0,tT.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:r,country:Sa.Item.toCountryOpt(a)}}),(function(t){if(oT.contents===i)return"number"!=typeof t&&1===t.TAG&&s._1(o,t._0),s._1(e,{TAG:1,_0:t})}))}var nT={contents:gt()};function sT(e,t,r,a,o){s._1(e,2);var i=gt();return nT.contents=i,Ye.forEach(R(void 0,Zw.request,{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),compareDate:r,country:Sa.Item.toCountryOpt(a)}),(function(t){if(nT.contents===i)return"number"!=typeof t&&1===t.TAG&&s._1(o,t._0),s._1(e,{TAG:2,_0:t})}))}var lT={contents:gt()};function dT(e,t,r,a,o){s._1(e,0);var i=gt();lT.contents=i;var l=E(a);return Ye.forEach(R(void 0,eT.request,{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),compareDate:l,country:Sa.Item.toCountryOpt(r)}),(function(t){if(lT.contents===i)return"number"!=typeof t&&1===t.TAG&&s._1(o,t._0),s._1(e,{TAG:0,_0:de.map(t,(function(e){return e}))})}))}function cT(e,t){if("number"==typeof t)switch(t){case 0:return{remoteBacklinks:1,remoteDomainRating:e.remoteDomainRating,remoteUrlRating:e.remoteUrlRating,remoteAllCountriesMetricsRating:e.remoteAllCountriesMetricsRating};case 1:return{remoteBacklinks:e.remoteBacklinks,remoteDomainRating:1,remoteUrlRating:e.remoteUrlRating,remoteAllCountriesMetricsRating:e.remoteAllCountriesMetricsRating};case 2:return{remoteBacklinks:e.remoteBacklinks,remoteDomainRating:e.remoteDomainRating,remoteUrlRating:1,remoteAllCountriesMetricsRating:e.remoteAllCountriesMetricsRating};case 3:return{remoteBacklinks:e.remoteBacklinks,remoteDomainRating:e.remoteDomainRating,remoteUrlRating:e.remoteUrlRating,remoteAllCountriesMetricsRating:1}}else switch(0|t.TAG){case 0:return{remoteBacklinks:t._0,remoteDomainRating:e.remoteDomainRating,remoteUrlRating:e.remoteUrlRating,remoteAllCountriesMetricsRating:e.remoteAllCountriesMetricsRating};case 1:return{remoteBacklinks:e.remoteBacklinks,remoteDomainRating:t._0,remoteUrlRating:e.remoteUrlRating,remoteAllCountriesMetricsRating:e.remoteAllCountriesMetricsRating};case 2:return{remoteBacklinks:e.remoteBacklinks,remoteDomainRating:e.remoteDomainRating,remoteUrlRating:t._0,remoteAllCountriesMetricsRating:e.remoteAllCountriesMetricsRating};case 3:return{remoteBacklinks:e.remoteBacklinks,remoteDomainRating:e.remoteDomainRating,remoteUrlRating:e.remoteUrlRating,remoteAllCountriesMetricsRating:t._0}}}function uT(e){var t=e.title,r=e.gridClassName,o=e.children;return z.createElement("div",{className:ra.$plus$plus$plus(Ow,r)},z.createElement("div",{className:Nw},z.createElement(ct.make,{gap:"px12",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},fullHeight:!0,children:null},z.createElement(H.make,{children:a.s(t)}),o)))}function gT(e){return z.createElement(ct.make,{layout:{hd:{NAME:"px",VAL:28},tl:0},vAlign:"center",fullHeight:!0,children:z.createElement(Y.Icon.make,{size:"sm"})})}function mT(e){var t,r,o=e.label,i=e.tooltip,n=e.remoteData,l=e.onRefetch,d=e.children;if(t="number"==typeof n||2!==n.TAG||void 0!==n._0?"primary":"tertiary","number"==typeof n)r=z.createElement(gT,{});else switch(0|n.TAG){case 1:r=z.createElement(ct.make,{gap:"px8",children:null},z.createElement(pt.make,{color:"secondary",fontSize:"sm",children:s._1(ke.Message.to_s,{id:"f944df6e17c369a37a21b64b826c01e2",defaultMessage:"Couldn’t fetch data"})}),z.createElement(ht.make,{width:"fit",onClick:function(e){return s._1(l,void 0)},children:z.createElement(Xe.Refresh.make,Xe.Refresh.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}));break;case 2:r=z.createElement(ct.make,{gap:"px8",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},children:s._1(d,n._0)});break;default:r=z.createElement(gT,{})}return z.createElement("div",{className:$w},z.createElement(ct.make,{gap:"px6",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},fullHeight:!0,children:null},z.createElement(pt.make,{color:t,whiteSpace:"nowrap",children:z.createElement("div",{className:Vw},a.s(o),z.createElement(Ot.make,{content:i,theme:1}))}),r))}function fT(e){var t=e.value,r=e.formatter,o=e.href,i=void 0!==r?r:ae.Int.compact;return me.mapWithDefault(t,z.createElement(VC.make,{color:"tertiary",fontSize:"xl",children:a.s("N/A")}),(function(e){var t=z.createElement(VC.make,{fontSize:"xl",children:a.s(s._1(i,e.value))});return z.createElement(Je.make,{gap:"px8",fitToContent:!0,align:"baseline",children:null},me.mapWithDefault(o,t,(function(e){return z.createElement(ta.make,{href:e,mode:0,children:t})})),z.createElement(_a.Int.make,_a.Int.makeProps(i,me.getWithDefault(e.delta,0),void 0,"sm",void 0,void 0)))}))}function pT(e){var t=e.value,r=e.formatter,o=e.href,i=void 0!==r?r:ae.Float.compact;return me.mapWithDefault(t,z.createElement(VC.make,{color:"tertiary",fontSize:"xl",children:a.s("N/A")}),(function(e){var t=z.createElement(VC.make,{fontSize:"xl",children:a.s(s._1(i,e.value))});return z.createElement(Je.make,{gap:"px8",fitToContent:!0,align:"baseline",children:null},me.mapWithDefault(o,t,(function(e){return z.createElement(ta.make,{href:e,mode:0,children:t})})),z.createElement(_a.Float.make,_a.Float.makeProps(i,me.getWithDefault(e.delta,0),void 0,"sm",void 0,void 0)))}))}function _T(e){var t=e.label,r=e.value,o=e.unit,i=e.href,n=e.deltaPrefixType,d=e.reversed,c=e.linkMode,u=e.formatter,g=void 0!==o?o:"",m=void 0!==d&&d,f=void 0!==u?u:ae.Int.compact;return z.createElement(kt.make,{gap:"px6",vGap:"none",children:null},z.createElement(pt.make,{color:me.isSome(r)?"primary":"tertiary",fontSize:"sm",children:a.s(t)}),me.mapWithDefault(r,z.createElement(pt.make,{color:"tertiary",fontSize:"sm",children:a.s("N/A")}),(function(e){var t=z.createElement(pt.make,{fontSize:"sm",children:null},a.s(g),a.s(s._1(f,e.value)));return z.createElement(kt.make,{gap:"px6",vGap:"none",vAlign:"baseline",children:null},me.mapWithDefault(i,t,(function(e){var r={href:e,children:t};return void 0!==c&&(r.mode=l.valFromOption(c)),z.createElement(ta.make,r)})),z.createElement(_a.Int.make,_a.Int.makeProps(f,me.mapWithDefault(e.delta,0,(function(e){return m?0|-e:e})),n,void 0,void 0,void 0)))})))}function hT(e){return me.map(e,(function(e){return{value:Pe(e.value),delta:me.map(e.delta,Pe)}}))}var kT=function(e){var t=e.target,r=e.historicalPermissions,o=e.filters,i=e.remoteMetricsByCountry,n=e.onFetchMetricsByCountry,d=e.onFailure,c=void 0!==d?d:Ir.noop,u=xg.valueToReportMode(o.highlightChanges),g=xg.valueToDate(o.highlightChanges),m=z.useReducer(cT,{remoteBacklinks:0,remoteDomainRating:0,remoteUrlRating:0,remoteAllCountriesMetricsRating:0}),f=m[1],p=m[0];z.useEffect((function(){aT(f,t,u,o.country,c)}),[Ve.Safe.toKey(t),Sa.Item.toCode(o.country),Te(u)]),z.useEffect((function(){dT(f,t,o.country,u,c),iT(f,t,u,o.country,c),sT(f,t,g,o.country,c)}),[Ve.Safe.toKey(t),Te(u)]);var _,h=function(e){return o.country?s._1(n,void 0):aT(f,t,u,o.country,c)},k=o.country;if(k){var v=k._0;_=de.map(i,(function(e){return me.map(ce.getBy(e,(function(e){return mt.caml_equal(e.country,v)})),(function(e){return{organic:e.organic,paid:e.paid}}))}))}else _=de.map(p.remoteAllCountriesMetricsRating,(function(e){return e}));var y,D=z.createElement(pt.make,{whiteSpace:"nowrap",children:z.createElement("div",{className:Vw},s._1(ke.Message.to_s,{id:"8d49b76f431ce378e48ff8c4c5598338",defaultMessage:"DR"}),z.createElement(Ot.make,{content:{TAG:1,_0:z.createElement(ct.make,{gap:"px8",children:null},z.createElement(ct.make,{gap:"px4",children:null},z.createElement(gi.make,{children:s._1(ke.Message.to_s,{id:"a31734402df0b6dc4352aa2b06542a80",defaultMessage:"Domain Rating (DR)"})}),z.createElement("div",void 0,Ot.textContent(mo.seDomainRating))),z.createElement(ct.make,{gap:"px4",children:null},z.createElement(gi.make,{children:s._1(ke.Message.to_s,{id:"fd448160b8649158f790968816e7e559",defaultMessage:"Ahrefs Rank (AR)"})}),z.createElement("div",void 0,Ot.textContent(mo.seAhrefsRank))))},theme:1}))}),S=function(e){return z.createElement(tw,{value:e,color:_e.Color.Chart.iris})},F=p.remoteDomainRating,C=0;if("number"==typeof F)C=1;else switch(0|F.TAG){case 1:y=z.createElement(Je.make,{gap:"px12",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},S(0),z.createElement(ct.make,{gap:"px6",children:null},D,z.createElement(pt.make,{color:"secondary",fontSize:"sm",children:s._1(ke.Message.to_s,{id:"f944df6e17c369a37a21b64b826c01e2",defaultMessage:"Couldn’t fetch data"})}),z.createElement(ht.make,{width:"fit",onClick:function(e){return iT(f,t,u,o.country,c)},children:z.createElement(Xe.Refresh.make,Xe.Refresh.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))})));break;case 2:var w=F._0;y=z.createElement(Je.make,{gap:"px12",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},S(w.domainRating.value),z.createElement(ct.make,{gap:"px6",children:null},D,z.createElement(pT,{value:w.domainRating,formatter:ae.Float.preciseSmallNumbers})));break;default:C=1}1===C&&(y=z.createElement(Je.make,{gap:"px12",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},S(0),z.createElement(ct.make,{gap:"px6",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},children:null},D,z.createElement(gT,{}))));var T,b=z.createElement(pt.make,{whiteSpace:"nowrap",children:z.createElement("div",{className:Vw},s._1(ke.Message.to_s,{id:"c657877ab3b71ac965ea26f4fbb502dc",defaultMessage:"UR"}),z.createElement(Ot.make,{content:Sn(void 0,void 0),theme:1}))}),P=function(e){return z.createElement(tw,{value:e,color:_e.Color.Chart.wasabi})},M=p.remoteUrlRating,A=0;if("number"==typeof M)A=1;else switch(0|M.TAG){case 1:T=z.createElement(Je.make,{gap:"px12",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},P(0),z.createElement(ct.make,{gap:"px6",children:null},b,z.createElement(pt.make,{color:"secondary",fontSize:"sm",children:s._1(ke.Message.to_s,{id:"f944df6e17c369a37a21b64b826c01e2",defaultMessage:"Couldn’t fetch data"})}),z.createElement(ht.make,{width:"fit",onClick:function(e){return sT(f,t,g,o.country,c)},children:z.createElement(Xe.Refresh.make,Xe.Refresh.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))})));break;case 2:var R=M._0.urlRating;T=void 0!==R?z.createElement(Je.make,{gap:"px12",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},P(R.value),z.createElement(ct.make,{gap:"px6",children:null},b,z.createElement(pT,{value:R,formatter:ae.Float.preciseSmallNumbers}))):z.createElement(Je.make,{gap:"px12",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},P(0),z.createElement(ct.make,{gap:"px6",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},children:null},b,z.createElement(ut.make,{content:s._1(ke.Message.to_s,{id:"310d7b91df4bae407c97d80a53c59aa7",defaultMessage:"URL Rating wasn’t populated for your target page yet. It will be added the next time the page is crawled."}),children:z.createElement(VC.make,{color:"tertiary",fontSize:"xl",children:a.s("N/A")})})));break;default:A=1}1===A&&(T=z.createElement(Je.make,{gap:"px12",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},P(0),z.createElement(ct.make,{gap:"px6",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},children:null},b,z.createElement(gT,{}))));var L,E=p.remoteDomainRating;return L="number"==typeof E||2!==E.TAG?null:z.createElement(_T,{label:"AR",value:E._0.ahrefsRank,href:vt.makeAhrefsRankUrl(Ve.Safe.toUnsafe(t)),deltaPrefixType:"Triangle",reversed:!0,linkMode:1,formatter:ae.Int.full}),z.createElement("div",{className:Qw},z.createElement(uT,{title:s._1(ke.Message.to_s,{id:"42a4338a6559a96afa41cf10e1c575fb",defaultMessage:"Backlink profile"}),gridClassName:qw,children:z.createElement("div",{className:Jw},z.createElement("div",{className:jw},z.createElement(ct.make,{gap:"px8",children:null},z.createElement("div",{className:Yw},y,T),L)),z.createElement("div",{className:Hw},z.createElement(mT,{label:s._1(ke.Message.to_s,{id:"13b4a8637b2b0859a7b7aad596a9b860",defaultMessage:"Backlinks"}),tooltip:{TAG:0,_0:mo.seBacklinks},remoteData:p.remoteBacklinks,onRefetch:function(e){return dT(f,t,o.country,u,c)},children:function(e){var a=me.mapWithDefault(e,[void 0,void 0],(function(e){var t=e.backlinks;return[t.current,t.all_time]})),o={label:s._1(ke.Message.to_s,{id:"57e53f21952b342267436c5434e259e6",defaultMessage:"All time"}),value:me.map(a[1],(function(e){return{value:e,delta:void 0}})),linkMode:0},i="string"==typeof r&&"HistoryUnlimited"===r?j.V2.makeBacklinksUrl(Ve.Safe.toUnsafe(t),void 0,void 0,l.some(xg.Deprecated.setter(s._2(ag.Backlinks.Deprecated.setter,{},s._1(ag.Backlinks.toString,2)),xg.Deprecated.valueToString(8))),void 0):void 0;return void 0!==i&&(o.href=l.valFromOption(i)),z.createElement(z.Fragment,void 0,z.createElement(fT,{value:a[0],href:j.V2.makeBacklinksUrl(Ve.Safe.toUnsafe(t),void 0,void 0,l.some(xg.Deprecated.setter(s._2(ag.Backlinks.Deprecated.setter,{},s._1(ag.Backlinks.toString,2)),xg.Deprecated.valueToString(0))),void 0)}),z.createElement(_T,o))}})),z.createElement("div",{className:zw},z.createElement(mT,{label:s._1(ke.Message.to_s,{id:"b7c288b5586ea752916af992cfbd217f",defaultMessage:"Ref. domains"}),tooltip:{TAG:0,_0:mo.seReferringDomains},remoteData:p.remoteBacklinks,onRefetch:function(e){return dT(f,t,o.country,u,c)},children:function(e){var a=me.mapWithDefault(e,[void 0,void 0],(function(e){var t=e.refdomains;return[t.current,t.all_time]})),o={label:s._1(ke.Message.to_s,{id:"57e53f21952b342267436c5434e259e6",defaultMessage:"All time"}),value:me.map(a[1],(function(e){return{value:e,delta:void 0}})),linkMode:0},i="string"==typeof r&&"HistoryUnlimited"===r?j.V2.makeRefdomainsUrl(Ve.Safe.toUnsafe(t),void 0,l.some(xg.Deprecated.setter({},xg.Deprecated.valueToString(8))),void 0):void 0;return void 0!==i&&(o.href=l.valFromOption(i)),z.createElement(z.Fragment,void 0,z.createElement(fT,{value:a[0],href:j.V2.makeRefdomainsUrl(Ve.Safe.toUnsafe(t),void 0,l.some(xg.Deprecated.setter({},xg.Deprecated.valueToString(0))),void 0)}),z.createElement(_T,o))}})))}),z.createElement(uT,{title:s._1(ke.Message.to_s,{id:"9446b5975fb78aba09add768867eac17",defaultMessage:"Organic search"}),gridClassName:xw,children:z.createElement("div",{className:Xw},z.createElement(mT,{label:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"}),tooltip:{TAG:0,_0:mo.seOrganicKeywords},remoteData:_,onRefetch:function(e){return h()},children:function(e){var r=me.mapWithDefault(e,[void 0,void 0],(function(e){var t=e.organic;return[t.keywords,t.keywords1_3]})),a=jp(),i=jp();return z.createElement(z.Fragment,void 0,z.createElement(fT,{value:r[0],href:j.V2.makeOrganicKeywordsUrlDict(Ve.Safe.toUnsafe(t),l.some(Yp({hd:2,tl:{hd:5,tl:0}},{},{sort:a.sort,pagination:a.pagination,country:Sa.Item.toCountryOpt(o.country),isUserCountry:a.isUserCountry,currentDate:a.currentDate,compareDate:"DontCompare",positions:a.positions,volume:a.volume,kd:a.kd,cpc:a.cpc,orgKeywordTraffic:a.orgKeywordTraffic,serp:a.serp,words:a.words,keyword:a.keyword,url:a.url,isMainOnly:a.isMainOnly,multipleUrls:a.multipleUrls})),void 0)}),z.createElement(_T,{label:s._1(ke.Message.to_s,{id:"191a46fd9fd9c74e96b0b1ceb2f0b815",defaultMessage:"Top 3"}),value:r[1],href:j.V2.makeOrganicKeywordsUrlDict(Ve.Safe.toUnsafe(t),l.some(Yp({hd:2,tl:{hd:5,tl:{hd:6,tl:0}}},{},{sort:i.sort,pagination:i.pagination,country:Sa.Item.toCountryOpt(o.country),isUserCountry:i.isUserCountry,currentDate:i.currentDate,compareDate:"DontCompare",positions:{positions:{from:1,to_:3},changes:0},volume:i.volume,kd:i.kd,cpc:i.cpc,orgKeywordTraffic:i.orgKeywordTraffic,serp:i.serp,words:i.words,keyword:i.keyword,url:i.url,isMainOnly:i.isMainOnly,multipleUrls:i.multipleUrls})),void 0),linkMode:0}))}}),z.createElement(mT,{label:s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),tooltip:{TAG:1,_0:z.createElement(ct.make,{gap:"px8",children:null},z.createElement(ct.make,{gap:"px4",children:null},z.createElement(gi.make,{children:s._1(ke.Message.to_s,{id:"ab89f2050f2b6252730728b859e7d222",defaultMessage:"Organic traffic"})}),z.createElement("div",void 0,Ot.textContent(mo.seOrganicTraffic))),z.createElement(ct.make,{gap:"px4",children:null},z.createElement(gi.make,{children:s._1(ke.Message.to_s,{id:"263c4b447c4e98677b0ea287ff60e92b",defaultMessage:"Organic traffic value"})}),z.createElement("div",void 0,Ot.textContent(mo.seOrganicTrafficValue))))},remoteData:_,onRefetch:function(e){return h()},children:function(e){var r=me.mapWithDefault(e,[void 0,void 0],(function(e){var t=e.organic;return"Average"===o.volumeMode?[t.trafficAvg,t.costAvg]:[t.traffic,t.cost]})),a=mt.caml_obj_dup(yw());return z.createElement(z.Fragment,void 0,z.createElement(fT,{value:r[0],href:j.V2.makeTopPagesUrlDict(Ve.Safe.toUnsafe(t),l.some(Fw({hd:0,tl:{hd:1,tl:{hd:20,tl:0}}},{},(a.compareDate="DontCompare",a.country=o.country,a.volumeMode=o.volumeMode,a))),void 0)}),z.createElement(_T,{label:s._1(ke.Message.to_s,{id:"12f48e41f2cef57ff5aa9db7ef545742",defaultMessage:"Value"}),value:hT(r[1]),unit:"$"}))}}))}),z.createElement(uT,{title:s._1(ke.Message.to_s,{id:"6e6938a3fd09340a3869855723758dd5",defaultMessage:"Paid search"}),gridClassName:Ww,children:z.createElement("div",{className:Xw},z.createElement(mT,{label:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"}),tooltip:{TAG:0,_0:mo.paidPagesKeywords},remoteData:_,onRefetch:function(e){return h()},children:function(e){var r=me.mapWithDefault(e,[void 0,void 0],(function(e){var t=e.paid;return[t.keywords,t.ads]})),a=Bd();return z.createElement(z.Fragment,void 0,z.createElement(fT,{value:r[0],href:j.V2.makePaidKeywordsUrlDict(Ve.Safe.toUnsafe(t),l.some(xd({hd:2,tl:{hd:5,tl:0}},{},{sort:a.sort,pagination:a.pagination,country:Sa.Item.toCountryOpt(o.country),isUserCountry:a.isUserCountry,currentDate:a.currentDate,compareDate:"DontCompare",adPositions:a.adPositions,volume:a.volume,kd:a.kd,cpc:a.cpc,orgKeywordTraffic:a.orgKeywordTraffic,words:a.words,keyword:a.keyword,url:a.url,serp:a.serp,adTitle:a.adTitle,adDisplayUrl:a.adDisplayUrl,adDescription:a.adDescription})),void 0)}),z.createElement(_T,{label:s._1(ke.Message.to_s,{id:"799686389647adb8bf1fefbe4cb087b7",defaultMessage:"Ads"}),value:r[1],href:j.V2.makeAdsUrl(Ve.Safe.toUnsafe(t),Sa.Item.toCountryOpt(o.country),l.some(Pt.Deprecated.setCompareDate(Pa.Deprecated.setter({},Pa.Deprecated.valueToString(o.volumeMode)),_r.show("DontCompare"))),void 0),linkMode:0}))}}),z.createElement(mT,{label:s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),tooltip:{TAG:1,_0:z.createElement(ct.make,{gap:"px8",children:null},z.createElement(ct.make,{gap:"px4",children:null},z.createElement(gi.make,{children:s._1(ke.Message.to_s,{id:"bf678b3bde436918c6a4138e08696c3e",defaultMessage:"Paid traffic"})}),z.createElement("div",void 0,Ot.textContent(mo.sePaidTraffic))),z.createElement(ct.make,{gap:"px4",children:null},z.createElement(gi.make,{children:s._1(ke.Message.to_s,{id:"05504f342074ffe7be92ac7c7145f9c8",defaultMessage:"Paid traffic cost"})}),z.createElement("div",void 0,Ot.textContent(mo.sePaidTrafficValue))))},remoteData:_,onRefetch:function(e){return h()},children:function(e){var r=me.mapWithDefault(e,[void 0,void 0],(function(e){var t=e.paid;return"Average"===o.volumeMode?[t.trafficAvg,t.costAvg]:[t.traffic,t.cost]})),a=mt.caml_obj_dup(as());return z.createElement(z.Fragment,void 0,z.createElement(fT,{value:r[0],href:j.V2.makePaidPagesUrlDict(Ve.Safe.toUnsafe(t),l.some(ns({hd:0,tl:{hd:1,tl:{hd:23,tl:0}}},{},(a.compareDate="DontCompare",a.country=o.country,a.volumeMode=o.volumeMode,a))),void 0)}),z.createElement(_T,{label:s._1(ke.Message.to_s,{id:"90c5e3e8c432b0fd259797b93265dffa",defaultMessage:"Cost"}),value:hT(r[1]),unit:"$"}))}}))}),z.createElement("div",{className:Uw}))},vT=et.style([et.label("columnsWrapper"),et.display("grid"),et.unsafe("gridGap","16px"),et.unsafe("gridTemplateRows","auto 1fr"),et.unsafe("gridTemplateColumns","3fr 3fr 2fr"),et.unsafe("gridTemplateAreas",'"overviewChart      overviewChart    backlinksStats"\n    "trafficByCountries pagesByCountries backlinksStats"'),et.media(tt.Media.desktopDown,[et.unsafe("gridTemplateRows","auto"),et.unsafe("gridTemplateColumns","1fr 1fr"),et.unsafe("gridTemplateAreas",'"overviewChart      overviewChart"\n      "trafficByCountries pagesByCountries"\n      "backlinksStats     backlinksStats"')]),et.media(tt.Media.tabletDown,[et.unsafe("gridTemplateRows","auto"),et.unsafe("gridTemplateColumns","1fr"),et.unsafe("gridTemplateAreas",'"overviewChart"\n      "trafficByCountries"\n      "pagesByCountries"\n      "backlinksStats"')])]),yT=et.style([et.label("blockOverviewChart"),et.unsafe("gridArea","overviewChart")]),DT=et.style([et.label("blockTrafficByCountries"),et.unsafe("gridArea","trafficByCountries")]),ST=et.style([et.label("blockPagesByCountries"),et.unsafe("gridArea","pagesByCountries")]),FT=et.style([et.label("blockBacklinkStats"),et.unsafe("gridArea","backlinksStats")]),CT=r(37805),wT=r(47220),TT=et.style([et.label("httpCodeBadge"),et.display("inlineBlock"),et.unsafe("verticalAlign","top"),et.marginTop({NAME:"pxFloat",VAL:3}),et.marginLeft(tt.NewSize.px8)]);function bT(e){var t,r,o=e.remoteData,i=e.target,n=e.onRefetch;if("number"==typeof o||2!==o.TAG)t=null;else{var l=o._0.pageInfo;if(void 0!==l){var d=l.httpCode;if(d>=300){var c={httpCode:a.s(String(d)),httpCodeDescription:a.s(CT.toString(d))};t=z.createElement("div",{className:TT},z.createElement(ut.make,{content:s._2(ke.Message.format_to_s,{id:"5042c6688c2b22d56c9413f50c794e9f",defaultMessage:"The target page returned {httpCode} {httpCodeDescription} status code."},c),children:z.createElement(Io.make,{corners:"rounded",color:d>=400?"danger":"warning",value:String(d),fontWeight:"regular"})}))}else t=null}else t=null}var u=0;if("number"==typeof o)u=1;else switch(0|o.TAG){case 1:var g={a:function(e){return z.createElement(it.make,{onClick:function(e){return s._1(n,void 0)},children:a.s(e)})}};r=z.createElement(pt.make,{color:"secondary",children:s._2(ke.Message.format_to_s,{id:"d22e60b3e258fbcf05382d5140439d1c",defaultMessage:"Couldn't fetch the page title. <a>Try again</a>"},g)});break;case 2:var m=o._0.pageInfo;if(void 0!==m){var f=m.title;r=""===f?null:z.createElement(pt.make,{color:"secondary",fontSize:"sm",children:a.s(f)})}else r=null;break;default:u=1}return 1===u&&(r=z.createElement(Y.Icon.make,{size:"xs"})),z.createElement(kt.make,{vGap:"px4",vAlign:"baseline",children:null},z.createElement(lt.make,{children:null},a.s(j.V2.show(0)+":"),a.s(Gt.nbsp),z.createElement(ta.make,{color:"base",href:Ve.Safe.toHref(i),mode:2,breakWord:!0,children:a.s(Ve.Safe.toUiString(i))}),t),r)}var PT={contents:gt()};function MT(e,t,r,a){s._1(e,1);var o=gt();return PT.contents=o,Ye.forEach(R(void 0,wT.request,{mode:a.mode,protocol:a.protocol,url:n.Protocolless_url.show(a.url),compareDate:t,country:r}),(function(t){if(PT.contents===o)return s._1(e,t)}))}var AT=function(e){var t=e.compareDate,r=e.country,o=e.target,i=a.useStateValue(0),n=i[1];return z.useEffect((function(){MT(n,t,r,o)}),[Ve.Safe.toKey(o)]),z.createElement(bT,{remoteData:i[0],target:o,onRefetch:function(e){return MT(n,t,r,o)}})},RT=et.style([et.label("tableWrapper"),et.overflowX("auto"),et.minHeight({NAME:"pxFloat",VAL:193}),et.borderBottom({NAME:"pxFloat",VAL:1},"solid",_e.Color.Border.line)]),LT=et.style([et.label("emptyCell"),et.width(tt.NewSize.px16),et.maxWidth(tt.NewSize.px16),et.minWidth(tt.NewSize.px16)]),ET=z.createElement("td",{className:LT}),BT=z.createElement("th",{className:LT});function KT(e){var t=e.currentPage,r=e.pageCount,a=e.onChange;return r<=0?null:z.createElement(Je.make,{gap:"none",fitToContent:!0,children:null},z.createElement(ht.make,{color:"ghost",disabled:t<=0,width:"fit",onClick:function(e){return s._1(a,t-1|0)},children:z.createElement(Xe.Caret.make,Xe.Caret.makeProps(void 0,void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}),z.createElement(ht.make,{color:"ghost",disabled:t>=(r-1|0),width:"fit",onClick:function(e){return s._1(a,t+1|0)},children:z.createElement(Xe.Caret.make,Xe.Caret.makeProps(void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}))}function qT(e,t){var r=0===wg.mod_(e,t)?0:1;return wg.div(e,t)+r|0}var xT=function(e){var t=e.data,r=e.config,o=e.renderFooter,i=e.renderRow,n=e.perPage,l=e.currentPage,d=e.onPageChange,c=void 0!==o?o:function(e){return null},u=void 0!==i?i:function(e,t,r){return z.createElement("tr",{key:String(e)},ET,r,ET)},g=void 0!==n?n:5,m=Math.imul(g,l),f=m+g|0;return z.createElement(ct.make,{gap:"px12",children:null},z.createElement("div",{className:RT},z.createElement("table",void 0,z.createElement("thead",void 0,z.createElement("tr",void 0,BT,a.list(ce.mapWithIndex(r,(function(e,t){return z.createElement(z.Fragment,{children:t.header,key:String(e)})}))),BT)),z.createElement("tbody",void 0,a.list(ce.mapWithIndex(t,(function(e,t){return e>=m&&e<f?s._3(u,e,t,a.list(ce.map(r,(function(r){return z.createElement(z.Fragment,{children:s._2(r.render,t,e),key:r.id})})))):null})))))),z.createElement(po.make,{padding:"pageHorizontal",children:z.createElement(Je.make,{gap:"px10",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},children:null},z.createElement(KT,{currentPage:l,pageCount:qT(ce.size(t),g),onChange:d}),s._1(c,void 0))}))},WT=s._1(Rt.css,{hd:Rt.label("wrapper"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.padding2(tt.NewSize.px12,tt.NewSize.px16),tl:{hd:Rt.backgroundColor(_e.Color.Background.box),tl:{hd:Rt.boxShadows(tt.BoxShadow.elevation1),tl:0}}}}}),UT=s._1(Rt.css,{hd:Rt.label("chart"),tl:{hd:Rt.overflow("hidden"),tl:{hd:Rt.borderRadius({NAME:"px",VAL:3}),tl:{hd:Rt.height(tt.NewSize.px24),tl:0}}}}),OT=s._1(Rt.css,{hd:Rt.label("tableWrapper"),tl:{hd:Rt.margin2("zero",tt.negative(tt.NewSize.px16)),tl:0}}),NT=s._1(Rt.css,{hd:Rt.label("iconContainerAlwaysVisible"),tl:0}),$T=s._1(Rt.css,{hd:Rt.label("iconContainer"),tl:{hd:Rt.visibility("hidden"),tl:{hd:Rt.position("absolute"),tl:{hd:Rt.right({NAME:"px",VAL:10}),tl:{hd:Rt.top({NAME:"px",VAL:8}),tl:{hd:Rt.selectSelf(NT)({hd:Rt.visibility("visible"),tl:0}),tl:0}}}}}}),IT=s._1(Rt.css,{hd:Rt.label("tableRowSelected"),tl:0}),GT=s._1(Rt.css,{hd:Rt.label("tableRow"),tl:{hd:Rt.minHeight({NAME:"px",VAL:34}),tl:{hd:Rt.hover({hd:Rt.cursor("pointer"),tl:{hd:Rt.backgroundColor(_e.Color.Background.boxHover),tl:{hd:Rt.borderTop({NAME:"px",VAL:1},"solid",_e.Color.Border.line),tl:{hd:Rt.selector("."+$T,{hd:Rt.visibility("visible"),tl:0}),tl:0}}}}),tl:{hd:Rt.selectSelf(IT)({hd:Rt.backgroundColor(_e.Color.Background.selectedMuted),tl:{hd:Rt.borderTop({NAME:"px",VAL:1},"solid",_e.Color.Border.line),tl:0}}),tl:{hd:Rt.selector(":not(:last-child)",{hd:Rt.hover({hd:Rt.borderBottom({NAME:"px",VAL:1},"solid",_e.Color.Border.line),tl:0}),tl:{hd:Rt.selectSelf(IT)({hd:Rt.borderBottom({NAME:"px",VAL:1},"solid",_e.Color.Border.line),tl:0}),tl:0}}),tl:0}}}}}),QT=s._1(Rt.css,{hd:Rt.label("barContent"),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:{hd:Rt.height({NAME:"percent",VAL:100}),tl:0}}}),VT=s._1(Rt.css,{hd:Rt.label("messageWrapper"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.flexDirection("column"),tl:{hd:Rt.position("relative"),tl:{hd:Rt.minHeight({NAME:"px",VAL:278}),tl:{hd:Rt.width({NAME:"percent",VAL:100}),tl:0}}}}}}),jT=tt.Media.minWidth(1400),HT={hd:{TAG:0,_0:{NAME:"percent",VAL:100}},tl:{hd:{TAG:1,_0:[jT,{NAME:"percent",VAL:50}]},tl:0}},zT={hd:{TAG:0,_0:"zero"},tl:{hd:{TAG:1,_0:[jT,{NAME:"percent",VAL:50}]},tl:0}},YT={hd:{TAG:0,_0:{NAME:"px",VAL:160}},tl:0};function JT(e){return 0!==e?e<.1?"<0.1%":ae.Float.custom(e/100,"0,0.0%"):"0%"}function XT(e){var t=e.onClick,r=a.useStateValue(!1),o=r[1];return z.createElement("div",{onMouseEnter:function(e){return s._1(o,!0)},onMouseLeave:function(e){return s._1(o,!1)}},z.createElement(ut.make,{content:s._1(ke.Message.to_s,{id:"dea0cc031d391c65655eb5b5e3ea3e34",defaultMessage:"Remove from chart"}),interactive:!1,children:z.createElement(_o.make,{onClick:t,children:r[0]?z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)):z.createElement(Xe.Check.make,Xe.Check.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))})}))}function ZT(e){var t=e.items,r=e.tooltipTarget,o=ce.filter(t,(function(e){return e.value>0}))||{hd:{value:100,label:"",color:_e.Color.Chart.empty},tl:0},i=ce.reduce(o,0,(function(e,t){return e+t.value}));return z.createElement("div",{className:UT},a.list(ce.mapWithIndex(o,(function(e,t){var o,n,d,c=t.value/i*100;if(""===t.label)o=null;else{var u={paddingSize:2,content:z.createElement(ct.make,{gap:"px6",children:null},z.createElement(gi.make,{children:a.s(t.label)}),z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement("div",void 0,s._1(ke.Message.to_s,{id:"c8b59400a81a09c1824993d6b07b6290",defaultMessage:"Traffic "})),z.createElement(Je.make,{gap:"px6",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement("div",void 0,a.s(ae.Float.full(t.value))),z.createElement("div",void 0,z.createElement(pt.make,{color:"secondary",fontSize:"xs",children:a.s(JT(c))}))))),isInline:!0,children:z.createElement("div",{className:QT})};void 0!==r&&(u.singleton=l.valFromOption(r)),o=z.createElement(ut.make,u)}return z.createElement("div",{key:String(e),className:(n=c,d=t.color,s._1(Rt.css,{hd:Rt.label("bar"),tl:{hd:Rt.display("inlineBlock"),tl:{hd:Rt.height({NAME:"percent",VAL:100}),tl:{hd:Rt.width({NAME:"percent",VAL:n}),tl:{hd:Rt.backgroundColor(d),tl:0}}}}}))},o)}))))}function eb(e,t){return e?t.paid.keywords:t.organic.keywords}function tb(e,t){var r;switch(e){case 0:r=t?s._1(ke.Message.to_s,{id:"f13296d65a34b56e68e88caccb0f4033",defaultMessage:"The estimated number of monthly visits from paid search."}):s._1(ke.Message.to_s,{id:"0e93a6ba4f5ee9b5ef1362a4360edcc3",defaultMessage:"The estimated number of monthly visits from organic search."});break;case 1:r=t?s._1(ke.Message.to_s,{id:"61104c053caaa89e6f70b75ce4ef5e9b",defaultMessage:"The percentage of the total traffic that your target gets from paid search."}):s._1(ke.Message.to_s,{id:"b6e82bad1ed52456f3d742b4b6de2459",defaultMessage:"The percentage of the total traffic that your target gets from organic search."});break;case 2:r=t?s._1(ke.Message.to_s,{id:"096d55422ed8cf9f2cf7ff8de517d92b",defaultMessage:"The total number of keywords that your target ranks for in paid search results."}):s._1(ke.Message.to_s,{id:"d6899721f4bcbb6f434ca6a008194984",defaultMessage:"The total number of keywords that your target ranks for in the top 100 organic search results."})}return{text:r,link:void 0,id:"se_"+r.replace(" ","-")}}function rb(e,t){return ce.filter(t,(function(t){var r=eb(e,t),a=r.value,o=r.delta;return 0!==a||void 0!==o&&0!==o}))}var ab=function(e){var t,r=e.disableCompare,o=e.target,i=e.filters,n=e.onFiltersChange,c=e.remoteMetricsByCountry,u=e.onFetchMetricsByCountry,g=a.useStateValue(0),m=g[1],f=a.useStateValue(0),p=f[1],_=i.trafficType?[f[0],p]:[g[0],m];if(z.useEffect((function(){s._1(m,0),s._1(p,0)}),[c]),"number"==typeof c||2!==c.TAG)t=null;else{var h=c._0;t=z.createElement(BS,{organicNumber:ce.length(rb(0,h)),paidNumber:ce.length(rb(1,h)),value:i.trafficType,onChange:function(e){return s._1(n,{volumeMode:i.volumeMode,country:i.country,highlightChanges:i.highlightChanges,chartMode:i.chartMode,competitors:i.competitors,pagesMainSource:i.pagesMainSource,countries:i.countries,pagesCountriesSource:i.pagesCountriesSource,trafficType:e,timeFrame:i.timeFrame,granularity:i.granularity,pagesMetricsChartSources:i.pagesMetricsChartSources,keywordsMetricsChartSources:i.keywordsMetricsChartSources,keywordsMainSource:i.keywordsMainSource,isPagesChartOpen:i.isPagesChartOpen,isKeywordsChartOpen:i.isKeywordsChartOpen})}})}var k,v=de.map(c,(function(e){return rb(i.trafficType,e)})),y=0;if("number"==typeof v)y=1;else switch(0|v.TAG){case 1:k=z.createElement("div",{className:VT},z.createElement(le.make,{reqId:d.getRequestId(v._0),onClick:function(e){return s._1(u,void 0)}}));break;case 2:var D=v._0;if(D){var S=i.trafficType,F=i.volumeMode,C=function(e){return t=S,r=e,"Average"===F?t?r.paid.trafficAvg:r.organic.trafficAvg:t?r.paid.traffic:r.organic.traffic;var t,r},w=ce.sort(D,(function(e,t){return s._1(C,t).value-s._1(C,e).value|0})),T=ce.reduce(w,0,(function(e,t){return s._1(C,t).value+e|0})),b=ce.mapWithIndex(s._2((function(e,t){return ce.slice(0,e,t)}),5,w),(function(e,t){return{value:s._1(C,t).value,label:se.name(t.country),color:At.getChartColor(Fe,e,void 0)}})),P=ce.reduce(b,0,(function(e,t){return e+t.value})),M=ce.concat(b,{hd:{value:T-P,label:s._1(ke.Message.to_s,{id:"327f690ac37c4b78296a0dcc000accbd",defaultMessage:"Other countries"}),color:_e.Color.Chart.empty},tl:0});k=z.createElement(ct.make,{gap:"px8",children:null},z.createElement("div",void 0,z.createElement(ZT,{items:M})),z.createElement("div",{className:OT},z.createElement(xT,{data:w,config:{hd:{id:"country",header:z.createElement(va.Th.make,{paddingLeft:"none",title:s._1(ke.Message.to_s,{id:"6d310233c26f4625a6ec20b00e3885bf",defaultMessage:"Country"})}),render:function(e,t){var r=String(t+1|0);return z.createElement(va.Td.make,{contentHeight:"button",paddingLeft:"none",width:HT,minWidth:YT,children:z.createElement(Je.make,{gap:"px10",layout:{hd:{NAME:"px",VAL:18},tl:{hd:{NAME:"fr",VAL:1},tl:0}},children:null},t<5?z.createElement(Io.$$Number.make,{color:{NAME:"customColor",VAL:[At.getChartColor(Fe,t,void 0),t%2==0?_e.ColorAlt.$$Text.primary:_e.Color.$$Text.primary]},value:r}):z.createElement(pt.make,{color:"secondary",fontSize:"xs",children:a.s(r)}),z.createElement(pt.make,{truncate:!0,children:a.s(se.name(e.country))}))})}},tl:{hd:{id:"plus",header:z.createElement(va.Th.make,{title:""}),render:function(e,t){var a=me.isSome(ce.getBy(i.countries,(function(t){return se.equal(t,e.country)}))),o=function(e,t){return t.stopPropagation(),e?s._1(n,{volumeMode:i.volumeMode,country:i.country,highlightChanges:i.highlightChanges,chartMode:2,competitors:i.competitors,pagesMainSource:i.pagesMainSource,countries:e,pagesCountriesSource:i.pagesCountriesSource,trafficType:i.trafficType,timeFrame:i.timeFrame,granularity:i.granularity,pagesMetricsChartSources:i.pagesMetricsChartSources,keywordsMetricsChartSources:i.keywordsMetricsChartSources,keywordsMainSource:i.keywordsMainSource,isPagesChartOpen:i.isPagesChartOpen,isKeywordsChartOpen:i.isKeywordsChartOpen}):s._1(n,{volumeMode:i.volumeMode,country:i.country,highlightChanges:i.highlightChanges,chartMode:0,competitors:i.competitors,pagesMainSource:i.pagesMainSource,countries:0,pagesCountriesSource:i.pagesCountriesSource,trafficType:i.trafficType,timeFrame:i.timeFrame,granularity:i.granularity,pagesMetricsChartSources:i.pagesMetricsChartSources,keywordsMetricsChartSources:i.keywordsMetricsChartSources,keywordsMainSource:i.keywordsMainSource,isPagesChartOpen:i.isPagesChartOpen,isKeywordsChartOpen:i.isKeywordsChartOpen})};return z.createElement(va.Td.make,{contentHeight:"button",children:z.createElement("div",{className:ra.$plus$plus$plus($T,ea.ifTrue(NT,a))},r?null:a?z.createElement(XT,{onClick:function(t){var r=ce.filter(i.countries,(function(t){return!se.equal(t,e.country)}));return o(r,t)}}):z.createElement(ut.make,{content:s._1(ke.Message.to_s,{id:"0881807edeedc77949a694759f90d2a4",defaultMessage:"Add to chart"}),interactive:!1,children:z.createElement(_o.make,{onClick:function(t){var r=ce.slice(0,9,i.countries),a=ce.concat(r,{hd:e.country,tl:0});return o(a,t)},children:z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))})}))})}},tl:{hd:{id:"traffic",header:z.createElement(va.Th.make,{align:"right",tooltip:{TAG:0,_0:tb(0,i.trafficType)},title:s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"})}),render:function(e,t){return z.createElement(va.Td.make,{align:"right",minWidth:{hd:{TAG:0,_0:{NAME:"px",VAL:62}},tl:0},children:a.s(ae.Int.$$default(s._1(C,e).value))})}},tl:{hd:{id:"traffic_delta",header:z.createElement(va.Th.make,{align:"left",paddingLeft:"none",title:""}),render:function(e,t){return z.createElement(va.Td.make,{align:"left",contentHeight:"smallText",paddingLeft:"none",minWidth:{hd:{TAG:0,_0:{NAME:"px",VAL:56}},tl:0},children:z.createElement(_a.Int.make,_a.Int.makeProps(ae.Int.$$default,me.getWithDefault(s._1(C,e).delta,0),void 0,void 0,void 0,void 0))})}},tl:{hd:{id:"traffic_pct",header:z.createElement(va.Th.make,{align:"right",tooltip:{TAG:0,_0:tb(1,i.trafficType)},title:s._1(ke.Message.to_s,{id:"73c2168953b6d2b80debc3931c71a572",defaultMessage:"Share"})}),render:function(e,t){var r=s._1(C,e).value;return z.createElement(va.Td.make,{align:"right",minWidth:{hd:{TAG:0,_0:{NAME:"px",VAL:56}},tl:0},children:a.s(JT(r/T*100))})}},tl:{hd:{id:"keywords",header:z.createElement(va.Th.make,{align:"right",tooltip:{TAG:0,_0:tb(2,i.trafficType)},title:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"})}),render:function(e,t){var r=a.s(ae.Int.$$default(eb(i.trafficType,e).value)),n=i.trafficType?j.V2.makePaidKeywordsUrl:j.V2.makeOrganicKeywordsUrl,d=Pt.dataToString(xg.valueToDateRange(i.highlightChanges));return z.createElement(va.Td.make,{align:"right",minWidth:{hd:{TAG:0,_0:{NAME:"px",VAL:80}},tl:0},children:z.createElement(ta.make,{href:s._4(n,Ve.Safe.toUnsafe(o),void 0,l.some(Pt.Deprecated.setter(s._2(Zo.setCountry,{},s._1(ai.dataToString,e.country)),[d[0],_r.show("DontCompare")])),void 0),mode:0,children:r})})}},tl:{hd:{id:"keywords_delta",header:z.createElement(va.Th.make,{paddingLeft:"none",paddingRight:"none",title:""}),render:function(e,t){return z.createElement(va.Td.make,{align:"left",contentHeight:"smallText",paddingLeft:"none",paddingRight:"none",minWidth:{hd:{TAG:0,_0:{NAME:"px",VAL:48}},tl:0},children:z.createElement(_a.Int.make,_a.Int.makeProps(ae.Int.$$default,me.getWithDefault(eb(i.trafficType,e).delta,0),void 0,void 0,void 0,void 0))})}},tl:{hd:{id:"spacer",header:z.createElement(va.Th.make,{paddingLeft:"none",paddingRight:"none",title:""}),render:function(e,t){return z.createElement(va.Td.make,{paddingLeft:"none",paddingRight:"none",width:zT,children:a.s("")})}},tl:0}}}}}}}},renderFooter:function(e){var t=ce.map(s._2((function(e,t){return ce.slice(0,e,t)}),5,w),(function(e){return e.country}));if(!t)return null;var o,l=ce.length(t)<5;if(r)o=null;else if(l)o=s._1(ke.Message.to_s,{id:"f9ad28224e0eb367684399d5446337fc",defaultMessage:"Compare on chart"});else{var d={numOfTopCountries:a.s(String(5))};o=s._2(ke.Message.format_to_s,{id:"16676c17d6d2fcb45792aef506802d2f",defaultMessage:"Сompare top {numOfTopCountries} on chart"},d)}return z.createElement(Je.make,{fitToContent:!0,children:z.createElement(ut.make,{content:s._1(ke.Message.to_s,{id:"81c660df032cd4e1d6de7c70530bdf57",defaultMessage:"This replaces the current chart."}),children:z.createElement(ht.make,{color:"ghost",width:"fit",onClick:function(e){return s._1(n,{volumeMode:i.volumeMode,country:i.country,highlightChanges:i.highlightChanges,chartMode:2,competitors:i.competitors,pagesMainSource:i.pagesMainSource,countries:t,pagesCountriesSource:i.pagesCountriesSource,trafficType:i.trafficType,timeFrame:i.timeFrame,granularity:i.granularity,pagesMetricsChartSources:i.pagesMetricsChartSources,keywordsMetricsChartSources:i.keywordsMetricsChartSources,keywordsMainSource:i.keywordsMainSource,isPagesChartOpen:i.isPagesChartOpen,isKeywordsChartOpen:i.isKeywordsChartOpen})},children:o})})})},renderRow:function(e,t,r){var a=i.country,o=!!a&&mt.caml_equal(a._0,t.country);return z.createElement("tr",{key:se.code(t.country),className:ra.$plus$plus$plus(GT,ea.ifTrue(IT,o)),onClick:function(e){return s._1(n,{volumeMode:i.volumeMode,country:o?0:{_0:t.country},highlightChanges:i.highlightChanges,chartMode:i.chartMode,competitors:i.competitors,pagesMainSource:i.pagesMainSource,countries:i.countries,pagesCountriesSource:i.pagesCountriesSource,trafficType:i.trafficType,timeFrame:i.timeFrame,granularity:i.granularity,pagesMetricsChartSources:i.pagesMetricsChartSources,keywordsMetricsChartSources:i.keywordsMetricsChartSources,keywordsMainSource:i.keywordsMainSource,isPagesChartOpen:i.isPagesChartOpen,isKeywordsChartOpen:i.isKeywordsChartOpen})}},ET,r,ET)},currentPage:_[0],onPageChange:_[1]})))}else k=z.createElement("div",{className:VT},z.createElement(Yl.make,{text:s._1(ke.Message.to_s,{id:"2fbda4e491710be45a44d02841c93b5a",defaultMessage:"Your target doesn’t get traffic from any country"})}));break;default:y=1}return 1===y&&(k=z.createElement("div",{className:VT},z.createElement(Y.Box.make,{size:"md",background:0,fullHeight:!0}))),z.createElement("div",{className:WT},z.createElement(ct.make,{layout:{hd:{NAME:"px",VAL:26},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(H.make,{children:s._1(ke.Message.to_s,{id:"67dafa92d4ae4ae83a0990453d2a504d",defaultMessage:"Traffic share by country"})}),t),k))},ob=r(82851),ib=et.style([et.label("messageWrapper"),et.display("flex"),et.flexDirection("column"),et.unsafe("position","relative"),et.minHeight({NAME:"pxFloat",VAL:282}),et.width({NAME:"percent",VAL:100})]);function nb(e){return ae.Float.full(e)+"%"}function sb(e){switch(e){case 0:return"0";case 1:return"1–100";case 2:return"101–1K";case 3:return"1K–5K";case 4:return"5K–10K";case 5:return"10K+"}}function lb(e){switch(e){case 0:return{from:0,to_:0};case 1:return{from:1,to_:100};case 2:return{from:101,to_:1e3};case 3:return{from:1001,to_:5e3};case 4:return{from:5001,to_:1e4};case 5:return{from:10001,to_:void 0}}}function db(e,t){return e?t?"trafficPct":"traffic":t?"pagesPct":"pages"}function cb(e,t){return e?t?"pct":"traffic":t?"pct":"pages"}et.style([et.label("barHoverArea"),et.unsafe("cursor","pointer")]);var ub={hd:{elementType:1,dataKey:db(0,0),yAxisId:cb(0,0),name:s._1(ke.Message.to_s,{id:"fcb63bc48369532d23e1011da158896b",defaultMessage:"Pages"}),stackId:void 0,value:0,type_:"linear",color:_e.Color.Chart.blue,reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:{hd:{elementType:1,dataKey:db(1,0),yAxisId:cb(1,0),name:s._1(ke.Message.to_s,{id:"c08b9fedbd5aaa8ab74460ea2d30d425",defaultMessage:"Total traffic"}),stackId:void 0,value:1,type_:"linear",color:_e.Color.Chart.orange,reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:0}};function gb(e,t){return ce.map(e,(function(e){return{elementType:e.elementType,dataKey:db(e.value,t),yAxisId:cb(e.value,t),name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}}))}function mb(e,t){if("number"==typeof t)return{spec:e.spec,chartMode:e.chartMode,remotePagesByTraffic:1};switch(0|t.TAG){case 0:return{spec:t._0,chartMode:e.chartMode,remotePagesByTraffic:e.remotePagesByTraffic};case 1:var r=t._0;return{spec:gb(e.spec,r),chartMode:r,remotePagesByTraffic:e.remotePagesByTraffic};case 2:return{spec:e.spec,chartMode:e.chartMode,remotePagesByTraffic:t._0}}}var fb={contents:gt()};function pb(e,t,r,a){s._1(e,0);var o=gt();return fb.contents=o,Ye.forEach(R(void 0,ob.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),compareDate:r,country:Sa.Item.toCountryOpt(a)}}),(function(t){if(fb.contents===o)return s._1(e,{TAG:2,_0:t})}))}function _b(e,t,r,a){return{range:e,traffic:a.traffic,trafficPct:0===r?0:a.traffic/r*100,pages:a.pages,pagesPct:0===t?0:a.pages/t*100}}function hb(e,t,r){switch(r){case 0:return"Average"===t?e.range0.avg:e.range0.mon;case 1:return"Average"===t?e.range100.avg:e.range100.mon;case 2:return"Average"===t?e.range1k.avg:e.range1k.mon;case 3:return"Average"===t?e.range5k.avg:e.range5k.mon;case 4:return"Average"===t?e.range10k.avg:e.range10k.mon;case 5:return"Average"===t?e.range10k_plus.avg:e.range10k_plus.mon}}var kb=function(e){var t=e.target,r=e.country,o=e.compareDate,n=e.volumeMode,c=z.useReducer(mb,{spec:ub,chartMode:0,remotePagesByTraffic:0}),u=c[1],g=c[0];z.useEffect((function(){pb(u,t,o,r)}),[Ve.Safe.toKey(t),me.map(o,ne.apiDate),Sa.Item.toCode(r)]);var m,f=g.remotePagesByTraffic;if("number"==typeof f||2!==f.TAG)m=null;else{var p=g.chartMode;m=z.createElement(nn.make,{value:!!p,onChange:function(e){var t=g.chartMode;return s._1(u,{TAG:1,_0:t?0:1})},children:s._1(ke.Message.to_s,{id:"35dbe8702a655f7cc14fe2d3806a9504",defaultMessage:"Percentage"})})}var _,h=g.remotePagesByTraffic,k=0;if("number"==typeof h)k=1;else switch(0|h.TAG){case 1:_=z.createElement("div",{className:ib},z.createElement(le.make,{reqId:d.getRequestId(h._0),onClick:function(e){return pb(u,t,o,r)}}));break;case 2:var v=Nr.getConfigsFromSpec(g.spec),y=function(e,t){var r={hd:hb(e,t,0),tl:{hd:hb(e,t,1),tl:{hd:hb(e,t,2),tl:{hd:hb(e,t,3),tl:{hd:hb(e,t,4),tl:{hd:hb(e,t,5),tl:0}}}}}},a=ce.reduce(r,[0,0],(function(e,t){return[e[0]+t.pages|0,e[1]+t.traffic|0]})),o=a[1],i=a[0];return[_b(0,i,o,hb(e,t,0)),_b(1,i,o,hb(e,t,1)),_b(2,i,o,hb(e,t,2)),_b(3,i,o,hb(e,t,3)),_b(4,i,o,hb(e,t,4)),_b(5,i,o,hb(e,t,5))]}(h._0,n),D=ce.filter(g.spec,(function(e){return e.show})),S=[0,100],F=g.chartMode?{hd:At.YAxisConfig.makeAxis(void 0,"pct","",void 0,S,void 0,void 0,void 0,void 0,(function(e){return me.mapWithDefault(Kt.fromString(e),"",nb)}),void 0,void 0,void 0),tl:0}:D?v[1]:{hd:At.YAxisConfig.makeAxis(void 0,void 0,"",!0,S,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0};_=z.createElement(ct.make,{children:null},z.createElement(Et.Horizontal.make,{spec:g.spec,onClick:function(e){return s._1(u,{TAG:0,_0:ce.map(g.spec,(function(t){return e===t.dataKey?{elementType:t.elementType,dataKey:t.dataKey,yAxisId:t.yAxisId,name:t.name,stackId:t.stackId,value:t.value,type_:t.type_,color:t.color,reversed:t.reversed,show:!t.show,areaFill:t.areaFill,areaFillOpacity:t.areaFillOpacity,areaStrokeWidth:t.areaStrokeWidth}:t}))})}}),z.createElement(At.Base.make,{chartType:2,data:y,charts:v[0],chartHeight:230,xDataKey:"range",xAxisInterval:{_0:0},xAxisPadding:[2,2],xTickFormatter:sb,yAxisConfig:F,tooltipLabelFormatter:sb,renderTooltip:function(e,t){var r=me.getWithDefault(l.nullable_to_opt(e.payload),[]),o=ge.filterMap(r,(function(e){return me.map(function(e){switch(e){case"pages":case"pagesPct":return 0;case"traffic":case"trafficPct":return 1;default:return}}(e.dataKey),(function(t){var r=e.payload,o=t?[r.traffic,r.trafficPct]:[r.pages,r.pagesPct];return{color:e.color,label:a.s(me.getWithDefault(i.decode(e.name),e.name)),value:z.createElement(Je.make,{gap:"px10",layout:{hd:"auto",tl:{hd:{NAME:"px",VAL:35},tl:0}},children:null},z.createElement(pt.make,{children:a.s(ae.Float.full(o[0]))}),z.createElement(pt.make,{color:"secondary",fontSize:"xs",align:"right",children:a.s(nb(o[1]))}))}}))}));return 0!==o.length?z.createElement(qt.make,{label:mi.deprecated_formatWithValue({id:"56a0b266d5341fd399ba3cb19d9c45a3",defaultMessage:"Pages with {rangeName} traffic"},{rangeName:me.mapWithDefault(ge.get(r,0),"",(function(e){return sb(e.payload.range)}))}),config:o}):null},showAxisLabels:!0,onClick:function(e,a){return me.forEach(null==e?void 0:l.some(e),(function(e){var o=e.activeLabel,i=j.V2.makeTopPagesUrl(Ve.Safe.toUnsafe(t),l.some(s._2(gn.OrgPageTraffic.Deprecated.setter,Pa.Deprecated.setter(s._2(Zo.setCountry,Pt.Deprecated.setCompareDate({},_r.show("DontCompare")),s._1(di.dataToString,r)),Pa.Deprecated.valueToString(n)),gn.dataToString({range:lb(o),changes:0}))),void 0);return a.ctrlKey||a.metaKey?void window.open(i,"",""):he.push(i)}))}}));break;default:k=1}return 1===k&&(_=z.createElement("div",{className:ib},z.createElement(Y.Box.make,{size:"md",background:0,fullHeight:!0}))),z.createElement(po.make,{padding:"blockSlim",background:1,children:z.createElement(ct.make,{gap:"px12",layout:{hd:{NAME:"px",VAL:26},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(H.make,{children:s._1(ke.Message.to_s,{id:"239714260e6de2f1c0dbe6102320fdc8",defaultMessage:"Organic pages by traffic"})}),m),_)})},vb=r(24566);function yb(e,t){return"number"==typeof t?0===t?{remoteMetricsByCountry:e.remoteMetricsByCountry,lastError:void 0}:{remoteMetricsByCountry:1,lastError:e.lastError}:0===t.TAG?{remoteMetricsByCountry:t._0,lastError:e.lastError}:{remoteMetricsByCountry:e.remoteMetricsByCountry,lastError:t._0}}var Db={contents:gt()};function Sb(e,t,r,a,o){s._1(e,1);var i=gt();return Db.contents=i,Ye.forEach(R(void 0,vb.request,{args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),reportMode:a,country:t}}),(function(t){if(Db.contents===i)return"number"!=typeof t&&1===t.TAG&&s._1(o,t._0),s._1(e,{TAG:0,_0:t})}))}var Fb=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=e.onSettingsUpdated,c=z.useReducer(yb,{remoteMetricsByCountry:0,lastError:void 0}),u=c[1],g=c[0],m=he.useUrl(void 0,void 0),f=m.path,p=i.parseQueryToDict(m.search,void 0,void 0),_=PF(r,p),h=a.useStateValue(_),k=h[1],v=h[0],y=function(e){return s._1(k,e),he.push(i.makeStringWithQueryDict(i.makePathname(f),l.some(MF(void 0,l.some(p),e)),void 0,void 0,void 0))};Ie(f,MF(void 0,l.some(p),_));var D=xg.valueToReportMode(_.highlightChanges),S=E(D),F=Sa.Item.toCountryOpt(_.country);z.useEffect((function(){s._1(u,0)}),[Ve.Safe.toKey(t)]),z.useEffect((function(){Sb(u,F,t,D,(function(e){return s._1(u,{TAG:1,_0:e})}))}),[Ve.Safe.toKey(t),Te(D)]);var C=de.map(g.remoteMetricsByCountry,(function(e){var t=oe.fromArray(ge.map(ce.toArray(e),(function(e){return[{_0:e.country},(t=e,r=_.volumeMode,"Average"===r?t.organic.trafficAvg.value:t.organic.traffic.value)];var t,r})),di.CountryCmp),r=ce.reduce(e,[0,0],(function(e,t){return[e[0]+t.organic.traffic.value,e[1]+t.organic.trafficAvg.value]})),a=_.volumeMode;return oe.set(t,0,"Average"===a?r[1]:r[0])})),w=t.mode,T=t.protocol,b=n.Protocolless_url.show(t.url),P=Sa.Item.toCountryOpt(_.country),M=_.granularity,A={settings:r,children:z.createElement(ct.make,{children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"px",VAL:66},tl:0}},align:"top",children:null},z.createElement(AT,{compareDate:S,country:F,target:t}),z.createElement(No,{data:{hd:{title:s._1(ke.Message.to_s,{id:"e53665568ab57989393ff24b244c1f49",defaultMessage:"Target metrics"}),inputs:{hd:{TAG:2,_0:{args:{mode:w,protocol:T,url:b,reportMode:D,country:P}}},tl:{hd:{TAG:1,_0:{mode:w,protocol:T,url:b,compareDate:S,country:P}},tl:{hd:{TAG:4,_0:[_.volumeMode,{args:{mode:w,protocol:T,url:b,reportMode:D,country:P}}]},tl:0}}}},tl:{hd:{title:s._1(ke.Message.to_s,{id:"e0d5efd928fbe056289882509ff040d8",defaultMessage:"History charts"}),inputs:{hd:{TAG:14,_0:{args:{mode:w,protocol:T,url:b,from:_.timeFrame,compareDate:S,country:P,grouping:M},filter:void 0}},tl:{hd:{TAG:12,_0:{args:{mode:w,protocol:0,url:b,from:_.timeFrame,compareDate:S,country:P,grouping:M}}},tl:{hd:{TAG:6,_0:[_.volumeMode,{args:{mode:w,protocol:T,url:b,from:_.timeFrame,compareDate:S,country:P,grouping:M}}]},tl:{hd:{TAG:9,_0:{args:{mode:w,protocol:T,url:b,from:_.timeFrame,compareDate:S,country:P,grouping:M}}},tl:{hd:{TAG:3,_0:{args:{mode:w,protocol:0,url:b,from:_.timeFrame,compareDate:S,country:P,grouping:M}}},tl:0}}}}}},tl:{hd:{title:s._1(ke.Message.to_s,{id:"a73627ae5651f53e293f2ad59dd3f3a6",defaultMessage:"Other"}),inputs:{hd:{TAG:5,_0:{limit:5,offset:0,volumeMode:_.volumeMode,args:{args:{mode:w,protocol:T,url:b,reportMode:D,country:P}}}},tl:{hd:{TAG:8,_0:[_.volumeMode,{args:{mode:w,protocol:T,url:b,compareDate:S,country:P}}]},tl:0}}},tl:0}}}}))}),z.createElement(co,{showApplyFilters:!LF(v,_),onClearFilters:function(e){return s._1(k,_)},onApplyFilters:function(e){return y(v)},children:null},z.createElement(Pa.make,{data:v.volumeMode,onSelect:function(e){s._1(k,{volumeMode:e,country:v.country,highlightChanges:v.highlightChanges,chartMode:v.chartMode,competitors:v.competitors,pagesMainSource:v.pagesMainSource,countries:v.countries,pagesCountriesSource:v.pagesCountriesSource,trafficType:v.trafficType,timeFrame:v.timeFrame,granularity:v.granularity,pagesMetricsChartSources:v.pagesMetricsChartSources,keywordsMetricsChartSources:v.keywordsMetricsChartSources,keywordsMainSource:v.keywordsMainSource,isPagesChartOpen:v.isPagesChartOpen,isKeywordsChartOpen:v.isKeywordsChartOpen});var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.overviewVolumeMode=e,t))}}),z.createElement(di.make,{selectedItem:v.country,onApply:function(e){return s._1(k,{volumeMode:v.volumeMode,country:e,highlightChanges:v.highlightChanges,chartMode:v.chartMode,competitors:v.competitors,pagesMainSource:v.pagesMainSource,countries:v.countries,pagesCountriesSource:v.pagesCountriesSource,trafficType:v.trafficType,timeFrame:v.timeFrame,granularity:v.granularity,pagesMetricsChartSources:v.pagesMetricsChartSources,keywordsMetricsChartSources:v.keywordsMetricsChartSources,keywordsMainSource:v.keywordsMainSource,isPagesChartOpen:v.isPagesChartOpen,isKeywordsChartOpen:v.isKeywordsChartOpen})},remoteCountryMap:C}),z.createElement($m.make,{labelTxt:s._1(ke.Message.to_s,{id:"6784642084a7231d36ebbdee4d8493bb",defaultMessage:"Changes"}),showUpgradeMessage:Oe(r),items:$m.highlightChangesItems(r.reportHistoricalPermissions),allItems:ce.filter(xg.all,(function(e){return 8!==e})),selectedItem:v.highlightChanges,onApply:function(e){return me.forEach(e,(function(e){s._1(k,{volumeMode:v.volumeMode,country:v.country,highlightChanges:e,chartMode:v.chartMode,competitors:v.competitors,pagesMainSource:v.pagesMainSource,countries:v.countries,pagesCountriesSource:v.pagesCountriesSource,trafficType:v.trafficType,timeFrame:v.timeFrame,granularity:v.granularity,pagesMetricsChartSources:v.pagesMetricsChartSources,keywordsMetricsChartSources:v.keywordsMetricsChartSources,keywordsMainSource:v.keywordsMainSource,isPagesChartOpen:v.isPagesChartOpen,isKeywordsChartOpen:v.isKeywordsChartOpen});var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.overviewHighlightChanges=e,t))}))}})),z.createElement(kT,{target:t,historicalPermissions:r.reportHistoricalPermissions,filters:_,remoteMetricsByCountry:g.remoteMetricsByCountry,onFetchMetricsByCountry:function(e){return Sb(u,F,t,D,(function(e){return s._1(u,{TAG:1,_0:e})}))},onFailure:function(e){return s._1(u,{TAG:1,_0:e})}}),z.createElement("div",{className:vT},z.createElement("div",{className:yT},z.createElement(QC,{compareDate:S,target:t,historicalPermissions:r.chartHistoricalPermissions,settings:r,filters:_,onFiltersChange:y,onError:function(e){if(function(e){if(0===e.TAG)return!1;var t=e._0;return"string"!=typeof t||"SeReportDomainsWeeklyLimitReached"===t||"SeReportUrlsWeeklyLimitReached"===t||"SeRowsMonthlyLimitReached"===t}(e))return s._1(u,{TAG:1,_0:e})},onSettingsUpdated:d})),z.createElement("div",{className:DT},z.createElement(ab,{disableCompare:"HistoryNotAllowed"===r.reportHistoricalPermissions,target:t,filters:_,onFiltersChange:y,remoteMetricsByCountry:g.remoteMetricsByCountry,onFetchMetricsByCountry:function(e){return Sb(u,F,t,D,(function(e){return s._1(u,{TAG:1,_0:e})}))}})),z.createElement("div",{className:ST},z.createElement(kb,{target:t,country:_.country,compareDate:S,volumeMode:_.volumeMode})),z.createElement("div",{className:FT},z.createElement(UD,{target:t,filters:_}))))};return void 0!==g.lastError&&(A.error=l.valFromOption(g.lastError)),z.createElement(Po,A)},Cb=r(31821);function wb(e,t,r,a,o,i){var s=ce.reduce(a,void 0,(function(e,t){var r=ne.moment(void 0,Bt.toMomentUtc(t.date),"dateWithDashes");return Ur.set(e,r,t.urls)})),l=function(e){switch(o){case 0:return 0;case 1:return"Average"===i?e.traffic_avg:e.traffic;case 2:return e.keywords}},d=Yt(e),c=ce.toArray(ce.map(r,(function(e){return[e.value,Cr(0)]}))),u=ce.toArray(yr(d[0],d[1],t));return ge.map(u,(function(e){var t=ne.moment(void 0,e,"dateWithDashes"),r=me.getWithDefault(Ur.get(s,t),0),a=ce.toArray(ce.map(r,(function(e){return[n.Url.show(e.url),Cr(l(e))]}))),o=Vs.fromArray(ge.concatMany([c,a]));return o[xt.dateKey]=Fr(t),o}))}function Tb(e,t){return ce.mapWithIndex(e,(function(e,r){return function(e,t,r){return{elementType:2,dataKey:t,yAxisId:"value",name:t,stackId:void 0,value:t,type_:"linear",color:At.getChartColor(void 0,e,void 0),reversed:!1,show:r,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0}}(e,r,ce.has(t,r,(function(e,t){return e===t})))}))}function bb(e,t){switch(0|t.TAG){case 0:var r=t._0;return{from:r,to_:r,isDragging:!0,draggedToNextBar:!1};case 1:var a=t._0,o=e.from;return{from:e.from,to_:a,isDragging:!0,draggedToNextBar:void 0!==o&&o!==a};case 2:return{from:t._0,to_:t._1,isDragging:!1,draggedToNextBar:!1};case 3:var i=t._1;return{from:_r.toDateString(i,t._0),to_:hr.toDateString(i),isDragging:e.isDragging,draggedToNextBar:e.draggedToNextBar}}}var Pb=function(e){var t=e.data,r=e.filters,o=e.spec,n=e.historicalPermissions,d=e.notes,c=e.onDateChanged,u=d[1],g=z.useReducer(bb,{from:void 0,to_:"",isDragging:!1,draggedToNextBar:!1}),m=g[1],f=g[0],p=i.stringifyQueryDict(Fw({hd:19,tl:{hd:20,tl:0}},void 0,r),void 0,void 0);z.useEffect((function(){s._1(m,{TAG:3,_0:r.compareDate,_1:r.currentDate})}),[p,n]);var _,h=kr(u,r.granularity),k=h[0],v=wb(r.timeFrame,r.granularity,o,t,r.chartSource,r.volumeMode),y=r.granularity,D=qr(o),S=Nr.getConfigsFromSpec(D),F="value",C=0;0!==v.length&&D?_=[v,{hd:At.YAxisConfig.makeAxis(void 0,F,void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0}]:C=1,1===C&&(_=[xr(r.timeFrame,r.granularity),{hd:At.YAxisConfig.makeAxis(void 0,F,void 0,!0,[0,100],void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),tl:0}]);var w=_[0],T=vr(S[0]),b=T[1],P=f.isDragging,M=f.from,A=f.isDragging;return z.createElement(At.make,{chartType:T[0],data:w,charts:b,chartHeight:294,xAxisPadding:[1,2],xAxisTicks:xt.getXTicks((function(e){return Vs.get(e,xt.dateKey)}),w),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(v,(function(e){return Ar(Vs.get(e,xt.dateKey))}),y,t)},yAxisConfig:_[1],hideTooltip:u,renderTooltip:function(e,t){var o=ge.filterMap(Hs.stableSortBy(me.getWithDefault(l.nullable_to_opt(e.payload),[]),(function(e,t){return Kt.compare(t.value,e.value)})),(function(e){return e.value<0?void 0:{color:e.color,label:a.s(me.getWithDefault(i.decode(e.name),e.name)),value:a.s(ae.Float.full(e.value))}}));return z.createElement(qt.make,{hideColors:b.length<=1,label:Dr(re.moment(void 0,e.label),r.granularity),config:o})},references:d[0],onMouseDown:function(e,t){return Kr(k,n,(function(e){return s._1(m,{TAG:0,_0:e})}),e,t)},onMouseMove:function(e,t){return Er(P,k,n,(function(e){return s._1(m,{TAG:1,_0:e})}),e,t)},onMouseUp:function(e,t){return Br(A,k,M,(function(e,t,r,a){return s._1(m,{TAG:2,_0:e,_1:t}),s._2(c,r,a)}),e,t)},children:h[1]?xt.renderSelectedArea("value",me.map(f.from,Bt.fromString),l.some(Bt.fromString(f.to_)),(function(e){return ne.moment(void 0,e,"dateWithDashes")}),f.draggedToNextBar&&f.isDragging,void 0,void 0):null})},Mb=r(27588),Ab={hd:{elementType:2,dataKey:"pages",yAxisId:"pages",name:"",stackId:void 0,value:0,type_:"linear",color:_e.Color.Chart.blue,reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:{hd:{elementType:2,dataKey:"traffic",yAxisId:"traffic",name:"",stackId:void 0,value:1,type_:"linear",color:_e.Color.Chart.orange,reversed:!1,show:!0,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:{hd:{elementType:2,dataKey:"keywords",yAxisId:"keywords",name:"",stackId:void 0,value:2,type_:"linear",color:_e.Color.Chart.violetContrast,reversed:!1,show:!1,areaFill:void 0,areaFillOpacity:void 0,areaStrokeWidth:void 0},tl:0}}};function Rb(e,t,r){var a=ce.reduce(r,void 0,(function(e,t){var r=ne.apiDateUtc(t.date);return Ur.set(e,r,{date:ne.apiDateUtc(t.date),pages:t.pages,traffic:t.traffic,trafficAvg:t.traffic_avg,keywords:t.keywords})})),o=Yt(e),i=yr(o[0],o[1],t);return ce.toArray(ce.map(i,(function(e){var t=ne.moment(void 0,e,"dateWithDashes");return me.getWithDefault(Ur.get(a,t),{date:t,pages:0,traffic:0,trafficAvg:0,keywords:0})})))}function Lb(e,t){switch(0|t.TAG){case 0:var r=t._0;return{from:r,to_:r,isDragging:!0,draggedToNextBar:!1};case 1:var a=t._0,o=e.from;return{from:e.from,to_:a,isDragging:!0,draggedToNextBar:void 0!==o&&!re.moment(void 0,o).isSame(re.moment(void 0,a))};case 2:return{from:t._0,to_:t._1,isDragging:!1,draggedToNextBar:!1};case 3:var i=t._1;return{from:_r.toDateString(i,t._0),to_:hr.toDateString(i),isDragging:e.isDragging,draggedToNextBar:e.draggedToNextBar}}}var Eb=function(e){var t=e.data,r=e.filters,o=e.spec,n=e.historicalPermissions,d=e.visibleItems,c=e.onChangeSpec,u=e.notes,g=e.onDateChanged,m=u[1],f=Rb(r.timeFrame,r.granularity,t),p=z.useReducer(Lb,{from:void 0,to_:"",isDragging:!1,draggedToNextBar:!1}),_=p[1],h=p[0],k=i.stringifyQueryDict(Fw({hd:19,tl:{hd:20,tl:0}},void 0,r),void 0,void 0);z.useEffect((function(){s._1(_,{TAG:3,_0:r.compareDate,_1:r.currentDate})}),[k,n]);var v=kr(m,r.granularity),y=v[0],D=ce.map(ce.map(o,(function(e){return{elementType:e.elementType,dataKey:e.dataKey,yAxisId:e.yAxisId,name:ow(e.value,r.granularity),stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}})),(function(e){if(1!==e.value)return e;var t=r.volumeMode;return{elementType:e.elementType,dataKey:"Average"===t?"trafficAvg":"traffic",yAxisId:e.yAxisId,name:e.name,stackId:e.stackId,value:e.value,type_:e.type_,color:e.color,reversed:e.reversed,show:e.show,areaFill:e.areaFill,areaFillOpacity:e.areaFillOpacity,areaStrokeWidth:e.areaStrokeWidth}})),S=Nr.getConfigsFromSpec(D),F=ce.map(S[1],(function(e){return{dataKey:e.dataKey,yAxisId:e.yAxisId,label:e.label,allowDataOverflow:!0,domain:e.domain,unit:e.unit,hide:e.hide,allowDecimals:e.allowDecimals,tickFormatter:e.tickFormatter,color:e.color,reversed:e.reversed,ticks:e.ticks}})),C=r.granularity,w=vr(S[0]),T=w[1],b=r.granularity,P=h.isDragging,M=h.from,A=h.isDragging;return z.createElement(ct.make,{children:null},z.createElement(Et.Horizontal.make,{renderItem:function(e,t,r){return Lr(iw,ow,b,0,t,r)},spec:D,onChange:c}),z.createElement(At.make,{chartType:w[0],data:f,charts:T,chartHeight:235,xAxisPadding:[2,2],xAxisTicks:xt.getXTicks((function(e){return e.date}),f),xTickFormatter:function(e){var t=re.moment(void 0,e);return xt.getXAxisTickFormatter(f,(function(e){return Bt.fromString(e.date)}),C,t)},yAxisConfig:F,hideTooltip:m,renderTooltip:function(e,t){var o=ge.filterMap(me.getWithDefault(l.nullable_to_opt(e.payload),[]),(function(e){return e.value<0?void 0:{color:e.color,label:a.s(me.getWithDefault(i.decode(e.name),e.name)),value:a.s(ae.Float.full(e.value))}}));return z.createElement(qt.make,{hideColors:T.length<=1,label:Dr(re.moment(void 0,e.label),r.granularity),config:o})},references:u[0],onMouseDown:function(e,t){return Kr(y,n,(function(e){return s._1(_,{TAG:0,_0:e})}),e,t)},onMouseMove:function(e,t){return Er(P,y,n,(function(e){return s._1(_,{TAG:1,_0:e})}),e,t)},onMouseUp:function(e,t){return Br(A,y,M,(function(e,t,r,a){return s._1(_,{TAG:2,_0:e,_1:t}),s._2(g,r,a)}),e,t)},children:v[1]?me.mapWithDefault(ce.head(d),null,(function(e){return xt.renderSelectedArea(me.getWithDefault(e.yAxisId,""),me.map(h.from,Bt.fromString),l.some(Bt.fromString(h.to_)),(function(e){return ne.moment(void 0,e,"dateWithDashes")}),h.draggedToNextBar&&h.isDragging,void 0,void 0)})):null}))};function Bb(e,t){if("number"==typeof t)switch(t){case 0:return{isOpen:!e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:e.performanceRemoteData,compareSpec:e.compareSpec,compareRemoteData:e.compareRemoteData};case 1:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:1,compareSpec:e.compareSpec,compareRemoteData:e.compareRemoteData};case 2:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:e.performanceRemoteData,compareSpec:e.compareSpec,compareRemoteData:1}}else switch(0|t.TAG){case 0:return{isOpen:e.isOpen,performanceSpec:t._0,performanceRemoteData:e.performanceRemoteData,compareSpec:e.compareSpec,compareRemoteData:e.compareRemoteData};case 1:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:t._0,compareSpec:e.compareSpec,compareRemoteData:e.compareRemoteData};case 2:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:e.performanceRemoteData,compareSpec:t._0,compareRemoteData:e.compareRemoteData};case 3:return{isOpen:e.isOpen,performanceSpec:e.performanceSpec,performanceRemoteData:e.performanceRemoteData,compareSpec:e.compareSpec,compareRemoteData:t._0}}}var Kb={contents:gt()};function qb(e,t,r,a,o,i,l){s._1(e,1);var d=gt();Kb.contents=d,Ye.forEach(R(void 0,Cb.request,{args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),grouping:a,from:o,country:Sa.Item.toCountryOpt(l)},filter:i,environment:t}),(function(t){if(Kb.contents===d)return s._1(e,{TAG:1,_0:t})}))}var xb={contents:gt()};function Wb(e,t,r,a,o,i,l,d){s._1(e,2);var c=gt();xb.contents=c,Ye.forEach(R(void 0,Mb.request,{args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),grouping:a,from:o,country:Sa.Item.toCountryOpt(l),urls:d},filter:i,environment:t}),(function(t){if(xb.contents===c)return s._1(e,{TAG:3,_0:t})}))}function Ub(e){var t=i.stringifyQueryDict(Fw(Aw,void 0,e),void 0,void 0);return z.useMemo((function(){return me.map(Da.conjunct(Rw(e)),Da.makeFilter)}),[t,e.volumeMode])}var Ob=function(e){var t=e.environment,r=e.signedEnvironment,o=e.chFilter,i=e.target,c=e.historicalPermissions,u=e.comparePagesConfig,g=e.settings,m=e.filters,f=e.onFiltersChange,p=e.onClearFiltersHard,_=e.onRefetchTable,h=e.onSettingsUpdated,k=uo.useSingleton({overrides:["className"]}),v=z.useReducer(Bb,{isOpen:!0,performanceSpec:Ab,performanceRemoteData:0,compareSpec:0,compareRemoteData:0}),y=v[1],D=v[0],S=ce.filter(D.performanceSpec,(function(e){return e.show}));z.useEffect((function(){if(!m.chartMode){var e=0;"string"==typeof c?"HistoryUnlimited"===c&&(e=1):"HistoryLimited"===c.NAME&&(e=1),1===e&&qb(y,t,i,m.granularity,m.timeFrame,o,m.country)}}),[Ve.Safe.toKey(i),o,s._1(In,m.chartMode),Sa.Item.toCode(m.country),me.getWithDefault(s._1(Ki,m.granularity),""),s._1(mr.toString,m.timeFrame)]);var F=ce.map(de.getWithDefault(u,0),(function(e){return e[0]})),C=ce.filterMap(de.getWithDefault(u,0),(function(e){if(e[1])return e[0]}));z.useEffect((function(){m.chartMode&&F&&"HistoryNotAllowed"!==c&&"number"!=typeof r&&2===r.TAG&&Wb(y,r._0,i,m.granularity,m.timeFrame,o,m.country,F)}),[s._1(In,m.chartMode),me.getWithDefault(s._1(Ki,m.granularity),""),s._1(mr.toString,m.timeFrame),ce.joinWith(F,"-")]),z.useEffect((function(){s._1(y,{TAG:2,_0:Tb(F,C)})}),[ce.joinWith(F,"-"),ce.joinWith(C,"-")]);var w=z.createElement("div",{className:Os},z.createElement(ct.make,{vAlign:"center",fullHeight:!0,children:z.createElement("div",{className:Ns,onClick:function(e){return e.preventDefault(),e.stopPropagation(),s._1(y,0)}},z.createElement(Xe.Caret.make,Xe.Caret.makeProps(void 0,void 0,void 0,void 0,D.isOpen?0:1,void 0,void 0,void 0,void 0,void 0,void 0,void 0)))})),T={onApply:function(e){var t=mt.caml_obj_dup(g.settings);return s._1(h,(t.chartNoteSources=e,t))}};void 0!==g.settings.chartNoteSources&&(T.data=l.valFromOption(g.settings.chartNoteSources));var b,P=m.chartMode,M=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},align:"top",children:null},z.createElement(kt.make,{vGap:"px12",layout:{NAME:"list",VAL:{hd:1,tl:{hd:0,tl:0}}},children:null},z.createElement(kt.make,{gap:"px10",vGap:"px12",children:null},z.createElement(jn,{value:m.chartMode,onChange:function(e){var t=mt.caml_obj_dup(m);return s._1(f,(t.chartMode=e,t))}}),1===m.chartMode?z.createElement(cw,{value:m.chartSource,granularity:m.granularity,onChange:function(e){var t=mt.caml_obj_dup(m);return s._1(f,(t.chartSource=e,t))}}):null),z.createElement(kt.make,{gap:"px16",children:z.createElement(kt.make,{gap:"px10",children:null},z.createElement(fr,{historicalPermissions:c,value:m.timeFrame,onClearFilters:p,tooltipTarget:k[1],onChange:function(e){var t=Pi(void 0,e),r=mt.caml_obj_dup(m);return s._1(f,(r.granularity=ce.has(t[0],m.granularity,Qr.equal)?m.granularity:t[1],r.timeFrame=e,r))}}),z.createElement(Ei,{value:m.granularity,timeFrame:m.timeFrame,onChange:function(e){var t=mt.caml_obj_dup(m);return s._1(f,(t.granularity=e,t))}}),z.createElement(Gi,T),z.createElement(ht.make,{disabled:P?!de.isSuccess(D.compareRemoteData)||!de.isSuccess(u):!de.isSuccess(D.performanceRemoteData),onClick:function(e){return m.chartMode?de.forEach(D.compareRemoteData,(function(e){return function(e,t,r,a,o,i,l,d){var c=wb(e,o,r,t,a,i),u=qr(r),g=Mi(o)+", "+ce.joinWith(ce.map(u,(function(e){return e.value})),", ")+"\n"+ge.joinWithNewLine(ge.map(c,(function(e){var t=ce.joinWith(ce.map(u,(function(t){return me.mapWithDefault(me.flatMap(Vs.get(e,t.value),br),"",(function(e){return String(e)}))})),", ");return Ai(Ar(Vs.get(e,xt.dateKey)),o)+", "+t}))),m=ce.length(u),f=Se({hd:n.Protocolless_url.show(d.url),tl:{hd:m<1?void 0:String(m),tl:{hd:"comp",tl:{hd:aw(a),tl:{hd:1!==a?void 0:zs.VolumeMode.toExportName(i),tl:{hd:Sa.Item.toCode(l),tl:{hd:Ht(e),tl:{hd:s._1(Ki,o),tl:0}}}}}}}});return js.string(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:{TAG:11,_0:".csv",_1:0}}}},_1:"%s_%s.csv"}),f,ne.moment(void 0,Z(),"timestamp")),"application/octet-stream",g)}(m.timeFrame,e,D.compareSpec,m.chartSource,m.granularity,m.volumeMode,m.country,i)})):de.forEach(D.performanceRemoteData,(function(e){return function(e,t,r,a,o,i,l){var d=Rb(o,a,e),c=ce.filter(t,(function(e){return e.show})),u=Mi(a)+", "+ce.joinWith(ce.map(c,(function(e){return ow(e.value,a)+s._2(J.sprintf({_0:{TAG:11,_0:" (",_1:{TAG:2,_0:0,_1:{TAG:11,_0:" - ",_1:{TAG:2,_0:0,_1:{TAG:12,_0:41,_1:0}}}}},_1:" (%s - %s)"}),Pa.VolumeMode.toExportColumnName(r),Sa.Item.toExportColumnName(l))})),", ")+"\n"+ge.joinWithNewLine(ge.map(d,(function(e){var t=ce.joinWith(ce.map(c,(function(t){var a;switch(t.value){case 0:a=e.pages;break;case 1:a="Average"===r?e.trafficAvg:e.traffic;break;case 2:a=e.keywords}return String(a)})),", ");return Ai(Bt.fromString(e.date),a)+", "+t}))),g=Se({hd:n.Protocolless_url.show(i.url),tl:{hd:"perf",tl:{hd:V.toExportName(i.mode),tl:{hd:Ht(o),tl:{hd:s._1(Ki,a),tl:0}}}}});return js.string(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:{TAG:11,_0:".csv",_1:0}}}},_1:"%s_%s.csv"}),g,ne.moment(void 0,Z(),"timestamp")),"application/octet-stream",u)}(e,D.performanceSpec,m.volumeMode,m.granularity,m.timeFrame,i,m.country)}))},children:null},z.createElement(Xe.Export.make,Xe.Export.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"601e96c14cea6af2259a933caeca884d",defaultMessage:"Export"})))})),w),A=zi({TAG:0,_0:m.granularity},g.settings.chartNoteSources),R=A[2],L=A[0],E=0;if(D.isOpen?"string"==typeof c&&"HistoryUnlimited"!==c?b=z.createElement("div",{className:Qs},z.createElement("div",{className:Us},w),z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"e1475acb7840ba09b726f444f454ad56",defaultMessage:"Upgrade to unlock performance history chart"}),text:s._1(ke.Message.to_s,{id:"ccc84f384a159bd1da9cd4d310d23d66",defaultMessage:"Get an overview of a website's performance and see changes over time for pages, traffic, and keywords on an interactive graph."}),imageType:{TAG:2,_0:"p5mzu5lu1n"},imageGap:"px40"})):E=1:b=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(H.make,{children:a.s(s._1(ke.Message.to_s,{id:"501409cae131f417c027c1cc02284e03",defaultMessage:"Performance history"}))}),w),1===E){var B,K,q,x,W=function(e,t){var r=mt.caml_obj_dup(m);return s._1(f,(r.compareDate=e,r.currentDate=t,r))},U=m.chartMode,O=D.performanceRemoteData,N=D.compareRemoteData,$=0,I=0;if(U){var G=0,Q=0,j=0;if("number"==typeof N||2!==N.TAG||N._0?j=10:$=2,10===j)if("number"==typeof u)$=3;else switch(0|u.TAG){case 1:"number"==typeof r||2!==r.TAG?Q=9:(K=u._0,q=r._0,$=4);break;case 2:u._0?Q=9:$=2;break;default:$=3}if(9===Q)if("number"==typeof N)G=8;else switch(0|N.TAG){case 1:"number"!=typeof u&&(1===u.TAG||"number"==typeof r||2!==r.TAG?I=7:(K=N._0,q=r._0,$=4));break;case 2:B=z.createElement(Pb,{data:N._0,filters:m,spec:D.compareSpec,historicalPermissions:c,notes:[R,L],onDateChanged:W});break;default:G=8}8===G&&("number"==typeof u||2!==u.TAG?I=7:$=3)}else if("number"==typeof O)$=3;else switch(0|O.TAG){case 1:"number"==typeof r||2!==r.TAG?I=7:(K=O._0,q=r._0,$=4);break;case 2:B=z.createElement(Eb,{data:O._0,filters:m,spec:D.performanceSpec,historicalPermissions:c,visibleItems:S,onChangeSpec:function(e){return s._1(y,{TAG:0,_0:e})},notes:[R,L],onDateChanged:W});break;default:$=3}if(7===I){var X=0;"number"==typeof u||1!==u.TAG?X=8:(x=u._0,$=5),8===X&&("number"==typeof r?$=6:1==(0|r.TAG)?(x=r._0,$=5):$=6)}switch($){case 2:B=z.createElement(Pb,{data:0,filters:m,spec:D.compareSpec,historicalPermissions:c,notes:[R,L],onDateChanged:W});break;case 3:B=z.createElement(Y.Box.make,{size:"md",background:0,fullHeight:!0});break;case 4:B=z.createElement(le.make,{reqId:d.getRequestId(K),height:"stretch",onClick:function(e){return function(e,t,r,a,o,i,n,s,l,d){return e?d?Wb(a,r,o,i,n,s,l,d):void 0:qb(a,t,o,i,n,s,l)}(m.chartMode,t,q,y,i,m.granularity,m.timeFrame,o,m.country,F)}});break;case 5:B=z.createElement(ct.make,{align:"center",vAlign:"center",fullHeight:!0,children:z.createElement(le.make,{reqId:d.getRequestId(x),height:"stretch",onClick:function(e){return s._1(_,void 0)}})});break;case 6:B=z.createElement(ct.make,{align:"center",vAlign:"center",fullHeight:!0,children:z.createElement(le.make,{reqId:void 0,height:"stretch",onClick:function(e){return s._1(_,void 0)}})})}b=z.createElement(ct.make,{children:null},M,z.createElement("div",{className:Gs},B))}return z.createElement(po.make,{padding:"none",background:1,children:z.createElement("div",{className:ra.$plus$plus$plus(Is,ea.ifTrue($s,!D.isOpen)),onClick:function(e){return D.isOpen?void 0:s._1(y,0)}},b,A[1],z.createElement(ut.make,{singleton:k[0]}))})},Nb=r(85371),$b=[0,1,2,3,4,5,6,7];function Ib(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"2922f231d13ebc40c7ee0913b985a6e9",defaultMessage:"Position"});case 1:return s._1(ke.Message.to_s,{id:"e35d1596f2eecba8004e0589cd9a484e",defaultMessage:"Volume"});case 2:return s._1(ke.Message.to_s,{id:"f63f2cd95bd1c765c0517dc19fc50cfb",defaultMessage:"KD"});case 3:return s._1(ke.Message.to_s,{id:"15abccc61b619875f773b1ca64651d0a",defaultMessage:"CPC"});case 4:return s._1(ke.Message.to_s,{id:"4fc5ddf0ebbea09dbc8bf7c27540ea80",defaultMessage:"Traffic from keyword"});case 5:return s._1(ke.Message.to_s,{id:"c6dc3db67c0bcb4295f1621626f01d63",defaultMessage:"SERP features"});case 6:return s._1(ke.Message.to_s,{id:"f7dec7436f53b91413df86f8787aca9f",defaultMessage:"Words in keyword"});case 7:return s._1(ke.Message.to_s,{id:"cf185135872a72c1290e5f1ba5112940",defaultMessage:"Keyword"})}}var Gb=ce.fromArray($b),Qb=Pl.Make({all:Gb}),Vb=function(e){var t=e.historicalPermissions,r=e.filters,a=e.onFiltersChange;return z.createElement(Qb.make,{label:z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"c585d36482a6bfce90d2c4a6a0139f10",defaultMessage:"Keyword filters"})),dropdownItems:ce.map(ce.fromArray($b),(function(e){return Pl.makeDropdownItem(Ib(e),e,void 0,void 0,void 0)})),isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(r.positions,s._1(pd.Positions.Filter.getDefault,void 0));case 1:return mt.caml_notequal(r.volume,s._1(pa.Volume.Filter.getDefault,void 0));case 2:return mt.caml_notequal(r.kd,s._1(pa.KD.Filter.getDefault,void 0));case 3:return mt.caml_notequal(r.cpc,s._1(pa.CPC.Filter.getDefault,void 0));case 4:return mt.caml_notequal(r.orgKeywordTraffic,s._1(pa.OrgKeywordTraffic.Filter.getDefault,void 0));case 5:return mt.caml_notequal(r.serp,ka.Filter.getDefault(void 0));case 6:return mt.caml_notequal(r.words,s._1(pa.Words.Filter.getDefault,void 0));case 7:return mt.caml_notequal(r.keyword,s._1(fa.Keyword.Filter.getDefault,void 0))}},render:function(e,o,i,n){var l=function(t){return s._1(n,e)},d=Ib(e);switch(e){case 0:return z.createElement(Ty.make,{label:d,historicalPermissions:t,data:r.positions,onApply:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.positions=e,t))},autoOpen:o,onHidden:l,onClear:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.positions=e,t))},hideChanges:!0});case 1:return z.createElement(pa.Volume.make,{value:r.volume,label:d,autoOpen:o,onHidden:l,onClear:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.volume=yw().volume,t))},onApply:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.volume=e,t))}});case 2:return z.createElement(pa.KD.make,{value:r.kd,label:d,autoOpen:o,onHidden:l,onClear:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.kd=yw().kd,t))},onApply:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.kd=e,t))}});case 3:return z.createElement(pa.CPC.make,{value:r.cpc,label:d,autoOpen:o,onHidden:l,onClear:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.cpc=yw().cpc,t))},onApply:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.cpc=e,t))}});case 4:return z.createElement(pa.OrgKeywordTraffic.make,{value:r.orgKeywordTraffic,label:d,autoOpen:o,onHidden:l,onClear:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.orgKeywordTraffic=yw().orgKeywordTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.orgKeywordTraffic=e,t))}});case 5:return z.createElement(go.make,{autoOpen:o,label:d,value:r.serp,onHidden:l,onApply:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.serp=e,t))},onClear:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.serp=yw().serp,t))}});case 6:return z.createElement(pa.Words.make,{value:r.words,label:d,autoOpen:o,onHidden:l,onClear:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.words=yw().words,t))},onApply:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.words=e,t))}});case 7:return z.createElement(fa.Keyword.make,{value:r.keyword,autoOpen:o,label:d,onHidden:l,onClear:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.keyword=yw().keyword,t))},onApply:function(e){var t=mt.caml_obj_dup(r);return s._1(a,(t.keyword=e,t))}})}}})},jb=r(23365);function Hb(e,t,r,a){return Re("string"==typeof t||"Compared"!==t.NAME?vw.toActualFieldName(e,r):vw.toComparedFieldName(e,r),a)}var zb={contents:gt()};function Yb(e,t,r,a,o,i,l,d,c,u){s._1(e,1);var g=gt();return zb.contents=g,Ye.forEach(R(void 0,Nb.request,{args:{mode:r.mode,protocol:r.protocol,url:n.Protocolless_url.show(r.url),reportMode:d,country:Sa.Item.toCountryOpt(c)},params:{filter:l,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0},environment:u}),(function(r){if(zb.contents===g){var a,o=0;if("string"==typeof d||"Compared"!==d.NAME)o=1;else{var i=function(e,t,r){return ie.max(ie.max(e,me.getWithDefault(t,dt.zero)),me.getWithDefault(r,dt.zero))};a=de.mapWithDefault(r,uw,(function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_value)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_value)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.sum_value_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.sum_value_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.PreviousPage.get,ft.Se_shared.TopPagesCompared.PreviousPage.keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.CurrentPage.get,ft.Se_shared.TopPagesCompared.CurrentPage.keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url)),0))))))))))),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,l,d,c,u,g,m,f,p,_){var h=n.Url.show(_);return s._1(t,{trafficMth:i(e.trafficMth,a,o),trafficAvg:i(e.trafficAvg,c,u),valueMth:i(e.valueMth,l,d),valueAvg:i(e.valueAvg,g,m),keywordsCount:i(e.keywordsCount,f,p),allUrls:{hd:h,tl:e.allUrls}})}),uw,e.tableData.rows)}))}1===o&&(a=de.mapWithDefault(r,uw,(function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),0),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a){var o=n.Url.show(a);return s._1(t,{trafficMth:e.trafficMth,trafficAvg:e.trafficAvg,valueMth:e.valueMth,valueAvg:e.valueAvg,keywordsCount:e.keywordsCount,allUrls:{hd:o,tl:e.allUrls}})}),uw,e.tableData.rows)})));var l={trafficMth:a.trafficMth,trafficAvg:a.trafficAvg,valueMth:a.valueMth,valueAvg:a.valueAvg,keywordsCount:a.keywordsCount,allUrls:ce.reverse(a.allUrls)};return s._1(e,{TAG:2,_0:r,_1:l})}}))}var Jb=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=e.onSettingsUpdated,c=he.useUrl(void 0,void 0),u=c.path,g=i.parseQueryToDict(c.search,void 0,void 0),m=z.useReducer(_l,{changesMode:me.getWithDefault(r.settings.topPagesChangeMode,1),remotePagesByCountry:0,remoteDataTable:0,maxPerPage:uw}),f=m[1],p=m[0],_=uo.useSingleton({overrides:["className"]}),h=_[1],k=Sw(void 0,r,g),v=a.useStateValue(k),y=v[1],D=v[0],S=function(e){return s._1(y,e),he.push(i.makeStringWithQueryDict(i.makePathname(u),l.some(Fw(void 0,l.some(g),e)),void 0,void 0,void 0))};Ie(u,Fw(void 0,l.some(g),k));var F,C=Pt.dataToReportMode([k.currentDate,k.compareDate]),w=i.stringifyQueryDict(Fw(Aw,void 0,k),void 0,void 0),T=z.useMemo((function(){var e="string"==typeof C||"Compared"!==C.NAME?Rw(k):Lw(k);return me.map(Da.conjunct(e),Da.makeFilter)}),[w,Te(C),k.volumeMode]),b=Ub(k),P=vl(p,k.volumeMode),M=Cl(p),A=Fl(ce.length(M)),R=A[1],E=A[0],B=0;if("string"==typeof C||"Compared"!==C.NAME)B=1;else{var K=C.VAL;F=[Bw(K.actual,K.comparedWith,h,p.changesMode,p.maxPerPage,P,k),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url)),0))]}1===B&&(F=[Ew(h,P,k),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),0))]);var q=wl(F[1],F[0],E,R,k.chartMode,void 0),x=q[1],W=Ne(!1,p.remoteDataTable,p.remotePagesByCountry);z.useEffect((function(){kl(!1,f,t,T,C)}),[Ve.Safe.toKey(t),T,Te(C)]);var U,N=Le(T,b,Hb(k.volumeMode,C,k.sort.name,k.sort.direction),Ve.Safe.toUnsafe(t),Sa.Item.toCountryOpt(k.country),C),$=k.sort.name,I=0;$>=8?12!==$?U=s._1(vw.Name.toString,$):I=1:$>=2?I=1:U=s._1(vw.Name.toString,$),1===I&&(U=s._1(vw.Name.toString,$)+Pa.VolumeMode.show(k.volumeMode)),z.useEffect((function(e){Yb(f,x,t,Hb(k.volumeMode,C,k.sort.name,k.sort.direction),k.pagination.offset,k.pagination.limit,T,C,k.country,N)}),[Ve.Safe.toKey(t),T,Te(C),U,ci.toString(k.sort.direction),k.pagination.offset,k.pagination.limit,Sa.Item.toCode(k.country)]);var G,Q=function(e){return kl(!1,f,t,T,C),Yb(f,x,t,Hb(k.volumeMode,C,k.sort.name,k.sort.direction),k.pagination.offset,k.pagination.limit,T,C,k.country,N)},H=yl(p.remotePagesByCountry,k.country),Y=z.createElement("div",{className:ml},Dl(p,H,P,void 0),z.createElement(Tl.make,{currentDate:k.currentDate,compareDate:k.compareDate,historicalPermissions:r.reportHistoricalPermissions,isUpgradable:r.isUpgradable,onChange:function(e,t){var r=function(e){return"DontCompare"===t?{range:e.range,changes:0}:e},a=mt.caml_obj_dup(k),o=k.pagination;return a.pagination={limit:o.limit,offset:0},S((a.compareDate=t,a.currentDate=e,a.orgKeywords=r(k.orgKeywords),a.orgValue=r(k.orgValue),a.orgPageTraffic=r(k.orgPageTraffic),a.pageStatus="DontCompare"===t?0:k.pageStatus,a))},onCompareDateChange:function(e){var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.topPagesCompare=e,t))}}),z.createElement("div",{className:fl}),z.createElement("div",{className:pl},z.createElement(un,{value:k.showTitles,onChange:function(e){var t=mt.caml_obj_dup(k);S((t.showTitles=e,t));var a=mt.caml_obj_dup(r.settings);return s._1(d,(a.topPagesSerpTitle=e,a))}})),"string"==typeof C||"Compared"!==C.NAME?null:z.createElement(ui.make,{selectedItem:p.changesMode,onChange:function(e){s._1(f,{TAG:0,_0:e});var t,a=mt.caml_obj_dup(r.settings);switch(s._1(d,(a.topPagesChangeMode=e,a)),k.sort.name){case 3:t=e>=2?4:void 0;break;case 4:t=e>=2?void 0:3;break;case 6:t=e>=2?7:void 0;break;case 7:t=e>=2?void 0:6;break;case 9:t=e>=2?10:void 0;break;case 10:t=e>=2?void 0:9;break;case 0:case 1:case 2:case 5:case 8:case 11:case 12:case 13:t=void 0}return me.forEach(t,(function(e){var t=mt.caml_obj_dup(k),r=k.sort;return t.sort={name:e,direction:r.direction},S(t)}))}}),z.createElement(Oo,{data:{TAG:10,_0:[k.volumeMode,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:C,country:Sa.Item.toCountryOpt(k.country)},params:{filter:T,size:k.pagination.limit,offset:k.pagination.offset,order_by:Hb(k.volumeMode,C,k.sort.name,k.sort.direction),shape:ce.map(x,(function(e){return e[1]})),timeout:void 0},environment:N}]}}),z.createElement(bt,{exportFunc:function(e,r){return L(e,s._4(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-top-pages-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}}}},_1:"%s-top-pages-%s-%s-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode),Sa.Item.toCode(k.country),Te(C)),void 0,jb.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:C,country:Sa.Item.toCountryOpt(k.country)},params:{filter:T,size:r,offset:0,order_by:Hb(k.volumeMode,C,k.sort.name,k.sort.direction),shape:void 0,timeout:void 0},environment:N,volumeMode:k.volumeMode,withTitles:k.showTitles})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|H,target:t,limitsFunc:O})),X=p.remotePagesByCountry,Z=p.remoteDataTable,ee=0;"number"==typeof X||1!==X.TAG?ee=1:G=X._0,1===ee&&(G="number"==typeof Z||1!==Z.TAG?void 0:Z._0);var re=de.map(p.remoteDataTable,(function(e){return ce.mapWithIndex(p.maxPerPage.allUrls,(function(e,t){return[t,Bo.getWithDefault(E,e,!1)]}))})),ae=de.map(p.remoteDataTable,(function(e){return e.signedEnvironment})),oe=k.chartMode,ie={row:q[0],data:M,hasAppliedFilters:""!==w||mt.caml_notequal(k.pagination,s._1(ya.Pagination.Filter.getDefault,void 0)),header:Y,isLoading:W[0],failureState:W[1],renderError:qe([p.remoteDataTable,p.remotePagesByCountry],Q,r.isUpgradable),tableId:Mt(C),tooltipTarget:h,totalRowsNumber:0|H,pagination:k.pagination,sortDirection:k.sort.direction,sort:s._1(vw.Name.toString,k.sort.name),onPaginationChange:function(e){var t=mt.caml_obj_dup(k);return S((t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(k);return a.pagination=r,a.sort={name:me.getWithDefault(s._1(vw.Name.ofString,e),s._1(vw.Name.getDefault,void 0)),direction:t},S(a)},onRefetch:Q,onClearFilters:function(e){return S(yw())}},ne=oe?[E,R,A[2]]:void 0;void 0!==ne&&(ie.rowsSelectionConfig=l.valFromOption(ne));var se={settings:r,children:z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(j.V2.show(10))})}),z.createElement(co,{showApplyFilters:!Tw(D,k),onClearFilters:function(e){return s._1(y,k)},onApplyFilters:function(e){var t=mt.caml_obj_dup(D),r=D.pagination;return t.pagination={limit:r.limit,offset:0},S(t)},children:null},z.createElement(Pa.make,{data:D.volumeMode,onSelect:function(e){var t=mt.caml_obj_dup(D);s._1(y,(t.volumeMode=e,t));var a=mt.caml_obj_dup(r.settings);return s._1(d,(a.topPagesVolumeMode=e,a))}}),z.createElement(di.make,{selectedItem:D.country,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.country=e,t))},remoteCountryMap:p.remotePagesByCountry}),z.createElement(fa.$$URL.make,{value:D.url,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.url=yw().url,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.url=e,t))}}),z.createElement(bl.make,{historicalPermissions:r.reportHistoricalPermissions,data:D.pageStatus,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.compareDate=Sl(e,D.compareDate,C),t.pageStatus=e,t))}}),z.createElement(gn.OrgPageTraffic.make,{value:D.orgPageTraffic,historicalPermissions:r.reportHistoricalPermissions,label:s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.orgPageTraffic=yw().orgPageTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.compareDate=Sl(e.changes,D.compareDate,C),t.orgPageTraffic=e,t))}}),z.createElement(gn.OrgValue.make,{value:D.orgValue,historicalPermissions:r.reportHistoricalPermissions,label:s._1(ke.Message.to_s,{id:"12f48e41f2cef57ff5aa9db7ef545742",defaultMessage:"Value"}),onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.orgValue=yw().orgValue,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.compareDate=Sl(e.changes,D.compareDate,C),t.orgValue=e,t))}}),z.createElement(gn.OrgKeywords.make,{value:D.orgKeywords,historicalPermissions:r.reportHistoricalPermissions,label:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"}),onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.orgKeywords=yw().orgKeywords,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.compareDate=Sl(e.changes,D.compareDate,C),t.orgKeywords=e,t))}}),z.createElement(Vb,{historicalPermissions:r.reportHistoricalPermissions,filters:D,onFiltersChange:s.__1(y)})),z.createElement(Ob,{environment:N,signedEnvironment:ae,chFilter:b,target:t,historicalPermissions:r.chartHistoricalPermissions,comparePagesConfig:re,settings:r,filters:k,onFiltersChange:function(e){var t=function(t){return"DontCompare"===e.compareDate?{range:t.range,changes:0}:t},r=mt.caml_obj_dup(e),a=e.pagination;r.pagination={limit:a.limit,offset:0},r.orgKeywords=t(e.orgKeywords),r.orgValue=t(e.orgValue),r.orgPageTraffic=t(e.orgPageTraffic);var o=e.compareDate;return r.pageStatus="DontCompare"===o?0:e.pageStatus,S(r)},onClearFiltersHard:function(e){return S(yw())},onRefetchTable:Q,onSettingsUpdated:d}),z.createElement("div",void 0,z.createElement(te.Table.make,ie),z.createElement(ut.make,{singleton:_[0]})))};return void 0!==G&&(se.error=l.valFromOption(G)),z.createElement(Po,se)},Xb=r(61499),Zb=et.style([et.label("footer"),et.borderTop({NAME:"pxFloat",VAL:1},"solid",_e.Color.Border.lineAlpha),et.padding2(tt.NewSize.px16,{NAME:"pxFloat",VAL:0}),et.width({NAME:"percent",VAL:100})]),eP=function(e){var t,r=e.data,o=e.target,i=e.settings,n=e.columns,l=e.totalCount,d=e.exportFunc,c=e.onShowMoreClick,u=e.onClose,g=l-1|0,m=0;if("number"==typeof r)0===r?t=null:m=1;else switch(0|r.TAG){case 0:m=1;break;case 1:t=null;break;case 2:var f=r._0.count;if(f<g){var p,_=g-f|0,h={tenOrRemaining:a.s(_<10?_.toString():"10")};if(_>10){var k={oneHundredOrRemaining:a.s(_<100?_.toString():"100")};p=z.createElement(ht.make,{color:"outline",size:"md",onClick:function(e){return s._1(c,100)},children:s._2(ke.Message.format_to_s,{id:"6259f71d147d5b4f1f686f899d650b5b",defaultMessage:"Show {oneHundredOrRemaining} more"},k)})}else p=null;t=z.createElement(z.Fragment,void 0,z.createElement(ht.make,{color:"outline",size:"md",onClick:function(e){return s._1(c,10)},children:s._2(ke.Message.format_to_s,{id:"8d37142f065757acb33b0c8eafa6ab72",defaultMessage:"Show {tenOrRemaining} more"},h)}),p)}else t=null}return 1===m&&(t=z.createElement(Y.Icon.make,{})),z.createElement("tr",void 0,z.createElement("td",{className:Xb.blankTd}),z.createElement("td",{className:Zb,colSpan:ce.length(n)},z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:null},t,z.createElement(ht.make,{color:"outline",size:"md",onClick:function(e){return s._1(u,void 0)},children:s._1(ke.Message.to_s,{id:"e678fb720265587ec13e15c1b9abfdbb",defaultMessage:"Close"})})),z.createElement(bt,{exportFunc:d,isTrial:i.subscription.isTrial,limitResetDate:i.subscription.dateResetUsagesMonthly,totalResults:l,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:o,limitsFunc:N}))),z.createElement("td",{className:Xb.blankTd}))},tP=function(e){var t=e.chFilters,r=e.count,o=e.expandedRows,c=e.filters,u=e.groupKey,g=e.historyFilter,m=e.parentLink,f=e.rowId,p=e.settings,_=e.signedEnvironment,h=e.tableRootRef,k=e.target,v=e.tooltipTarget,y=Bm(void 0),D=y[1],S=y[0],F=me.isSome(Ur.get(o.map,rm(f,u))),C=ie.to_int32(r),w=Re(xf.toFieldName(c.sort.name),c.sort.direction),T=Km(h),b=Aa.getTerms(c.referringPageTitle.rules),P=Aa.getTerms(c.referringPageUrl.rules),M=Aa.getTerms(c.anchorWithSurroundingText.rules),A=Aa.getTerms(c.anchor.rules),R=Aa.getTerms(c.targetUrl.rules),L=Aa.getTerms(c.referringDomainName.rules),E={hd:c_.referringPage(void 0,P,b,L,v,ge.get(T,1),g,void 0),tl:{hd:c_.dr(void 0,ge.get(T,2),void 0),tl:{hd:c_.ur(void 0,ge.get(T,3),void 0,void 0),tl:{hd:c_.domainTraffic(void 0,ge.get(T,4),void 0),tl:{hd:c_.referringDomains(void 0,ge.get(T,5),void 0),tl:{hd:c_.linkedDomains(void 0,ge.get(T,6),void 0),tl:{hd:c_.externalLinks(void 0,ge.get(T,7),void 0),tl:{hd:c_.pageTraffic(void 0,ge.get(T,8),void 0),tl:{hd:c_.keywords(void 0,ge.get(T,9),void 0),tl:{hd:c_.anchor(g,v,A,R,M,ge.get(T,10),void 0),tl:{hd:c_.dates(g,ge.get(T,11),l.some(v),void 0),tl:{hd:s._2(c_.empty,ge.get(T,12),void 0),tl:0}}}}}}}}}}}},B=s._3(Ra.FieldsRequestDescr.customRow,E,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:E,parentData:e,key:"groupedTableRow"+rm(t,u)})}),Vg),q=z.useMemo((function(){return s._1(Ra.FieldsRequestDescr.toRequest,B)}),[]),x=function(e,r,a){var o=void 0!==e?e:u_,i=void 0!==r?r:0;return s._1(D,1),Ye.forEach(K(void 0,k.url,k.mode,k.protocol,dm.toHistoryMode(g),dm.toSince(g),{filter:t,size:o,offset:i,order_by:w,shape:ce.map(q,(function(e){return e[1]})),timeout:void 0},u,m,_),(function(e){return s._1(D,{_0:e})}))};if(z.useEffect((function(){s._1(D,0)}),[Ve.Safe.toKey(k),i.stringifyQueryDict(Of(void 0,void 0,c),void 0,void 0),g]),z.useEffect((function(){var e=S.data;F&&0===e&&x(void 0,void 0)}),[F,S.data]),!F)return null;var W,U=S.data,O=0;if("number"==typeof U)W=0===U?null:z.createElement(Y.Box.make,{size:"md"});else switch(0|U.TAG){case 1:W=z.createElement(le.make,{reqId:d.getRequestId(U._0),noIcon:!0,paddings:!0,onClick:function(e){return x(void 0,void 0)}});break;case 0:case 2:O=1}if(1===O){var N=Fa.getValueLocalCache(ce.map(q,(function(e){return e[0]})));W=z.createElement(z.Fragment,void 0,a.list(ce.mapWithIndex(U._0.rows,(function(e,t){return Ra.renderRowField(B,{getValue:s._1(N,t),tableRootRef:h,index:e})}))),z.createElement(eP,{data:S.data,target:k,settings:p,columns:E,totalCount:C,exportFunc:function(e,r){return Q(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-backlinks-%s"}),n.Protocolless_url.show(k.url),V.toExportName(k.mode)),k.url,k.mode,dm.toSince(g),k.protocol,dm.toHistoryMode(g),{filter:t,size:r,offset:0,order_by:w,shape:ce.map(q,(function(e){return e[1]})),timeout:void 0},u,void 0)},onShowMoreClick:function(e){return x(e,S.offset)},onClose:function(e){return s._2(o.setRow,rm(f,u),void 0)}}))}var $={settings:p,hasPadding:!0,onClose:function(e){return s._2(o.setRow,rm(f,u),void 0)},children:W},I=de.getError(S.data);return void 0!==I&&($.error=l.valFromOption(I)),z.createElement(Eo.make,{children:z.createElement(Ao,$),tableRootRef:h,hash:o.hash,onDimensionsChange:o.renewHash})},rP=function(e){var t=e.filters,r=e.settings,a=e.tooltipTarget,o=e.onApplyFilters,i=Oe(r),n=r.reportHistoricalPermissions,d={selectedItem:t.linkStatus,itemTooltip:kg,onClick:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.linkStatus=e,r))}};void 0!==a&&(d.tooltipTarget=l.valFromOption(a));var c,u=Mm.disabledHistoryModes(r);switch(void 0!==u&&(d.disabledItems=l.valFromOption(u)),t.linkStatus){case 0:c=z.createElement($m.make,{hint:$m.backlinksHint,showUpgradeMessage:i,items:$m.highlightChangesItems(n),selectedItem:t.highlightChanges,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.highlightChanges=me.getWithDefault(e,Wf().highlightChanges),r))}});break;case 1:c=z.createElement(z.Fragment,void 0,z.createElement($g,{selectedItem:t.newLostStatusDateRange,showUpgradeMessage:i,items:Mm.newLostDateRangeItems(n),onChange:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.newLostStatusDateRange=e,r))}}),z.createElement(Zm,{selectedItem:t.newStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.newStatus=e,r))}}),z.createElement(Je.make,{children:z.createElement(po.make,{padding:"controlToggle",children:z.createElement(Rf,{value:t.liveOnly,onChange:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.liveOnly=e,r))}})})}));break;case 2:c=z.createElement(z.Fragment,void 0,z.createElement($g,{selectedItem:t.newLostStatusDateRange,showUpgradeMessage:i,items:Mm.newLostDateRangeItems(n),onChange:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.newLostStatusDateRange=e,r))}}),z.createElement(cf,{selectedItem:t.lostStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(o,(r.lostStatus=e,r))}}))}return z.createElement(Je.make,{gap:"px8",fitToContent:!0,children:null},z.createElement(vg,d),c)},aP=Pl.Make({all:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}}}}}}}}}),oP=z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),iP=function(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"644207cb91b1774079e96012f511a4af",defaultMessage:"Referring domain"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"d60252cc9b33603259f681b10fb7e17b",defaultMessage:"Domain name"}),2),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),0),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),1),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),7),tl:{hd:a(s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),8),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),9),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"45bd3c42f979a78085c4343a3f4e7f7f",defaultMessage:"Backlink"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),10),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),11),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),12),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),13),tl:{hd:a(s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),14),tl:0}}}}}}}}}}}}}}}}}}}}}};return z.createElement(aP.make,{label:oP,dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.referringDomainName,s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.orgPageTraffic,s._1(pa.OrgPageTraffic.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 13:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 14:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})},nP=function(e){var t=e.onFiltersChange,r=e.filters;return z.createElement(z.Fragment,void 0,z.createElement(Xu.make,{value:r.followType,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.followType=e,a))}}),z.createElement(Dg.make,{onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=e,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=e,a))},selectedItem:r.backlinkType}),z.createElement(pa.DR.make,{value:r.dr,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dr=Wf().dr,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dr=e,a))}}),z.createElement(pa.OrgDomainTraffic.make,{value:r.orgDomainTraffic,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgDomainTraffic=Wf().orgDomainTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgDomainTraffic=e,a))}}),z.createElement(T_,{items:ce.map(S_,y_),initialSelected:1,onApply:function(e){var a=D_(e[1]);switch(e[0]){case 0:var o=mt.caml_obj_dup(r);return s._1(t,(o.referringDomainName=a,o));case 1:var i=mt.caml_obj_dup(r);return s._1(t,(i.referringPageUrl=a,i));case 2:var n=mt.caml_obj_dup(r);return s._1(t,(n.referringPageTitle=a,n));case 3:var l=mt.caml_obj_dup(r);return s._1(t,(l.anchor=a,l));case 4:var d=mt.caml_obj_dup(r);return s._1(t,(d.anchorWithSurroundingText=a,d));case 5:return;case 6:var c=mt.caml_obj_dup(r);return s._1(t,(c.targetUrl=a,c))}}}),z.createElement(Je.make,{children:z.createElement(po.make,{padding:"controlToggle",children:z.createElement(Qm,{value:r.excludeSubdomains,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.excludeSubdomains=e,a))}})})}),z.createElement(iP,{filters:r,render:function(e,a,o,i){var n=function(t){return s._1(i,e)},l=function(e){switch(e){case 0:return"RefPageTitle";case 1:return"RefPageUrl";case 2:return"RefPageDomain";case 3:return"Platform";case 4:return"Language";case 5:return"RefDomains";case 6:return"LinkedDomains";case 7:return"ExternalLinks";case 8:return"PageTraffic";case 9:return"KeywordsInTop100";case 10:return"Anchor";case 11:return"SurroundingText";case 12:return"TargetUrl";case 13:return"ContentType";case 14:return"Redirects"}}(e);switch(e){case 0:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:r.referringPageTitle,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=Wf().referringPageTitle,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=e,a))},key:l});case 1:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:r.referringPageUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=Wf().referringPageUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=e,a))},key:l});case 2:return z.createElement(fa.RefDomains.DomainName.make,{value:r.referringDomainName,autoOpen:a,label:fa.RefDomains.DomainName.backlinksLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringDomainName=Wf().referringDomainName,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringDomainName=e,a))},key:l});case 3:return z.createElement(Zu.Platform.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=Wf().platform,a))},label:Zu.Platform.refPageLabel,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=e,a))},value:r.platform,key:l});case 4:return z.createElement(Zu.SeLanguage.make,{autoOpen:a,label:Zu.SeLanguage.refPageLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=Wf().language,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=me.getWithDefault(e,Wf().language),a))},value:r.language,key:l});case 5:return z.createElement(pa.RefDomains.make,{value:r.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=Wf().refDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=e,a))},key:l});case 6:return z.createElement(pa.LinkedDomains.make,{value:r.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=Wf().linkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=e,a))},key:l});case 7:return z.createElement(pa.ExternalLinks.make,{value:r.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=Wf().externalLinks,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=e,a))},key:l});case 8:return z.createElement(pa.OrgPageTraffic.make,{value:r.orgPageTraffic,label:pa.OrgPageTraffic.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=Wf().orgPageTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=e,a))},key:l});case 9:return z.createElement(pa.OrgKeywords.make,{value:r.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=Wf().orgKeywords,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=e,a))},key:l});case 10:return z.createElement(fa.Backlinks.Anchor.make,{value:r.anchor,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=Wf().anchor,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=e,a))},key:l});case 11:return z.createElement(fa.Backlinks.SurroundingText.make,{value:r.anchorWithSurroundingText,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=Wf().anchorWithSurroundingText,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=e,a))},key:l});case 12:return z.createElement(fa.Backlinks.TargetUrl.make,{value:r.targetUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=Wf().targetUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=e,a))},key:l});case 13:return z.createElement(yg.make,{autoOpen:a,label:yg.targetLabel,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=Wf().contentType,a))},onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=e,a))},selectedItem:r.contentType,key:l});case 14:return z.createElement(Zu.Redirects.make,{autoOpen:a,label:Zu.Redirects.targetLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=Wf().redirects,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=e,a))},value:r.redirects,key:l})}}}))};function sP(e,t){return t?{remoteData:t._0,rowMap:t._1}:{remoteData:1,rowMap:Xg(void 0)}}var lP={contents:gt()};La.makeRenderHeader;var dP=function(e){var t=e.target,r=e.settings,o=e.onSettingsUpdated,d=e.onToggleSidebar,c=z.useReducer(sP,{remoteData:0,rowMap:Xg(void 0)}),u=c[1],g=c[0],m=he.useUrl(void 0,void 0),f=m.search,p=m.path,_=ue.use(f),h=z.useMemo((function(){return i.parseQueryToDict(f,void 0,void 0)}),[f]),k=z.useMemo((function(){return i.parseQueryToDict(_,void 0,void 0)}),[_]),v=function(e,t,r){var a,o=e.reportHistoricalPermissions,i=s._1(hg.ofQueryWithDefault,r),n=s._1(hg.ofQueryWithDefault,t);if(0!==i||0===n)a=s._1(xg.Filter.ofQueryWithDefault,r);else{var l=s._1(Ng.ofQueryWithDefault,t);a="number"==typeof l?l+1|0:Wf().highlightChanges}var d,c=ce.has($m.highlightChangesItems(o),a,Qr.equal)?a:$m.maxHighlightChangesItem(o),u=s._2(ag.Backlinks.Filter.ofQueryWithCustomDefault,r,e.settings.backlinksAggregation);if(0!==i&&0===n)switch(s._1(xg.Filter.ofQueryWithDefault,t)){case 1:d=0;break;case 2:d=1;break;case 0:case 3:d=2;break;case 4:d=3;break;case 5:d=4;break;case 6:d=5;break;case 7:d=6;break;case 8:d=7}else d=s._1(Ng.ofQueryWithDefault,r);var g,m=Mm.isNewLostDateRangeItemAllowed(d,o)?d:me.getWithDefault(Mm.maxNewLostDateRangeItem(e.reportHistoricalPermissions),0),f=0;switch(i){case 0:f=1;break;case 1:switch(n){case 1:g=[s._1(Xm.ofQueryWithDefault,r),Wf().lostStatus,s._1(Af.ofQueryWithDefault,r)];break;case 0:case 2:f=1}break;case 2:switch(n){case 0:case 1:f=1;break;case 2:g=[Wf().newStatus,s._1(df.ofQueryWithDefault,r),Wf().liveOnly]}}return 1===f&&(g=[Wf().newStatus,Wf().lostStatus,Wf().liveOnly]),{sort:s._1(Kf,r),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,r),followType:s._1(Xu.Filter.ofQueryWithDefault,r),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,r),dr:s._1(pa.DR.Filter.ofQueryWithDefault,r),ur:s._1(pa.UR.Filter.ofQueryWithDefault,r),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.ofQueryWithDefault,r),excludeSubdomains:s._1(Im.ofQueryWithDefault,r),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.ofQueryWithDefault,r),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,r),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,r),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,r),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,r),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,r),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,r),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,r),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,r),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,r),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,r),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,r),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,r),contentType:s._1(yg.Filter.ofQueryWithDefault,r),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,r),groupingType:u,linkStatus:i,highlightChanges:c,newLostStatusDateRange:m,newStatus:g[0],lostStatus:g[1],liveOnly:g[2]}}(r,k,h),y=a.useStateValue(v),D=y[1],S=y[0],F=ue.use(v.groupingType),C=z.useMemo((function(){return F}),[i.stringifyQueryDict(Of(void 0,void 0,v),void 0,void 0)]),w=function(e,t){var r=void 0!==e&&e;s._1(D,t);var a=i.makeStringWithQueryDict(i.makePathname(p),l.some(Of(void 0,l.some(h),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};z.useEffect((function(){w(!0,v)}),[i.stringifyQueryDict(Of(void 0,void 0,v),void 0,void 0)]);var T=Re(xf.toFieldName(v.sort.name),v.sort.direction),b=uo.useSingleton({overrides:["className"]}),P=b[1],M=ue.use(g.remoteData),A=ya.useMultipleExpandedRows(void 0,void 0),R=Yu(g.remoteData,(function(e){return ie.to_float(e.stats.total)})),L=z.useMemo((function(){return de.mapLoadingWithDefault(g.remoteData,0,(function(e){return e.rows}))}),[g.remoteData]),E=z.useMemo((function(){var e=v.linkStatus,t=v.highlightChanges,r=v.newLostStatusDateRange,a=v.newStatus,o=v.lostStatus,i=v.liveOnly;switch(e){case 0:return{TAG:0,_0:{highlightChanges:t}};case 1:return{TAG:1,_0:{dateRange:r,status:a,liveOnly:i}};case 2:return{TAG:2,_0:{dateRange:r,status:o}}}}),[s._1(hg.toString,v.linkStatus),s._1(xg.Filter.toString,v.highlightChanges),s._1(Ng.toString,v.newLostStatusDateRange),s._1(Xm.toString,v.newStatus),s._1(df.toString,v.lostStatus),s._1(Af.toString,v.liveOnly)]),K=Aa.getTerms(v.referringPageTitle.rules),q=Aa.getTerms(v.referringPageUrl.rules),x=Aa.getTerms(v.anchor.rules),W=Aa.getTerms(v.anchorWithSurroundingText.rules),U=Aa.getTerms(v.targetUrl.rules),O=Aa.getTerms(v.referringDomainName.rules),$=g.rowMap,I={hd:c_.referringPage(l.some($),q,K,O,P,void 0,E,void 0),tl:{hd:c_.dr(l.some($),void 0,void 0),tl:{hd:c_.ur(l.some($),void 0,void 0,void 0),tl:{hd:c_.domainTraffic(l.some($),void 0,void 0),tl:{hd:c_.referringDomains(l.some($),void 0,void 0),tl:{hd:c_.linkedDomains(l.some($),void 0,void 0),tl:{hd:c_.externalLinks(l.some($),void 0,void 0),tl:{hd:c_.pageTraffic(l.some($),void 0,void 0),tl:{hd:c_.keywords(l.some($),void 0,void 0),tl:{hd:c_.anchor(E,P,x,U,W,void 0,void 0),tl:{hd:c_.dates(E,void 0,l.some(P),void 0),tl:0}}}}}}}}}}},Q=c_.groupToggle(v.groupingType,A,void 0,(function(e,t){var r=rm(e,t),a=me.mapWithDefault(Ur.get(A.map,r),!0,(function(e){}));return s._2(A.setRow,r,a)}),void 0),j=v.groupingType>=2?I:fo.$at(I,{hd:Q,tl:0}),H=function(e,t,r,a,o,i,l,d,c){s._1(e,0);var u=gt();lP.contents=u;var g=d>=2?function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(Vg,(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)}:function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(Qg,(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,s,l){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)};return Ye.forEach(B(void 0,n.Protocolless_url.show(r.url),r.mode,r.protocol,dm.toHistoryMode(c),dm.toSince(c),{filter:l,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0},d),(function(t){if(lP.contents===u)return s._1(e,{_0:t,_1:de.mapWithDefault(t,Xg(void 0),(function(e){return s._1(g,e)[1]}))})}))},X=z.useMemo((function(){return Gg({hd:{hd:Xu.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.sponsored),v.followType)(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)),tl:{hd:Dg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.content),v.backlinkType),tl:{hd:pa.DR.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr),v.dr),tl:{hd:pa.OrgDomainTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic),v.orgDomainTraffic),tl:{hd:Gm(s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.is_root_domain),v.excludeSubdomains),tl:{hd:s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.title),v.referringPageTitle),tl:{hd:s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url_plain),v.referringPageUrl),tl:{hd:s._2(fa.RefDomains.DomainName.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name),v.referringDomainName),tl:{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.powered_by),v.platform),tl:{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.languages),v.language),tl:{hd:pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.refdomains),v.refDomains),tl:{hd:pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.linked_domains),v.linkedDomains),tl:{hd:pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.external_links),v.externalLinks),tl:{hd:pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.traffic),v.orgPageTraffic),tl:{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.positions),v.orgKeywords),tl:{hd:s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),v.anchor),tl:{hd:s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.right_context),v.anchorWithSurroundingText),tl:{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url_plain),v.targetUrl),tl:{hd:yg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.non_html_suffix),v.contentType),tl:{hd:Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.url),v.redirects),tl:0}}}}}}}}}}}}}}}}}}}},tl:{hd:{hd:s._1(pm.makeChFilter,E),tl:0},tl:0}})}),[i.stringifyQueryDict(Of(void 0,void 0,v),void 0,void 0)]),Z=function(e,a,o,i,n){var s=tm(v.groupingType,i,o),l=v.groupingType;return z.createElement(z.Fragment,{children:null,key:a},z.createElement(te.Row.make,{columns:j,parentData:e}),l>=2?null:z.createElement(tP,{chFilters:X,count:n,expandedRows:A,filters:v,groupKey:s,historyFilter:E,parentLink:a,rowId:a,settings:r,signedEnvironment:de.mapWithDefault(g.remoteData,void 0,(function(e){return e.signedEnvironment})),tableRootRef:e.tableRootRef,target:t,tooltipTarget:P}))},ee=v.groupingType>=2?s._3(Ra.FieldsRequestDescr.customRow,j,(function(e,t,r,a,o){return Z(e,t,a,o,ie.one)}),Vg):s._3(Ra.FieldsRequestDescr.customRow,j,(function(e,t,r,a,o,i){return Z(e,t,a,o,i)}),Qg),re=s._1(Ra.FieldsRequestDescr.toRequest,ee),oe=z.useCallback((function(e){return s._1(A.closeAll,void 0),H(u,re,t,T,v.pagination.offset,v.pagination.limit,X,v.groupingType,E)}),[]);z.useEffect((function(e){s._1(A.closeAll,void 0),H(u,re,t,T,v.pagination.offset,v.pagination.limit,X,v.groupingType,E)}),[Ve.Safe.toKey(t),s._1(xf.Name.toString,v.sort.name),s._1(xf.Direction.toString,v.sort.direction),v.pagination.offset,v.pagination.limit,X,s._1(ag.Backlinks.Filter.toString,v.groupingType),E]);var ne,se=g.remoteData,le=v.groupingType,ge=0,fe=0,pe=0;if(0===M)if("number"==typeof se)0===se?pe=5:ge=1;else switch(0|se.TAG){case 0:ge=1;break;case 1:case 2:fe=4}else pe=5;if(5===pe){var _e=0;if("number"==typeof se)_e=6;else switch(0|se.TAG){case 1:case 2:fe=4;break;default:_e=6}6===_e&&(C>=2?le>=2?fe=4:ge=1:le>=2?ge=1:fe=4)}switch(4===fe&&(ge="number"==typeof se?1===se?C>=2?2:3:le>=2?2:3:0===se.TAG?C>=2?2:3:le>=2?2:3),ge){case 1:ne=z.createElement(Y.Icon.make,{size:"sm"});break;case 2:var ve={links:a.s(ae.Float.full(R)),count:0|R};ne=s._2(ke.Message.format_to_s,{id:"f04c48581ba473c1682b4d8ee7783c60",defaultMessage:"{links} {count, plural, zero {backlinks} one {backlink} few {backlinks} other {backlinks}}"},ve);break;case 3:var ye={links:a.s(ae.Float.full(R)),count:0|R};ne=s._2(ke.Message.format_to_s,{id:"f234783dbbbd91c340e141200a290a8e",defaultMessage:"{links} {count, plural, zero {groups} one {group} few {groups} other {groups}} of links"},ye)}var De,Se=xf.toFieldName(v.sort.name),Fe=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:z.createElement(pt.make,{fontWeight:"bold",children:ne})}),z.createElement(ag.Backlinks.make,{selectedItem:v.groupingType,onChange:function(e){var t=mt.caml_obj_dup(r.settings);s._1(o,(t.backlinksAggregation=e,t));var a=mt.caml_obj_dup(v);return w(void 0,(a.groupingType=e,a))}}),z.createElement(rP,{filters:v,settings:r,tooltipTarget:P,onApplyFilters:function(e){return w(!1,e)}})),z.createElement(Je.make,{gap:"px10",children:null},z.createElement(Oo,{data:{TAG:0,_0:{aggregation:v.groupingType,se_params:{history_mode:dm.toHistoryMode(E),since:dm.toSince(E),target:n.Protocolless_url.show(t.url),mode:t.mode,protocol:t.protocol},params:{filter:X,size:v.pagination.limit,offset:v.pagination.offset,order_by:Se?ce.map(Se,(function(e){return[v.sort.direction,e]})):void 0,shape:ce.map(re,(function(e){return e[1]})),timeout:void 0}}}}),z.createElement(bt,{exportFunc:function(e,r){return G(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-backlinks-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode)),t.url,t.mode,dm.toSince(E),t.protocol,dm.toHistoryMode(E),{filter:X,size:r,offset:0,order_by:T,shape:ce.map(re,(function(e){return e[1]})),timeout:void 0},v.groupingType)},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|R,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:t,limitsFunc:N}))),Ce=g.remoteData;De="number"==typeof Ce||1!==Ce.TAG?void 0:Ce._0;var we={settings:r,children:null};void 0!==De&&(we.error=l.valFromOption(De));var Te=v.groupingType;return z.createElement(Po,we,z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:d,children:z.createElement(lt.make,{children:s._1(ke.Message.to_s,{id:"13b4a8637b2b0859a7b7aad596a9b860",defaultMessage:"Backlinks"})})}),z.createElement(co,{showApplyFilters:!If(S,v),onClearFilters:function(e){return s._1(D,v)},onApplyFilters:function(e){var t=mt.caml_obj_dup(S),r=S.pagination;return t.pagination={limit:r.limit,offset:0},w(void 0,t)},children:z.createElement(nP,{onFiltersChange:s.__1(D),filters:S})}),z.createElement(te.Table.make,{row:ee,data:L,hasAppliedFilters:!1,header:Fe,isLoading:de.isLoading(g.remoteData),failureState:te.Table.getFailureState(g.remoteData),renderError:Be(g.remoteData,oe,r.isUpgradable),tableId:Te>=2?"all":"grouped",tooltipTarget:P,totalRowsNumber:0|R,pagination:v.pagination,sortDirection:v.sort.direction,sort:s._1(xf.Name.toString,v.sort.name),stickyHeaderLayer:tt.ZIndex.above(tt.ZIndex.tableExpandableRow),onPaginationChange:function(e){var t=mt.caml_obj_dup(v);return w(void 0,(t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(v);return a.pagination=r,a.sort={name:me.getWithDefault(s._1(xf.Name.ofString,e),s._1(xf.Name.getDefault,void 0)),direction:t},w(void 0,a)},onRefetch:oe,onClearFilters:function(e){return w(void 0,Wf())}})),z.createElement(ut.make,{singleton:b[0]}))},cP=r(63556),uP=r(65378),gP=mt.caml_equal,mP=bi.Make({equals:gP});function fP(e,t){if("number"==typeof t)return 0===t?{remoteDataSaving:0,data:e.data}:{remoteDataSaving:1,data:e.data};switch(0|t.TAG){case 0:return{remoteDataSaving:t._0,data:e.data};case 1:var r=mt.caml_obj_dup(e.data);return{remoteDataSaving:e.remoteDataSaving,data:(r.historyMode=t._0,r)};case 2:var a=mt.caml_obj_dup(e.data);return{remoteDataSaving:e.remoteDataSaving,data:(a.keywordDataSource=t._0,a)};case 3:var o=mt.caml_obj_dup(t._0);return{remoteDataSaving:e.remoteDataSaving,data:(o.keywordDataSource=0,o.historyMode=0,o)}}}function pP(e,t){return z.createElement(Je.make,{gap:"px10",layout:{hd:{NAME:"px",VAL:18},tl:{hd:{NAME:"fr",VAL:1},tl:0}},children:t?z.createElement(z.Fragment,void 0,z.createElement($o.make,{country:t._0}),a.s(e)):z.createElement(z.Fragment,void 0,z.createElement(Xe.World.make,s.app(Xe.World.makeProps,[void 0,void 0,3,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])),a.s(e))})}var _P=function(e){var t=e.testId,r=e.data,o=e.onSaved,i=e.isOpen,n=e.onClose,d=z.useReducer(fP,{remoteDataSaving:0,data:r}),c=d[1],u=d[0],g=de.isLoading(u.remoteDataSaving);z.useEffect((function(){i&&s._1(c,0)}),[i]);var m,f={isOpen:i,onClose:function(e){return g?void 0:s._1(n,void 0)},children:null};return void 0!==t&&(f.testId=l.valFromOption(t)),z.createElement(cP.make,f,z.createElement(cP.Header.make,{children:s._1(ke.Message.to_s,{id:"0ffcf1ab2f35f5bd4584360d6ffc2202",defaultMessage:"Settings"})}),z.createElement(cP.Body.make,{children:z.createElement(ct.make,{children:null},de.isFailure(u.remoteDataSaving)?z.createElement(_t.make,{alertType:"error",children:s._1(ke.Message.to_s,{id:"25a130e5c4cbca827c969e0e3d40cd25",defaultMessage:"Something went wrong. Please try again or contact support if this keeps happening."})}):null,z.createElement(ct.make,{gap:"px6",children:null},z.createElement("label",void 0,s._1(ke.Message.to_s,{id:"ceb2ac25f4492001fdf2e28eb4a05b08",defaultMessage:"Keyword data for"})),z.createElement(mP.make,{searchable:!0,fullWidth:!0,renderValue:function(e,t){return void 0!==t?pP(e,t):a.s(e)},renderItem:pP,selectedItem:u.data.keywordDataSource,items:(m=s._1(ke.Message.to_s,{id:"f875df10c330bde225fc08d87d8ab6ca",defaultMessage:"Country with most keywords"}),{hd:s._4(mP.makeItem,m,0,void 0,void 0),tl:ce.map(ce.sort(uP.fold((function(e,t,r){return ce.add(r,t)}),se.all_se,0),(function(e,t){return _i.compare(e.name,t.name)})),(function(e){return s._4(mP.makeItem,e.name,{_0:e},void 0,void 0)}))}),onChange:function(e){return s._1(c,{TAG:2,_0:e})}})))}),z.createElement(cP.Footer.make,{children:z.createElement(Je.make,{gap:"px10",layout:{hd:{NAME:"minmax",VAL:[{NAME:"px",VAL:80},"auto"]},tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(ht.make,{color:"accent",loading:g,width:"stretch",onClick:function(e){return function(e,t,r){return s._1(e,1),Ye.forEach(ju.setSettings(t),(function(a){return s._1(e,{TAG:0,_0:a}),"number"==typeof a||2!==a.TAG?void 0:s._1(r,t)}))}(c,u.data,o)},children:s._1(ke.Message.to_s,{id:"8da1afbc34aa6edf52f55826abbebc87",defaultMessage:"Save"})}),z.createElement(ht.make,{disabled:g,onClick:function(e){return s._1(n,void 0)},children:s._1(ke.Message.to_s,{id:"aa451a2c56b2cbf86ff223abc48ef9d5",defaultMessage:"Cancel"})}),z.createElement("div",void 0),z.createElement(ht.make,{disabled:g,onClick:function(e){return s._1(c,{TAG:3,_0:r})},children:s._1(ke.Message.to_s,{id:"e01da90569aa3ba9520d78cbee8d8648",defaultMessage:"Reset"})}))}))},hP=function(e){var t=e.filters,r=e.historyFilter,a=e.settings,o=e.tooltipTarget,i=e.onApplyFilters,n=Oe(a),d=a.reportHistoricalPermissions,c={selectedItem:t.linkStatus,itemTooltip:kg,onClick:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.linkStatus=e,r))}};void 0!==o&&(c.tooltipTarget=l.valFromOption(o));var u,g=Mm.disabledHistoryModes(a);switch(void 0!==g&&(c.disabledItems=l.valFromOption(g)),t.linkStatus){case 0:u=z.createElement(z.Fragment,void 0,z.createElement($m.make,{hint:$m.backlinksHint,showUpgradeMessage:n,items:$m.highlightChangesItems(d),selectedItem:t.highlightChanges,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.highlightChanges=me.getWithDefault(e,Yf().highlightChanges),r))}}),dm.isAll(r)&&dm.showChanges(r)?z.createElement(z.Fragment,void 0,z.createElement(pa.NewLinks.make,{value:t.newLinks,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newLinks=e,r))}}),z.createElement(pa.LostLinks.make,{value:t.lostLinks,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.lostLinks=e,r))}})):null);break;case 1:u=z.createElement(z.Fragment,void 0,z.createElement($g,{selectedItem:t.newLostStatusDateRange,showUpgradeMessage:n,items:Mm.newLostDateRangeItems(d),onChange:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newLostStatusDateRange=e,r))}}),z.createElement(Zm,{selectedItem:t.newStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newStatus=e,r))}}));break;case 2:u=z.createElement(z.Fragment,void 0,z.createElement($g,{selectedItem:t.newLostStatusDateRange,showUpgradeMessage:n,items:Mm.newLostDateRangeItems(d),onChange:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newLostStatusDateRange=e,r))}}),z.createElement(cf,{selectedItem:t.lostStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.lostStatus=e,r))}}))}return z.createElement(Je.make,{gap:"px8",fitToContent:!0,children:null},z.createElement(vg,c),u)},kP=function(e){var t=e.onFiltersChange,r=e.filters;return z.createElement(z.Fragment,void 0,z.createElement(Xu.make,{value:r.followType,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.followType=e,a))}}),z.createElement(pa.DR.make,{value:r.dr,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dr=Yf().dr,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dr=e,a))}}),z.createElement(pa.OrgDomainTraffic.make,{value:r.orgDomainTraffic,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgDomainTraffic=Yf().orgDomainTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgDomainTraffic=e,a))}}),z.createElement(pa.LinksToTarget.make,{value:r.linksToTarget,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linksToTarget=Yf().linksToTarget,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linksToTarget=e,a))}}),z.createElement(T_,{items:ce.map(S_,y_),initialSelected:0,onApply:function(e){var a=D_(e[1]);switch(e[0]){case 0:var o=mt.caml_obj_dup(r);return s._1(t,(o.referringDomainName=a,o));case 1:var i=mt.caml_obj_dup(r);return s._1(t,(i.referringPageUrl=a,i));case 2:var n=mt.caml_obj_dup(r);return s._1(t,(n.referringPageTitle=a,n));case 3:var l=mt.caml_obj_dup(r);return s._1(t,(l.anchor=a,l));case 4:var d=mt.caml_obj_dup(r);return s._1(t,(d.anchorWithSurroundingText=a,d));case 5:return;case 6:var c=mt.caml_obj_dup(r);return s._1(t,(c.targetUrl=a,c))}}}),z.createElement(Je.make,{children:z.createElement(po.make,{padding:"controlToggle",children:z.createElement(Qm,{value:r.excludeSubdomains,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.excludeSubdomains=e,a))}})})}),z.createElement(gD,{filters:r,render:function(e,a,o,i){var n=function(t){return s._1(i,e)},l=uD(e);switch(e){case 0:return z.createElement(fa.RefDomains.DomainName.make,{value:r.referringDomainName,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringDomainName=Yf().referringDomainName,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringDomainName=e,a))},key:l});case 1:return z.createElement(pa.DofollowRefDomains.make,{value:r.dofollowRefDomains,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowRefDomains=Yf().dofollowRefDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowRefDomains=e,a))},key:l});case 2:return z.createElement(pa.DofollowLinkedDomains.make,{value:r.dofollowLinkedDomains,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowLinkedDomains=Yf().dofollowLinkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowLinkedDomains=e,a))},key:l});case 3:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:r.referringPageTitle,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=Yf().referringPageTitle,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=e,a))},key:l});case 4:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:r.referringPageUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=Yf().referringPageUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=e,a))},key:l});case 5:return z.createElement(Zu.Platform.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=Yf().platform,a))},label:Zu.Platform.refPageLabel,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=e,a))},value:r.platform,key:l});case 6:return z.createElement(Zu.SeLanguage.make,{autoOpen:a,label:Zu.SeLanguage.refPageLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=Yf().language,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=me.getWithDefault(e,Yf().language),a))},value:r.language,key:l});case 7:return z.createElement(pa.RefDomains.make,{value:r.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=Yf().refDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=e,a))},key:l});case 8:return z.createElement(pa.LinkedDomains.make,{value:r.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=Yf().linkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=e,a))},key:l});case 9:return z.createElement(pa.ExternalLinks.make,{value:r.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=Yf().externalLinks,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=e,a))},key:l});case 10:return z.createElement(pa.OrgPageTraffic.make,{value:r.orgPageTraffic,label:pa.OrgPageTraffic.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=Yf().orgPageTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=e,a))},key:l});case 11:return z.createElement(pa.OrgKeywords.make,{value:r.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=Yf().orgKeywords,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=e,a))},key:l});case 12:return z.createElement(Dg.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=Yf().backlinkType,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=e,a))},selectedItem:r.backlinkType,key:l});case 13:return z.createElement(fa.Backlinks.Anchor.make,{value:r.anchor,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=Yf().anchor,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=e,a))},key:l});case 14:return z.createElement(fa.Backlinks.SurroundingText.make,{value:r.anchorWithSurroundingText,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=Yf().anchorWithSurroundingText,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=e,a))},key:l});case 15:return z.createElement(fa.Backlinks.TargetUrl.make,{value:r.targetUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=Yf().targetUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=e,a))},key:l});case 16:return z.createElement(yg.make,{autoOpen:a,label:yg.targetLabel,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=Yf().contentType,a))},onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=e,a))},selectedItem:r.contentType,key:l});case 17:return z.createElement(Zu.Redirects.make,{autoOpen:a,label:Zu.Redirects.targetLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=Yf().redirects,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=e,a))},value:r.redirects,key:l})}}}))};function vP(e,t){return t?{remoteData:t._0,totalDofollowLinks:t._1}:{remoteData:1,totalDofollowLinks:e.totalDofollowLinks}}var yP={contents:gt()};function DP(e,t,r,a,o,i,l,d){s._1(e,0);var c=gt();yP.contents=c;var u=function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a){var o=ie.to_float(a);return s._1(t,o>e?o:e)}),0,e.rows)};return Ye.forEach(q(void 0,n.Protocolless_url.show(r.url),r.mode,r.protocol,dm.toHistoryMode(d),dm.toSince(d),{filter:l,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0}),(function(t){if(yP.contents===c)return s._1(e,{_0:t,_1:de.mapWithDefault(t,0,u)})}))}La.makeRenderHeader;var SP=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=z.useReducer(vP,{remoteData:0,totalDofollowLinks:0}),c=d[1],u=d[0],g=he.useUrl(void 0,void 0),m=g.search,f=g.path,p=ue.use(m),_=z.useMemo((function(){return i.parseQueryToDict(m,void 0,void 0)}),[m]),h=z.useMemo((function(){return i.parseQueryToDict(p,void 0,void 0)}),[p]),k=Xf(r,h,_),v=a.useStateValue(k),y=v[1],D=v[0],S=function(e,t){var r=void 0!==e&&e;s._1(y,t);var a=i.makeStringWithQueryDict(i.makePathname(f),l.some(Zf(void 0,l.some(_),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};z.useEffect((function(){S(!0,k)}),[i.stringifyQueryDict(Zf(void 0,void 0,k),void 0,void 0)]);var F=Re(zf.toFieldName(k.sort.name),k.sort.direction),C=Yu(u.remoteData,(function(e){return ie.to_float(e.stats.total)})),w=uo.useSingleton({overrides:["className"]}),T=w[1],b=ya.useMultipleExpandedRows(void 0,void 0),P=z.useMemo((function(){var e=k.linkStatus,t=k.highlightChanges,r=k.newLostStatusDateRange,a=k.newStatus,o=k.lostStatus;switch(e){case 0:return{TAG:0,_0:{highlightChanges:t}};case 1:return{TAG:1,_0:{dateRange:r,status:a,liveOnly:!1}};case 2:return{TAG:2,_0:{dateRange:r,status:o}}}}),[s._1(hg.toString,k.linkStatus),s._1(xg.Filter.toString,k.highlightChanges),s._1(Ng.toString,k.newLostStatusDateRange),s._1(Xm.toString,k.newStatus),s._1(df.toString,k.lostStatus)]),M=z.useMemo((function(){return function(e,t){var r={hd:Xu.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.sponsored),e.followType)(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)),tl:{hd:pa.DR.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr),e.dr),tl:{hd:pa.OrgDomainTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic),e.orgDomainTraffic),tl:{hd:Gm(s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.is_root_domain),e.excludeSubdomains),tl:{hd:s._2(fa.RefDomains.DomainName.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name),e.referringDomainName),tl:{hd:pa.DofollowRefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.refdomains),e.dofollowRefDomains),tl:{hd:pa.DofollowLinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.linked_domains),e.dofollowLinkedDomains),tl:{hd:s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.title),e.referringPageTitle),tl:{hd:s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url_plain),e.referringPageUrl),tl:{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.powered_by),e.platform),tl:{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.languages),e.language),tl:{hd:pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.refdomains),e.refDomains),tl:{hd:pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.linked_domains),e.linkedDomains),tl:{hd:pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.external_links),e.externalLinks),tl:{hd:pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.traffic),e.orgPageTraffic),tl:{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.positions),e.orgKeywords),tl:{hd:Dg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.content),e.backlinkType),tl:{hd:s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),e.anchor),tl:{hd:s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.right_context),e.anchorWithSurroundingText),tl:{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url_plain),e.targetUrl),tl:{hd:yg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.non_html_suffix),e.contentType),tl:{hd:Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.url),e.redirects),tl:0}}}}}}}}}}}}}}}}}}}}}};return[Gg({hd:r,tl:{hd:{hd:s._1(Dm.makeChFilter,t),tl:{hd:pa.NewLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_new),e.newLinks),tl:{hd:pa.LostLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_lost),e.lostLinks),tl:{hd:pa.LinksToTarget.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id),e.linksToTarget),tl:0}}}},tl:0}}),{hd:r,tl:{hd:{hd:s._1(pm.makeChFilter,dm.withoutLiveOnly(dm.withoutStatus(t))),tl:0},tl:0}}]}(k,P)}),[i.stringifyQueryDict(Zf(void 0,void 0,k),void 0,void 0)]),A=M[1],R=M[0],L=Aa.getTerms(k.referringDomainName.rules),E={hd:R_(L),tl:{hd:L_(P,void 0,void 0),tl:{hd:E_(void 0),tl:{hd:B_(t),tl:{hd:K_(void 0),tl:{hd:q_(void 0),tl:{hd:x_(b),tl:{hd:U_(P,k,Ve.Safe.toUnsafe(t)),tl:{hd:O_(P,k,Ve.Safe.toUnsafe(t)),tl:{hd:N_(void 0),tl:{hd:$_(u.totalDofollowLinks),tl:{hd:I_(void 0),tl:{hd:G_(void 0),tl:{hd:Q_(P),tl:0}}}}}}}}}}}}}},B=s._3(Ra.FieldsRequestDescr.customRow,E,(function(e,a,o,i){return z.createElement(z.Fragment,void 0,z.createElement(te.Row.make,{columns:E,parentData:e}),z.createElement(Ky,{tableRootRef:e.tableRootRef,tooltipTarget:T,rootDomain:o,rootDomainHash:a,target:t,chFilters:A,historyFilter:P,filters:A_(o,k),grouping:{TAG:1,_0:a},settings:r,expandedRows:b,count:i}))}),V_),K=s._1(Ra.FieldsRequestDescr.toRequest,B),q=z.useCallback((function(e){return s._1(b.closeAll,void 0),DP(c,K,t,F,k.pagination.offset,k.pagination.limit,R,P)}),[]);z.useEffect((function(){s._1(b.closeAll,void 0),DP(c,K,t,F,k.pagination.offset,k.pagination.limit,R,P)}),[Ve.Safe.toKey(t),P,s._1(zf.Name.toString,k.sort.name),s._1(zf.Direction.toString,k.sort.direction),k.pagination.offset,k.pagination.limit,R]);var x,W=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Ju,{remoteData:u.remoteData,getter:function(e){return ie.to_float(e.stats.total)},message:{id:"4a4a1a4fa56fcb1cc3ba729152efb411",defaultMessage:"{totalStr} {total, plural, zero {domains} one {domain} other {domains}}"}}),z.createElement(hP,{filters:k,historyFilter:P,settings:r,tooltipTarget:T,onApplyFilters:function(e){return S(!1,e)}})),z.createElement(Je.make,{gap:"px10",children:null},z.createElement(Oo,{data:{TAG:13,_0:{se_params:{history_mode:dm.toHistoryMode(P),since:dm.toSince(P),target:n.Protocolless_url.show(t.url),mode:t.mode,protocol:t.protocol},params:{filter:R,size:k.pagination.limit,offset:k.pagination.offset,order_by:F,shape:ce.map(K,(function(e){return e[1]})),timeout:void 0}}}}),z.createElement(bt,{exportFunc:function(e,r){return I(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-refdomains-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-refdomains-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode)),t.url,t.mode,dm.toSince(P),t.protocol,dm.toHistoryMode(P),{filter:R,size:r,offset:0,order_by:F,shape:ce.map(K,(function(e){return e[1]})),timeout:void 0},dm.showExportNewLostColumns(P))},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|C,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:t,limitsFunc:N}))),U=u.remoteData;x="number"==typeof U||1!==U.TAG?void 0:U._0;var O={settings:r,children:null};return void 0!==x&&(O.error=l.valFromOption(x)),z.createElement(Po,O,z.createElement(ct.make,{children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}))})}),z.createElement(co,{showApplyFilters:!rp(D,k),onClearFilters:function(e){return s._1(y,k)},onApplyFilters:function(e){var t=mt.caml_obj_dup(D),r=D.pagination;return t.pagination={limit:r.limit,offset:0},S(void 0,t)},children:z.createElement(kP,{onFiltersChange:s.__1(y),filters:D})}),z.createElement(te.Table.make,{row:B,data:de.mapWithDefault(u.remoteData,0,(function(e){return e.rows})),hasAppliedFilters:!1,header:W,isLoading:de.isLoading(u.remoteData),failureState:te.Table.getFailureState(u.remoteData),renderError:Be(u.remoteData,q,r.isUpgradable),totalRowsNumber:0|C,pagination:k.pagination,sortDirection:k.sort.direction,sort:s._1(zf.Name.toString,k.sort.name),onPaginationChange:function(e){var t=mt.caml_obj_dup(k);return S(void 0,(t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(k);return a.pagination=r,a.sort={name:me.getWithDefault(s._1(zf.Name.ofString,e),s._1(zf.Name.getDefault,void 0)),direction:t},S(void 0,a)},onRefetch:q,onClearFilters:function(e){return S(void 0,Yf())}})),z.createElement(ut.make,{singleton:w[0]}))},FP=r(93610),CP=ya.Sort.MakeFilter({$$default:4,toString:function(e){switch(e){case 0:return"refpage";case 1:return"lastseen";case 2:return"lastvisited";case 3:return"firstseen";case 4:return"traffic";case 5:return"refdomains";case 6:return"linkeddomains";case 7:return"extlinks";case 8:return"keywords"}},ofString:function(e){switch(e){case"extlinks":return 7;case"firstseen":return 3;case"keywords":return 8;case"lastseen":return 1;case"lastvisited":return 2;case"linkeddomains":return 6;case"refdomains":return 5;case"refpage":return 0;case"traffic":return 4;default:return}},defaultDirection:"Desc"}),wP=CP.Name,TP=CP.getDefault,bP=CP.isApplied,PP=CP.ofQueryWithDefault,MP=CP.toQuery,AP=CP.Direction,RP={FieldsRequestDescr:void 0,Fields:void 0,Name:wP,Direction:AP,getDefault:TP,isApplied:bP,ofQueryWithDefault:PP,toQuery:MP,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.title)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.last_seen)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.last_visited)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.first_seen)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.traffic)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.refdomains)),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.linked_domains)),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.external_links)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.positions)),tl:0}}}};function LP(e){return{sort:s._1(TP,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),followType:s._1(Xu.Filter.getDefault,void 0),targetHttpCode:s._1(Zu.TargetHttpCode.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),groupingType:s._1(ag.InternalBacklinks.Filter.getDefault,void 0)}}var EP={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:0}}}}}}}}}}}}}}}}}}}};function BP(e,t,r){var a=void 0!==e?e:EP,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(MP,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Xu.Filter.toQuery,e,r.followType);case 3:return s._2(Zu.TargetHttpCode.Filter.toQuery,e,r.targetHttpCode);case 4:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 5:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 6:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 7:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 8:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 9:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 10:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 11:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 12:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 13:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 14:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 15:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 16:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 17:return s._2(yg.Filter.toQuery,e,r.contentType);case 18:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 19:return s._2(ag.InternalBacklinks.Filter.toQuery,e,r.groupingType)}}))}var KP={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:0}}}}}}}}}}}}}}}}};function qP(e,t){var r=void 0!==e?l.valFromOption(e):{};return BP(KP,l.some(r),t)}var xP=function(e,t){return i.stringifyQueryDict(qP(void 0,e),void 0,void 0)===i.stringifyQueryDict(qP(void 0,t),void 0,void 0)},WP={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:0}}}}}}}}}}}}}}}}},UP=function(e,t){switch(e){case 2:return{hd:Xu.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.sponsored),t.followType)(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.dofollow)),tl:0};case 3:return{hd:Zu.TargetHttpCode.makeInternalBacklinksChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.download_http_code),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.url),t.targetHttpCode),tl:0};case 4:return{hd:Dg.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.content),t.backlinkType),tl:0};case 5:return{hd:s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.title),t.referringPageTitle),tl:0};case 6:return{hd:s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.url_plain),t.referringPageUrl),tl:0};case 7:return{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.powered_by),t.platform),tl:0};case 8:return{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.languages),t.language),tl:0};case 9:return{hd:pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.refdomains),t.refDomains),tl:0};case 10:return{hd:pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.linked_domains),t.linkedDomains),tl:0};case 11:return{hd:pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.external_links),t.externalLinks),tl:0};case 12:return{hd:pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.traffic),t.orgPageTraffic),tl:0};case 13:return{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.positions),t.orgKeywords),tl:0};case 14:return{hd:s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor),t.anchor),tl:0};case 15:return{hd:s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.right_context),t.anchorWithSurroundingText),tl:0};case 16:return{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url_plain),t.targetUrl),tl:0};case 17:return{hd:yg.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.non_html_suffix),t.contentType),tl:0};case 18:return{hd:Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.url),t.redirects),tl:0};case 0:case 1:case 19:return 0}},OP=Wm,NP=Um,$P=Om,IP={appendIf:Ig,renderOrHideCell:OP,cellWrapper:NP,singleFieldWrapper:$P,empty:Nm,groupToggle:function(e,t,r,o,i){var n=e?"":s._1(ke.Message.to_s,{id:"0975855e9017eafaf7d6431ab769c8f9",defaultMessage:"Similar"}),d={TAG:0,_0:cg.groupingSimilar};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(i,n,d,c,u){return z.useMemo((function(){var i=tm(zg.toBacklinksAgg(e),c,d),g=ie.to_int32(u)-1|0,m={children:g>0?z.createElement(Oi.make,{size:"sm",active:me.isSome(Ur.get(t.map,rm(n,i))),onClick:function(e){return s._2(o,n,i)},children:a.s(ae.Int.$$default(g))}):null};return void 0!==r&&(m.width=l.valFromOption(r)),z.createElement(va.Td.make,m)}),[dt.to_string(n),dt.to_string(d),dt.to_string(c),dt.to_string(u),t.hash])}),{renderHeader:function(e,t,r,a,o,i,s,l){return La.makeRenderHeader(d,void 0,n,void 0,void 0,void 0,void 0,void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,s,l)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.root_domain_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)))),0)))))},dates:function(e,t,r){return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){return z.useMemo((function(){var r=Bt.toMomentUtc(o),n=Bt.toMomentUtc(i),s={content:a.s(ne.moment(void 0,r,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,r,"dayShortMonthYear"))})};void 0!==t&&(s.singleton=l.valFromOption(t));var d={content:a.s(ne.moment(void 0,n,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.relativeWithMinutes(n))})};void 0!==t&&(d.singleton=l.valFromOption(t));var c={children:z.createElement(ct.make,{gap:"none",children:null},z.createElement(Je.make,{children:z.createElement(ut.make,s)}),z.createElement(Je.make,{children:z.createElement(ut.make,d)})),key:"crawlBlock"};return void 0!==e&&(c.width=l.valFromOption(e)),z.createElement(va.Td.make,c)}),[e,o.toString(),i.toString()])}),{renderHeader:function(e,t,r,a,o,i,n,d){var c={children:null};void 0!==e&&(c.domRef=l.valFromOption(e)),void 0!==t&&(c.style=l.valFromOption(t));var u={title:s._1(ke.Message.to_s,{id:"fc0bb0000257ff0076d9a54a2ffb01ee",defaultMessage:"First seen"}),sortField:s._1(wP.toString,3),tableSort:i,tableSortDirection:n,tooltip:cg.firstSeen,onSort:o};void 0!==a&&(u.tooltipTarget=l.valFromOption(a));var g={title:s._1(ke.Message.to_s,{id:"ec7f2c8aa2227421f8ff9f9b02c7db53",defaultMessage:"Last checked"}),sortField:s._1(wP.toString,2),tableSort:i,tableSortDirection:n,tooltip:cg.lastSeenLive,onSort:o};return void 0!==a&&(g.tooltipTarget=l.valFromOption(a)),z.createElement(bp,c,z.createElement(Pp,u),z.createElement(Pp,g))}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.last_visited)),0)))},keywords:function(e,t,r){var o=s._1(wP.toString,8),i=s._1(ke.Message.to_s,{id:"0c11c4b6bcb2fd8fe631ea3d43e300da",defaultMessage:"Kw."}),d={TAG:0,_0:cg.keywords};return s._5(NP,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.positions)),e,(function(r,o,i){return z.useMemo((function(){var e=Ve.fromUrlWithMode(n.Url.show(o),0),r=Math.max(ie.to_float(i),0),s=a.s(ae.Float.full(r)),d={align:"right",children:me.mapWithDefault(e,s,(function(e){if(r<=0)return s;var t=jp();return z.createElement(ta.make,{href:j.V2.makeOrganicKeywordsUrlDict(e,l.some(Yp({hd:5,tl:0},void 0,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:"DontCompare",positions:t.positions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,serp:t.serp,words:t.words,keyword:t.keyword,url:t.url,isMainOnly:t.isMainOnly,multipleUrls:t.multipleUrls})),void 0),mode:0,children:s})}))};return void 0!==t&&(d.width=l.valFromOption(t)),z.createElement(va.Td.make,d)}),[e,t,dt.to_string(i)])}),{renderHeader:function(e,t,r,a,n,s,l,c){return La.makeRenderHeader(d,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,l,c)}},void 0)},pageTraffic:function(e,t,r){var o=s._1(wP.toString,4),i=s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),n={TAG:0,_0:cg.traffic};return s._5($P,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.traffic)),e,(function(r){return z.useMemo((function(){var e={align:"right",children:a.s(ae.Float.tableAbbr(ie.to_float(r)))};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},externalLinks:function(e,t,r){var o=s._1(wP.toString,7),i=s._1(ke.Message.to_s,{id:"56a33a78c7529b5058875c5a27d9d0b1",defaultMessage:"Ext."}),n={TAG:0,_0:cg.ext};return s._5($P,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.external_links)),e,(function(r){return z.useMemo((function(){var e={align:"right",children:a.s(ae.Float.full(ie.to_float(r)))};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},linkedDomains:function(e,t,r){var o=s._1(wP.toString,6),i=s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),n={TAG:0,_0:cg.linkedDomains};return s._5(NP,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.linked_domains)),e,(function(r,o,i){return z.useMemo((function(){var e={align:"right",children:z.createElement(ta.make,{href:vt.SE.linkedDomains(o),children:a.s(ae.Float.full(ie.to_float(i)))})};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,o,dt.to_string(i)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},referringDomains:function(e,t,r){var o=s._1(wP.toString,5),i=s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),d={TAG:0,_0:cg.referringDomain};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i,d){return z.useMemo((function(){var r,c=a.s(ae.Float.full(ie.to_float(o)));if(ie.to_float(o)>0){var u=mt.caml_obj_dup(Yf());r=z.createElement(ta.make,{href:j.V2.makeRefdomainsUrlDict({protocol:0,url:n.Url.show(i),mode:0},void 0,l.some(Zf({hd:26,tl:0},void 0,(u.highlightChanges=0,u))),void 0),mode:0,children:c})}else r=c;var g={align:"right",children:r};return void 0!==t&&(g.width=l.valFromOption(t)),s._4(OP,e,d,z.createElement(va.Td.make,g),void 0)}),[e,t,i,dt.to_string(o)])}),{renderHeader:function(e,t,r,a,n,s,l,c){return La.makeRenderHeader(d,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,l,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.refdomains)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)),0))))},referringPage:function(e,t,r,a,o,i){var d=void 0!==t?t:Aa.emptyGroupedTerms,c=void 0!==r?r:Aa.emptyGroupedTerms,u=void 0!==a?a:Aa.emptyGroupedTerms,g={width:"33%"},m=s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"}),f={TAG:0,_0:cg.referringPage};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a,i,g,m,f,p,_){var h=on.fromString(g);return z.useMemo((function(){var t,g={paddingLeft:"none",nowrap:!1,children:null,key:"referringPageBlock"};if(void 0!==o&&(g.width=l.valFromOption(o)),"Redirect"===p){var k=me.mapWithDefault(_,"",(function(e){return" "+dt.to_string(e)}));t=[z.createElement(Io.make,{size:"small",color:"warningMuted",value:s._1(J.sprintf({_0:{TAG:11,_0:"REDIRECT",_1:{TAG:2,_0:0,_1:0}},_1:"REDIRECT%s"}),k)})]}else t=[];var v=ge.map(m,(function(e){return z.createElement(Io.make,{size:"small",value:e.toUpperCase(),key:e})})),y=ge.map(f,(function(e){return z.createElement(Io.make,{size:"small",value:e.toUpperCase(),key:e})})),D=ge.concat(ge.concat(t,v),y);return s._4(OP,e,r,z.createElement(va.Td.make,g,z.createElement(ta.make,{href:n.Url.show(i),mode:3,children:z.createElement(pt.make,{inline:!0,wordBreak:"breakWord",children:z.createElement(Aa.make,{groupedTerms:c,text:a})})}),z.createElement(ct.make,{gap:"px4",children:null},z.createElement("div",void 0,z.createElement(vn.make,{displayLink:n.Url.show(i),tkLinkContextInput:h,color:"green",highlightAnywhereTerms:fo.$at(d.contain,u.contain),highlightStartTerms:fo.$at(d.startWith,u.startWith),highlightEndTerms:fo.$at(d.endWith,u.endWith)})),0!==D.length?z.createElement(kt.make,{gap:"px4",vGap:"px4",children:D}):null)),void 0)}),[i,g,d,c,e,o,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(f,void 0,m,void 0,void 0,void 0,void 0,"none",void 0,void 0,g,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.languages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.powered_by)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.type_)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.redirect_code)),0)))))))))},ur:c_.ur,anchor:function(e,t,r,o,i,n){var d=void 0!==t?t:Aa.emptyGroupedTerms,c=void 0!==r?r:Aa.emptyGroupedTerms,u=void 0!==o?o:Aa.emptyGroupedTerms,g={width:"50%"},m=s._1(ke.Message.to_s,{id:"58816c4aac22ee9dbafbc26fb8577d75",defaultMessage:"Anchor and target URL"}),f={TAG:0,_0:cg.anchorAndTargetUrl};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o,n,g,m,f,p,_,h,k,v,y,D,S,F,C,w,T,b){return z.useMemo((function(){var t,P,M=me.map(b,ie.to_int32),A=wm.makeData(S,D,w,C,T,g,m,F),R=A.redirectChainTkLinkContextInput,L=A.redirectChain,E=A.initialUrl,B=Ig(Ig(Ig(Ig("Image"===f?{hd:"IMAGE",tl:0}:"Frame"===f?{hd:"FRAME",tl:0}:"Canonical"===f?{hd:"CANONICAL",tl:0}:0,h,"UGC"),k,"NOFOLLOW"),v,"SPONSORED"),y,"CONTENT"),K=wm.isBrokenSource(E,C),q=on.fromString(A.initialUrlTkLinkContextInputString);if(K&&void 0!==T&&"Targetchanged"!==T){var x=wm.toLostRedirectReason(T),W={singleton:e,children:z.createElement(Io.make,{size:"small",corners:"rounded",color:"danger",value:s._1(ke.Message.to_s,{id:"0000f524ba4821e4bde2e63f640ef924",defaultMessage:"Lost: "})+bg.showReason(x)})},U=me.map(bg.toTooltip(x),Ot.textContent);void 0!==U&&(W.content=l.valFromOption(U)),t=z.createElement("div",{className:Mp},z.createElement(ut.make,W))}else t=null;if(L){var O=wm.linkRenderer;P=z.createElement(bg.make,{redirectChain:L,linkRenderer:function(e){var t=s._2(O,e,R);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){return s._3(t,e,M,c)}}}}}}})}else P=null;var N={nowrap:!1,children:z.createElement(ct.make,{gap:"px2",children:null},_i.isNotBlank(r)||_i.isNotBlank(n)||_i.isNotBlank(o)?z.createElement(pt.make,{wordBreak:"breakWord",children:null},_i.isNotBlank(r)?z.createElement(z.Fragment,void 0,z.createElement(Aa.make,{groupedTerms:u,text:r}),a.s(" ")):null,z.createElement(ta.make,{href:E,mode:3,children:z.createElement(pt.make,{inline:!0,wordBreak:"breakWord",children:z.createElement(Aa.make,{groupedTerms:Aa.combineGroupedTerms({hd:d,tl:{hd:u,tl:0}}),text:o})})}),_i.isNotBlank(n)?z.createElement(z.Fragment,void 0,a.s(" "),z.createElement(Aa.make,{groupedTerms:u,text:n})):null):null,0!==B?z.createElement(Je.make,{gap:"px4",fitToContent:!0,children:a.list(ce.map(B,(function(e){return z.createElement(Io.make,{size:"small",color:"neutralMuted",value:e,key:e})})))}):null,z.createElement(pt.make,{children:z.createElement(ct.make,{gap:"px4",children:z.createElement(ct.make,{gap:"none",children:null},z.createElement("div",{className:Ap},p&&!_?z.createElement("div",{className:Mp},z.createElement(Io.make,{size:"small",color:"warningMuted",value:"JS"})):null,L?z.createElement(vn.make,{displayLink:E,tkLinkContextInput:q,color:"green"}):z.createElement(vn.make,{displayLink:E,tkLinkContextInput:q,color:"green",highlightAnywhereTerms:c.contain,highlightStartTerms:c.startWith,highlightEndTerms:c.endWith}),t,L||!(void 0!==M&&M>=400)?null:z.createElement("div",{className:Mp},z.createElement(Io.make,{size:"small",corners:"squared",color:"danger",value:String(M)}))),P)})})),key:"linkBlock"};return void 0!==i&&(N.width=l.valFromOption(i)),z.createElement(va.Td.make,N)}),[d,u,c,i,g])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(f,void 0,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,g,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.left_context)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.right_context)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.type_)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_rendered)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_raw)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.ugc)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.nofollow)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.sponsored)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.content)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.redirect_broken_source)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.redirect_broken_new_target)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.redirect_broken_reason)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.download_http_code)),0))))))))))))))))))))}},GP=It.Make({key:"selectedTab",$$default:0,localStorageKey:void 0,toString:function(e){return e?"internal":"external"},ofString:function(e){if(void 0!==e)switch(e){case"external":return 0;case"internal":return 1;default:return}}}),QP=GP.getDefault,VP=GP.isApplied,jP=GP.ofQueryWithDefault,HP=GP.toQuery,zP=GP.key,YP=GP.localStorageKey,JP=GP.toString,XP=GP.ofString,ZP=GP.getter,eM=GP.setter,tM=GP.ofQuery,rM=GP.ofQueryWithCustomDefault,aM={toTabIndex:function(e){return e?1:0},ofTabIndex:function(e){return 0!==e&&1===e?1:0},toKeyString:function(e){return e?"internal-":"external-"},key:zP,localStorageKey:YP,getDefault:QP,toString:JP,ofString:XP,getter:ZP,setter:eM,isApplied:VP,ofQuery:tM,ofQueryWithDefault:jP,ofQueryWithCustomDefault:rM,toQuery:HP},oM=ya.Pagination.MakeCustomFilter({limitKey:"externalLimit",offsetKey:"externalOffset"}),iM=ya.Pagination.MakeCustomFilter({limitKey:"internalLimit",offsetKey:"internalOffset"}),nM={ExternalLinks:oM,InternalLinks:iM},sM=ya.Sort.MakeCustomFilter({nameKey:"externalSort",directionKey:"externalSortDirection",$$default:0,toString:function(e){switch(e){case 0:return"refdomains";case 1:return"topdr";case 2:return"linksToTarget";case 3:return"newLinks";case 4:return"lostLinks";case 5:return"dofollowLinks";case 6:return"nofollowLinks";case 7:return"redirects";case 8:return"firstSeen";case 9:return"lastSeen"}},ofString:function(e){switch(e){case"dofollowLinks":return 5;case"firstSeen":return 8;case"lastSeen":return 9;case"linksToTarget":return 2;case"lostLinks":return 4;case"newLinks":return 3;case"nofollowLinks":return 6;case"redirects":return 7;case"refdomains":return 0;case"topdr":return 1;default:return}},defaultDirection:"Desc"}),lM=sM.Name,dM=sM.getDefault,cM=sM.isApplied,uM=sM.ofQueryWithDefault,gM=sM.toQuery,mM=sM.Direction,fM={Name:lM,Direction:mM,getDefault:dM,isApplied:cM,ofQueryWithDefault:uM,toQuery:gM,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.root_domain_hash)))),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.max,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.dr)))),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)))),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_new)))),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_lost)))),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.dofollow)))),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.nofollow)))),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.is_redirect)))),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.min,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.first_seen)))),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.max,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.last_visited)))),tl:0}}}},pM=ya.Sort.MakeCustomFilter({nameKey:"internalSort",directionKey:"internalSortDirection",$$default:0,toString:function(e){switch(e){case 0:return"linksToTarget";case 1:return"dofollowLinks";case 2:return"nofollowLinks";case 3:return"redirects";case 4:return"canonical";case 5:return"firstSeen";case 6:return"lastSeen"}},ofString:function(e){switch(e){case"canonical":return 4;case"dofollowLinks":return 1;case"firstSeen":return 5;case"lastSeen":return 6;case"linksToTarget":return 0;case"nofollowLinks":return 2;case"redirects":return 3;default:return}},defaultDirection:"Desc"}),_M=pM.Name,hM=pM.getDefault,kM=pM.isApplied,vM=pM.ofQueryWithDefault,yM=pM.toQuery,DM=pM.Direction,SM={FieldsRequestDescr:void 0,Fields:void 0,ExternalLinks:fM,InternalLinks:{Name:_M,Direction:DM,getDefault:hM,isApplied:kM,ofQueryWithDefault:vM,toQuery:yM,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)))),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.dofollow)))),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.nofollow)))),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.is_redirect)))),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.type_canonical)))),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.min,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.first_seen)))),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.max,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.last_visited)))),tl:0}}}}};function FM(e,t){return(e?"internal-":"external-")+"-"+t}function CM(e){return{externalLinksSort:s._1(dM,void 0),internalLinksSort:s._1(hM,void 0),externalLinksPagination:s._1(oM.getDefault,void 0),internalLinksPagination:s._1(iM.getDefault,void 0),selectedTab:s._1(QP,void 0),followType:s._1(Xu.Filter.getDefault,void 0),httpCode:s._1(Zu.TargetHttpCode.Filter.getDefault,void 0),dr:s._1(pa.DR.Filter.getDefault,void 0),linksToTarget:s._1(pa.LinksToTarget.Filter.getDefault,void 0),excludeSubdomains:s._1(Im.getDefault,void 0),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),targetPageTitle:s._1(fa.Backlinks.TargetPageTitle.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),targetPlatform:s._1(Zu.Platform.TargetFilter.getDefault,void 0),targetLanguage:s._1(Zu.SeLanguage.TargetFilter.getDefault,void 0),targetRefDomains:s._1(pa.RefDomains.TargetFilter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),linkStatus:s._1(hg.getDefault,void 0),highlightChanges:s._1(xg.Filter.getDefault,void 0),newLostStatusDateRange:s._1(Ng.getDefault,void 0),newStatus:s._1(Xm.getDefault,void 0),lostStatus:s._1(df.getDefault,void 0),newLinks:s._1(pa.NewLinks.Filter.getDefault,void 0),lostLinks:s._1(pa.LostLinks.Filter.getDefault,void 0)}}var wM={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:{hd:28,tl:{hd:29,tl:{hd:30,tl:{hd:31,tl:{hd:32,tl:{hd:33,tl:{hd:34,tl:{hd:35,tl:{hd:36,tl:{hd:37,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}};function TM(e,t,r){var a=void 0!==e?e:wM,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(gM,e,r.externalLinksSort);case 1:return s._2(yM,e,r.internalLinksSort);case 2:return s._2(oM.toQuery,e,r.externalLinksPagination);case 3:return s._2(iM.toQuery,e,r.internalLinksPagination);case 4:return s._2(HP,e,r.selectedTab);case 5:return s._2(Xu.Filter.toQuery,e,r.followType);case 6:return s._2(Zu.TargetHttpCode.Filter.toQuery,e,r.httpCode);case 7:return s._2(pa.DR.Filter.toQuery,e,r.dr);case 8:return s._2(pa.LinksToTarget.Filter.toQuery,e,r.linksToTarget);case 9:return s._2(Im.toQuery,e,r.excludeSubdomains);case 10:return s._2(fa.RefDomains.DomainName.Filter.toQuery,e,r.referringDomainName);case 11:return s._2(pa.OrgDomainTraffic.Filter.toQuery,e,r.orgDomainTraffic);case 12:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 13:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 14:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 15:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 16:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 17:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 18:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 19:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 20:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 21:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 22:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 23:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 24:return s._2(fa.Backlinks.TargetPageTitle.Filter.toQuery,e,r.targetPageTitle);case 25:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 26:return s._2(Zu.Platform.TargetFilter.toQuery,e,r.targetPlatform);case 27:return s._2(Zu.SeLanguage.TargetFilter.toQuery,e,r.targetLanguage);case 28:return s._2(pa.RefDomains.TargetFilter.toQuery,e,r.targetRefDomains);case 29:return s._2(yg.Filter.toQuery,e,r.contentType);case 30:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 31:return s._2(hg.toQuery,e,r.linkStatus);case 32:return s._2(xg.Filter.toQuery,e,r.highlightChanges);case 33:return s._2(Ng.toQuery,e,r.newLostStatusDateRange);case 34:return s._2(Xm.toQuery,e,r.newStatus);case 35:return s._2(df.toQuery,e,r.lostStatus);case 36:return s._2(pa.NewLinks.Filter.toQuery,e,r.newLinks);case 37:return s._2(pa.LostLinks.Filter.toQuery,e,r.lostLinks)}}))}var bM={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:{hd:28,tl:{hd:29,tl:{hd:30,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}};function PM(e,t){var r=void 0!==e?l.valFromOption(e):{};return TM(bM,l.some(r),t)}var MM={all:bM,toQuery:PM,equal:function(e,t){return i.stringifyQueryDict(PM(void 0,e),void 0,void 0)===i.stringifyQueryDict(PM(void 0,t),void 0,void 0)}},AM={hd:31,tl:{hd:32,tl:{hd:33,tl:{hd:34,tl:{hd:35,tl:{hd:36,tl:{hd:37,tl:0}}}}}}},RM=function(e,t){var r=void 0!==e?l.valFromOption(e):{};return TM(AM,l.some(r),t)},LM={hd:31,tl:{hd:32,tl:{hd:33,tl:{hd:34,tl:{hd:35,tl:0}}}}};function EM(e){var t=e.selectedTab,r=e.linkStatus;if(t)return{TAG:0,_0:{highlightChanges:8}};switch(r){case 0:return{TAG:0,_0:{highlightChanges:e.highlightChanges}};case 1:return{TAG:1,_0:{dateRange:e.newLostStatusDateRange,status:e.newStatus,liveOnly:!1}};case 2:return{TAG:2,_0:{dateRange:e.newLostStatusDateRange,status:e.lostStatus}}}}var BM={all:LM,toQuery:function(e,t){var r=void 0!==e?l.valFromOption(e):{};return TM(LM,l.some(r),t)},makeHistoryFilter:EM,useHistoryFilter:function(e){return!e}},KM={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:{hd:28,tl:{hd:29,tl:{hd:30,tl:{hd:36,tl:{hd:37,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}}},qM={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:{hd:28,tl:{hd:29,tl:{hd:30,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}},xM={hd:5,tl:{hd:7,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:25,tl:{hd:29,tl:{hd:30,tl:0}}}}}}}}}}}}}}}}}}}};function WM(e,t){switch(e){case 5:return{hd:Xu.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.sponsored),t.followType)(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.dofollow)),tl:0};case 6:return{hd:Zu.TargetHttpCode.makeBestByLinksChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.download_http_code),t.httpCode),tl:0};case 7:return{hd:pa.DR.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.dr),t.dr),tl:0};case 8:return{hd:pa.LinksToTarget.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id),t.linksToTarget),tl:0};case 9:return{hd:Gm(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.is_root_domain),t.excludeSubdomains),tl:0};case 10:return{hd:s._2(fa.RefDomains.DomainName.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.root_domain_name),t.referringDomainName),tl:0};case 11:return{hd:pa.OrgDomainTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.Search.traffic),t.orgDomainTraffic),tl:0};case 12:return{hd:s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.title),t.referringPageTitle),tl:0};case 13:return{hd:s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.url_plain),t.referringPageUrl),tl:0};case 14:return{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.powered_by),t.platform),tl:0};case 15:return{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.languages),t.language),tl:0};case 16:return{hd:pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.refdomains),t.refDomains),tl:0};case 17:return{hd:pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.linked_domains),t.linkedDomains),tl:0};case 18:return{hd:pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.external_links),t.externalLinks),tl:0};case 19:return{hd:pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.traffic),t.orgPageTraffic),tl:0};case 20:return{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.positions),t.orgKeywords),tl:0};case 21:return{hd:Dg.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.content),t.backlinkType),tl:0};case 22:return{hd:s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor),t.anchor),tl:0};case 23:return{hd:s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.right_context),t.anchorWithSurroundingText),tl:0};case 24:return{hd:s._2(fa.Backlinks.TargetPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.title),t.targetPageTitle),tl:0};case 25:return{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url_plain),t.targetUrl),tl:0};case 26:return{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.powered_by),t.targetPlatform),tl:0};case 27:return{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.languages),t.targetLanguage),tl:0};case 28:return{hd:pa.RefDomains.makeTargetChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.root_domain_name),t.targetRefDomains),tl:0};case 29:return{hd:yg.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.non_html_suffix),t.contentType),tl:0};case 30:return{hd:Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.url),t.redirects),tl:0};case 0:case 1:case 2:case 3:case 4:case 31:case 32:case 33:case 34:case 35:return 0;case 36:return{hd:pa.NewLinks.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_new),t.newLinks),tl:0};case 37:return{hd:pa.LostLinks.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_lost),t.lostLinks),tl:0}}}var UM=function(e){return ce.add(ce.map(KM,(function(t){return WM(t,e)})),{hd:s._1(Dm.makeChFilter,EM(e)),tl:0})},OM=function(e){return ce.map(qM,(function(t){return WM(t,e)}))},NM=function(e,t){return ce.add(ce.map(xM,(function(e){return WM(e,t)})),e?{hd:s._1(pm.makeChFilter,dm.withoutLiveOnly(dm.withoutStatus(EM(t)))),tl:0}:0)},$M=function(e,t){return ce.add(ce.map(xM,(function(e){return WM(e,t)})),e?{hd:s._1(pm.makeChFilter,dm.withoutLiveOnly(EM(t))),tl:0}:0)};function IM(e){return{matchType:0,rules:{hd:[_i.isBlank(e)?4:0,me.getWithDefault(i.decode(e),e),0],tl:0}}}function GM(e,t){return{sort:LP().sort,pagination:LP().pagination,followType:t.followType,targetHttpCode:LP().targetHttpCode,backlinkType:t.backlinkType,referringPageTitle:t.referringPageTitle,referringPageUrl:t.referringPageUrl,platform:t.platform,language:t.language,refDomains:t.refDomains,linkedDomains:t.linkedDomains,externalLinks:t.externalLinks,orgPageTraffic:t.orgPageTraffic,orgKeywords:t.orgKeywords,anchor:t.anchor,anchorWithSurroundingText:t.anchorWithSurroundingText,targetUrl:IM(e),contentType:t.contentType,redirects:t.redirects,groupingType:1}}function QM(e,t){return{sort:Wf().sort,pagination:Wf().pagination,followType:t.followType,backlinkType:t.backlinkType,dr:t.dr,ur:Wf().ur,orgDomainTraffic:t.orgDomainTraffic,excludeSubdomains:t.excludeSubdomains,referringDomainName:t.referringDomainName,referringPageTitle:t.referringPageTitle,referringPageUrl:t.referringPageUrl,platform:t.platform,language:t.language,refDomains:t.refDomains,linkedDomains:t.linkedDomains,externalLinks:t.externalLinks,orgPageTraffic:t.orgPageTraffic,orgKeywords:t.orgKeywords,anchor:t.anchor,anchorWithSurroundingText:t.anchorWithSurroundingText,targetUrl:IM(e),contentType:t.contentType,redirects:t.redirects,groupingType:2,linkStatus:t.linkStatus,highlightChanges:t.highlightChanges,newLostStatusDateRange:t.newLostStatusDateRange,newStatus:t.newStatus,lostStatus:t.lostStatus,liveOnly:Wf().liveOnly}}var VM=function(e,t,r,a){var o=void 0!==e?e:Aa.emptyGroupedTerms,i=void 0!==t?t:Aa.emptyGroupedTerms,d={width:"35%"},c=s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"}),u={TAG:0,_0:dg.targetPage};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,a,d,c,u,g,m){var f=me.map(c,ie.to_int32),p=ie.of_int32(void 0!==f&&f>=300&&f<400?f:0),_=n.Url.show(t);return z.useMemo((function(){var e,t=on.fromString(a);if(void 0!==m){var n=wm.linkRenderer,c=[a];e=z.createElement(bg.make,{redirectChain:wm.makeList([m],void 0,void 0,void 0,[p]),linkRenderer:function(e){var t=s._2(n,e,c);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){return s._3(t,e,void 0,i)}}}}}}})}else e=null;var h=ge.map(u,(function(e){return z.createElement("div",{className:Mp},z.createElement(Io.make,{size:"small",color:"ghost",value:e.toUpperCase(),key:e}))})),k=ge.map(g,(function(e){return z.createElement("div",{className:Mp},z.createElement(Io.make,{size:"small",color:"ghost",value:e.toUpperCase(),key:e}))})),v=ge.concat(h,k),y={paddingLeft:"none",nowrap:!1,children:z.createElement(ct.make,{gap:"px2",children:null},void 0!==d?z.createElement(ta.make,{href:_,mode:3,children:z.createElement(Aa.make,{groupedTerms:o,text:d})}):null,z.createElement(pt.make,{children:z.createElement(ct.make,{gap:"px4",children:z.createElement(ct.make,{gap:"none",children:z.createElement("div",{className:Ap},z.createElement(vn.make,{displayLink:_,tkLinkContextInput:t,color:"green",highlightAnywhereTerms:i.contain,highlightStartTerms:i.startWith,highlightEndTerms:i.endWith}),e,0!==v.length?v:null)})})}),void 0!==f?f>=400?z.createElement(Io.make,{size:"small",corners:"squared",color:"danger",value:String(f)}):null:z.createElement(Io.make,{size:"small",corners:"squared",color:"neutralMuted",value:s._1(ke.Message.to_s,{id:"9c65e1515f0019c3c4e23080a6f616a8",defaultMessage:"Not crawled"})})),key:"linkBlock"};return void 0!==r&&(y.width=l.valFromOption(r)),z.createElement(va.Td.make,y)}),[i,r,_])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(u,void 0,c,void 0,void 0,void 0,void 0,"none",void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.download_http_code)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.languages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.powered_by)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.redirect)),0))))))))},jM=function(e){var t;if(dm.showChanges(e)){var r=s._1(ke.Message.to_s,{id:"4c1fed3b9aac2cff257bcb8992b7be68",defaultMessage:"Status"}),a={TAG:0,_0:dg.status};t=function(e,t,o,i,n,s,l,d){return La.makeRenderHeader(a,void 0,r,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,o,i,n,s,l,d)}}else t=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a){if(!dm.showChanges(e))return null;var o;switch(s._3(ym.getStatus,e,Bt.toMomentUtc(r),me.map(a,Bt.toMomentUtc))){case 0:o=z.createElement(Pf,{size:"medium"});break;case 1:o=z.createElement(Mf,{size:"medium"});break;case 2:o=null;break;case 3:o=z.createElement(op,{oldValue:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),value:s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),color:"danger"})}return z.createElement(va.Td.make,{children:o})}),{renderHeader:t},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Grouped.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Grouped.Crawl.last_seen)),0)))},HM=function(e,t){var r=s._1(ke.Message.to_s,{id:"b791d5bd9b85fc867f1b967bf2c1e731",defaultMessage:"UR"}),o={TAG:1,_0:og};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){var i=me.map(o,Bt.toMomentUtc),n=me.mapWithDefault(i,!1,(function(e){return e.isSameOrAfter(we)}));return z.useMemo((function(){var t,o=0;if(void 0!==r&&n?t=a.s(ae.domainRatingDeprecated(r)):o=1,1===o){var i={content:Ot.textContent(cg.urUnavailable),children:a.s(Gt.mdash)};void 0!==e&&(i.singleton=l.valFromOption(e)),t=z.createElement(ut.make,i)}return z.createElement(va.Td.make,{align:"right",children:t})}),[r,me.map(i,(function(e){return ne.moment(void 0,e,"dayDigitMonthYearTime")}))])}),{renderHeader:function(e,t,a,i,n,s,l,d){return La.makeRenderHeader(o,void 0,r,void 0,void 0,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,a,i,n,s,l,d)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.ur)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.last_checked)),0)))},zM=function(e,t){var r=s._1(lM.toString,0),o=s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),i={TAG:0,_0:dg.refDomains};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){var l=n.Url.show(o),d=FM(t,l);return z.createElement(va.Td.make,{align:"right",contentHeight:"button",paddingRight:"none",width:{hd:{TAG:0,_0:"zero"},tl:0},children:z.createElement(Oi.make,{size:"sm",active:me.mapWithDefault(Ur.get(e.map,d),!1,(function(e){return 0===e})),onClick:function(t){var r=me.mapWithDefault(Ur.get(e.map,d),0,(function(e){return 0===e?void 0:0}));return s._2(e.setRow,d,r)},children:a.s(ae.Float.full(ie.to_float(i)))})})}),{renderHeader:function(e,t,a,n,s,l,d,c){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,a,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.root_domain_hash)))),0)))},YM=function(e){var t=s._1(lM.toString,1),r=s._1(ke.Message.to_s,{id:"db74e612ba4a93d3c5b0480735d32003",defaultMessage:"Top DR"}),o={TAG:0,_0:dg.topDr};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.full(t))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.max,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.dr)))))},JM=function(e,t){var r=s._1(lM.toString,2),o=s._1(ke.Message.to_s,{id:"f67062ed42f8493d6e1e2fa9faac5bd4",defaultMessage:"Links to page"}),i={TAG:0,_0:dg.linksToTarget};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){var l=n.Url.show(o),d=FM(t,l);return z.createElement(va.Td.make,{align:"right",contentHeight:"button",children:z.createElement(Oi.make,{size:"sm",active:me.mapWithDefault(Ur.get(e.map,d),!1,(function(e){return 1===e})),onClick:function(t){var r=me.mapWithDefault(Ur.get(e.map,d),1,(function(e){return 1===e?void 0:1}));return s._2(e.setRow,d,r)},children:a.s(ae.Float.full(ie.to_float(i)))})})}),{renderHeader:function(e,t,a,n,s,l,d,c){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,a,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)))),0)))},XM=function(e,t){var r=s._1(lM.toString,2),o=s._1(ke.Message.to_s,{id:"f67062ed42f8493d6e1e2fa9faac5bd4",defaultMessage:"Links to page"}),i={TAG:0,_0:dg.linksToTarget};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){var s=n.Url.show(o);return z.createElement(va.Td.make,{align:"right",contentHeight:"button",children:z.createElement(ta.make,{href:j.V2.makeUrl(1,{TAG:1,_0:e},Of(void 0,void 0,QM(s,t))),children:a.s(ae.Float.full(ie.to_float(i)))})})}),{renderHeader:function(e,t,a,n,s,l,d,c){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,a,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)))),0)))},ZM=function(e,t,r){var a;if(dm.showNewAndLostLinks(e)){var o=s._1(lM.toString,3),i=s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),l={TAG:0,_0:dg.newLinks};a=function(e,t,r,a,n,s,d,c){return La.makeRenderHeader(l,void 0,i,void 0,o,void 0,"right",void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,d,c)}}else a=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(a,o,i){var s=n.Url.show(o);if(!dm.showNewAndLostLinks(e))return null;var l=mt.caml_obj_dup(QM(s,t));return z.createElement(va.Td.make,{align:"right",children:z.createElement(rg,{value:ie.to_float(i),href:j.V2.makeUrl(1,{TAG:1,_0:r},Of(void 0,void 0,(l.linkStatus=1,l)))})})}),{renderHeader:a},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_new)))),0)))},eA=function(e,t,r){var a;if(dm.showNewAndLostLinks(e)){var o=s._1(lM.toString,4),i=s._1(ke.Message.to_s,{id:"1efbe0e461c3cdc3561996cb48d53796",defaultMessage:"Lost"}),l={TAG:0,_0:dg.lostLinks};a=function(e,t,r,a,n,s,d,c){return La.makeRenderHeader(l,void 0,i,void 0,o,void 0,"right",void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,d,c)}}else a=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(a,o,i){var s=n.Url.show(o);if(!dm.showNewAndLostLinks(e))return null;var l=mt.caml_obj_dup(QM(s,t));return z.createElement(va.Td.make,{align:"right",children:z.createElement(rg,{value:-1*ie.to_float(i),href:j.V2.makeUrl(1,{TAG:1,_0:r},Of(void 0,void 0,(l.linkStatus=2,l)))})})}),{renderHeader:a},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_lost)))),0)))},tA=function(e,t,r){var o=s._1(lM.toString,5),i=s._1(ke.Message.to_s,{id:"b12ea3b7c9125d2a1b2f964ac0d200b6",defaultMessage:"Dofollow"}),l={TAG:0,_0:dg.dofollow};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(o,i,s){var l,d=n.Url.show(i),c=ie.to_float(s);if(r)if(c>0){var u=mt.caml_obj_dup(GM(d,t));l=z.createElement(ta.make,{href:j.V2.makeUrl(2,{TAG:1,_0:e},BP(void 0,void 0,(u.followType=1,u))),children:a.s(ae.Float.full(c))})}else l=a.s(ae.Float.full(c));else if(c>0){var g=mt.caml_obj_dup(QM(d,t));l=z.createElement(ta.make,{href:j.V2.makeUrl(1,{TAG:1,_0:e},Of(void 0,void 0,(g.followType=1,g))),children:a.s(ae.Float.full(c))})}else l=a.s(ae.Float.full(c));return z.createElement(va.Td.make,{align:"right",children:l})}),{renderHeader:function(e,t,r,a,n,s,d,c){return La.makeRenderHeader(l,void 0,i,void 0,o,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.dofollow)))),0)))},rA=function(e,t,r){var o=s._1(lM.toString,6),i=s._1(ke.Message.to_s,{id:"d06efd4c5fe5a2693868bfed8d48dd4e",defaultMessage:"Nofollow"}),l={TAG:0,_0:dg.nofollow};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(o,i,s){var l,d=n.Url.show(i),c=ie.to_float(s);if(r)if(c>0){var u=mt.caml_obj_dup(GM(d,t));l=z.createElement(ta.make,{href:j.V2.makeUrl(2,{TAG:1,_0:e},BP(void 0,void 0,(u.followType=2,u))),children:a.s(ae.Float.full(c))})}else l=a.s(ae.Float.full(c));else if(c>0){var g=mt.caml_obj_dup(QM(d,t));l=z.createElement(ta.make,{href:j.V2.makeUrl(1,{TAG:1,_0:e},Of(void 0,void 0,(g.followType=2,g))),children:a.s(ae.Float.full(c))})}else l=a.s(ae.Float.full(c));return z.createElement(va.Td.make,{align:"right",children:l})}),{renderHeader:function(e,t,r,a,n,s,d,c){return La.makeRenderHeader(l,void 0,i,void 0,o,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.nofollow)))),0)))},aA=function(e,t,r){var o=s._1(lM.toString,7),i=s._1(ke.Message.to_s,{id:"473df70960fd6dfde5bec2db824082a8",defaultMessage:"Redirects"}),l={TAG:0,_0:dg.redirects};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(o,i,s){var l,d=n.Url.show(i),c=ie.to_float(s);if(r)if(c>0){var u=mt.caml_obj_dup(GM(d,t));l=z.createElement(ta.make,{href:j.V2.makeUrl(2,{TAG:1,_0:e},BP(void 0,void 0,(u.backlinkType=4,u))),children:a.s(ae.Float.full(c))})}else l=a.s(ae.Float.full(c));else if(c>0){var g=mt.caml_obj_dup(QM(d,t));l=z.createElement(ta.make,{href:j.V2.makeUrl(1,{TAG:1,_0:e},Of(void 0,void 0,(g.backlinkType=4,g))),children:a.s(ae.Float.full(c))})}else l=a.s(ae.Float.full(c));return z.createElement(va.Td.make,{align:"right",children:l})}),{renderHeader:function(e,t,r,a,n,s,d,c){return La.makeRenderHeader(l,void 0,i,void 0,o,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.is_redirect)))),0)))},oA=function(e,t){var r=s._1(_M.toString,4),o=s._1(ke.Message.to_s,{id:"e0d2725bb072b80abcdadeaa23021d91",defaultMessage:"Canonical"}),i={TAG:0,_0:dg.canonical};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){var s=n.Url.show(o),l=mt.caml_obj_dup(GM(s,t));return z.createElement(va.Td.make,{align:"right",children:z.createElement(ta.If.make,{cond:ie.to_float(i)>0,href:j.V2.makeUrl(2,{TAG:1,_0:e},BP(void 0,void 0,(l.backlinkType=5,l))),children:a.s(ae.Float.full(ie.to_float(i)))})})}),{renderHeader:function(e,t,a,n,s,l,d,c){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,a,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.type_canonical)))),0)))},iA=function(e,t){return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){return z.useMemo((function(){var t=Bt.toMomentUtc(r),i=Bt.toMomentUtc(o),n={content:a.s(ne.moment(void 0,t,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,t,"dayShortMonthYear"))})};void 0!==e&&(n.singleton=l.valFromOption(e));var s={content:a.s(ne.moment(void 0,i,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.relativeWithMinutes(i))})};return void 0!==e&&(s.singleton=l.valFromOption(e)),z.createElement(va.Td.make,{paddingRight:"none",children:z.createElement(ct.make,{gap:"none",children:null},z.createElement(Je.make,{fitToContent:!0,children:z.createElement(ut.make,n)}),z.createElement(Je.make,{fitToContent:!0,children:z.createElement(ut.make,s)}))})}),[r.toString(),o.toString()])}),{renderHeader:function(e,t,r,a,o,i,n,d){var c={paddingRight:"none",children:null};void 0!==e&&(c.domRef=l.valFromOption(e)),void 0!==t&&(c.style=l.valFromOption(t));var u={title:s._1(ke.Message.to_s,{id:"fc0bb0000257ff0076d9a54a2ffb01ee",defaultMessage:"First seen"}),sortField:s._1(lM.toString,8),tableSort:i,tableSortDirection:n,tooltip:dg.firstSeen,onSort:o};void 0!==a&&(u.tooltipTarget=l.valFromOption(a));var g={title:s._1(ke.Message.to_s,{id:"fea02fd1c8ad0f7099e189e9eb605cd4",defaultMessage:"Last seen"}),sortField:s._1(lM.toString,9),tableSort:i,tableSortDirection:n,tooltip:dg.lastSeen,onSort:o};return void 0!==a&&(g.tooltipTarget=l.valFromOption(a)),z.createElement(bp,c,z.createElement(Pp,u),z.createElement(Pp,g))}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Grouped.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.max,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.last_visited)))),0)))},nA=function(e,t){var r=s._1(ke.Message.to_s,{id:"eafa4092e32c3309e5fa9b68b2eff3e3",defaultMessage:"Last crawled"}),o={TAG:0,_0:dg.lastCrawled};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){var i=me.map(r,Bt.toMomentUtc);return z.createElement(va.Td.make,{align:"right",children:void 0!==o?z.createElement(Je.make,{fitToContent:!0,children:me.mapWithDefault(i,a.s(Gt.mdash),(function(t){var r={content:a.s(ne.moment(void 0,t,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.relativeWithMinutes(t))})};return void 0!==e&&(r.singleton=l.valFromOption(e)),z.createElement(ut.make,r)}))}):z.createElement(Je.make,{fitToContent:!0,children:z.createElement(pt.make,{color:"secondary",children:a.s(Gt.mdash)})})})}),{renderHeader:function(e,t,a,i,n,s,l,d){return La.makeRenderHeader(o,void 0,r,void 0,void 0,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,a,i,n,s,l,d)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.last_checked)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.download_http_code)),0)))},sA=function(e){return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{children:null})}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)))},lA=s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.id)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.root_domain_hash)))),0))),dA=function(e){var t=e.filters,r=e.historyFilter,a=e.settings,o=e.tooltipTarget,i=e.onApplyFilters,n=Oe(a),d=a.reportHistoricalPermissions,c={selectedItem:t.linkStatus,itemTooltip:kg,onClick:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.linkStatus=e,r))}};void 0!==o&&(c.tooltipTarget=l.valFromOption(o));var u,g=Mm.disabledHistoryModes(a);switch(void 0!==g&&(c.disabledItems=l.valFromOption(g)),t.linkStatus){case 0:u=z.createElement(z.Fragment,void 0,z.createElement($m.make,{hint:$m.backlinksHint,showUpgradeMessage:n,items:$m.highlightChangesItems(d),selectedItem:t.highlightChanges,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.highlightChanges=me.getWithDefault(e,CM().highlightChanges),r))}}),dm.isAll(r)&&dm.showChanges(r)?z.createElement(z.Fragment,void 0,z.createElement(pa.NewLinks.make,{value:t.newLinks,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newLinks=e,r))}}),z.createElement(pa.LostLinks.make,{value:t.lostLinks,onApply:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.lostLinks=e,r))}})):null);break;case 1:u=z.createElement(z.Fragment,void 0,z.createElement($g,{selectedItem:t.newLostStatusDateRange,showUpgradeMessage:n,items:Mm.newLostDateRangeItems(d),onChange:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newLostStatusDateRange=e,r))}}),z.createElement(Zm,{selectedItem:t.newStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newStatus=e,r))}}));break;case 2:u=z.createElement(z.Fragment,void 0,z.createElement($g,{selectedItem:t.newLostStatusDateRange,showUpgradeMessage:n,items:Mm.newLostDateRangeItems(d),onChange:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.newLostStatusDateRange=e,r))}}),z.createElement(cf,{selectedItem:t.lostStatus,onSelect:function(e){var r=mt.caml_obj_dup(t);return s._1(i,(r.lostStatus=e,r))}}))}return z.createElement(Je.make,{gap:"px8",fitToContent:!0,children:null},z.createElement(vg,c),u)},cA=Pl.Make({all:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:0}}}}}}}}}}}}}}}}}}}}}}),uA=z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),gA=function(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"644207cb91b1774079e96012f511a4af",defaultMessage:"Referring domain"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"d60252cc9b33603259f681b10fb7e17b",defaultMessage:"Domain name"}),0),tl:{hd:a(s._1(ke.Message.to_s,{id:"434850a40cd8793f18d7bd26156e79f2",defaultMessage:"Domain traffic"}),1),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),2),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),7),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),8),tl:{hd:a(s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),9),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),10),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"45bd3c42f979a78085c4343a3f4e7f7f",defaultMessage:"Backlink"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"0a778e16bdca6704758c9ca06db061d0",defaultMessage:"Backlink type"}),11),tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),12),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),13),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),14),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),15),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),16),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),17),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),18),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),19),tl:{hd:a(s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),20),tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}}};return z.createElement(cA.make,{label:uA,dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.referringDomainName,s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.orgDomainTraffic,s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.orgPageTraffic,s._1(pa.OrgPageTraffic.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.backlinkType,s._1(Dg.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 13:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 14:return mt.caml_notequal(t.targetPageTitle,s._1(fa.Backlinks.TargetPageTitle.Filter.getDefault,void 0));case 15:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 16:return mt.caml_notequal(t.targetPlatform,s._1(Zu.Platform.TargetFilter.getDefault,void 0));case 17:return mt.caml_notequal(t.targetLanguage,s._1(Zu.SeLanguage.TargetFilter.getDefault,void 0));case 18:return mt.caml_notequal(t.targetRefDomains,s._1(pa.RefDomains.TargetFilter.getDefault,void 0));case 19:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 20:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})},mA=r(54360);function fA(e,t){if("number"==typeof t){var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:e.totalDofollowLinks}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,sort:t._0,sortDirection:t._1,totalDofollowLinks:e.totalDofollowLinks};var o,i,n=t._0;if("number"==typeof n)return e;switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:0};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:{total:ie.zero}})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:t._1};default:return e}}var pA=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.targetUrl,o=e.target,i=e.filters,d=e.settings,c=e.expandedRows,u=e.count,g=z.useReducer(fA,{data:0,oldData:0,error:void 0,offset:0,sort:1,sortDirection:"Desc",totalDofollowLinks:0}),m=g[1],f=g[0],p=FM(i.selectedTab,a),_=me.mapWithDefault(Ur.get(c.map,p),!1,(function(e){return 0===e})),h=ie.to_int32(u),k=Aa.getTerms(i.referringDomainName.rules),v=BM.makeHistoryFilter(i),y=mt.caml_obj_dup(function(e,t){return{sort:Yf().sort,pagination:Yf().pagination,followType:t.followType,dr:t.dr,orgDomainTraffic:t.orgDomainTraffic,linksToTarget:t.linksToTarget,excludeSubdomains:t.excludeSubdomains,referringDomainName:t.referringDomainName,dofollowRefDomains:Yf().dofollowRefDomains,dofollowLinkedDomains:Yf().dofollowLinkedDomains,referringPageTitle:t.referringPageTitle,referringPageUrl:t.referringPageUrl,platform:t.platform,language:t.language,refDomains:t.refDomains,linkedDomains:t.linkedDomains,externalLinks:t.externalLinks,orgPageTraffic:t.orgPageTraffic,orgKeywords:t.orgKeywords,backlinkType:t.backlinkType,anchor:t.anchor,anchorWithSurroundingText:t.anchorWithSurroundingText,targetUrl:IM(e),contentType:t.contentType,redirects:t.redirects,linkStatus:t.linkStatus,highlightChanges:t.highlightChanges,newLostStatusDateRange:t.newLostStatusDateRange,newLinks:t.newLinks,lostLinks:t.lostLinks,newStatus:t.newStatus,lostStatus:t.lostStatus}}(a,i));y.sort={name:f.sort,direction:f.sortDirection};var D=$M,S=Gg({hd:ce.flatten(s._2(D,BM.useHistoryFilter(i.selectedTab),i)),tl:{hd:{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url_plain),IM(a)),tl:0},tl:0}}),F={hd:R_(k),tl:{hd:L_(v,void 0,void 0),tl:{hd:E_(void 0),tl:{hd:B_(o),tl:{hd:K_(void 0),tl:{hd:q_(void 0),tl:{hd:W_(me.getWithDefault(Ve.fromUrlWithMode(a,0),{protocol:0,url:a,mode:0}),y,void 0),tl:{hd:U_(v,y,Ve.Safe.toUnsafe(o)),tl:{hd:O_(v,y,Ve.Safe.toUnsafe(o)),tl:{hd:N_(void 0),tl:{hd:$_(f.totalDofollowLinks),tl:{hd:I_(void 0),tl:{hd:G_(void 0),tl:{hd:Q_(v),tl:0}}}}}}}}}}}}}},C=s._3(Ra.FieldsRequestDescr.customRow,F,(function(e,t,r,a){return z.createElement(te.Row.make,{columns:F,parentData:e,isPadded:!1,key:dt.to_string(t)})}),V_),w=s._1(Ra.FieldsRequestDescr.toRequest,C),T=z.useRef(new AbortController),b=function(e,t,r){var a=void 0!==e?e:u_,i=void 0!==t?t:0;T.current.abort(),T.current=new AbortController,s._1(m,0);var d=function(e){var t=ce.map(w,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0),(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a){var o=ie.to_float(a);return s._1(t,o>e?o:e)}),f.totalDofollowLinks,e.rows)},c=zf.toFieldName(f.sort);return Ye.forEach(q(l.some(T.current),n.Protocolless_url.show(o.url),o.mode,o.protocol,dm.toHistoryMode(v),dm.toSince(v),{filter:S,size:a,offset:i,order_by:c?ce.map(c,(function(e){return[f.sortDirection,e]})):void 0,shape:ce.map(w,(function(e){return e[1]})),timeout:void 0}),(function(e){return s._1(m,{TAG:0,_0:e,_1:de.mapWithDefault(e,0,d)})}))};z.useEffect((function(){var e=f.data;_&&0===e&&b(void 0,void 0)}),[_,f.data]),z.useEffect((function(){_&&b(void 0,void 0)}),[f.sort,f.sortDirection]);var P=function(e){return s._2(c.setRow,p,void 0)},M={_0:function(e){var t={data:f.data,settings:d,offset:f.offset,remainingCount:de.mapWithDefault(f.data,0,(function(e){return h-e.count|0})),rightAddon:z.createElement(bt,{exportFunc:function(e,t){var r=zf.toFieldName(f.sort);return I(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-refdomains-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-refdomains-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode)),o.url,o.mode,dm.toSince(v),o.protocol,dm.toHistoryMode(v),{filter:S,size:t,offset:0,order_by:r?ce.map(r,(function(e){return[f.sortDirection,e]})):void 0,shape:ce.map(w,(function(e){return e[1]})),timeout:void 0},dm.showExportNewLostColumns(v))},isTrial:d.subscription.isTrial,limitResetDate:d.subscription.dateResetUsagesMonthly,totalResults:h,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:o,limitsFunc:N}),onClose:P,onMoreDataRequested:function(e,t,r){return b(e,t)}};return void 0!==f.error&&(t.error=l.valFromOption(f.error)),z.createElement(Gl,t)}};return _?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:d,data:f.data,tableData:de.mapWithDefault(f.data,0,(function(e){return e.rows})),row:C,tooltipTarget:r,isLoading:de.isLoading(f.data),failureState:te.Table.getFailureState(f.data),sort:s._1(zf.Name.toString,f.sort),sortDirection:f.sortDirection,totalRowsNumber:h,reportLink:j.V2.makeUrl(5,{TAG:1,_0:o},Zf(void 0,void 0,y)),totalMessage:{id:"de56ef4abee91719375ef6b128cdd796",defaultMessage:"{totalDisplay} {total, plural, zero {domains} one {domain} other {domains}}"},customFooter:M,onClose:P,onRefetch:function(e){return b(void 0,void 0)},onSort:function(e,t,r){return s._1(m,{TAG:1,_0:me.getWithDefault(s._1(zf.Name.ofString,e),1),_1:t})}}),tableRootRef:t,hash:c.hash,onDimensionsChange:c.renewHash}):null};function _A(e,t){if("number"==typeof t){var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,rowMap:e.rowMap,sort:e.sort,sortDirection:e.sortDirection}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,rowMap:Xg(void 0),sort:t._0,sortDirection:t._1};var o,i,n=t._0;if("number"==typeof n)return e;switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,rowMap:t._1,sort:e.sort,sortDirection:e.sortDirection};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero,partial:!1}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:{total:ie.zero,partial:!1}})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,rowMap:t._1,sort:e.sort,sortDirection:e.sortDirection};default:return e}}var hA=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.targetUrl,o=e.target,i=e.filters,d=e.settings,c=e.expandedRows,u=e.count,g=z.useReducer(_A,{data:0,oldData:0,error:void 0,offset:0,rowMap:Xg(void 0),sort:7,sortDirection:"Desc"}),m=g[1],f=g[0],p=FM(i.selectedTab,a),_=me.mapWithDefault(Ur.get(c.map,p),!1,(function(e){return 1===e})),h=ie.to_int32(u),k=Aa.getTerms(i.referringPageTitle.rules),v=Aa.getTerms(i.referringPageUrl.rules),y=Aa.getTerms(i.referringDomainName.rules),D=Aa.getTerms(i.anchorWithSurroundingText.rules),S=Aa.getTerms(i.anchor.rules),F=Aa.getTerms(i.targetUrl.rules),C=BM.makeHistoryFilter(i),w=mt.caml_obj_dup(QM(a,i));w.sort={name:f.sort,direction:f.sortDirection};var T=NM,b=Gg({hd:ce.flatten(s._2(T,BM.useHistoryFilter(i.selectedTab),i)),tl:{hd:{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url_plain),IM(a)),tl:0},tl:0}}),P=f.rowMap,M={hd:c_.referringPage(l.some(P),v,k,y,r,void 0,C,void 0),tl:{hd:c_.dr(l.some(P),void 0,void 0),tl:{hd:c_.ur(l.some(P),void 0,void 0,void 0),tl:{hd:c_.domainTraffic(l.some(P),void 0,void 0),tl:{hd:c_.referringDomains(l.some(P),void 0,void 0),tl:{hd:c_.linkedDomains(l.some(P),void 0,void 0),tl:{hd:c_.externalLinks(l.some(P),void 0,void 0),tl:{hd:c_.pageTraffic(l.some(P),void 0,void 0),tl:{hd:c_.keywords(l.some(P),void 0,void 0),tl:{hd:c_.anchor(C,r,S,F,D,void 0,void 0),tl:{hd:c_.dates(C,void 0,l.some(r),void 0),tl:0}}}}}}}}}}},A=s._3(Ra.FieldsRequestDescr.customRow,M,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:M,parentData:e,isPadded:!1})}),Vg),R=s._1(Ra.FieldsRequestDescr.toRequest,A),L=z.useRef(new AbortController),E=function(e,t,r){var a=void 0!==e?e:u_,i=void 0!==t?t:0;L.current.abort(),L.current=new AbortController,s._1(m,0);var d=xf.toFieldName(f.sort);return Ye.forEach(B(l.some(L.current),n.Protocolless_url.show(o.url),o.mode,o.protocol,dm.toHistoryMode(C),dm.toSince(C),{filter:b,size:a,offset:i,order_by:d?ce.map(d,(function(e){return[f.sortDirection,e]})):void 0,shape:ce.map(R,(function(e){return e[1]})),timeout:void 0},2),(function(e){var t=jg(e);return s._1(m,{TAG:0,_0:t,_1:de.mapWithDefault(t,f.rowMap,(function(e){return function(e){var t=ce.map(R,(function(e){return e[0]}));return Ra.foldRows(Vg,(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)}(e)[1]}))})}))};z.useEffect((function(){var e=f.data;_&&0===e&&E(void 0,void 0)}),[_,f.data]),z.useEffect((function(){_&&E(void 0,void 0)}),[f.sort,f.sortDirection]);var K=function(e){return s._2(c.setRow,p,void 0)},q={_0:function(e){var t={data:f.data,settings:d,offset:f.offset,remainingCount:de.mapWithDefault(f.data,0,(function(e){return h-e.count|0})),rightAddon:z.createElement(bt,{exportFunc:function(e,t){var r=xf.toFieldName(f.sort);return G(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-backlinks-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode)),o.url,o.mode,dm.toSince(C),o.protocol,dm.toHistoryMode(C),{filter:b,size:t,offset:0,order_by:r?ce.map(r,(function(e){return[f.sortDirection,e]})):void 0,shape:ce.map(R,(function(e){return e[1]})),timeout:void 0},2)},isTrial:d.subscription.isTrial,limitResetDate:d.subscription.dateResetUsagesMonthly,totalResults:h,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:o,limitsFunc:N}),onClose:K,onMoreDataRequested:function(e,t,r){return E(e,t)}};return void 0!==f.error&&(t.error=l.valFromOption(f.error)),z.createElement(Gl,t)}};return _?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:d,data:f.data,tableData:de.mapWithDefault(f.data,0,(function(e){return e.rows})),row:A,tooltipTarget:r,isLoading:de.isLoading(f.data),failureState:te.Table.getFailureState(f.data),sort:s._1(xf.Name.toString,f.sort),sortDirection:f.sortDirection,totalRowsNumber:h,reportLink:j.V2.makeUrl(1,{TAG:1,_0:o},Of(void 0,void 0,w)),totalMessage:{id:"849a1b4931b575428999a9e9af4bb736",defaultMessage:"{totalDisplay} {total, plural, zero {backlinks} one {backlink} other {backlinks}}"},customFooter:q,onClose:K,onRefetch:function(e){return E(void 0,void 0)},onSort:function(e,t,r){return s._1(m,{TAG:1,_0:me.getWithDefault(s._1(xf.Name.ofString,e),7),_1:t})}}),tableRootRef:t,hash:c.hash,onDimensionsChange:c.renewHash}):null},kA=r(17630),vA=r(85467);function yA(e,t){if("number"==typeof t){var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,rowMap:e.rowMap,sort:e.sort,sortDirection:e.sortDirection}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,rowMap:Xg(void 0),sort:t._0,sortDirection:t._1};var o,i,n=t._0;if("number"==typeof n)return e;switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,rowMap:t._1,sort:e.sort,sortDirection:e.sortDirection};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero,partial:!1}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:{total:ie.zero,partial:!1}})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,rowMap:t._1,sort:e.sort,sortDirection:e.sortDirection};default:return e}}var DA=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.targetUrl,o=e.target,i=e.filters,d=e.settings,c=e.expandedRows,u=e.count,g=z.useReducer(yA,{data:0,oldData:0,error:void 0,offset:0,rowMap:Xg(void 0),sort:4,sortDirection:"Desc"}),m=g[1],f=g[0],p=FM(i.selectedTab,a),_=me.mapWithDefault(Ur.get(c.map,p),!1,(function(e){return 1===e})),h=ie.to_int32(u),k=Aa.getTerms(i.referringPageTitle.rules),v=Aa.getTerms(i.referringPageUrl.rules),y=Aa.getTerms(i.referringDomainName.rules),D=Aa.getTerms(i.anchorWithSurroundingText.rules),S=Aa.getTerms(i.anchor.rules),F=Aa.getTerms(i.targetUrl.rules),C=Re(RP.toFieldName(f.sort),f.sortDirection),w=mt.caml_obj_dup(GM(a,i));w.sort={name:f.sort,direction:f.sortDirection};var T=NM,b=Gg({hd:ce.flatten(s._2(T,BM.useHistoryFilter(i.selectedTab),i)),tl:{hd:{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url_plain),IM(a)),tl:0},tl:0}}),P=f.rowMap,M={hd:IP.referringPage(l.some(P),v,k,y,void 0,void 0),tl:{hd:s._4(IP.ur,l.some(P),void 0,void 0,void 0),tl:{hd:IP.referringDomains(l.some(P),void 0,void 0),tl:{hd:IP.linkedDomains(l.some(P),void 0,void 0),tl:{hd:IP.externalLinks(l.some(P),void 0,void 0),tl:{hd:IP.pageTraffic(l.some(P),void 0,void 0),tl:{hd:IP.keywords(l.some(P),void 0,void 0),tl:{hd:IP.anchor(r,S,F,D,void 0,void 0),tl:{hd:IP.dates(void 0,l.some(r),void 0),tl:0}}}}}}}}},A=s._3(Ra.FieldsRequestDescr.customRow,M,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:M,parentData:e,isPadded:!1})}),zg.rowFieldsNotAgg),E=s._1(Ra.FieldsRequestDescr.toRequest,A),B=function(e,t,r){var a=void 0!==e?e:u_,i=void 0!==t?t:0;return s._1(m,0),Ye.forEach(R(void 0,kA.request,{aggregation:1,se_params:{history_mode:2,since:void 0,target:n.Protocolless_url.show(o.url),mode:o.mode,protocol:o.protocol},params:{filter:b,size:a,offset:i,order_by:C,shape:ce.map(E,(function(e){return e[1]})),timeout:void 0}}),(function(e){var t=zg.remoteDataToRows(e);return s._1(m,{TAG:0,_0:t,_1:de.mapWithDefault(t,f.rowMap,(function(e){return function(e){var t=ce.map(E,(function(e){return e[0]}));return Ra.foldRows(zg.rowFieldsNotAgg,(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)}(e)[1]}))})}))};z.useEffect((function(){var e=f.data;_&&0===e&&B(void 0,void 0)}),[_,f.data]),z.useEffect((function(){_&&B(void 0,void 0)}),[f.sort,f.sortDirection]);var K=function(e){return s._2(c.setRow,p,void 0)},q={_0:function(e){var t={data:f.data,settings:d,offset:f.offset,remainingCount:de.mapWithDefault(f.data,0,(function(e){return h-e.count|0})),rightAddon:z.createElement(bt,{exportFunc:function(e,t){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-backlinks-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode)),void 0,vA.request,{aggregation:1,se_params:{history_mode:2,since:void 0,target:o.url,mode:o.mode,protocol:o.protocol},params:{filter:b,size:t,offset:0,order_by:C,shape:ce.map(E,(function(e){return e[1]})),timeout:void 0}})},isTrial:d.subscription.isTrial,limitResetDate:d.subscription.dateResetUsagesMonthly,totalResults:h,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:o,limitsFunc:N}),onClose:K,onMoreDataRequested:function(e,t,r){return B(e,t)}};return void 0!==f.error&&(t.error=l.valFromOption(f.error)),z.createElement(Gl,t)}};return _?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:d,data:f.data,tableData:de.mapWithDefault(f.data,0,(function(e){return e.rows})),row:A,tooltipTarget:r,isLoading:de.isLoading(f.data),failureState:te.Table.getFailureState(f.data),sort:s._1(RP.Name.toString,f.sort),sortDirection:f.sortDirection,totalRowsNumber:h,reportLink:j.V2.makeUrl(2,{TAG:1,_0:o},BP(void 0,void 0,w)),totalMessage:{id:"849a1b4931b575428999a9e9af4bb736",defaultMessage:"{totalDisplay} {total, plural, zero {backlinks} one {backlink} other {backlinks}}"},customFooter:q,onClose:K,onRefetch:function(e){return B(void 0,void 0)},onSort:function(e,t,r){return s._1(m,{TAG:1,_0:me.getWithDefault(s._1(RP.Name.ofString,e),4),_1:t})}}),tableRootRef:t,hash:c.hash,onDimensionsChange:c.renewHash}):null},SA=r(23360);function FA(e,t){if("number"!=typeof t)return 0===t.TAG?{remoteExternalLinks:t._0,remoteInternalLinks:e.remoteInternalLinks}:{remoteExternalLinks:e.remoteExternalLinks,remoteInternalLinks:t._0};switch(t){case 0:var r=e.remoteExternalLinks;return"number"==typeof r||2!==r.TAG?{remoteExternalLinks:1,remoteInternalLinks:e.remoteInternalLinks}:{remoteExternalLinks:{TAG:0,_0:r._0},remoteInternalLinks:e.remoteInternalLinks};case 1:var a=e.remoteInternalLinks;return"number"==typeof a||2!==a.TAG?{remoteExternalLinks:e.remoteExternalLinks,remoteInternalLinks:1}:{remoteExternalLinks:e.remoteExternalLinks,remoteInternalLinks:{TAG:0,_0:a._0}};case 2:return{remoteExternalLinks:0,remoteInternalLinks:e.remoteInternalLinks};case 3:return{remoteExternalLinks:e.remoteExternalLinks,remoteInternalLinks:0};case 4:return{remoteExternalLinks:0,remoteInternalLinks:0}}}var CA={contents:gt()},wA={contents:gt()};function TA(e,t,r,a,o,i,s,l){var d="Links_external"===l?[dm.toHistoryMode(s),dm.toSince(s)]:[1,void 0];return R(void 0,mA.request,{se_params:{history_mode:d[0],since:d[1],target:n.Protocolless_url.show(t.url),mode:t.mode,protocol:t.protocol,ref_target:void 0},params:{filter:i,size:o,offset:a,order_by:r,shape:ce.map(e,(function(e){return e[1]})),timeout:void 0},links:l})}var bA=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=z.useReducer(FA,{remoteExternalLinks:0,remoteInternalLinks:0}),c=d[1],u=d[0],g=he.useUrl(void 0,void 0),m=g.search,f=g.path,p=ue.use(m),_=z.useMemo((function(){return i.parseQueryToDict(m,void 0,void 0)}),[m]),h=z.useMemo((function(){return i.parseQueryToDict(p,void 0,void 0)}),[p]),k=function(e,t,r){var a,o=e.reportHistoricalPermissions,i=s._1(hg.ofQueryWithDefault,r),n=s._1(hg.ofQueryWithDefault,t);if(0!==i)a=CM().highlightChanges;else if(0!==n){var l=s._1(Ng.ofQueryWithDefault,t);a="number"==typeof l?l+1|0:CM().highlightChanges}else a=s._1(xg.Filter.ofQueryWithDefault,r);var d,c=ce.has($m.highlightChangesItems(o),a,Qr.equal)?a:$m.maxHighlightChangesItem(o),u=0;if(0!==i&&0===n)switch(s._1(xg.Filter.ofQueryWithDefault,t)){case 1:d=0;break;case 2:d=1;break;case 0:case 3:d=2;break;case 4:d=3;break;case 5:d=4;break;case 6:d=5;break;case 7:d=6;break;case 8:d=7}else u=1;1===u&&(d=s._2(Ng.ofQueryWithCustomDefault,r,Mm.maxNewLostDateRangeItem(e.reportHistoricalPermissions)));var g,m,f=Mm.isNewLostDateRangeItemAllowed(d,o)?d:me.getWithDefault(Mm.maxNewLostDateRangeItem(e.reportHistoricalPermissions),0),p=0;switch(i){case 0:p=1;break;case 1:switch(n){case 1:g=[s._1(Xm.ofQueryWithDefault,r),CM().lostStatus];break;case 0:case 2:p=1}break;case 2:switch(n){case 0:case 1:p=1;break;case 2:g=[CM().newStatus,s._1(df.ofQueryWithDefault,r)]}}1===p&&(g=[CM().newStatus,CM().lostStatus]);var _=0;return 0!==i||0===c?_=1:m=[s._1(pa.NewLinks.Filter.ofQueryWithDefault,r),s._1(pa.LostLinks.Filter.ofQueryWithDefault,r)],1===_&&(m=[CM().newLinks,CM().lostLinks]),{externalLinksSort:s._1(uM,r),internalLinksSort:s._1(vM,r),externalLinksPagination:s._1(oM.ofQueryWithDefault,r),internalLinksPagination:s._1(iM.ofQueryWithDefault,r),selectedTab:s._1(jP,r),followType:s._1(Xu.Filter.ofQueryWithDefault,r),httpCode:s._1(Zu.TargetHttpCode.Filter.ofQueryWithDefault,r),dr:s._1(pa.DR.Filter.ofQueryWithDefault,r),linksToTarget:s._1(pa.LinksToTarget.Filter.ofQueryWithDefault,r),excludeSubdomains:s._1(Im.ofQueryWithDefault,r),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.ofQueryWithDefault,r),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.ofQueryWithDefault,r),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,r),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,r),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,r),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,r),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,r),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,r),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,r),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,r),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,r),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,r),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,r),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,r),targetPageTitle:s._1(fa.Backlinks.TargetPageTitle.Filter.ofQueryWithDefault,r),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,r),targetPlatform:s._1(Zu.Platform.TargetFilter.ofQueryWithDefault,r),targetLanguage:s._1(Zu.SeLanguage.TargetFilter.ofQueryWithDefault,r),targetRefDomains:s._1(pa.RefDomains.TargetFilter.ofQueryWithDefault,r),contentType:s._1(yg.Filter.ofQueryWithDefault,r),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,r),linkStatus:i,highlightChanges:c,newLostStatusDateRange:f,newStatus:g[0],lostStatus:g[1],newLinks:m[0],lostLinks:m[1]}}(r,h,_),v=a.useStateValue(k),y=v[1],D=v[0],S=function(e,t){var r=void 0!==e&&e;s._1(y,t);var a=i.makeStringWithQueryDict(i.makePathname(f),l.some(TM(void 0,l.some(_),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};z.useEffect((function(){S(!0,k)}),[i.stringifyQueryDict(TM(void 0,void 0,k),void 0,void 0)]);var F=Re(s._1(SM.ExternalLinks.toFieldName,k.externalLinksSort.name),k.externalLinksSort.direction),C=Re(s._1(SM.InternalLinks.toFieldName,k.internalLinksSort.name),k.internalLinksSort.direction),w=Yu(u.remoteExternalLinks,(function(e){return ie.to_float(e.stats.total)})),T=Yu(u.remoteInternalLinks,(function(e){return ie.to_float(e.stats.total)})),b=uo.useSingleton({overrides:["className"]}),P=b[1],M=ya.useMultipleExpandedRows(void 0,void 0),A=z.useMemo((function(){return BM.makeHistoryFilter(k)}),[i.stringifyQueryDict(BM.toQuery(void 0,k),void 0,void 0)]),R=Aa.getTerms(k.targetUrl.rules),E=Aa.getTerms(k.targetPageTitle.rules),B=k.selectedTab?{hd:VM(E,R,void 0,void 0),tl:{hd:HM(l.some(P),void 0),tl:{hd:JM(M,1),tl:{hd:tA(t,k,k.selectedTab),tl:{hd:rA(t,k,k.selectedTab),tl:{hd:aA(t,k,k.selectedTab),tl:{hd:oA(t,k),tl:{hd:sA(void 0),tl:{hd:iA(l.some(P),void 0),tl:{hd:nA(l.some(P),void 0),tl:0}}}}}}}}}}:{hd:VM(E,R,void 0,void 0),tl:{hd:jM(A),tl:{hd:HM(l.some(P),void 0),tl:{hd:zM(M,0),tl:{hd:YM(void 0),tl:{hd:JM(M,0),tl:{hd:ZM(A,k,t),tl:{hd:eA(A,k,t),tl:{hd:tA(t,k,k.selectedTab),tl:{hd:rA(t,k,k.selectedTab),tl:{hd:aA(t,k,k.selectedTab),tl:{hd:sA(void 0),tl:{hd:iA(l.some(P),void 0),tl:{hd:nA(l.some(P),void 0),tl:0}}}}}}}}}}}}}},K=z.useMemo((function(){return[Gg(UM(k)),Gg(OM(k))]}),[i.stringifyQueryDict(TM(void 0,void 0,k),void 0,void 0)]),q=K[1],x=K[0],W=s._3(Ra.FieldsRequestDescr.customRow,B,(function(e,a,o,i){var s=n.Url.show(a),l=k.selectedTab?wA.contents:CA.contents,d=k.selectedTab;return z.createElement(z.Fragment,{children:null,key:l+s},z.createElement(te.Row.make,{columns:B,parentData:e}),z.createElement(pA,{tableRootRef:e.tableRootRef,tooltipTarget:P,targetUrl:s,target:t,filters:k,settings:r,expandedRows:M,count:i}),d?z.createElement(DA,{tableRootRef:e.tableRootRef,tooltipTarget:P,targetUrl:s,target:t,filters:k,settings:r,expandedRows:M,count:o}):z.createElement(hA,{tableRootRef:e.tableRootRef,tooltipTarget:P,targetUrl:s,target:t,filters:k,settings:r,expandedRows:M,count:o}))}),lA),U=s._1(Ra.FieldsRequestDescr.toRequest,W),O=function(e){return function(e,t,r,a,o,i,n,l){s._1(e,0);var d=gt();return CA.contents=d,Ye.forEach(TA(t,r,a,o,i,n,l,"Links_external"),(function(t){if(CA.contents===d)return s._1(e,{TAG:0,_0:t})}))}(c,U,t,F,k.externalLinksPagination.offset,k.externalLinksPagination.limit,x,A)},$=function(e){return function(e,t,r,a,o,i,n,l){s._1(e,1);var d=gt();return wA.contents=d,Ye.forEach(TA(t,r,a,o,i,n,l,"Links_internal"),(function(t){if(wA.contents===d)return s._1(e,{TAG:1,_0:t})}))}(c,U,t,C,k.internalLinksPagination.offset,k.internalLinksPagination.limit,q,A)};z.useEffect((function(){k.selectedTab?de.hasNotBeenAsked(u.remoteInternalLinks)&&$():de.hasNotBeenAsked(u.remoteExternalLinks)&&O()}),[k.selectedTab]),z.useEffect((function(e){s._1(M.closeAll,void 0),k.selectedTab?de.hasNotBeenAsked(u.remoteInternalLinks)||$():de.hasNotBeenAsked(u.remoteExternalLinks)||O()}),[s._1(SM.ExternalLinks.Name.toString,k.externalLinksSort.name),s._1(SM.ExternalLinks.Direction.toString,k.externalLinksSort.direction),k.externalLinksPagination.offset,k.externalLinksPagination.limit,s._1(SM.InternalLinks.Name.toString,k.internalLinksSort.name),s._1(SM.InternalLinks.Direction.toString,k.internalLinksSort.direction),k.internalLinksPagination.offset,k.internalLinksPagination.limit]),z.useEffect((function(){s._1(M.closeAll,void 0),k.selectedTab?de.hasNotBeenAsked(u.remoteInternalLinks)||(s._1(c,2),$()):de.hasNotBeenAsked(u.remoteExternalLinks)||(s._1(c,3),O())}),[Ve.Safe.toKey(t),A,i.stringifyQueryDict(MM.toQuery(void 0,k),void 0,void 0),i.stringifyQueryDict(RM(void 0,k),void 0,void 0)]);var I,G=function(e){return s._1(M.closeAll,void 0),O()},Q=u.remoteExternalLinks;if("number"==typeof Q)I=0!==Q?z.createElement(Y.Icon.make,{size:"sm"}):null;else{var j={resultsStr:a.s(ae.Float.full(w)),results:0|w};I=z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"4e6fa78ac5d9381342dae76d0ca4e502",defaultMessage:"{resultsStr} {results, plural, zero {pages} one {page} few {pages} other {pages}}"},j)})}var X,Z=k.selectedTab?[q,C,"Links_internal",0|T]:[x,F,"Links_external",0|w],ee=Z[2],re=Z[1],oe=Z[0],ne=z.createElement(te.Table.make,{row:W,data:de.mapWithDefault(u.remoteExternalLinks,0,(function(e){return e.rows})),hasAppliedFilters:""!==i.stringifyQueryDict(MM.toQuery(void 0,k),void 0,void 0)||mt.caml_notequal(k.externalLinksPagination,s._1(nM.ExternalLinks.getDefault,void 0)),header:z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},I,z.createElement(dA,{filters:k,historyFilter:A,settings:r,tooltipTarget:P,onApplyFilters:function(e){return S(!1,e)}})),z.createElement(Je.make,{gap:"px10",children:z.createElement(bt,{exportFunc:function(e,r){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-bbl-external-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-bbl-external-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode)),void 0,SA.request,{se_params:{history_mode:dm.toHistoryMode(A),since:dm.toSince(A),target:n.Protocolless_url.show(t.url),mode:t.mode,protocol:t.protocol,ref_target:void 0},params:{filter:oe,size:r,offset:0,order_by:re,shape:ce.map(U,(function(e){return e[1]})),timeout:void 0},links:ee})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:Z[3],maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:t,limitsFunc:N})})),isLoading:de.isLoading(u.remoteExternalLinks),failureState:te.Table.getFailureState(u.remoteExternalLinks),renderError:Ke(u.remoteExternalLinks,(function(e){var t=mt.caml_obj_dup(k);return S(void 0,(t.externalLinksPagination={limit:k.externalLinksPagination.limit,offset:0},t))}),G,r.isUpgradable),tooltipTarget:P,totalRowsNumber:0|w,pagination:k.externalLinksPagination,sortDirection:k.externalLinksSort.direction,sort:s._1(SM.ExternalLinks.Name.toString,k.externalLinksSort.name),onPaginationChange:function(e){var t=mt.caml_obj_dup(k);return S(void 0,(t.externalLinksPagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(k);return a.externalLinksPagination=r,a.externalLinksSort={name:me.getWithDefault(s._1(SM.ExternalLinks.Name.ofString,e),s._1(SM.ExternalLinks.Name.getDefault,void 0)),direction:t},S(void 0,a)},onRefetch:G,onClearFilters:function(e){var t=mt.caml_obj_dup(CM());return S(void 0,(t.internalLinksSort=k.internalLinksSort,t.externalLinksSort=k.externalLinksSort,t))}}),se=function(e){return s._1(M.closeAll,void 0),$()},le=u.remoteInternalLinks;if("number"==typeof le)X=0!==le?z.createElement(Y.Icon.make,{size:"sm"}):null;else{var ge={resultsStr:a.s(ae.Float.full(T)),results:0|T};X=z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"4e6fa78ac5d9381342dae76d0ca4e502",defaultMessage:"{resultsStr} {results, plural, zero {pages} one {page} few {pages} other {pages}}"},ge)})}var fe,pe=z.createElement(te.Table.make,{row:W,data:de.mapWithDefault(u.remoteInternalLinks,0,(function(e){return e.rows})),hasAppliedFilters:""!==i.stringifyQueryDict(MM.toQuery(void 0,k),void 0,void 0)||mt.caml_notequal(k.internalLinksPagination,s._1(nM.InternalLinks.getDefault,void 0)),header:z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:X}),z.createElement(Je.make,{gap:"px10",children:z.createElement(bt,{exportFunc:function(e,r){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-bbl-internal-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-bbl-internal-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode)),void 0,SA.request,{se_params:{history_mode:dm.toHistoryMode(A),since:dm.toSince(A),target:n.Protocolless_url.show(t.url),mode:t.mode,protocol:t.protocol,ref_target:void 0},params:{filter:q,size:r,offset:k.internalLinksPagination.offset,order_by:C,shape:ce.map(U,(function(e){return e[1]})),timeout:void 0},links:"Links_internal"})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|T,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:t,limitsFunc:N})})),isLoading:de.isLoading(u.remoteInternalLinks),failureState:te.Table.getFailureState(u.remoteInternalLinks),renderError:Ke(u.remoteInternalLinks,(function(e){var t=mt.caml_obj_dup(k);return S(void 0,(t.internalLinksPagination={limit:k.internalLinksPagination.limit,offset:0},t))}),se,r.isUpgradable),tooltipTarget:P,totalRowsNumber:0|T,pagination:k.internalLinksPagination,sortDirection:k.internalLinksSort.direction,sort:s._1(SM.InternalLinks.Name.toString,k.internalLinksSort.name),onPaginationChange:function(e){var t=mt.caml_obj_dup(k);return S(void 0,(t.internalLinksPagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(k);return a.internalLinksPagination=r,a.internalLinksSort={name:me.getWithDefault(s._1(SM.InternalLinks.Name.ofString,e),s._1(SM.InternalLinks.Name.getDefault,void 0)),direction:t},S(void 0,a)},onRefetch:se,onClearFilters:function(e){var t=mt.caml_obj_dup(CM());return S(void 0,(t.internalLinksSort=k.internalLinksSort,t.externalLinksSort=k.externalLinksSort,t))}}),_e={hd:eh.Tab.make("External backlinks",void 0,void 0,l.some(ne),void 0,void 0,void 0),tl:{hd:eh.Tab.make("Internal backlinks",void 0,void 0,l.some(pe),void 0,void 0,void 0),tl:0}},ve=k.selectedTab,ye=u.remoteExternalLinks,De=u.remoteInternalLinks;fe=ve?"number"==typeof De||1!==De.TAG?void 0:De._0:"number"==typeof ye||1!==ye.TAG?void 0:ye._0;var Se={settings:r,children:null};return void 0!==fe&&(Se.error=l.valFromOption(fe)),z.createElement(Po,Se,z.createElement(ct.make,{children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(s._1(ke.Message.to_s,{id:"d3c5a630f7b2bd2f070130c6b57b3e74",defaultMessage:"Best pages by backlinks"}))})}),z.createElement(co,{showApplyFilters:!MM.equal(D,k),onClearFilters:function(e){return s._1(y,k)},onApplyFilters:function(e){var t=mt.caml_obj_dup(D),r=D.internalLinksPagination;t.internalLinksPagination={limit:r.limit,offset:0};var a=D.externalLinksPagination;return t.externalLinksPagination={limit:a.limit,offset:0},S(void 0,t)},children:null},z.createElement(Xu.make,{value:D.followType,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.followType=e,t))}}),z.createElement(Zu.TargetHttpCode.make,{onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.httpCode=CM().httpCode,t))},label:s._1(ke.Message.to_s,{id:"df4701946cc5bac987fb8a622d876c7f",defaultMessage:"HTTP code"}),onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.httpCode=e,t))},value:D.httpCode}),z.createElement(pa.DR.make,{value:D.dr,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.dr=CM().dr,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.dr=e,t))}}),z.createElement(pa.LinksToTarget.make,{value:D.linksToTarget,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.linksToTarget=CM().linksToTarget,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.linksToTarget=e,t))}}),z.createElement(T_,{items:ce.map(F_,y_),initialSelected:6,onApply:function(e){var t=D_(e[1]);switch(e[0]){case 0:var r=mt.caml_obj_dup(D);return s._1(y,(r.referringDomainName=t,r));case 1:var a=mt.caml_obj_dup(D);return s._1(y,(a.referringPageUrl=t,a));case 2:var o=mt.caml_obj_dup(D);return s._1(y,(o.referringPageTitle=t,o));case 3:var i=mt.caml_obj_dup(D);return s._1(y,(i.anchor=t,i));case 4:var n=mt.caml_obj_dup(D);return s._1(y,(n.anchorWithSurroundingText=t,n));case 5:var l=mt.caml_obj_dup(D);return s._1(y,(l.targetPageTitle=t,l));case 6:var d=mt.caml_obj_dup(D);return s._1(y,(d.targetUrl=t,d))}}}),z.createElement(Je.make,{children:z.createElement(po.make,{padding:"controlToggle",children:z.createElement(Qm,{value:D.excludeSubdomains,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.excludeSubdomains=e,t))}})})}),z.createElement(gA,{filters:D,render:function(e,t,r,a){var o=function(t){return s._1(a,e)};switch(e){case 0:return z.createElement(fa.RefDomains.DomainName.make,{value:D.referringDomainName,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.referringDomainName=CM().referringDomainName,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.referringDomainName=e,t))}});case 1:return z.createElement(pa.OrgDomainTraffic.make,{value:D.orgDomainTraffic,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.orgDomainTraffic=CM().orgDomainTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.orgDomainTraffic=e,t))}});case 2:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:D.referringPageTitle,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.referringPageTitle=CM().referringPageTitle,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.referringPageTitle=e,t))}});case 3:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:D.referringPageUrl,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.referringPageUrl=CM().referringPageUrl,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.referringPageUrl=e,t))}});case 4:return z.createElement(Zu.Platform.make,{autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.platform=CM().platform,t))},label:Zu.Platform.refPageLabel,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.platform=e,t))},value:D.platform});case 5:return z.createElement(Zu.SeLanguage.make,{autoOpen:t,label:Zu.SeLanguage.refPageLabel,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.language=CM().language,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.language=me.getWithDefault(e,CM().language),t))},value:D.language});case 6:return z.createElement(pa.RefDomains.make,{value:D.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.refDomains=CM().refDomains,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.refDomains=e,t))}});case 7:return z.createElement(pa.LinkedDomains.make,{value:D.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.linkedDomains=CM().linkedDomains,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.linkedDomains=e,t))}});case 8:return z.createElement(pa.ExternalLinks.make,{value:D.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.externalLinks=CM().externalLinks,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.externalLinks=e,t))}});case 9:return z.createElement(pa.OrgPageTraffic.make,{value:D.orgPageTraffic,label:pa.OrgPageTraffic.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.orgPageTraffic=CM().orgPageTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.orgPageTraffic=e,t))}});case 10:return z.createElement(pa.OrgKeywords.make,{value:D.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.orgKeywords=CM().orgKeywords,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.orgKeywords=e,t))}});case 11:return z.createElement(Dg.make,{autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.backlinkType=CM().backlinkType,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.backlinkType=e,t))},selectedItem:D.backlinkType});case 12:return z.createElement(fa.Backlinks.Anchor.make,{value:D.anchor,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.anchor=CM().anchor,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.anchor=e,t))}});case 13:return z.createElement(fa.Backlinks.SurroundingText.make,{value:D.anchorWithSurroundingText,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.anchorWithSurroundingText=CM().anchorWithSurroundingText,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.anchorWithSurroundingText=e,t))}});case 14:return z.createElement(fa.Backlinks.TargetPageTitle.make,{value:D.targetPageTitle,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetPageTitle=CM().targetPageTitle,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetPageTitle=e,t))}});case 15:return z.createElement(fa.Backlinks.TargetUrl.make,{value:D.targetUrl,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetUrl=CM().targetUrl,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetUrl=e,t))}});case 16:return z.createElement(Zu.Platform.make,{autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetPlatform=CM().targetPlatform,t))},label:Zu.Platform.targetPageLabel,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetPlatform=e,t))},value:D.targetPlatform});case 17:return z.createElement(Zu.SeLanguage.make,{autoOpen:t,label:Zu.SeLanguage.targetPageLabel,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetLanguage=CM().targetLanguage,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetLanguage=me.getWithDefault(e,CM().targetLanguage),t))},value:D.targetLanguage});case 18:return z.createElement(pa.RefDomains.make,{value:D.targetRefDomains,label:pa.RefDomains.targetPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetRefDomains=CM().targetRefDomains,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.targetRefDomains=e,t))}});case 19:return z.createElement(yg.make,{autoOpen:t,label:yg.targetLabel,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.contentType=CM().contentType,t))},onHidden:o,onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.contentType=e,t))},selectedItem:D.contentType});case 20:return z.createElement(Zu.Redirects.make,{autoOpen:t,label:Zu.Redirects.targetLabel,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.redirects=CM().redirects,t))},onApply:function(e){var t=mt.caml_obj_dup(D);return s._1(y,(t.redirects=e,t))},value:D.redirects})}}})),z.createElement(eh.make,{name:"tabs",onSelected:function(e){s._1(M.closeAll,void 0);var t=mt.caml_obj_dup(k);return S(void 0,(t.selectedTab=aM.ofTabIndex(e),t))},selectedTabIndex:aM.toTabIndex(k.selectedTab),data:_e,fullHeight:!1,theme:1,contentPadding:1})),z.createElement(ut.make,{singleton:b[0]}))},PA=r(73895),MA=r(5128),AA=ya.Sort.MakeFilter({$$default:4,toString:function(e){switch(e){case 0:return"refpage";case 1:return"refdomains";case 2:return"linkeddomains";case 3:return"extlinks";case 4:return"traffic";case 5:return"keywords";case 6:return"firstseen";case 7:return"lastvisited"}},ofString:function(e){switch(e){case"extlinks":return 3;case"firstseen":return 6;case"keywords":return 5;case"lastvisited":return 7;case"linkeddomains":return 2;case"refdomains":return 1;case"refpage":return 0;case"traffic":return 4;default:return}},defaultDirection:"Desc"}),RA=AA.getDefault,LA=AA.isApplied,EA=AA.ofQueryWithDefault,BA=AA.toQuery,KA={FieldsRequestDescr:void 0,Name:AA.Name,Direction:AA.Direction,getDefault:RA,isApplied:LA,ofQueryWithDefault:EA,toQuery:BA,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.title)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.refdomains)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.linked_domains)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.external_links)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.traffic)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.positions)),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.first_seen)),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.last_visited)),tl:0}}}};function qA(e){return{sort:s._1(RA,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),followType:s._1(Xu.Filter.getDefault,void 0),targetHttpCode:s._1(Zu.TargetHttpCode.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),targetDomainName:s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),groupingType:s._1(ag.Backlinks.Filter.getDefault,void 0),firstSeen:s._1(Eg.getDefault,void 0)}}var xA={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:0}}}}}}}}}}}}}}}}}}}}}};function WA(e,t,r){var a=void 0!==e?e:xA,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(BA,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Xu.Filter.toQuery,e,r.followType);case 3:return s._2(Zu.TargetHttpCode.Filter.toQuery,e,r.targetHttpCode);case 4:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 5:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 6:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 7:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 8:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 9:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 10:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 11:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 12:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 13:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 14:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 15:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 16:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 17:return s._2(fa.RefDomains.DomainName.Filter.toQuery,e,r.targetDomainName);case 18:return s._2(yg.Filter.toQuery,e,r.contentType);case 19:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 20:return s._2(ag.Backlinks.Filter.toQuery,e,r.groupingType);case 21:return s._2(Eg.toQuery,e,r.firstSeen)}}))}var UA={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:5,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:0}}}}}}}}}}}}}}}}}};function OA(e,t){var r=void 0!==e?l.valFromOption(e):{};return WA(UA,l.some(r),t)}var NA=function(e,t){return i.stringifyQueryDict(OA(void 0,e),void 0,void 0)===i.stringifyQueryDict(OA(void 0,t),void 0,void 0)},$A={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:5,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:21,tl:0}}}}}}}}}}}}}}}}}}},IA=function(e,t){switch(e){case 2:return{hd:Xu.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.sponsored),t.followType)(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.dofollow)),tl:0};case 3:return{hd:Zu.TargetHttpCode.makeInternalBacklinksChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.download_http_code),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.url),t.targetHttpCode),tl:0};case 4:return{hd:Dg.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.content),t.backlinkType),tl:0};case 5:return{hd:pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.traffic),t.orgPageTraffic),tl:0};case 6:return{hd:s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.title),t.referringPageTitle),tl:0};case 7:return{hd:s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.url_plain),t.referringPageUrl),tl:0};case 8:return{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.powered_by),t.platform),tl:0};case 9:return{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.languages),t.language),tl:0};case 10:return{hd:pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.refdomains),t.refDomains),tl:0};case 11:return{hd:pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.linked_domains),t.linkedDomains),tl:0};case 12:return{hd:pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.external_links),t.externalLinks),tl:0};case 13:return{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.positions),t.orgKeywords),tl:0};case 14:return{hd:s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor),t.anchor),tl:0};case 15:return{hd:s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.right_context),t.anchorWithSurroundingText),tl:0};case 16:return{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url_plain),t.targetUrl),tl:0};case 17:return{hd:s._2(fa.RefDomains.DomainName.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.UrlDomain.root_domain_name),t.targetDomainName),tl:0};case 18:return{hd:yg.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.non_html_suffix),t.contentType),tl:0};case 19:return{hd:Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.url),t.redirects),tl:0};case 0:case 1:case 20:return 0;case 21:return{hd:Bg(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.first_seen),void 0,t.firstSeen),tl:0}}},GA=Wm,QA=Um,VA=Om,jA={Fields:void 0,Field:void 0,appendIf:Ig,renderOrHideCell:GA,cellWrapper:QA,singleFieldWrapper:VA,empty:Nm,groupToggle:function(e,t,r,o,i){var n;switch(e){case 0:n=s._1(ke.Message.to_s,{id:"0975855e9017eafaf7d6431ab769c8f9",defaultMessage:"Similar"});break;case 1:n=s._1(ke.Message.to_s,{id:"73802c043ea497bfad886cb90a31d78f",defaultMessage:"Links"});break;case 2:n=""}var d=n,c=0!==e?{TAG:0,_0:ng.groupingLinks}:{TAG:0,_0:ng.groupingSimilar};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(i,n,d,c,u){return z.useMemo((function(){var i=tm(e,c,d),g=ie.to_int32(u)-1|0,m={children:g>0?z.createElement(Oi.make,{size:"sm",active:me.isSome(Ur.get(t.map,rm(n,i))),onClick:function(e){return s._2(o,n,i)},children:a.s(ae.Int.$$default(g))}):null};return void 0!==r&&(m.width=l.valFromOption(r)),z.createElement(va.Td.make,m)}),[dt.to_string(n),dt.to_string(d),dt.to_string(c),dt.to_string(u),t.hash])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(c,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.target_similarity_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)))),0)))))},dates:function(e,t,r){return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){return z.useMemo((function(){var r=Bt.toMomentUtc(o),n=Bt.toMomentUtc(i),s={content:a.s(ne.moment(void 0,r,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,r,"dayShortMonthYear"))})};void 0!==t&&(s.singleton=l.valFromOption(t));var d={content:a.s(ne.moment(void 0,n,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.relativeWithMinutes(n))})};void 0!==t&&(d.singleton=l.valFromOption(t));var c={children:z.createElement(ct.make,{gap:"none",children:null},z.createElement(Je.make,{children:z.createElement(ut.make,s)}),z.createElement(Je.make,{children:z.createElement(ut.make,d)})),key:"crawlBlock"};return void 0!==e&&(c.width=l.valFromOption(e)),z.createElement(va.Td.make,c)}),[e,o.toString(),i.toString()])}),{renderHeader:function(e,t,r,a,o,i,n,d){var c={children:null};void 0!==e&&(c.domRef=l.valFromOption(e)),void 0!==t&&(c.style=l.valFromOption(t));var u={title:s._1(ke.Message.to_s,{id:"fc0bb0000257ff0076d9a54a2ffb01ee",defaultMessage:"First seen"}),sortField:s._1(KA.Name.toString,6),tableSort:i,tableSortDirection:n,tooltip:ng.firstSeen,onSort:o};void 0!==a&&(u.tooltipTarget=l.valFromOption(a));var g={title:s._1(ke.Message.to_s,{id:"ec7f2c8aa2227421f8ff9f9b02c7db53",defaultMessage:"Last checked"}),sortField:s._1(KA.Name.toString,7),tableSort:i,tableSortDirection:n,tooltip:ng.lastChecked,onSort:o};return void 0!==a&&(g.tooltipTarget=l.valFromOption(a)),z.createElement(bp,c,z.createElement(Pp,u),z.createElement(Pp,g))}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.last_visited)),0)))},keywords:function(e,t,r){var o=s._1(KA.Name.toString,5),i=s._1(ke.Message.to_s,{id:"0c11c4b6bcb2fd8fe631ea3d43e300da",defaultMessage:"Kw."}),d={TAG:0,_0:cg.keywords};return s._5(QA,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.positions)),e,(function(r,o,i){return z.useMemo((function(){var e=Ve.fromUrlWithMode(n.Url.show(o),0),r=Math.max(ie.to_float(i),0),s=a.s(ae.Float.full(r)),d={align:"right",children:me.mapWithDefault(e,s,(function(e){if(r<=0)return s;var t=jp();return z.createElement(ta.make,{href:j.V2.makeOrganicKeywordsUrlDict(e,l.some(Yp({hd:5,tl:0},void 0,{sort:t.sort,pagination:t.pagination,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:"DontCompare",positions:t.positions,volume:t.volume,kd:t.kd,cpc:t.cpc,orgKeywordTraffic:t.orgKeywordTraffic,serp:t.serp,words:t.words,keyword:t.keyword,url:t.url,isMainOnly:t.isMainOnly,multipleUrls:t.multipleUrls})),void 0),mode:0,children:s})}))};return void 0!==t&&(d.width=l.valFromOption(t)),z.createElement(va.Td.make,d)}),[e,t,dt.to_string(i)])}),{renderHeader:function(e,t,r,a,n,s,l,c){return La.makeRenderHeader(d,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,l,c)}},void 0)},pageTraffic:function(e,t,r){var o=s._1(KA.Name.toString,4),i=s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),n={TAG:0,_0:cg.traffic};return s._5(VA,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.traffic)),e,(function(r){return z.useMemo((function(){var e={align:"right",children:a.s(ae.Float.tableAbbr(ie.to_float(r)))};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},externalLinks:function(e,t,r){var o=s._1(KA.Name.toString,3),i=s._1(ke.Message.to_s,{id:"56a33a78c7529b5058875c5a27d9d0b1",defaultMessage:"Ext."}),n={TAG:0,_0:cg.ext};return s._5(VA,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.external_links)),e,(function(r){return z.useMemo((function(){var e={align:"right",children:a.s(ae.Float.full(ie.to_float(r)))};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},linkedDomains:function(e,t,r){var o=s._1(KA.Name.toString,2),i=s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),n={TAG:0,_0:cg.linkedDomains};return s._5(QA,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.linked_domains)),e,(function(r,o,i){return z.useMemo((function(){var e={align:"right",children:z.createElement(ta.make,{href:vt.SE.linkedDomains(o),children:a.s(ae.Float.full(ie.to_float(i)))})};return void 0!==t&&(e.width=l.valFromOption(t)),z.createElement(va.Td.make,e)}),[e,t,o,dt.to_string(i)])}),{renderHeader:function(e,t,r,a,s,l,d,c){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,s,l,d,c)}},void 0)},referringDomains:function(e,t,r){var o=s._1(KA.Name.toString,1),i=s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),d={TAG:0,_0:cg.referringDomain};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i,d){return z.useMemo((function(){var r,c=a.s(ae.Float.full(ie.to_float(o)));if(ie.to_float(o)>0){var u=mt.caml_obj_dup(Yf());r=z.createElement(ta.make,{href:j.V2.makeRefdomainsUrlDict({protocol:0,url:n.Url.show(i),mode:0},void 0,l.some(Zf({hd:26,tl:0},void 0,(u.highlightChanges=0,u))),void 0),mode:0,children:c})}else r=c;var g={align:"right",children:r};return void 0!==t&&(g.width=l.valFromOption(t)),s._4(GA,e,d,z.createElement(va.Td.make,g),void 0)}),[e,t,i,dt.to_string(o)])}),{renderHeader:function(e,t,r,a,n,s,l,c){return La.makeRenderHeader(d,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,n,s,l,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.refdomains)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),0))))},referringPage:function(e,t,r,a,o,i){var d=void 0!==t?t:Aa.emptyGroupedTerms,c=void 0!==r?r:Aa.emptyGroupedTerms,u=void 0!==a?a:Aa.emptyGroupedTerms,g={width:"33%"},m=s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"}),f={TAG:0,_0:cg.referringPage};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a,i,g,m,f,p,_){var h=on.fromString(g);return z.useMemo((function(){var t,g={paddingLeft:"none",nowrap:!1,children:null,key:"referringPageBlock"};if(void 0!==o&&(g.width=l.valFromOption(o)),"Redirect"===p){var k=me.mapWithDefault(_,"",(function(e){return" "+dt.to_string(e)}));t=[z.createElement(Io.make,{size:"small",color:"warningMuted",value:s._1(J.sprintf({_0:{TAG:11,_0:"REDIRECT",_1:{TAG:2,_0:0,_1:0}},_1:"REDIRECT%s"}),k)})]}else t=[];var v=ge.map(m,(function(e){return z.createElement(Io.make,{size:"small",value:e.toUpperCase(),key:e})})),y=ge.map(f,(function(e){return z.createElement(Io.make,{size:"small",value:e.toUpperCase(),key:e})})),D=ge.concat(ge.concat(t,v),y);return s._4(GA,e,r,z.createElement(va.Td.make,g,z.createElement(ta.make,{href:n.Url.show(i),mode:3,children:z.createElement(pt.make,{inline:!0,wordBreak:"breakWord",children:z.createElement(Aa.make,{groupedTerms:c,text:a})})}),z.createElement(ct.make,{gap:"px4",children:null},z.createElement("div",void 0,z.createElement(vn.make,{displayLink:n.Url.show(i),tkLinkContextInput:h,color:"green",highlightAnywhereTerms:fo.$at(d.contain,u.contain),highlightStartTerms:fo.$at(d.startWith,u.startWith),highlightEndTerms:fo.$at(d.endWith,u.endWith)})),0!==D.length?z.createElement(kt.make,{gap:"px4",vGap:"px4",children:D}):null)),void 0)}),[i,g,d,c,e,o,dt.to_string(r)])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(f,void 0,m,void 0,void 0,void 0,void 0,"none",void 0,void 0,g,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.title)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.languages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.powered_by)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Crawl.redirect_code)),0)))))))))},ur:c_.ur,anchor:function(e,t,r,o,i,n){var d=void 0!==t?t:Aa.emptyGroupedTerms,c=void 0!==r?r:Aa.emptyGroupedTerms,u=void 0!==o?o:Aa.emptyGroupedTerms,g={width:"50%"},m=s._1(ke.Message.to_s,{id:"58816c4aac22ee9dbafbc26fb8577d75",defaultMessage:"Anchor and target URL"}),f={TAG:0,_0:cg.anchorAndTargetUrl};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o,n,g,m,f,p,_,h,k,v,y,D,S,F,C,w,T){return z.useMemo((function(){var t,b,P=wm.makeData(S,D,w,C,T,g,m,F),M=P.redirectChainTkLinkContextInput,A=P.redirectChain,R=P.initialUrl,L=Ig(Ig(Ig(Ig("Image"===f?{hd:"IMAGE",tl:0}:"Frame"===f?{hd:"FRAME",tl:0}:"Canonical"===f?{hd:"CANONICAL",tl:0}:0,h,"UGC"),k,"NOFOLLOW"),v,"SPONSORED"),y,"CONTENT"),E=wm.isBrokenSource(R,C),B=on.fromString(P.initialUrlTkLinkContextInputString);if(E&&void 0!==T&&"Targetchanged"!==T){var K=wm.toLostRedirectReason(T),q={singleton:e,children:z.createElement(Io.make,{size:"small",corners:"rounded",color:"danger",value:s._1(ke.Message.to_s,{id:"0000f524ba4821e4bde2e63f640ef924",defaultMessage:"Lost: "})+bg.showReason(K)})},x=me.map(bg.toTooltip(K),Ot.textContent);void 0!==x&&(q.content=l.valFromOption(x)),t=z.createElement("div",{className:Mp},z.createElement(ut.make,q))}else t=null;if(A){var W=wm.linkRenderer;b=z.createElement(bg.make,{redirectChain:A,linkRenderer:function(e){var t=s._2(W,e,M);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){return s._3(t,e,void 0,c)}}}}}}})}else b=null;var U={nowrap:!1,children:z.createElement(ct.make,{gap:"px2",children:null},_i.isNotBlank(r)||_i.isNotBlank(n)||_i.isNotBlank(o)?z.createElement(pt.make,{wordBreak:"breakWord",children:null},_i.isNotBlank(r)?z.createElement(z.Fragment,void 0,z.createElement(Aa.make,{groupedTerms:u,text:r}),a.s(" ")):null,z.createElement(ta.make,{href:R,mode:3,children:z.createElement(pt.make,{inline:!0,wordBreak:"breakWord",children:z.createElement(Aa.make,{groupedTerms:Aa.combineGroupedTerms({hd:d,tl:{hd:u,tl:0}}),text:o})})}),_i.isNotBlank(n)?z.createElement(z.Fragment,void 0,a.s(" "),z.createElement(Aa.make,{groupedTerms:u,text:n})):null):null,0!==L?z.createElement(Je.make,{gap:"px4",fitToContent:!0,children:a.list(ce.map(L,(function(e){return z.createElement(Io.make,{size:"small",color:"neutralMuted",value:e,key:e})})))}):null,z.createElement(pt.make,{children:z.createElement(ct.make,{gap:"px4",children:z.createElement(ct.make,{gap:"none",children:null},z.createElement("div",{className:Ap},p&&!_?z.createElement("div",{className:Mp},z.createElement(Io.make,{size:"small",color:"warningMuted",value:"JS"})):null,A?z.createElement(vn.make,{displayLink:R,tkLinkContextInput:B,color:"green"}):z.createElement(vn.make,{displayLink:R,tkLinkContextInput:B,color:"green",highlightAnywhereTerms:c.contain,highlightStartTerms:c.startWith,highlightEndTerms:c.endWith}),t),b)})})),key:"linkBlock"};return void 0!==i&&(U.width=l.valFromOption(i)),z.createElement(va.Td.make,U)}),[d,u,c,i,g])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(f,void 0,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,g,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.left_context)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.right_context)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_rendered)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.is_raw)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.ugc)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.nofollow)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.sponsored)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.content)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.redirect_broken_source)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.redirect_broken_new_target)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Deindexed.redirect_broken_reason)),0)))))))))))))))))))}},HA=r(89508),zA=r(80061),YA=function(e){var t=e.chFilters,r=e.count,o=e.expandedRows,c=e.filters,u=e.groupKey,g=e.parentLink,m=e.rowId,f=e.settings,p=e.signedEnvironment,_=e.tableRootRef,h=e.target,k=e.tooltipTarget,v=Bm(void 0),y=v[1],D=v[0],S=me.isSome(Ur.get(o.map,rm(m,u))),F=ie.to_int32(r),C=Re(KA.toFieldName(c.sort.name),c.sort.direction),w=Km(_),T=Aa.getTerms(c.referringPageTitle.rules),b=Aa.getTerms(c.referringPageUrl.rules),P=Aa.getTerms(c.anchorWithSurroundingText.rules),M=Aa.getTerms(c.anchor.rules),A=Aa.getTerms(c.targetUrl.rules),E={hd:jA.referringPage(void 0,b,T,void 0,ge.get(w,1),void 0),tl:{hd:c_.ur(void 0,ge.get(w,2),void 0,void 0),tl:{hd:jA.referringDomains(void 0,ge.get(w,3),void 0),tl:{hd:jA.linkedDomains(void 0,ge.get(w,4),void 0),tl:{hd:jA.externalLinks(void 0,ge.get(w,5),void 0),tl:{hd:jA.pageTraffic(void 0,ge.get(w,6),void 0),tl:{hd:jA.keywords(void 0,ge.get(w,7),void 0),tl:{hd:jA.anchor(k,M,A,P,ge.get(w,8),void 0),tl:{hd:jA.dates(ge.get(w,9),l.some(k),void 0),tl:{hd:s._2(jA.empty,ge.get(w,10),void 0),tl:0}}}}}}}}}},B=s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),0)),K=s._3(Ra.FieldsRequestDescr.customRow,E,(function(e,t,r){return z.createElement(te.Row.make,{columns:E,parentData:e,key:"groupedTableRow"+rm(t,u)})}),B),q=z.useMemo((function(){return s._1(Ra.FieldsRequestDescr.toRequest,K)}),[]),x=function(e,r,a){var o=void 0!==e?e:u_,i=void 0!==r?r:0;return s._1(y,1),Ye.forEach(R(void 0,HA.request,{link_kind:1,se_params:{se_params:{history_mode:0,since:void 0,target:h.url,mode:h.mode,protocol:h.protocol},group_key:u,group_witness:g},params:{filter:t,size:o,offset:i,order_by:C,shape:ce.map(q,(function(e){return e[1]})),timeout:void 0},signedEnvironment:p}),(function(e){return s._1(y,{_0:e})}))};if(z.useEffect((function(){s._1(y,0)}),[Ve.Safe.toKey(h),i.stringifyQueryDict(WA(void 0,void 0,c),void 0,void 0)]),z.useEffect((function(){var e=D.data;S&&0===e&&x(void 0,void 0)}),[S,D.data]),!S)return null;var W,U=D.data,O=0;if("number"==typeof U)W=0===U?null:z.createElement(Y.Box.make,{size:"md"});else switch(0|U.TAG){case 1:W=z.createElement(le.make,{reqId:d.getRequestId(U._0),noIcon:!0,paddings:!0,onClick:function(e){return x(void 0,void 0)}});break;case 0:case 2:O=1}if(1===O){var N=Fa.getValueLocalCache(ce.map(q,(function(e){return e[0]})));W=z.createElement(z.Fragment,void 0,a.list(ce.mapWithIndex(U._0.rows,(function(e,t){return Ra.renderRowField(K,{getValue:s._1(N,t),tableRootRef:_,index:e})}))),z.createElement(eP,{data:D.data,target:h,settings:f,columns:E,totalCount:F,exportFunc:function(e,r){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-outgoing-links-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-outgoing-links-%s"}),n.Protocolless_url.show(h.url),V.toExportName(h.mode)),void 0,zA.request,{se_params:{se_params:{history_mode:2,since:void 0,target:h.url,mode:h.mode,protocol:h.protocol},group_key:u,group_witness:void 0},params:{filter:t,size:r,offset:0,order_by:C,shape:ce.map(q,(function(e){return e[1]})),timeout:void 0}})},onShowMoreClick:function(e){return x(e,D.offset)},onClose:function(e){return s._2(o.setRow,rm(m,u),void 0)}}))}var $={settings:f,hasPadding:!0,onClose:function(e){return s._2(o.setRow,rm(m,u),void 0)},children:W},I=de.getError(D.data);return void 0!==I&&($.error=l.valFromOption(I)),z.createElement(Eo.make,{children:z.createElement(Ao,$),tableRootRef:_,hash:o.hash,onDimensionsChange:o.renewHash})},JA=Pl.Make({all:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:0}}}}}}}}}}}}}}}),XA=function(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),0),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),1),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),2),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),7),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"10e8d9d2ff8b63f160f8a9c073f0fdd0",defaultMessage:"Link"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),8),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),9),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),10),tl:{hd:a(s._1(ke.Message.to_s,{id:"d60252cc9b33603259f681b10fb7e17b",defaultMessage:"Domain name"}),11),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),12),tl:{hd:a(s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),13),tl:0}}}}}}}}}}}}}}}}}}};return z.createElement(JA.make,{label:z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.targetDomainName,s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 13:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})},ZA=function(e){var t=e.onFiltersChange,r=e.filters;return z.createElement(z.Fragment,void 0,z.createElement(Xu.make,{value:r.followType,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.followType=e,a))}}),z.createElement(Dg.make,{label:s._1(ke.Message.to_s,{id:"1382ee74d283fc976847b896603be901",defaultMessage:"Link type"}),onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=e,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=e,a))},selectedItem:r.backlinkType}),z.createElement(pa.OrgPageTraffic.make,{value:r.orgPageTraffic,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=qA().orgPageTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=e,a))}}),z.createElement(T_,{items:ce.map(w_,(function(e){return 0!==e?y_(e):{label:s._1(ke.Message.to_s,{id:"808f09cebd063e17129f973f42081f94",defaultMessage:"Target domain name"}),value:0,disabled:!1}})),initialSelected:6,onApply:function(e){var a=D_(e[1]);switch(e[0]){case 0:var o=mt.caml_obj_dup(r);return s._1(t,(o.targetDomainName=a,o));case 1:var i=mt.caml_obj_dup(r);return s._1(t,(i.referringPageUrl=a,i));case 2:var n=mt.caml_obj_dup(r);return s._1(t,(n.referringPageTitle=a,n));case 3:var l=mt.caml_obj_dup(r);return s._1(t,(l.anchor=a,l));case 4:var d=mt.caml_obj_dup(r);return s._1(t,(d.anchorWithSurroundingText=a,d));case 5:return;case 6:var c=mt.caml_obj_dup(r);return s._1(t,(c.targetUrl=a,c))}}}),z.createElement(XA,{filters:r,render:function(e,a,o,i){var n=function(t){return s._1(i,e)};switch(e){case 0:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:r.referringPageTitle,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=qA().referringPageTitle,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=e,a))}});case 1:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:r.referringPageUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=qA().referringPageUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=e,a))}});case 2:return z.createElement(Zu.Platform.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=qA().platform,a))},label:Zu.Platform.refPageLabel,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=e,a))},value:r.platform});case 3:return z.createElement(Zu.SeLanguage.make,{autoOpen:a,label:Zu.SeLanguage.refPageLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=qA().language,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=me.getWithDefault(e,qA().language),a))},value:r.language});case 4:return z.createElement(pa.RefDomains.make,{value:r.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=qA().refDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=e,a))}});case 5:return z.createElement(pa.LinkedDomains.make,{value:r.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=qA().linkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=e,a))}});case 6:return z.createElement(pa.ExternalLinks.make,{value:r.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=qA().externalLinks,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=e,a))}});case 7:return z.createElement(pa.OrgKeywords.make,{value:r.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=qA().orgKeywords,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=e,a))}});case 8:return z.createElement(fa.Backlinks.Anchor.make,{value:r.anchor,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=qA().anchor,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=e,a))}});case 9:return z.createElement(fa.Backlinks.SurroundingText.make,{value:r.anchorWithSurroundingText,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=qA().anchorWithSurroundingText,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=e,a))}});case 10:return z.createElement(fa.Backlinks.TargetUrl.make,{value:r.targetUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=qA().targetUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=e,a))}});case 11:return z.createElement(fa.RefDomains.DomainName.make,{value:r.targetDomainName,autoOpen:a,label:fa.RefDomains.DomainName.outgoingLinksLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetDomainName=qA().targetDomainName,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetDomainName=e,a))}});case 12:return z.createElement(yg.make,{autoOpen:a,label:yg.targetLabel,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=qA().contentType,a))},onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=e,a))},selectedItem:r.contentType});case 13:return z.createElement(Zu.Redirects.make,{autoOpen:a,label:s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=qA().redirects,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=e,a))},value:r.redirects})}}}))};function eR(e,t){return t?{remoteData:t._0,rowMap:t._1}:{remoteData:1,rowMap:Xg(void 0)}}var tR={contents:new AbortController};La.makeRenderHeader;var rR=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=z.useReducer(eR,{remoteData:0,rowMap:Xg(void 0)}),c=d[1],u=d[0],g=he.useUrl(void 0,void 0),m=g.search,f=g.path,p=z.useMemo((function(){return i.parseQueryToDict(m,void 0,void 0)}),[m]),_=function(e,t){var r=e.settings.backlinksAggregation,a=s._2(ag.Backlinks.Filter.ofQueryWithCustomDefault,t,r>=2?2:0),o=e.reportHistoricalPermissions,i=s._1(Eg.ofQueryWithDefault,t),n=me.mapWithDefault(i,!0,(function(e){return Mm.isFirstSeenDateRangeItemAllowed(e,o)})),l=n?i:void 0;return{sort:s._1(EA,t),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,t),followType:s._1(Xu.Filter.ofQueryWithDefault,t),targetHttpCode:s._1(Zu.TargetHttpCode.Filter.ofQueryWithDefault,t),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,t),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,t),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,t),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,t),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,t),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,t),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,t),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,t),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,t),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,t),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,t),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,t),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,t),targetDomainName:s._1(fa.RefDomains.DomainName.Filter.ofQueryWithDefault,t),contentType:s._1(yg.Filter.ofQueryWithDefault,t),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,t),groupingType:a,firstSeen:l}}(r,p),h=a.useStateValue(_),k=h[1],v=h[0],y=ue.use(_.groupingType),D=z.useMemo((function(){return y}),[i.stringifyQueryDict(WA(void 0,void 0,_),void 0,void 0)]),S=function(e,t){var r=void 0!==e&&e;s._1(k,t);var a=i.makeStringWithQueryDict(i.makePathname(f),l.some(WA(void 0,l.some(p),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};z.useEffect((function(){S(!0,_)}),[i.stringifyQueryDict(WA(void 0,void 0,_),void 0,void 0)]);var F=Re(KA.toFieldName(_.sort.name),_.sort.direction),C=uo.useSingleton({overrides:["className"]}),w=C[1],T=ue.use(u.remoteData),b=ya.useMultipleExpandedRows(void 0,void 0),P=Yu(u.remoteData,(function(e){return ie.to_float(e.stats.total)})),M=z.useMemo((function(){return de.mapLoadingWithDefault(u.remoteData,0,(function(e){return e.rows}))}),[u.remoteData]),A=Aa.getTerms(_.referringPageTitle.rules),L=Aa.getTerms(_.referringPageUrl.rules),E=Aa.getTerms(_.anchor.rules),B=Aa.getTerms(_.anchorWithSurroundingText.rules),K=Aa.getTerms(_.targetUrl.rules),q=u.rowMap,x={hd:jA.referringPage(l.some(q),L,A,void 0,void 0,void 0),tl:{hd:s._4(jA.ur,l.some(q),void 0,void 0,void 0),tl:{hd:jA.referringDomains(l.some(q),void 0,void 0),tl:{hd:jA.linkedDomains(l.some(q),void 0,void 0),tl:{hd:jA.externalLinks(l.some(q),void 0,void 0),tl:{hd:jA.pageTraffic(l.some(q),void 0,void 0),tl:{hd:jA.keywords(l.some(q),void 0,void 0),tl:{hd:jA.anchor(w,E,K,B,void 0,void 0),tl:{hd:jA.dates(void 0,l.some(w),void 0),tl:0}}}}}}}}},W=jA.groupToggle(_.groupingType,b,void 0,(function(e,t){var r=rm(e,t),a=me.mapWithDefault(Ur.get(b.map,r),!0,(function(e){}));return s._2(b.setRow,r,a)}),void 0),U=_.groupingType>=2?x:fo.$at(x,{hd:W,tl:0}),O=function(e,t,r,a,o,i,d,c){tR.contents.abort();var u=new AbortController;tR.contents=u,s._1(e,0);var g=c>=2?function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(Hg.rowFieldsNotAgg,(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)}:function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(Hg.rowFieldsAgg,(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,s,l){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)};return Ye.forEach(R(l.some(u),MA.request,{link_kind:1,aggregation:c,se_params:{history_mode:0,since:void 0,target:n.Protocolless_url.show(r.url),mode:r.mode,protocol:r.protocol},params:{filter:d,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0}}),(function(t){if(!Ge(u))return s._1(e,{_0:t,_1:de.mapWithDefault(t,Xg(void 0),(function(e){return s._1(g,e)[1]}))})}))},N=z.useMemo((function(){return Gg(ce.map($A,(function(e){return IA(e,_)})))}),[i.stringifyQueryDict(WA(void 0,void 0,_),void 0,void 0)]),$=function(e,a,o,i,n){var s=tm(_.groupingType,i,o),l=_.groupingType;return z.createElement(z.Fragment,{children:null,key:a},z.createElement(te.Row.make,{columns:U,parentData:e}),l>=2?null:z.createElement(YA,{chFilters:N,count:n,expandedRows:b,filters:_,groupKey:s,parentLink:a,rowId:a,settings:r,signedEnvironment:de.mapWithDefault(u.remoteData,void 0,(function(e){return e.signedEnvironment})),tableRootRef:e.tableRootRef,target:t,tooltipTarget:w}))},I=_.groupingType>=2?s._3(Ra.FieldsRequestDescr.customRow,U,(function(e,t,r,a,o){return $(e,t,a,o,ie.one)}),Hg.rowFieldsNotAgg):s._3(Ra.FieldsRequestDescr.customRow,U,(function(e,t,r,a,o,i){return $(e,t,a,o,i)}),Hg.rowFieldsAgg),G=s._1(Ra.FieldsRequestDescr.toRequest,I),Q=z.useCallback((function(e){return s._1(b.closeAll,void 0),O(c,G,t,F,_.pagination.offset,_.pagination.limit,N,_.groupingType)}),[]);z.useEffect((function(){s._1(b.closeAll,void 0),O(c,G,t,F,_.pagination.offset,_.pagination.limit,N,_.groupingType)}),[Ve.Safe.toKey(t),s._1(KA.Name.toString,_.sort.name),s._1(KA.Direction.toString,_.sort.direction),_.pagination.offset,_.pagination.limit,N,s._1(ag.Backlinks.Filter.toString,_.groupingType)]);var V,j=u.remoteData,H=_.groupingType,J=0,X=0,Z=0;if(0===T)if("number"==typeof j)0===j?Z=5:J=1;else switch(0|j.TAG){case 0:J=1;break;case 1:case 2:X=4}else Z=5;if(5===Z){var ee=0;if("number"==typeof j)ee=6;else switch(0|j.TAG){case 1:case 2:X=4;break;default:ee=6}6===ee&&(D>=2?H>=2?X=4:J=1:H>=2?J=1:X=4)}switch(4===X&&(J="number"==typeof j?1===j?D>=2?2:3:H>=2?2:3:0===j.TAG?D>=2?2:3:H>=2?2:3),J){case 1:V=z.createElement(Y.Icon.make,{size:"sm"});break;case 2:var re={links:a.s(ae.Float.full(P)),count:0|P};V=s._2(ke.Message.format_to_s,{id:"fdf2db3ede1a74d839215358384b8800",defaultMessage:"{links} {count, plural, zero {outgoing links} one {outgoing link} few {outgoing links} other {outgoing links}}"},re);break;case 3:var oe={links:a.s(ae.Float.full(P)),count:0|P};V=s._2(ke.Message.format_to_s,{id:"f234783dbbbd91c340e141200a290a8e",defaultMessage:"{links} {count, plural, zero {groups} one {group} few {groups} other {groups}} of links"},oe)}var ne,se=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:z.createElement(pt.make,{fontWeight:"bold",children:V})}),z.createElement(Je.make,{gap:"px8",fitToContent:!0,children:null},z.createElement(ag.Backlinks.make,{selectedItem:_.groupingType,getLabel:ag.Backlinks.toOutgoingReportLabel,getTooltip:ag.Backlinks.toOutgoingReportTooltip,onChange:function(e){var t=mt.caml_obj_dup(_);return S(void 0,(t.groupingType=e,t))}}),z.createElement(Kg,{selectedItem:_.firstSeen,items:Lg,onChange:function(e){var t=mt.caml_obj_dup(_);return S(void 0,(t.firstSeen=e,t))},onReset:function(e){var t=mt.caml_obj_dup(_);return S(void 0,(t.firstSeen=void 0,t))}}))),z.createElement(Je.make,{gap:"px10",children:null})),le=u.remoteData;ne="number"==typeof le||1!==le.TAG?void 0:le._0;var ge={settings:r,children:null};void 0!==ne&&(ge.error=l.valFromOption(ne));var fe=_.groupingType;return z.createElement(Po,ge,z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:s._1(ke.Message.to_s,{id:"1bea63c5c5bc34626dc0a4cd2dc0bd40",defaultMessage:"Outgoing links"})})}),z.createElement(co,{showApplyFilters:!NA(v,_),onClearFilters:function(e){return s._1(k,_)},onApplyFilters:function(e){var t=mt.caml_obj_dup(v),r=v.pagination;return t.pagination={limit:r.limit,offset:0},S(void 0,t)},children:z.createElement(ZA,{onFiltersChange:s.__1(k),filters:v})}),z.createElement(te.Table.make,{row:I,data:M,hasAppliedFilters:!1,header:se,isLoading:de.isLoading(u.remoteData),failureState:te.Table.getFailureState(u.remoteData),renderError:Be(u.remoteData,Q,r.isUpgradable),tableId:fe>=2?"all":"grouped",tooltipTarget:w,totalRowsNumber:0|P,pagination:_.pagination,sortDirection:_.sort.direction,sort:s._1(KA.Name.toString,_.sort.name),stickyHeaderLayer:tt.ZIndex.above(tt.ZIndex.tableExpandableRow),onPaginationChange:function(e){var t=mt.caml_obj_dup(_);return S(void 0,(t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(_);return a.pagination=r,a.sort={name:me.getWithDefault(s._1(KA.Name.ofString,e),s._1(KA.Name.getDefault,void 0)),direction:t},S(void 0,a)},onRefetch:Q,onClearFilters:function(e){return S(void 0,qA())}})),z.createElement(ut.make,{singleton:C[0]}))},aR=s._1(Rt.css,{hd:Rt.label("messageWrapper"),tl:{hd:Rt.borderTop({NAME:"px",VAL:1},"solid",_e.Color.Border.lineAlpha),tl:{hd:Rt.margin2("zero",tt.NewSize.px16),tl:{hd:Rt.padding2(tt.NewSize.px8,"zero"),tl:0}}}});function oR(e){return s._1(Rt.css,{hd:Rt.label("message"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.marginLeft({NAME:"px",VAL:e}),tl:0}}})}function iR(e){return s._1(Rt.css,{hd:Rt.label("depthSpacerBlock"),tl:{hd:Rt.display("inlineBlock"),tl:{hd:Rt.height({NAME:"px",VAL:1}),tl:{hd:Rt.width({NAME:"px",VAL:Math.imul(12,e)}),tl:0}}}})}var nR=s._1(Rt.css,{hd:Rt.label("tooglePathFolderBlock"),tl:{hd:Rt.minWidth(tt.NewSize.px18),tl:{hd:Rt.display("inlineBlock"),tl:{hd:Rt.marginRight(tt.NewSize.px4),tl:0}}}}),sR=s._1(Rt.css,{hd:Rt.label("targetLinkWithMenu"),tl:{hd:Rt.display("inlineBlock"),tl:{hd:Rt.wordBreak("breakAll"),tl:0}}}),lR=tt.Media.minWidth(1921),dR={hd:{TAG:0,_0:{NAME:"percent",VAL:30}},tl:{hd:{TAG:1,_0:[lR,{NAME:"percent",VAL:35}]},tl:0}},cR={hd:{TAG:0,_0:{NAME:"px",VAL:400}},tl:{hd:{TAG:1,_0:[lR,{NAME:"px",VAL:600}]},tl:0}},uR={hd:{TAG:0,_0:{NAME:"percent",VAL:100}},tl:0},gR=r(75850),mR={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:0}}}}}}}}}};function fR(e){switch(e){case"org_keywords":return 4;case"org_pages":return 5;case"org_traffic":return 2;case"org_traffic_value":return 3;case"paid_keywords":return 8;case"paid_pages":return 9;case"paid_traffic":return 6;case"paid_traffic_value":return 7;case"ref_domains":return 1;case"ref_pages":return 0;default:return}}function pR(e){switch(e){case 0:return"ref_pages";case 1:return"ref_domains";case 2:return"org_traffic";case 3:return"org_traffic_value";case 4:return"org_keywords";case 5:return"org_pages";case 6:return"paid_traffic";case 7:return"paid_traffic_value";case 8:return"paid_keywords";case 9:return"paid_pages"}}function _R(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"741c041196cf7cfe48ae97316de90e1c",defaultMessage:"Ref. pages"});case 1:return s._1(ke.Message.to_s,{id:"b7c288b5586ea752916af992cfbd217f",defaultMessage:"Ref. domains"});case 2:return s._1(ke.Message.to_s,{id:"ab89f2050f2b6252730728b859e7d222",defaultMessage:"Organic traffic"});case 3:return s._1(ke.Message.to_s,{id:"bb27075790e63da33396083a56a87e82",defaultMessage:"Traffic value"});case 4:return s._1(ke.Message.to_s,{id:"f242242b20458942e56c0d26fea829f1",defaultMessage:"Organic keywords"});case 5:return s._1(ke.Message.to_s,{id:"9921cc0c7008f2fa95bec2aa96989c10",defaultMessage:"Organic pages"});case 6:return s._1(ke.Message.to_s,{id:"bf678b3bde436918c6a4138e08696c3e",defaultMessage:"Paid traffic"});case 7:return s._1(ke.Message.to_s,{id:"95394ec78892b094b81bb8b7f3f15eda",defaultMessage:"Traffic cost"});case 8:return s._1(ke.Message.to_s,{id:"6ee4f3df314fb936a19b75836421c30d",defaultMessage:"Paid keywords"});case 9:return s._1(ke.Message.to_s,{id:"3cda074748d73df2c2f9711f23d9d308",defaultMessage:"Paid pages"})}}var hR=It.MakeList({key:"columns",all:mR,$$default:{hd:1,tl:{hd:2,tl:{hd:5,tl:{hd:6,tl:{hd:9,tl:0}}}}},localStorageKey:"se_site_structure_columns",toString:function(e){return pR(e)},ofString:function(e){return me.flatMap(e,fR)},ordered:!0}),kR=function(e){var t=e.value,r=e.onChange,o=a.useStateValue(!1),i=o[1],n=o[0];return z.createElement(LC.make,{isOpen:n,placement:"topStart",content:z.createElement("div",{className:gR.blockMenu},a.list(ce.map(mR,(function(e){var o=ce.has(t,e,(function(e,t){return e===t})),i=function(a){return s._1(r,o?ce.filter(t,(function(t){return t!==e})):{hd:e,tl:t})};return z.createElement(Ui.make,{children:z.createElement(Ut.make,{label:z.createElement(Je.make,{gap:"px10",layout:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"center",children:z.createElement(pt.make,{color:"primary",children:a.s(_R(e))})}),checked:o,onChange:function(e){return i()}}),onClick:function(e){return e.preventDefault(),e.stopPropagation(),i()},key:pR(e)})})))),onClickOutside:function(e){return s._1(i,!1)},children:z.createElement(Pg.make,{onClick:function(e){return s._1(i,!n)},children:z.createElement(Je.make,{gap:"px10",children:null},z.createElement(Xe.Columns.make,s.app(Xe.Columns.makeProps,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])),s._1(ke.Message.to_s,{id:"ad9d06eb5681862356a1ad614f079259",defaultMessage:"Columns"}))})})},vR={refPages:dt.zero,refDomains:dt.zero,orgTrafficMth:dt.zero,orgTrafficAvg:dt.zero,orgValueMth:dt.zero,orgValueAvg:dt.zero,orgKeywords:dt.zero,orgPages:dt.zero,paidTrafficMth:dt.zero,paidTrafficAvg:dt.zero,paidValueMth:dt.zero,paidValueAvg:dt.zero,paidKeywords:dt.zero,paidPages:dt.zero},yR=ya.Sort.MakeFilter({$$default:3,toString:function(e){switch(e){case 0:return"path";case 1:return"refPages";case 2:return"refDomain";case 3:return"orgTraffic";case 4:return"orgTrafficChange";case 5:return"orgTrafficChangePct";case 6:return"orgValue";case 7:return"orgValueChange";case 8:return"orgValueChangePct";case 9:return"orgKeywords";case 10:return"orgKeywordsChange";case 11:return"orgKeywordsChangePct";case 12:return"orgPages";case 13:return"orgPagesChange";case 14:return"orgPagesChangePct";case 15:return"paidTraffic";case 16:return"paidTrafficChange";case 17:return"paidTrafficChangePct";case 18:return"paidValue";case 19:return"paidValueChange";case 20:return"paidValueChangePct";case 21:return"paidKeywords";case 22:return"paidKeywordsChange";case 23:return"paidKeywordsChangePct";case 24:return"paidPages";case 25:return"paidPagesChange";case 26:return"paidPagesChangePct"}},ofString:function(e){switch(e){case"orgKeywords":return 9;case"orgKeywordsChange":return 10;case"orgKeywordsChangePct":return 11;case"orgPages":return 12;case"orgPagesChange":return 13;case"orgPagesChangePct":return 14;case"orgTraffic":return 3;case"orgTrafficChange":return 4;case"orgTrafficChangePct":return 5;case"orgValue":return 6;case"orgValueChange":return 7;case"orgValueChangePct":return 8;case"paidKeywords":return 21;case"paidKeywordsChange":return 22;case"paidKeywordsChangePct":return 23;case"paidPages":return 24;case"paidPagesChange":return 25;case"paidPagesChangePct":return 26;case"paidTraffic":return 15;case"paidTrafficChange":return 16;case"paidTrafficChangePct":return 17;case"paidValue":return 18;case"paidValueChange":return 19;case"paidValueChangePct":return 20;case"path":return 0;case"refDomain":return 2;case"refPages":return 1;default:return}},defaultDirection:"Desc"}),DR=yR.Name,SR=yR.getDefault,FR=yR.isApplied,CR=yR.ofQueryWithDefault,wR=yR.toQuery,TR=yR.Direction,bR={Name:DR,Direction:TR,getDefault:SR,isApplied:FR,ofQueryWithDefault:CR,toQuery:wR,toActualFieldName:function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.refpages)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.refdomains)),tl:0};case 3:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_traffic)),tl:0};case 6:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_cost)),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_keywords)),tl:0};case 12:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_pages)),tl:0};case 15:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_traffic)),tl:0};case 18:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_cost)),tl:0};case 21:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_keywords)),tl:0};case 24:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_pages)),tl:0};case 4:case 5:case 7:case 8:case 10:case 11:case 13:case 14:case 16:case 17:case 19:case 20:case 22:case 23:case 25:case 26:return 0}},toComparedFieldName:function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.refpages)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.refdomains)),tl:0};case 3:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_traffic)),tl:0};case 4:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_traffic)),tl:0};case 5:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_traffic_avg_percent)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_traffic_percent)),tl:0};case 6:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_cost)),tl:0};case 7:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_cost)),tl:0};case 8:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_cost_avg_percent)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_cost_percent)),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_keywords)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_keywords)),tl:0};case 11:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_keywords_percent)),tl:0};case 12:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_pages)),tl:0};case 13:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_pages)),tl:0};case 14:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_pages_percent)),tl:0};case 15:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_traffic)),tl:0};case 16:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_traffic)),tl:0};case 17:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_traffic_avg_percent)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_traffic_percent)),tl:0};case 18:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_cost)),tl:0};case 19:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_cost)),tl:0};case 20:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_cost_avg_percent)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_cost_percent)),tl:0};case 21:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_keywords)),tl:0};case 22:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_keywords)),tl:0};case 23:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_keywords_percent)),tl:0};case 24:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_pages)),tl:0};case 25:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_pages)),tl:0};case 26:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_pages_percent)),tl:0}}}};function PR(e){return{sort:s._1(SR,void 0),country:s._1(Sa.WithAll.Filter.getDefault,void 0),currentDate:s._1(Pt.CurrentDate.getDefault,void 0),compareDate:s._1(Pt.CompareDate.getDefault,void 0),columns:s._1(hR.getDefault,void 0),volumeMode:s._1(Pa.getDefault,void 0),url:s._1(fa.$$URL.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),orgTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),paidTraffic:s._1(pa.PaidPageTraffic.Filter.getDefault,void 0),paidKeywords:s._1(pa.PaidKeywords.Filter.getDefault,void 0)}}var MR={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:0}}}}}}}}}}}};function AR(e,t,r){var a=void 0!==e?e:MR,o=Pt.CurrentDate.ofQueryWithDefault,i=s._2(o,t.reportHistoricalPermissions,r);return ce.reduce(a,PR(),(function(e,a){switch(a){case 0:return{sort:s._1(CR,r),country:e.country,currentDate:e.currentDate,compareDate:e.compareDate,columns:e.columns,volumeMode:e.volumeMode,url:e.url,refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 1:return{sort:e.sort,country:s._1(Sa.WithAll.Filter.ofQueryWithDefault,r),currentDate:e.currentDate,compareDate:e.compareDate,columns:e.columns,volumeMode:e.volumeMode,url:e.url,refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 2:return{sort:e.sort,country:e.country,currentDate:i,compareDate:e.compareDate,columns:e.columns,volumeMode:e.volumeMode,url:e.url,refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 3:return{sort:e.sort,country:e.country,currentDate:e.currentDate,compareDate:Pt.CompareDate.ofQueryWithDefault(t.reportHistoricalPermissions,i,t.settings.siteStructureCompare,r,void 0),columns:e.columns,volumeMode:e.volumeMode,url:e.url,refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 4:return{sort:e.sort,country:e.country,currentDate:e.currentDate,compareDate:e.compareDate,columns:s._1(hR.ofQueryWithDefault,r),volumeMode:e.volumeMode,url:e.url,refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 5:return{sort:e.sort,country:e.country,currentDate:e.currentDate,compareDate:e.compareDate,columns:e.columns,volumeMode:s._2(Pa.ofQueryWithCustomDefault,r,t.settings.siteStructureVolumeMode),url:e.url,refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 6:return{sort:e.sort,country:e.country,currentDate:e.currentDate,compareDate:e.compareDate,columns:e.columns,volumeMode:e.volumeMode,url:s._1(fa.$$URL.Filter.ofQueryWithDefault,r),refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 7:return{sort:e.sort,country:e.country,currentDate:e.currentDate,compareDate:e.compareDate,columns:e.columns,volumeMode:e.volumeMode,url:e.url,refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,r),orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 8:return{sort:e.sort,country:e.country,currentDate:e.currentDate,compareDate:e.compareDate,columns:e.columns,volumeMode:e.volumeMode,url:e.url,refDomains:e.refDomains,orgTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,r),orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 9:return{sort:e.sort,country:e.country,currentDate:e.currentDate,compareDate:e.compareDate,columns:e.columns,volumeMode:e.volumeMode,url:e.url,refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,r),paidTraffic:e.paidTraffic,paidKeywords:e.paidKeywords};case 10:return{sort:e.sort,country:e.country,currentDate:e.currentDate,compareDate:e.compareDate,columns:e.columns,volumeMode:e.volumeMode,url:e.url,refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:s._1(pa.PaidPageTraffic.Filter.ofQueryWithDefault,r),paidKeywords:e.paidKeywords};case 11:return{sort:e.sort,country:e.country,currentDate:e.currentDate,compareDate:e.compareDate,columns:e.columns,volumeMode:e.volumeMode,url:e.url,refDomains:e.refDomains,orgTraffic:e.orgTraffic,orgKeywords:e.orgKeywords,paidTraffic:e.paidTraffic,paidKeywords:s._1(pa.PaidKeywords.Filter.ofQueryWithDefault,r)}}}))}function RR(e,t,r){var a=void 0!==e?e:MR,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(wR,e,r.sort);case 1:return s._2(Sa.WithAll.Filter.toQuery,e,r.country);case 2:return s._2(Pt.CurrentDate.toQuery,e,r.currentDate);case 3:return s._2(Pt.CompareDate.toQuery,e,r.compareDate);case 4:return s._2(hR.toQuery,e,r.columns);case 5:return s._2(Pa.toQuery,e,r.volumeMode);case 6:return s._2(fa.$$URL.Filter.toQuery,e,r.url);case 7:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 8:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgTraffic);case 9:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 10:return s._2(pa.PaidPageTraffic.Filter.toQuery,e,r.paidTraffic);case 11:return s._2(pa.PaidKeywords.Filter.toQuery,e,r.paidKeywords)}}))}var LR={hd:5,tl:{hd:1,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:0}}}}}}}};function ER(e,t){var r=void 0!==e?l.valFromOption(e):{};return RR(LR,l.some(r),t)}var BR=function(e,t){return i.stringifyQueryDict(ER(void 0,e),void 0,void 0)===i.stringifyQueryDict(ER(void 0,t),void 0,void 0)},KR={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:0}}}}}}};function qR(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:return 0;case 6:return{hd:Da.conjunctOpt({hd:fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.SiteStructureActual.PositionFilter.get,ft.Se_shared.SiteStructureActual.PositionFilter.raw_url),t.url),tl:{hd:fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.SiteStructureActual.BacklinkFilter.get,ft.Se_shared.SiteStructureActual.BacklinkFilter.raw_url),t.url),tl:0}}),tl:0};case 7:return{hd:pa.RefDomains.makeChFilter(s._1(ft.Se_shared.SiteStructureActual.PageFilter.get,ft.Se_shared.SiteStructureActual.PageFilter.refdomains),t.refDomains),tl:0};case 8:var r=t.volumeMode;return{hd:pa.OrgPageTraffic.makeChFilter("Average"===r?s._1(ft.Se_shared.SiteStructureActual.PageFilter.get,ft.Se_shared.SiteStructureActual.PageFilter.org_traffic_avg):s._1(ft.Se_shared.SiteStructureActual.PageFilter.get,ft.Se_shared.SiteStructureActual.PageFilter.org_traffic),t.orgTraffic),tl:0};case 9:return{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Se_shared.SiteStructureActual.PageFilter.get,ft.Se_shared.SiteStructureActual.PageFilter.org_keywords),t.orgKeywords),tl:0};case 10:var a=t.volumeMode;return{hd:pa.PaidPageTraffic.makeChFilter("Average"===a?s._1(ft.Se_shared.SiteStructureActual.PageFilter.get,ft.Se_shared.SiteStructureActual.PageFilter.paid_traffic_avg):s._1(ft.Se_shared.SiteStructureActual.PageFilter.get,ft.Se_shared.SiteStructureActual.PageFilter.paid_traffic),t.paidTraffic),tl:0};case 11:return{hd:pa.PaidKeywords.makeChFilter(s._1(ft.Se_shared.SiteStructureActual.PageFilter.get,ft.Se_shared.SiteStructureActual.PageFilter.paid_keywords),void 0,t.paidKeywords),tl:0}}}function xR(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:return 0;case 6:return{hd:Da.conjunctOpt({hd:fa.$$URL.makeChFilterActual(s._1(ft.Se_shared.SiteStructureCompared.BacklinkFilter.get,ft.Se_shared.SiteStructureCompared.BacklinkFilter.raw_url),t.url),tl:{hd:fa.$$URL.makeChFilterCompared(s._1(ft.Se_shared.SiteStructureCompared.PreviousPositionFilter.get,ft.Se_shared.SiteStructureCompared.PreviousPositionFilter.raw_url),s._1(ft.Se_shared.SiteStructureCompared.CurrentPositionFilter.get,ft.Se_shared.SiteStructureCompared.CurrentPositionFilter.raw_url),!1,t.url),tl:0}}),tl:0};case 7:return{hd:pa.RefDomains.makeChFilter(s._1(ft.Se_shared.SiteStructureCompared.CurrentPageFilter.get,ft.Se_shared.SiteStructureCompared.CurrentPageFilter.refdomains),t.refDomains),tl:0};case 8:var r=t.volumeMode;return{hd:pa.OrgPageTraffic.makeChFilter("Average"===r?s._1(ft.Se_shared.SiteStructureCompared.CurrentPageFilter.get,ft.Se_shared.SiteStructureCompared.CurrentPageFilter.org_traffic_avg):s._1(ft.Se_shared.SiteStructureCompared.CurrentPageFilter.get,ft.Se_shared.SiteStructureCompared.CurrentPageFilter.org_traffic),t.orgTraffic),tl:0};case 9:return{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Se_shared.SiteStructureCompared.CurrentPageFilter.get,ft.Se_shared.SiteStructureCompared.CurrentPageFilter.org_keywords),t.orgKeywords),tl:0};case 10:var a=t.volumeMode;return{hd:pa.PaidPageTraffic.makeChFilter("Average"===a?s._1(ft.Se_shared.SiteStructureCompared.CurrentPageFilter.get,ft.Se_shared.SiteStructureCompared.CurrentPageFilter.paid_traffic_avg):s._1(ft.Se_shared.SiteStructureCompared.CurrentPageFilter.get,ft.Se_shared.SiteStructureCompared.CurrentPageFilter.paid_traffic),t.paidTraffic),tl:0};case 11:return{hd:pa.PaidKeywords.makeChFilter(s._1(ft.Se_shared.SiteStructureCompared.CurrentPageFilter.get,ft.Se_shared.SiteStructureCompared.CurrentPageFilter.paid_keywords),void 0,t.paidKeywords),tl:0}}}var WR=KR,UR=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(KR,(function(t){return qR(t,e)})))),(function(e){return e}))},OR=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(KR,(function(t){return xR(t,e)})))),(function(e){return e}))};function NR(e){return xg.Deprecated.setter(s._2(ag.Backlinks.Deprecated.setter,{},s._1(ag.Backlinks.toString,2)),xg.Deprecated.valueToString(0))}function $R(e){return Pt.Deprecated.setter(s._2(Zo.setCountry,{},s._1(di.dataToString,e.country)),[hr.show(e.currentDate),_r.show("DontCompare")])}function IR(e){return Pt.Deprecated.setter(Pa.Deprecated.setter(s._2(Zo.setCountry,{},s._1(di.dataToString,e.country)),Pa.Deprecated.valueToString(e.volumeMode)),[hr.show(e.currentDate),_r.show("DontCompare")])}function GR(e,t,r,a,o,i,n,l,d){var c=cR,u=dR,g=s._1(DR.toString,0),m=s._1(ke.Message.to_s,{id:"ec99c2c67e005ebfaccff8aed6cfc9cc",defaultMessage:"Path"});return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a,d){return z.useMemo((function(){var e,t=Ur.get(i.map,r),c=!(void 0===t||!t),u=on.fromString(a);if(void 0!==l){var g=l.endsWith("/")?l:l+"/";e=r.replace(g,"")}else e=r;return z.createElement(va.Td.make,{columnType:2,stickyOffset:Xb.tablePadding,contentHeight:"button",paddingLeft:"none",nowrap:!1,children:z.createElement(Je.make,{gap:"none",layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement("div",{className:iR(n)}),z.createElement("div",{className:nR},d?null:z.createElement(_o.make,{onClick:function(e){return s._2(i.setRow,r,!c||void 0)},children:z.createElement(Xe.Caret.make,Xe.Caret.makeProps(void 0,void 0,void 0,void 0,c?1:3,void 0,void 0,void 0,void 0,void 0,void 0,void 0))})),z.createElement("div",{className:sR},z.createElement(vn.make,{displayLink:"http://"+r,tkLinkContextInput:u,color:"black",label:e,highlightAnywhereTerms:o.contain,highlightStartTerms:o.startWith,highlightEndTerms:o.endWith,boldDomain:!1})))})}),[r,a,d,i.map,Aa.toKey(o),e])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,m,void 0,g,void 0,void 0,"none",void 0,void 0,void 0,void 0,u,c,2,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,t),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,r),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,a),0))))}function QR(e,t,r,o,i,n,d,c,u){var g,m=void 0!==o?o:ae.Int.full,f=void 0!==n?l.valFromOption(n):{},p=void 0!==d?d:function(e,t){};if(i){var _=r;g=function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,_,void 0,c,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}}else g=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r){return z.useMemo((function(){if(!i)return null;var e=a.s(s._1(m,ie.to_int32(r))),o=s._2(p,t,f);return z.createElement(va.Td.make,{align:"right",children:void 0!==o?z.createElement(ta.make,{href:o,mode:0,children:e}):z.createElement(pt.make,{children:e})})}),[i,t,ie.to_int32(r),f])}),{renderHeader:g},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,t),0)))}function VR(e,t,r,a){var o;if(t){var i={hd:{TAG:0,_0:{NAME:"px",VAL:50}},tl:0};o=function(e,t,r,a,o,n,s,l){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,i,void 0,void 0,void 0,e,t,r,a,o,n,s,l)}}else o=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,a){return z.useMemo((function(){return t?z.createElement(va.Td.make,{children:z.createElement(tg,{total:r,value:ie.to_float(a)})}):null}),[t,r,ie.to_float(a)])}),{renderHeader:o},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e),0))}function jR(e,t,r,a,o,i){var n;if(a){var l={hd:{TAG:0,_0:{NAME:"px",VAL:40}},tl:0};n=function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,l,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}}else n=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,n){var s="Average"===r?[n,i]:[t,o],l=s[1],d=s[0];return z.useMemo((function(){return a?z.createElement(va.Td.make,{children:z.createElement(tg,{total:l,value:ie.to_float(d)})}):null}),[a,ie.to_float(d),l])}),{renderHeader:n},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,t),0)))}function HR(e,t,r,o,i,n,l,d,c){var u,g=void 0!==i?i:ae.Int.full;if(n){var m=void 0!==l?2:1,f=o;u=function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,f,void 0,d,void 0,"right",void 0,void 0,void 0,void 0,m,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}}else u=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,o){var i="Average"===r?o:t;return z.useMemo((function(){if(!n)return null;var e;if(void 0!==l){var t="Average"===r?l.traffic_avg:l.traffic,o=ie.to_float(i)/t*100;e=z.createElement(va.Td.make,{align:"right",contentHeight:"smallText",paddingLeft:"none",children:z.createElement(pt.make,{children:0!==o&&isFinite(o)?o<.1?z.createElement(pt.make,{color:"secondary",fontSize:"xs",children:a.s("<0.1%")}):z.createElement(pt.make,{color:"secondary",fontSize:"xs",children:a.s(ae.Float.custom(o/100,"0,0.0%"))}):null})})}else e=null;return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{align:"right",children:z.createElement(pt.make,{children:a.s(s._1(g,ie.to_int32(i)))})}),e)}),[n,ie.to_int32(i)])}),{renderHeader:u},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,t),0)))}La.makeRenderHeader,La.makeNullHeader;var zR=s._1(Rt.css,{hd:Rt.label("totals"),tl:0}),YR=s._1(Rt.css,{hd:Rt.label("header"),tl:{hd:Rt.display("flex"),tl:{hd:Rt.flexDirection("row"),tl:{hd:Rt.flexWrap("wrap"),tl:{hd:Rt.selector("& > div:not(:last-child)",{hd:Rt.marginRight(tt.NewSize.px8),tl:{hd:Rt.selectSelf(zR)({hd:Rt.marginRight(tt.NewSize.px16),tl:{hd:Rt.display("flex"),tl:{hd:Rt.alignItems("center"),tl:0}}}),tl:0}}),tl:0}}}}}),JR=s._1(Rt.css,{hd:Rt.label("spacer"),tl:{hd:Rt.flex3(1,1,"auto"),tl:{hd:Rt.media(tt.Media.tabletDown,{hd:Rt.display("none"),tl:0}),tl:0}}}),XR=r(96229),ZR=r(78265);function eL(e,t){return t?{remoteData:t._0,maxPerPage:t._1}:{remoteData:1,maxPerPage:e.maxPerPage}}function tL(e,t,r,a){return Re("string"==typeof t||"Compared"!==t.NAME?bR.toActualFieldName(e,r):bR.toComparedFieldName(e,r),a)}var rL={contents:void 0};function aL(e,t,r){return mt.caml_max(mt.caml_max(e,t),r)}function oL(e,t,r,a,o,i,n,l,d,c){var u=Le(n,void 0,tL(a,l,o,i),{protocol:0,url:"",mode:3},Sa.Item.toCountryOpt(d),l);return rL.contents=u,s._1(e,0),Ye.forEach(R(void 0,ZR.request,{seTopPagesInputRaw:{args:{mode:r.mode,protocol:r.protocol,url:r.url,reportMode:l,country:Sa.Item.toCountryOpt(d)},params:{filter:n,size:100,offset:0,order_by:tL(a,l,o,i),shape:ce.map(t,(function(e){return e[1]})),timeout:void 0}},signedEnvironment:c}),(function(r){if(mt.caml_equal(u,rL.contents)){var a,o=0;return"string"==typeof l||"Compared"!==l.NAME?o=1:a=de.mapWithDefault(r,vR,(function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.refpages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.refdomains)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_pages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_pages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_pages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_pages)),0)))))))))))))))))))))))))),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,n,l,d,c,u,g,m,f,p,_,h,k,v,y,D,S,F,C,w,T,b,P,M){return s._1(t,{refPages:aL(e.refPages,a,dt.zero),refDomains:aL(e.refDomains,o,dt.zero),orgTrafficMth:aL(e.orgTrafficMth,i,n),orgTrafficAvg:aL(e.orgTrafficAvg,l,d),orgValueMth:aL(e.orgValueMth,c,u),orgValueAvg:aL(e.orgValueAvg,g,m),orgKeywords:aL(e.orgKeywords,f,p),orgPages:aL(e.orgPages,_,h),paidTrafficMth:aL(e.paidTrafficMth,k,v),paidTrafficAvg:aL(e.paidTrafficAvg,y,D),paidValueMth:aL(e.paidValueMth,S,F),paidValueAvg:aL(e.paidValueAvg,C,w),paidKeywords:aL(e.paidKeywords,T,b),paidPages:aL(e.paidPages,P,M)})}),vR,e.rows.rows)})),1===o&&(a=de.mapWithDefault(r,vR,(function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.refpages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.refdomains)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_pages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_keywords)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_pages)),0)))))))))))))),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,n,l,d,c,u,g,m,f,p,_,h){return s._1(t,{refPages:aL(e.refPages,a,dt.zero),refDomains:aL(e.refDomains,o,dt.zero),orgTrafficMth:aL(e.orgTrafficMth,i,dt.zero),orgTrafficAvg:aL(e.orgTrafficAvg,n,dt.zero),orgValueMth:aL(e.orgValueMth,l,dt.zero),orgValueAvg:aL(e.orgValueAvg,d,dt.zero),orgKeywords:aL(e.orgKeywords,c,dt.zero),orgPages:aL(e.orgPages,u,dt.zero),paidTrafficMth:aL(e.paidTrafficMth,g,dt.zero),paidTrafficAvg:aL(e.paidTrafficAvg,m,dt.zero),paidValueMth:aL(e.paidValueMth,f,dt.zero),paidValueAvg:aL(e.paidValueAvg,p,dt.zero),paidKeywords:aL(e.paidKeywords,_,dt.zero),paidPages:aL(e.paidPages,h,dt.zero)})}),vR,e.rows.rows)}))),s._1(e,{_0:r,_1:a})}}))}function iL(e,t){var r=i.stringifyQueryDict(RR(WR,void 0,t),void 0,void 0);return[r,z.useMemo((function(){var r="string"==typeof e||"Compared"!==e.NAME?UR(t):OR(t);return me.map(Da.conjunct(r),Da.makeFilter)}),[r,Te(e)])]}function nL(e,t,r,a,o,i,n,d,c,u,g){var m=void 0!==n?n:0;if("string"!=typeof a&&"Compared"===a.NAME){var f=a.VAL,p=function(e,t,r,a,o,i,n,d,c,u,g,m,f){var p=void 0!==d?d:0,_=u.volumeMode,h=function(e){var r=function(t,r,a,o,i,n,s,l,d,c,u,g,m,f,p,_,h,k,v,y){return Ca.makeChangesColumnWithVolumeModeNonOpt(e,t,r,a,o,i,n,s,l,d,c,u,g,m,f,p,_,h,k,v,y)};return function(e){var i=s._1(r,e);return function(e){var r=s._1(i,e);return function(e){var i=s._1(r,e);return function(e){var r=s._1(i,e);return function(e){var i=s._1(r,e);return function(e){var r=s._1(i,e);return function(e){var i=s._3(r,e,t,_);return function(e){var t=s._1(i,e);return function(e,r){var i=s._2(t,e,r);return function(e,t){return s._4(i,e,t,o,a)}}}}}}}}}}},k=function(e){return ae.Int.tableAbbr(e)},v=function(e){var r=function(t,r,a,o,i,n,s,l,d,c,u,g,m,f,p){return Ca.makeChangesColumnNonOpt(e,t,r,a,o,i,n,s,l,d,c,u,g,m,f,p)};return function(e){var i=s._1(r,e);return function(e){var r=s._1(i,e);return function(e){var i=s._2(r,e,t);return function(e){var t=s._1(i,e);return function(e,r){var i=s._2(t,e,r);return function(e){return s._4(i,e,k,o,a)}}}}}}},y=u.volumeMode,D=u.volumeMode,S=u.volumeMode,F=u.volumeMode;return{hd:GR(e,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path_tkLinkContext_input),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.leaf),Aa.getTerms(u.url.rules),i,p,c),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.refpages),_R(0),void 0,ce.has(n,0,Qr.equal),void 0,void 0,s._1(DR.toString,1)),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.refdomains),_R(1),void 0,ce.has(n,1,Qr.equal),l.some(NR()),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makeRefdomainsUrl(e,void 0,l.some(t),void 0)}))}),s._1(DR.toString,2)),tl:{hd:HR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_traffic),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_traffic_avg),u.volumeMode,_R(2),void 0,ce.has(n,2,Qr.equal),g,s._1(DR.toString,3)),tl:{hd:s.app(h(s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_traffic))(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_traffic)),[s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_traffic_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_traffic),s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_traffic_avg),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_traffic_avg),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_traffic_avg_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_traffic_avg),"Average"===y?ie.to_float(r.orgTrafficAvg):ie.to_float(r.orgTrafficMth),void 0,_R(2),void 0,ae.Int.tableAbbr,s._1(DR.toString,t>=2?5:4),void 0,ce.has(n,2,Qr.equal),void 0]),tl:{hd:HR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_cost),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_cost_avg),u.volumeMode,_R(3),Ae,ce.has(n,3,Qr.equal),void 0,s._1(DR.toString,6)),tl:{hd:s.app(h(s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_cost))(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_cost)),[s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_cost_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_cost),s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_cost_avg),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_cost_avg),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_cost_avg_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_cost_avg),"Average"===D?ie.to_float(r.orgValueAvg):ie.to_float(r.orgValueMth),void 0,_R(3),Ae,Ae,s._1(DR.toString,t>=2?8:7),void 0,ce.has(n,3,Qr.equal),void 0]),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_keywords),_R(4),void 0,ce.has(n,4,Qr.equal),l.some($R(u)),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makeOrganicKeywordsUrl(e,void 0,l.some(t),void 0)}))}),s._1(DR.toString,9)),tl:{hd:s.app(v(s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_keywords))(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_keywords)),[s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_keywords_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_keywords),ie.to_float(r.orgKeywords),void 0,_R(4),void 0,s._1(DR.toString,t>=2?11:10),void 0,ce.has(n,4,Qr.equal),void 0]),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_pages),_R(5),void 0,ce.has(n,5,Qr.equal),l.some(IR(u)),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makeTopPagesUrl(e,l.some(t),void 0)}))}),s._1(DR.toString,12)),tl:{hd:s.app(v(s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.org_pages))(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.org_pages)),[s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_pages_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.org_pages),ie.to_float(r.orgPages),void 0,_R(5),void 0,s._1(DR.toString,t>=2?14:13),void 0,ce.has(n,5,Qr.equal),void 0]),tl:{hd:HR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_traffic),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_traffic_avg),u.volumeMode,_R(6),void 0,ce.has(n,6,Qr.equal),m,s._1(DR.toString,15)),tl:{hd:s.app(h(s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_traffic))(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_traffic)),[s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_traffic_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_traffic),s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_traffic_avg),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_traffic_avg),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_traffic_avg_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_traffic_avg),"Average"===S?ie.to_float(r.paidTrafficAvg):ie.to_float(r.paidTrafficMth),void 0,_R(6),void 0,ae.Int.tableAbbr,s._1(DR.toString,t>=2?17:16),void 0,ce.has(n,6,Qr.equal),void 0]),tl:{hd:HR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_cost),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_cost_avg),u.volumeMode,_R(7),Ae,ce.has(n,7,Qr.equal),void 0,s._1(DR.toString,18)),tl:{hd:s.app(h(s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_cost))(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_cost)),[s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_cost_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_cost),s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_cost_avg),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_cost_avg),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_cost_avg_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_cost_avg),"Average"===F?ie.to_float(r.paidValueAvg):ie.to_float(r.paidValueMth),void 0,_R(7),Ae,Ae,s._1(DR.toString,t>=2?20:19),void 0,ce.has(n,7,Qr.equal),void 0]),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_keywords),_R(8),void 0,ce.has(n,8,Qr.equal),l.some($R(u)),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makePaidKeywordsUrl(e,void 0,l.some(t),void 0)}))}),s._1(DR.toString,21)),tl:{hd:s.app(v(s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_keywords))(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_keywords)),[s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_keywords_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_keywords),ie.to_float(r.paidKeywords),void 0,_R(8),void 0,s._1(DR.toString,t>=2?23:22),void 0,ce.has(n,8,Qr.equal),void 0]),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path),s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_pages),_R(9),void 0,ce.has(n,9,Qr.equal),l.some(IR(u)),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makePaidPagesUrl(e,void 0,l.some(t),void 0)}))}),s._1(DR.toString,24)),tl:{hd:s.app(v(s._1(ft.Se_shared.SiteStructureCompared.PreviousFolder.get,ft.Se_shared.SiteStructureCompared.PreviousFolder.paid_pages))(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.paid_pages)),[s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_pages_percent),s._1(ft.Se_shared.SiteStructureCompared.DiffFolder.get,ft.Se_shared.SiteStructureCompared.DiffFolder.paid_pages),ie.to_float(r.paidPages),void 0,_R(9),void 0,s._1(DR.toString,t>=2?26:25),void 0,ce.has(n,9,Qr.equal),void 0]),tl:{hd:Ca.makeSpacerColumn(s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.hash),uR),tl:0}}}}}}}}}}}}}}}}}}}}}(e,t,r,f.actual,f.comparedWith,o,i,m,d,c,u.organic,u.paid);return[p,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureCompared.CurrentFolder.get,ft.Se_shared.SiteStructureCompared.CurrentFolder.path)),0)]}var _=function(e,t,r,a,o,i,n,d,c,u){var g=void 0!==o?o:0;return{hd:GR(e,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path_tkLinkContext_input),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.leaf),Aa.getTerms(n.url.rules),t,g,i),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.refpages),_R(0),void 0,ce.has(r,0,Qr.equal),void 0,void 0,s._1(DR.toString,1)),tl:{hd:VR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.refpages),ce.has(r,0,Qr.equal),ie.to_float(a.refPages)),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.refdomains),_R(1),void 0,ce.has(r,1,Qr.equal),l.some(NR()),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makeRefdomainsUrl(e,void 0,l.some(t),void 0)}))}),s._1(DR.toString,2)),tl:{hd:VR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.refdomains),ce.has(r,1,Qr.equal),ie.to_float(a.refDomains)),tl:{hd:HR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_traffic),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_traffic_avg),n.volumeMode,_R(2),void 0,ce.has(r,2,Qr.equal),d,s._1(DR.toString,3)),tl:{hd:jR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_traffic),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_traffic_avg),n.volumeMode,ce.has(r,2,Qr.equal),ie.to_float(a.orgTrafficMth),ie.to_float(a.orgTrafficAvg)),tl:{hd:HR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_cost),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_cost_avg),n.volumeMode,_R(3),Ae,ce.has(r,3,Qr.equal),void 0,s._1(DR.toString,6)),tl:{hd:jR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_cost),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_cost_avg),n.volumeMode,ce.has(r,3,Qr.equal),ie.to_float(a.orgValueMth),ie.to_float(a.orgValueAvg)),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_keywords),_R(4),void 0,ce.has(r,4,Qr.equal),l.some($R(n)),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makeOrganicKeywordsUrl(e,void 0,l.some(t),void 0)}))}),s._1(DR.toString,9)),tl:{hd:VR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_keywords),ce.has(r,4,Qr.equal),ie.to_float(a.orgKeywords)),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_pages),_R(5),void 0,ce.has(r,5,Qr.equal),l.some(IR(n)),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makeTopPagesUrl(e,l.some(t),void 0)}))}),s._1(DR.toString,12)),tl:{hd:VR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.org_pages),ce.has(r,5,Qr.equal),ie.to_float(a.orgPages)),tl:{hd:HR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_traffic),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_traffic_avg),n.volumeMode,_R(6),void 0,ce.has(r,6,Qr.equal),c,s._1(DR.toString,15)),tl:{hd:jR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_traffic),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_traffic_avg),n.volumeMode,ce.has(r,6,Qr.equal),ie.to_float(a.paidTrafficMth),ie.to_float(a.paidTrafficAvg)),tl:{hd:HR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_cost),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_cost_avg),n.volumeMode,_R(7),Ae,ce.has(r,7,Qr.equal),void 0,s._1(DR.toString,18)),tl:{hd:jR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_cost),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_cost_avg),n.volumeMode,ce.has(r,7,Qr.equal),ie.to_float(a.paidValueMth),ie.to_float(a.paidValueAvg)),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_keywords),_R(8),void 0,ce.has(r,8,Qr.equal),l.some($R(n)),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makePaidKeywordsUrl(e,void 0,l.some(t),void 0)}))}),s._1(DR.toString,21)),tl:{hd:VR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_keywords),ce.has(r,8,Qr.equal),ie.to_float(a.paidKeywords)),tl:{hd:QR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path),s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_pages),_R(9),void 0,ce.has(r,9,Qr.equal),l.some(IR(n)),(function(e,t){return me.flatMap(Ve.fromUrlWithMode(e,1),(function(e){return j.V2.makePaidPagesUrl(e,void 0,l.some(t),void 0)}))}),s._1(DR.toString,24)),tl:{hd:VR(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.paid_pages),ce.has(r,9,Qr.equal),ie.to_float(a.paidPages)),tl:{hd:Ca.makeSpacerColumn(s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.hash),uR),tl:0}}}}}}}}}}}}}}}}}}}}}}}(e,o,i,r,m,d,c,u.organic,u.paid);return[_,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.SiteStructureActual.Folder.get,ft.Se_shared.SiteStructureActual.Folder.path)),0)]}var sL=XR.init_mod(["SeSiteStructureInnerTable.re",391,35],{TAG:0,_0:[[0,"make"],[0,"makeProps"]]});XR.update_mod({TAG:0,_0:[[0,"make"],[0,"makeProps"]]},sL,{make:function(e){var t=e.signedEnvironment,r=e.depth,o=e.settings,i=e.target,n=e.country,d=e.reportMode,c=e.changesMode,u=e.maxPerPage,g=e.totalTraffic,m=e.tableLeftOffset,f=e.filters,p=z.useReducer(eL,{remoteData:0,maxPerPage:vR}),_=p[1],h=p[0],k=ya.useMultipleExpandedRows(void 0,void 0),v=iL(d,f)[1],y=nL(i.protocol,c,u,d,k,f.columns,r,i.url,f,g),D=y[0],S=s._3(Ra.FieldsRequestDescr.customRow,D,(function(e,a){var l=me.isSome(Ur.get(k.map,a));return z.createElement(z.Fragment,{children:null},z.createElement(te.Row.make,{columns:D,isStickyFirstColumn:!0,parentData:e}),l?z.createElement(sL.make,s.app(sL.makeProps,[t,r+1|0,o,{protocol:i.protocol,url:a,mode:1},n,d,c,u,g,m,f,void 0,void 0])):null)}),y[1]),F=s._1(Ra.FieldsRequestDescr.toRequest,S);z.useEffect((function(){oL(_,F,i,f.volumeMode,f.sort.name,f.sort.direction,v,d,n,t)}),[]);var C=z.useRef(null),w=Math.imul(me.getWithDefault(Sg.map(C,(function(e){return e.getBoundingClientRect().left})),m),-1),T=Math.imul(r,12)+8|0,b=(w+m|0)+T|0,P=h.remoteData;if("number"==typeof P){if(0===P)return null}else switch(0|P.TAG){case 0:break;case 1:var M,A=h.remoteData;M="number"==typeof A||1!==A.TAG?void 0:A._0;var R={settings:o,children:z.createElement(EC,{onRefetch:function(e){return oL(_,F,i,f.volumeMode,f.sort.name,f.sort.direction,v,d,n,t)}})};return void 0!==M&&(R.error=l.valFromOption(M)),z.createElement("tr",void 0,z.createElement("td",{ref:C,colSpan:9999},z.createElement("div",{className:aR},z.createElement("div",{className:oR(b)},z.createElement(Ao,R)))));case 2:var L=Fa.getValueLocalCache(ce.map(F,(function(e){return e[0]}))),E=z.createRef();return a.list(ce.mapWithIndex(P._0.rows.rows,(function(e,t){return Ra.renderRowField(S,{getValue:s._1(L,t),tableRootRef:E,index:e})})))}return z.createElement("tr",void 0,z.createElement("td",{ref:C,colSpan:9999},z.createElement("div",{className:aR},z.createElement("div",{className:oR(b)},z.createElement(Y.Icon.make,{})))))},makeProps:function(e,t,r,a,o,i,n,s,d,c,u,g,m){var f={signedEnvironment:e,depth:t,settings:r,target:a,country:o,reportMode:i,changesMode:n,maxPerPage:s,totalTraffic:d,tableLeftOffset:c,filters:u};return void 0!==g&&(f.key=l.valFromOption(g)),f}});var lL=sL.make,dL=sL.makeProps,cL=[0,1];function uL(e){return e?s._1(ke.Message.to_s,{id:"ae5044fdfa25eb5e9c7d4ad968d3c826",defaultMessage:"URL paid keywords"}):s._1(ke.Message.to_s,{id:"c5bc1aa84ca5d8bcb03511b9261b2a26",defaultMessage:"URL paid traffic"})}var gL=ce.fromArray(cL),mL=Pl.Make({all:gL}),fL=function(e){var t=e.filters,r=e.onFiltersChange;return z.createElement(mL.make,{label:z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),dropdownItems:ce.map(ce.fromArray(cL),(function(e){return Pl.makeDropdownItem(uL(e),e,void 0,void 0,void 0)})),isFilterApplied:function(e){return e?mt.caml_notequal(t.paidKeywords,s._1(pa.PaidKeywords.Filter.getDefault,void 0)):mt.caml_notequal(t.paidTraffic,s._1(pa.PaidPageTraffic.Filter.getDefault,void 0))},render:function(e,a,o,i){var n=function(t){return s._1(i,e)},l=uL(e);return e?z.createElement(pa.PaidKeywords.make,{value:t.paidKeywords,label:l,autoOpen:a,onHidden:n,onClear:function(a){return s._1(i,e),s._1(r,{sort:t.sort,country:t.country,currentDate:t.currentDate,compareDate:t.compareDate,columns:t.columns,volumeMode:t.volumeMode,url:t.url,refDomains:t.refDomains,orgTraffic:t.orgTraffic,orgKeywords:t.orgKeywords,paidTraffic:t.paidTraffic,paidKeywords:PR().paidKeywords})},onApply:function(e){return s._1(r,{sort:t.sort,country:t.country,currentDate:t.currentDate,compareDate:t.compareDate,columns:t.columns,volumeMode:t.volumeMode,url:t.url,refDomains:t.refDomains,orgTraffic:t.orgTraffic,orgKeywords:t.orgKeywords,paidTraffic:t.paidTraffic,paidKeywords:e})}}):z.createElement(pa.PaidPageTraffic.make,{value:t.paidTraffic,label:l,autoOpen:a,onHidden:n,onClear:function(a){return s._1(i,e),s._1(r,{sort:t.sort,country:t.country,currentDate:t.currentDate,compareDate:t.compareDate,columns:t.columns,volumeMode:t.volumeMode,url:t.url,refDomains:t.refDomains,orgTraffic:t.orgTraffic,orgKeywords:t.orgKeywords,paidTraffic:PR().paidTraffic,paidKeywords:t.paidKeywords})},onApply:function(e){return s._1(r,{sort:t.sort,country:t.country,currentDate:t.currentDate,compareDate:t.compareDate,columns:t.columns,volumeMode:t.volumeMode,url:t.url,refDomains:t.refDomains,orgTraffic:t.orgTraffic,orgKeywords:t.orgKeywords,paidTraffic:e,paidKeywords:t.paidKeywords})}})}})},pL=r(34494),_L=r(56967);function hL(e,t){if("number"==typeof t)return{changesMode:e.changesMode,tableState:e.tableState,remoteDataTotalTraffic:1};switch(0|t.TAG){case 0:return{changesMode:e.changesMode,tableState:e.tableState,remoteDataTotalTraffic:t._0};case 1:return{changesMode:t._0,tableState:e.tableState,remoteDataTotalTraffic:e.remoteDataTotalTraffic};case 2:return{changesMode:e.changesMode,tableState:eL(e.tableState,t._0),remoteDataTotalTraffic:e.remoteDataTotalTraffic}}}var kL={contents:gt()};function vL(e,t,r,a,o,i,l,d){s._1(e,0);var c=gt();return kL.contents=c,Ye.forEach(R(void 0,_L.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:a,country:Sa.Item.toCountryOpt(o)},params:{filter:r,size:0,offset:0,order_by:tL(i,a,l,d),shape:void 0,timeout:void 0}}),(function(t){if(kL.contents===c)return s._1(e,{TAG:0,_0:t})}))}var yL=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=e.onSettingsUpdated,c=he.useUrl(void 0,void 0),u=c.path,g=i.parseQueryToDict(c.search,void 0,void 0),m=z.useReducer(hL,{changesMode:me.getWithDefault(r.settings.siteStructureChangeMode,1),tableState:{remoteData:0,maxPerPage:vR},remoteDataTotalTraffic:0}),f=m[1],p=m[0],_=ya.useMultipleExpandedRows(void 0,void 0),h=uo.useSingleton({overrides:["className"]}),k=AR(void 0,r,g),v=a.useStateValue(k),y=v[1],D=v[0],S=function(e){return s._1(y,e),he.push(i.makeStringWithQueryDict(i.makePathname(u),l.some(RR(void 0,l.some(g),e)),void 0,void 0,void 0))};Ie(u,RR(void 0,l.some(g),k));var F=Pt.dataToReportMode([k.currentDate,k.compareDate]),C=iL(F,k),w=C[1],T=C[0],b=z.useMemo((function(){return de.mapWithDefault(p.tableState.remoteData,0,(function(e){return e.rows.rows}))}),[p.tableState.remoteData]),P=de.getWithDefault(p.remoteDataTotalTraffic,{organic:{traffic:0,traffic_avg:0},paid:{traffic:0,traffic_avg:0}}),M=nL(t.protocol,p.changesMode,p.tableState.maxPerPage,F,_,k.columns,void 0,n.Protocolless_url.show(t.url),k,P),A=M[0],R=z.useRef(null),E=me.getWithDefault(Sg.map(R,(function(e){return e.getBoundingClientRect().left})),0),B=s._3(Ra.FieldsRequestDescr.customRow,A,(function(e,a){var o,i=me.isSome(Ur.get(_.map,a)),n=p.tableState.remoteData;return o=i&&"number"!=typeof n&&2===n.TAG?z.createElement(lL,s.app(dL,[n._0.signedEnvironment,1,r,{protocol:t.protocol,url:a,mode:1},k.country,F,p.changesMode,p.tableState.maxPerPage,P,E,k,void 0,void 0])):null,z.createElement(z.Fragment,{children:null},z.createElement(te.Row.make,{columns:A,isStickyFirstColumn:!0,parentData:e}),o)}),M[1]),K=s._1(Ra.FieldsRequestDescr.toRequest,B),q=Ne(!1,p.tableState.remoteData,p.remoteDataTotalTraffic);z.useEffect((function(){s._1(_.closeAll,void 0)}),[Ve.Safe.toKey(t),T,Te(F)]);var x,W=k.sort.name,U=0;W>=9?W>20||W<15?x=s._1(bR.Name.toString,W):U=1:W>=3?U=1:x=s._1(bR.Name.toString,W),1===U&&(x=s._1(bR.Name.toString,W)+Pa.VolumeMode.show(k.volumeMode)),z.useEffect((function(e){s._1(_.closeAll,void 0),vL(f,t,w,F,k.country,k.volumeMode,k.sort.name,k.sort.direction),oL((function(e){return s._1(f,{TAG:2,_0:e})}),K,Ve.Safe.toUnsafe(t),k.volumeMode,k.sort.name,k.sort.direction,w,F,k.country,void 0)}),[Ve.Safe.toKey(t),T,Te(F),x,ci.toString(k.sort.direction),Sa.Item.toCode(k.country)]);var N,$=z.useCallback((function(e){return s._1(_.closeAll,void 0),vL(f,t,w,F,k.country,k.volumeMode,k.sort.name,k.sort.direction),oL((function(e){return s._1(f,{TAG:2,_0:e})}),K,Ve.Safe.toUnsafe(t),k.volumeMode,k.sort.name,k.sort.direction,w,F,k.country,void 0)}),[]),I=z.createElement("div",{className:YR},z.createElement(Tl.make,{currentDate:k.currentDate,compareDate:k.compareDate,historicalPermissions:r.reportHistoricalPermissions,isUpgradable:r.isUpgradable,description:s._1(ke.Message.to_s,{id:"f6e918925ae06fc7f57846022aeafab5",defaultMessage:"See search metrics for this date. Other metrics like referring pages and domains will not be affected."}),onChange:function(e,t){return S({sort:k.sort,country:k.country,currentDate:e,compareDate:t,columns:k.columns,volumeMode:k.volumeMode,url:k.url,refDomains:k.refDomains,orgTraffic:k.orgTraffic,orgKeywords:k.orgKeywords,paidTraffic:k.paidTraffic,paidKeywords:k.paidKeywords})},onCompareDateChange:function(e){var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.siteStructureCompare=e,t))}}),z.createElement("div",{className:JR}),"string"==typeof F||"Compared"!==F.NAME?null:z.createElement(ui.make,{selectedItem:p.changesMode,onChange:function(e){s._1(f,{TAG:1,_0:e});var t,a=mt.caml_obj_dup(r.settings);switch(s._1(d,(a.siteStructureChangeMode=e,a)),k.sort.name){case 4:t=e>=2?5:void 0;break;case 5:t=e>=2?void 0:4;break;case 7:t=e>=2?8:void 0;break;case 8:t=e>=2?void 0:7;break;case 10:t=e>=2?11:void 0;break;case 11:t=e>=2?void 0:10;break;case 13:t=e>=2?14:void 0;break;case 14:t=e>=2?void 0:13;break;case 16:t=e>=2?17:void 0;break;case 17:t=e>=2?void 0:16;break;case 19:t=e>=2?20:void 0;break;case 20:t=e>=2?void 0:19;break;case 22:t=e>=2?23:void 0;break;case 23:t=e>=2?void 0:22;break;case 0:case 1:case 2:case 3:case 6:case 9:case 12:case 15:case 18:case 21:case 24:t=void 0;break;case 25:t=e>=2?26:void 0;break;case 26:t=e>=2?void 0:25}return me.forEach(t,(function(e){var t=k.sort;return S({sort:{name:e,direction:t.direction},country:k.country,currentDate:k.currentDate,compareDate:k.compareDate,columns:k.columns,volumeMode:k.volumeMode,url:k.url,refDomains:k.refDomains,orgTraffic:k.orgTraffic,orgKeywords:k.orgKeywords,paidTraffic:k.paidTraffic,paidKeywords:k.paidKeywords})}))}}),z.createElement(kR,{value:k.columns,onChange:function(e){return S({sort:k.sort,country:k.country,currentDate:k.currentDate,compareDate:k.compareDate,columns:e,volumeMode:k.volumeMode,url:k.url,refDomains:k.refDomains,orgTraffic:k.orgTraffic,orgKeywords:k.orgKeywords,paidTraffic:k.paidTraffic,paidKeywords:k.paidKeywords})}}),z.createElement(bt,{exportFunc:function(e,r){return L(e,s._4(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-site-structure-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}}}},_1:"%s-site-structure-%s-%s-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode),Sa.Item.toCode(k.country),Te(F)),void 0,pL.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:F,country:Sa.Item.toCountryOpt(k.country)},params:{filter:w,size:r,offset:0,order_by:tL(k.volumeMode,F,k.sort.name,k.sort.direction),shape:void 0,timeout:void 0},volumeMode:k.volumeMode})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,target:t,limitsFunc:O})),G=p.tableState.remoteData;N="number"==typeof G||1!==G.TAG?void 0:G._0;var Q={settings:r,children:z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(j.V2.show(11))})}),z.createElement(co,{showApplyFilters:!BR(D,k),onClearFilters:function(e){return s._1(y,k)},onApplyFilters:function(e){return S(D)},children:null},z.createElement(Pa.make,{data:D.volumeMode,onSelect:function(e){s._1(y,{sort:D.sort,country:D.country,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:e,url:D.url,refDomains:D.refDomains,orgTraffic:D.orgTraffic,orgKeywords:D.orgKeywords,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords});var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.siteStructureVolumeMode=e,t))}}),z.createElement(di.make,{selectedItem:D.country,onApply:function(e){return s._1(y,{sort:D.sort,country:e,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:D.volumeMode,url:D.url,refDomains:D.refDomains,orgTraffic:D.orgTraffic,orgKeywords:D.orgKeywords,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords})}}),z.createElement(fa.$$URL.make,{value:D.url,onClear:function(e){return s._1(y,{sort:D.sort,country:D.country,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:D.volumeMode,url:PR().url,refDomains:D.refDomains,orgTraffic:D.orgTraffic,orgKeywords:D.orgKeywords,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords})},onApply:function(e){return s._1(y,{sort:D.sort,country:D.country,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:D.volumeMode,url:e,refDomains:D.refDomains,orgTraffic:D.orgTraffic,orgKeywords:D.orgKeywords,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords})}}),z.createElement(pa.RefDomains.make,{value:D.refDomains,label:s._1(ke.Message.to_s,{id:"b21aa4fb12a3d18840a06a8cca87ff1d",defaultMessage:"URL ref. domains"}),onClear:function(e){return s._1(y,{sort:D.sort,country:D.country,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:D.volumeMode,url:D.url,refDomains:PR().refDomains,orgTraffic:D.orgTraffic,orgKeywords:D.orgKeywords,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords})},onApply:function(e){return s._1(y,{sort:D.sort,country:D.country,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:D.volumeMode,url:D.url,refDomains:e,orgTraffic:D.orgTraffic,orgKeywords:D.orgKeywords,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords})}}),z.createElement(pa.OrgPageTraffic.make,{value:D.orgTraffic,label:s._1(ke.Message.to_s,{id:"b8c09baeaa7ff5bf0375fe18abbf48d7",defaultMessage:"URL organic traffic"}),onClear:function(e){return s._1(y,{sort:D.sort,country:D.country,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:D.volumeMode,url:D.url,refDomains:D.refDomains,orgTraffic:PR().orgTraffic,orgKeywords:D.orgKeywords,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords})},onApply:function(e){return s._1(y,{sort:D.sort,country:D.country,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:D.volumeMode,url:D.url,refDomains:D.refDomains,orgTraffic:e,orgKeywords:D.orgKeywords,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords})}}),z.createElement(pa.OrgKeywords.make,{value:D.orgKeywords,label:s._1(ke.Message.to_s,{id:"cede34b41647d369a86217d5e526f809",defaultMessage:"URL organic keywords"}),onClear:function(e){return s._1(y,{sort:D.sort,country:D.country,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:D.volumeMode,url:D.url,refDomains:D.refDomains,orgTraffic:D.orgTraffic,orgKeywords:PR().orgKeywords,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords})},onApply:function(e){return s._1(y,{sort:D.sort,country:D.country,currentDate:D.currentDate,compareDate:D.compareDate,columns:D.columns,volumeMode:D.volumeMode,url:D.url,refDomains:D.refDomains,orgTraffic:D.orgTraffic,orgKeywords:e,paidTraffic:D.paidTraffic,paidKeywords:D.paidKeywords})}}),z.createElement(fL,{filters:D,onFiltersChange:s.__1(y)})),z.createElement("div",{ref:R},z.createElement(te.Table.make,{row:B,data:b,hasAppliedFilters:""!==T,header:I,isLoading:q[0],failureState:q[1],renderError:function(e){var t,a=p.tableState.remoteData,o=p.remoteDataTotalTraffic,i=0,n=0,l=0,d=0;if("number"==typeof a||1!==a.TAG)d=6;else{var c=a._0;0===c.TAG||"SeRowsPerReportLimitReached"!==c._0?d=6:i=2}if(6===d)if("number"==typeof o||1!==o.TAG)l=5;else{var u=o._0;0===u.TAG||"SeRowsPerReportLimitReached"!==u._0?l=5:i=2}if(5===l)if("number"==typeof a||1!==a.TAG)n=4;else{var g=a._0;0===g.TAG?(t=g._0.reqId,i=3):n=4}if(4===n)if("number"==typeof o||1!==o.TAG)i=1;else{var m=o._0;0===m.TAG?(t=m._0.reqId,i=3):i=1}switch(i){case 1:return z.createElement(le.make,{reqId:void 0,onClick:function(e){return s._1($,void 0)}});case 2:return z.createElement(ve.RowsPerReportLimitReached.make,{isUpgradable:r.isUpgradable});case 3:return z.createElement(le.make,{reqId:t,onClick:function(e){return s._1($,void 0)}})}},tableId:Mt(F),tooltipTarget:h[1],totalRowsNumber:1e5,customFooter:0,sortDirection:k.sort.direction,sort:s._1(bR.Name.toString,k.sort.name),onSort:function(e,t,r){return S({sort:{name:me.getWithDefault(s._1(bR.Name.ofString,e),s._1(bR.Name.getDefault,void 0)),direction:t},country:k.country,currentDate:k.currentDate,compareDate:k.compareDate,columns:k.columns,volumeMode:k.volumeMode,url:k.url,refDomains:k.refDomains,orgTraffic:k.orgTraffic,orgKeywords:k.orgKeywords,paidTraffic:k.paidTraffic,paidKeywords:k.paidKeywords})},onRefetch:$,onClearFilters:function(e){return S(PR())}}),z.createElement(ut.make,{singleton:h[0]})))};return void 0!==N&&(Q.error=l.valFromOption(N)),z.createElement(Po,Q)},DL=ya.Sort.MakeFilter({$$default:5,toString:function(e){switch(e){case 0:return"refpage";case 1:return"dr";case 2:return"ur";case 3:return"domaintraffic";case 4:return"refpagechecked";case 5:return"traffic";case 6:return"refdomains";case 7:return"linkeddomains";case 8:return"extlinks";case 9:return"keywords"}},ofString:function(e){switch(e){case"domaintraffic":return 3;case"dr":return 1;case"extlinks":return 8;case"keywords":return 9;case"linkeddomains":return 7;case"refdomains":return 6;case"refpage":return 0;case"refpagechecked":return 4;case"traffic":return 5;case"ur":return 2;default:return}},defaultDirection:"Desc"}),SL=DL.Name,FL=DL.getDefault,CL=DL.isApplied,wL=DL.ofQueryWithDefault,TL=DL.toQuery;var bL=DL.Direction,PL={Name:SL,Direction:bL,getDefault:FL,isApplied:CL,ofQueryWithDefault:wL,toQuery:TL,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.title)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.dr)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.ur)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.Search.traffic)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.last_visited)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.traffic)),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.refdomains)),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.linked_domains)),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.external_links)),tl:0};case 9:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.positions)),tl:0}}},toBacklinksSortField:function(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 5;case 5:return 7;case 6:return 8;case 7:return 9;case 8:return 10;case 9:return 11}}};function ML(e){return{sort:s._1(FL,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),followType:s._1(Xu.Filter.getDefault,void 0),brokenStatus:s._1(Zu.BrokenStatus.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),dr:s._1(pa.DR.Filter.getDefault,void 0),ur:s._1(pa.UR.Filter.getDefault,void 0),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0),excludeSubdomains:s._1(Im.getDefault,void 0),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),groupingType:s._1(ag.Backlinks.Filter.getDefault,void 0)}}var AL={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:0}}}}}}}}}}}}}}}}}}}}}}}}};function RL(e,t,r){var a=void 0!==e?e:AL,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(TL,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Xu.Filter.toQuery,e,r.followType);case 3:return s._2(Zu.BrokenStatus.Filter.toQuery,e,r.brokenStatus);case 4:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 5:return s._2(pa.DR.Filter.toQuery,e,r.dr);case 6:return s._2(pa.UR.Filter.toQuery,e,r.ur);case 7:return s._2(pa.OrgDomainTraffic.Filter.toQuery,e,r.orgDomainTraffic);case 8:return s._2(Im.toQuery,e,r.excludeSubdomains);case 9:return s._2(fa.RefDomains.DomainName.Filter.toQuery,e,r.referringDomainName);case 10:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 11:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 12:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 13:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 14:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 15:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 16:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 17:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 18:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 19:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 20:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 21:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 22:return s._2(yg.Filter.toQuery,e,r.contentType);case 23:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 24:return s._2(ag.Backlinks.Filter.toQuery,e,r.groupingType)}}))}var LL={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:0}}}}}}}}}}}}}}}}}}}}}};function EL(e,t){var r=void 0!==e?l.valFromOption(e):{};return RL(LL,l.some(r),t)}var BL=function(e,t){return i.stringifyQueryDict(EL(void 0,e),void 0,void 0)===i.stringifyQueryDict(EL(void 0,t),void 0,void 0)},KL=c_.appendIf,qL={appendIf:KL,renderOrHideCell:c_.renderOrHideCell,cellWrapper:c_.cellWrapper,singleFieldWrapper:c_.singleFieldWrapper,empty:c_.empty,groupToggle:c_.groupToggle,keywords:c_.keywords,domainTraffic:c_.domainTraffic,pageTraffic:c_.pageTraffic,externalLinks:c_.externalLinks,linkedDomains:c_.linkedDomains,referringDomains:c_.referringDomains,dr:c_.dr,ur:c_.ur,referringPage:c_.referringPage,LinkInfo:void 0,anchor:function(e,t,r,o,i,n,d){var c=void 0!==r?r:Aa.emptyGroupedTerms,u=void 0!==o?o:Aa.emptyGroupedTerms,g=void 0!==i?i:Aa.emptyGroupedTerms,m={width:"40%"},f=s._1(ke.Message.to_s,{id:"58816c4aac22ee9dbafbc26fb8577d75",defaultMessage:"Anchor and target URL"}),p={TAG:0,_0:cg.anchorAndTargetUrl};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i,d,m,f,p,_,h,k,v,y,D,S,F,C,w,T,b,P,M,A,R,L){var E,B,K,q=ie.to_int32(R),x=wm.makeData(F,S,b,T,P,m,f,C),W=x.redirectChainTkLinkContextInput,U=x.redirectChain,O=x.initialUrl,N="Image"===p?{hd:"IMAGE",tl:0}:"Frame"===p?{hd:"FRAME",tl:0}:"Canonical"===p?{hd:"CANONICAL",tl:0}:0,$=s._3(KL,s._3(KL,s._3(KL,s._3(KL,N,k,"UGC"),v,"NOFOLLOW"),y,"SPONSORED"),D,"CONTENT"),I=wm.isBrokenSource(O,T),G=on.fromString(x.initialUrlTkLinkContextInputString);if(I&&void 0!==P&&"Targetchanged"!==P){var Q=wm.toLostRedirectReason(P),V={singleton:t,children:z.createElement(Io.make,{size:"small",corners:"rounded",color:"danger",value:s._1(ke.Message.to_s,{id:"0000f524ba4821e4bde2e63f640ef924",defaultMessage:"Lost: "})+bg.showReason(Q)})},j=me.map(bg.toTooltip(Q),Ot.textContent);void 0!==j&&(V.content=l.valFromOption(j)),E=z.createElement("div",{className:Mp},z.createElement(ut.make,V))}else E=null;if(U){var H=wm.linkRenderer;B=z.createElement(bg.make,{redirectChain:U,linkRenderer:function(e){var t=s._2(H,e,W);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){var r=s._1(t,e);return function(e){var t=s._1(r,e);return function(e){return s._3(t,e,void 0,u)}}}}}}})}else B=null;if(s._3(fm.isGenericNew,e,Bt.toMomentUtc(M),A)){var Y=me.isSome(w);K=z.createElement(Je.make,{fitToContent:!0,children:z.createElement(bf,{tooltipTarget:t,color:Y?"neutralMutedTextSecondary":"success",value:s._1(ke.Message.to_s,{id:"ac41d415a16e3153ccc3bd4f8ad73782",defaultMessage:"New"}),striked:Y})})}else K=null;var J=me.map(L,ie.to_int32),X={nowrap:!1,children:z.createElement(ct.make,{gap:"px2",children:null},_i.isNotBlank(o)||_i.isNotBlank(d)||_i.isNotBlank(i)?z.createElement(pt.make,{wordBreak:"breakWord",children:null},_i.isNotBlank(o)?z.createElement(z.Fragment,void 0,z.createElement(Aa.make,{groupedTerms:g,text:o}),a.s(" ")):null,z.createElement(ta.make,{href:O,mode:3,children:z.createElement(pt.make,{inline:!0,wordBreak:"breakWord",children:z.createElement(Aa.make,{groupedTerms:Aa.combineGroupedTerms({hd:c,tl:{hd:g,tl:0}}),text:i})})}),_i.isNotBlank(d)?z.createElement(z.Fragment,void 0,a.s(" "),z.createElement(Aa.make,{groupedTerms:g,text:d})):null):null,0!==$?z.createElement(Je.make,{gap:"px4",fitToContent:!0,children:a.list(ce.map($,(function(e){return z.createElement(Io.make,{size:"small",color:"neutralMuted",value:e,key:e})})))}):null,z.createElement(pt.make,{children:z.createElement(ct.make,{gap:"px4",children:null},z.createElement(ct.make,{gap:"none",children:null},z.createElement("div",{className:Ap},_&&!h?z.createElement("div",{className:Mp},z.createElement(Io.make,{size:"small",color:"warningMuted",value:"JS"})):null,U?z.createElement(vn.make,{displayLink:O,tkLinkContextInput:G,color:"green"}):z.createElement(vn.make,{displayLink:O,tkLinkContextInput:G,color:"green",highlightAnywhereTerms:u.contain,highlightStartTerms:u.startWith,highlightEndTerms:u.endWith}),E),B),s._3(fm.isAddedToExistingPage,e,Bt.toMomentUtc(M),A)?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Pf,{tooltipTarget:t,value:Hm(1),tooltip:zm(1),striked:me.isSome(w)})}):null,s._3(fm.isRestored,e,Bt.toMomentUtc(M),A)?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Pf,{tooltipTarget:t,value:Hm(2),tooltip:zm(2),striked:me.isSome(w)})}):null,K,mt.caml_equal(w,"Removedfromhtml")&&200===q?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Mf,{tooltipTarget:t,value:tf(0),tooltip:rf(0)})}):mt.caml_equal(w,"Removedfromhtml")&&200!==q?z.createElement(Je.make,{fitToContent:!0,children:z.createElement(Mf,{tooltipTarget:t,value:tf(6),tooltip:rf(6)})}):null,404===J?z.createElement(Io.make,{size:"small",corners:"rounded",color:"danger",value:s._1(ke.Message.to_s,{id:"9ccd120e22a9607e99aa393f1e061927",defaultMessage:"404 not found"})}):null)})),key:"linkBlock"};return void 0!==n&&(X.width=l.valFromOption(n)),z.createElement(va.Td.make,X)}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(p,void 0,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,m,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.left_context)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.right_context)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.type_)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_rendered)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.is_raw)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.ugc)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.nofollow)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.sponsored)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.content)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.lost_reason)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.redirect_broken_source)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.redirect_broken_new_target)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Deindexed.redirect_broken_reason)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.first_seen)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.discovered_status)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Crawl.http_code)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.download_http_code)),0))))))))))))))))))))))))},dates:function(e,t,r){return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){return z.useMemo((function(){var r,n=me.map(o,Bt.toMomentUtc),s=Bt.toMomentUtc(i);if(void 0!==n){var d=l.valFromOption(n),c={content:a.s(ne.moment(void 0,d,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,d,"dayShortMonthYear"))})};void 0!==t&&(c.singleton=l.valFromOption(t)),r=z.createElement(ut.make,c)}else r=a.s(Gt.mdash);var u={content:a.s(ne.moment(void 0,s,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.relativeWithMinutes(s))})};void 0!==t&&(u.singleton=l.valFromOption(t));var g={children:z.createElement(ct.make,{gap:"none",children:null},z.createElement(Je.make,{children:r}),z.createElement(Je.make,{children:z.createElement(ut.make,u)})),key:"crawlBlock"};return void 0!==e&&(g.width=l.valFromOption(e)),z.createElement(va.Td.make,g)}),[e,me.map(o,(function(e){return e.toString()})),i.toString()])}),{renderHeader:function(e,t,r,a,o,i,n,d){var c={width:{hd:{TAG:0,_0:{NAME:"percent",VAL:10}},tl:0},children:null};void 0!==e&&(c.domRef=l.valFromOption(e)),void 0!==t&&(c.style=l.valFromOption(t));var u={title:s._1(ke.Message.to_s,{id:"0b2d7bc30c55c088b256b6d06ab33f17",defaultMessage:"Target checked"}),tableSort:i,tableSortDirection:n,tooltip:lg.targetChecked,onSort:o};void 0!==a&&(u.tooltipTarget=l.valFromOption(a));var g={title:s._1(ke.Message.to_s,{id:"c8d7a7d4fc1eee102dd63a91fffd8b4c",defaultMessage:"Ref. page checked"}),sortField:s._1(SL.toString,4),tableSort:i,tableSortDirection:n,tooltip:lg.refPageChecked,onSort:o};return void 0!==a&&(g.tooltipTarget=l.valFromOption(a)),z.createElement(bp,c,z.createElement(Pp,u),z.createElement(Pp,g))}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.last_checked)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Crawl.last_visited)),0)))}},xL=r(56222),WL=r(7832),UL=r(13504),OL=function(e){var t=e.chFilters,r=e.count,o=e.expandedRows,c=e.filters,u=e.groupKey,g=e.historyFilter,m=e.parentLink,f=e.rowId,p=e.settings,_=e.signedEnvironment,h=e.tableRootRef,k=e.target,v=e.tooltipTarget,y=Bm(void 0),D=y[1],S=y[0],F=me.isSome(Ur.get(o.map,rm(f,u))),C=ie.to_int32(r),w=Re(PL.toFieldName(c.sort.name),c.sort.direction),T=Km(h),b=Aa.getTerms(c.referringPageTitle.rules),P=Aa.getTerms(c.referringPageUrl.rules),M=Aa.getTerms(c.anchorWithSurroundingText.rules),A=Aa.getTerms(c.anchor.rules),E=Aa.getTerms(c.targetUrl.rules),B=Aa.getTerms(c.referringDomainName.rules),K={hd:s._8(qL.referringPage,void 0,P,b,B,v,ge.get(T,1),g,void 0),tl:{hd:s._3(qL.dr,void 0,ge.get(T,2),void 0),tl:{hd:s._4(qL.ur,void 0,ge.get(T,3),void 0,void 0),tl:{hd:s._3(qL.domainTraffic,void 0,ge.get(T,4),void 0),tl:{hd:s._3(qL.referringDomains,void 0,ge.get(T,5),void 0),tl:{hd:s._3(qL.linkedDomains,void 0,ge.get(T,6),void 0),tl:{hd:s._3(qL.externalLinks,void 0,ge.get(T,7),void 0),tl:{hd:s._3(qL.pageTraffic,void 0,ge.get(T,8),void 0),tl:{hd:s._3(qL.keywords,void 0,ge.get(T,9),void 0),tl:{hd:qL.anchor(g,v,A,E,M,ge.get(T,10),void 0),tl:{hd:qL.dates(ge.get(T,11),l.some(v),void 0),tl:{hd:s._2(qL.empty,ge.get(T,12),void 0),tl:0}}}}}}}}}}}},q=s._3(Ra.FieldsRequestDescr.customRow,K,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:K,parentData:e,key:"groupedTableRow"+rm(t,u)})}),Vg),x=z.useMemo((function(){return s._1(Ra.FieldsRequestDescr.toRequest,q)}),[]),W=function(e,r,a){var o=void 0!==e?e:u_,i=void 0!==r?r:0;return s._1(D,1),Ye.forEach(R(void 0,WL.request,{se_params:{se_params:{history_mode:0,since:void 0,target:k.url,mode:k.mode,protocol:k.protocol},group_key:u,group_witness:m},params:{filter:t,size:o,offset:i,order_by:w,shape:ce.map(x,(function(e){return e[1]})),timeout:void 0},signedEnvironment:_}),(function(e){return s._1(D,{_0:e})}))};if(z.useEffect((function(){s._1(D,0)}),[Ve.Safe.toKey(k),i.stringifyQueryDict(RL(void 0,void 0,c),void 0,void 0)]),z.useEffect((function(){var e=S.data;F&&0===e&&W(void 0,void 0)}),[F,S.data]),!F)return null;var U,O=S.data,N=0;if("number"==typeof O)U=0===O?null:z.createElement(Y.Box.make,{size:"md"});else switch(0|O.TAG){case 1:U=z.createElement(le.make,{reqId:d.getRequestId(O._0),noIcon:!0,paddings:!0,onClick:function(e){return W(void 0,void 0)}});break;case 0:case 2:N=1}if(1===N){var $=Fa.getValueLocalCache(ce.map(x,(function(e){return e[0]})));U=z.createElement(z.Fragment,void 0,a.list(ce.mapWithIndex(O._0.rows,(function(e,t){return Ra.renderRowField(q,{getValue:s._1($,t),tableRootRef:h,index:e})}))),z.createElement(eP,{data:S.data,target:k,settings:p,columns:K,totalCount:C,exportFunc:function(e,r){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-broken-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-broken-backlinks-%s"}),n.Protocolless_url.show(k.url),V.toExportName(k.mode)),void 0,UL.request,{se_params:{se_params:{history_mode:0,since:void 0,target:k.url,mode:k.mode,protocol:k.protocol},group_key:u,group_witness:void 0},params:{filter:t,size:r,offset:0,order_by:w,shape:ce.map(x,(function(e){return e[1]})),timeout:void 0}})},onShowMoreClick:function(e){return W(e,S.offset)},onClose:function(e){return s._2(o.setRow,rm(f,u),void 0)}}))}var I={settings:p,hasPadding:!0,onClose:function(e){return s._2(o.setRow,rm(f,u),void 0)},children:U},G=de.getError(S.data);return void 0!==G&&(I.error=l.valFromOption(G)),z.createElement(Eo.make,{children:z.createElement(Ao,I),tableRootRef:h,hash:o.hash,onDimensionsChange:o.renewHash})},NL=Pl.Make({all:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:0}}}}}}}}}}}}}}}}),$L=z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),IL=function(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"644207cb91b1774079e96012f511a4af",defaultMessage:"Referring domain"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"d60252cc9b33603259f681b10fb7e17b",defaultMessage:"Domain name"}),2),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),0),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),1),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),7),tl:{hd:a(s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),8),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),9),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"45bd3c42f979a78085c4343a3f4e7f7f",defaultMessage:"Backlink"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),10),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),11),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),12),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),13),tl:{hd:a(s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),14),tl:0}}}}}}}}}}}}}}}}}}}}}};return z.createElement(NL.make,{label:$L,dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.referringDomainName,s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.orgPageTraffic,s._1(pa.OrgPageTraffic.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 13:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 14:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})},GL=function(e){var t=e.filters,r=e.onFiltersChange;return z.createElement(z.Fragment,void 0,z.createElement(Xu.make,{value:t.followType,onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.followType=e,a))}}),z.createElement(Zu.BrokenStatus.make,{value:t.brokenStatus,onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.brokenStatus=e,a))},onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.brokenStatus=ML().brokenStatus,a))}}),z.createElement(Dg.make,{onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.backlinkType=e,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.backlinkType=e,a))},selectedItem:t.backlinkType}),z.createElement(pa.DR.make,{value:t.dr,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.dr=ML().dr,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.dr=e,a))}}),z.createElement(pa.OrgDomainTraffic.make,{value:t.orgDomainTraffic,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.orgDomainTraffic=ML().orgDomainTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.orgDomainTraffic=e,a))}}),z.createElement(T_,{items:ce.map(S_,y_),initialSelected:1,onApply:function(e){var a=D_(e[1]);switch(e[0]){case 0:var o=mt.caml_obj_dup(t);return s._1(r,(o.referringDomainName=a,o));case 1:var i=mt.caml_obj_dup(t);return s._1(r,(i.referringPageUrl=a,i));case 2:var n=mt.caml_obj_dup(t);return s._1(r,(n.referringPageTitle=a,n));case 3:var l=mt.caml_obj_dup(t);return s._1(r,(l.anchor=a,l));case 4:var d=mt.caml_obj_dup(t);return s._1(r,(d.anchorWithSurroundingText=a,d));case 5:return;case 6:var c=mt.caml_obj_dup(t);return s._1(r,(c.targetUrl=a,c))}}}),z.createElement(po.make,{padding:"controlToggle",children:z.createElement(Qm,{value:t.excludeSubdomains,onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.excludeSubdomains=e,a))}})}),z.createElement(IL,{filters:t,render:function(e,a,o,i){var n=function(t){return s._1(i,e)},l=function(e){switch(e){case 0:return"RefPageTitle";case 1:return"RefPageUrl";case 2:return"RefPageDomain";case 3:return"Platform";case 4:return"Language";case 5:return"RefDomains";case 6:return"LinkedDomains";case 7:return"ExternalLinks";case 8:return"PageTraffic";case 9:return"KeywordsInTop100";case 10:return"Anchor";case 11:return"SurroundingText";case 12:return"TargetUrl";case 13:return"ContentType";case 14:return"Redirects"}}(e);switch(e){case 0:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:t.referringPageTitle,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.referringPageTitle=ML().referringPageTitle,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.referringPageTitle=e,a))},key:l});case 1:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:t.referringPageUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.referringPageUrl=ML().referringPageUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.referringPageUrl=e,a))},key:l});case 2:return z.createElement(fa.RefDomains.DomainName.make,{value:t.referringDomainName,autoOpen:a,label:fa.RefDomains.DomainName.backlinksLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.referringDomainName=ML().referringDomainName,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.referringDomainName=e,a))},key:l});case 3:return z.createElement(Zu.Platform.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.platform=ML().platform,a))},label:Zu.Platform.refPageLabel,onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.platform=e,a))},value:t.platform,key:l});case 4:return z.createElement(Zu.SeLanguage.make,{autoOpen:a,label:Zu.SeLanguage.refPageLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.language=ML().language,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.language=me.getWithDefault(e,ML().language),a))},value:t.language,key:l});case 5:return z.createElement(pa.RefDomains.make,{value:t.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.refDomains=ML().refDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.refDomains=e,a))},key:l});case 6:return z.createElement(pa.LinkedDomains.make,{value:t.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.linkedDomains=ML().linkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.linkedDomains=e,a))},key:l});case 7:return z.createElement(pa.ExternalLinks.make,{value:t.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.externalLinks=ML().externalLinks,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.externalLinks=e,a))},key:l});case 8:return z.createElement(pa.OrgPageTraffic.make,{value:t.orgPageTraffic,label:pa.OrgPageTraffic.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.orgPageTraffic=ML().orgPageTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.orgPageTraffic=e,a))},key:l});case 9:return z.createElement(pa.OrgKeywords.make,{value:t.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.orgKeywords=ML().orgKeywords,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.orgKeywords=e,a))},key:l});case 10:return z.createElement(fa.Backlinks.Anchor.make,{value:t.anchor,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.anchor=ML().anchor,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.anchor=e,a))},key:l});case 11:return z.createElement(fa.Backlinks.SurroundingText.make,{value:t.anchorWithSurroundingText,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.anchorWithSurroundingText=ML().anchorWithSurroundingText,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.anchorWithSurroundingText=e,a))},key:l});case 12:return z.createElement(fa.Backlinks.TargetUrl.make,{value:t.targetUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.targetUrl=ML().targetUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.targetUrl=e,a))},key:l});case 13:return z.createElement(yg.make,{autoOpen:a,label:yg.targetLabel,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.contentType=ML().contentType,a))},onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.contentType=e,a))},selectedItem:t.contentType,key:l});case 14:return z.createElement(Zu.Redirects.make,{autoOpen:a,label:Zu.Redirects.targetLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.redirects=ML().redirects,a))},onApply:function(e){var a=mt.caml_obj_dup(t);return s._1(r,(a.redirects=e,a))},value:t.redirects,key:l})}}}))},QL=r(90321);function VL(e,t){return t?{remoteData:t._0,rowMap:t._1}:{remoteData:1,rowMap:Xg(void 0)}}La.makeRenderHeader;var jL=function(e){var t=e.target,r=e.settings,o=e.onSettingsUpdated,d=e.onToggleSidebar,c=z.useReducer(VL,{remoteData:0,rowMap:Xg(void 0)}),u=c[1],g=c[0],m=he.useUrl(void 0,void 0),f=m.search,p=m.path,_=z.useMemo((function(){return i.parseQueryToDict(f,void 0,void 0)}),[f]),h=function(e,t){var r=s._2(ag.Backlinks.Filter.ofQueryWithCustomDefault,t,e.settings.backlinksAggregation);return{sort:s._1(wL,t),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,t),followType:s._1(Xu.Filter.ofQueryWithDefault,t),brokenStatus:s._1(Zu.BrokenStatus.Filter.ofQueryWithDefault,t),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,t),dr:s._1(pa.DR.Filter.ofQueryWithDefault,t),ur:s._1(pa.UR.Filter.ofQueryWithDefault,t),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.ofQueryWithDefault,t),excludeSubdomains:s._1(Im.ofQueryWithDefault,t),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.ofQueryWithDefault,t),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,t),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,t),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,t),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,t),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,t),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,t),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,t),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,t),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,t),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,t),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,t),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,t),contentType:s._1(yg.Filter.ofQueryWithDefault,t),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,t),groupingType:r}}(r,_),k=a.useStateValue(h),v=k[1],y=k[0],D=ue.use(h.groupingType),S=z.useMemo((function(){return D}),[i.stringifyQueryDict(RL(void 0,void 0,h),void 0,void 0)]),F=function(e,t){var r=void 0!==e&&e;s._1(v,t);var a=i.makeStringWithQueryDict(i.makePathname(p),l.some(RL(void 0,l.some(_),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};z.useEffect((function(){F(!0,h)}),[i.stringifyQueryDict(RL(void 0,void 0,h),void 0,void 0)]);var C=Re(PL.toFieldName(h.sort.name),h.sort.direction),w=uo.useSingleton({overrides:["className"]}),T=w[1],b=ue.use(g.remoteData),P=ya.useMultipleExpandedRows(void 0,void 0),M=Yu(g.remoteData,(function(e){return ie.to_float(e.stats.total)})),A=z.useMemo((function(){return de.mapLoadingWithDefault(g.remoteData,0,(function(e){return e.rows}))}),[g.remoteData]),E={TAG:2,_0:{dateRange:7,status:void 0}},B=Aa.getTerms(h.referringPageTitle.rules),K=Aa.getTerms(h.referringPageUrl.rules),q=Aa.getTerms(h.anchor.rules),x=Aa.getTerms(h.anchorWithSurroundingText.rules),W=Aa.getTerms(h.targetUrl.rules),U=Aa.getTerms(h.referringDomainName.rules),O=g.rowMap,$={hd:s._8(qL.referringPage,l.some(O),K,B,U,T,void 0,E,void 0),tl:{hd:s._3(qL.dr,l.some(O),void 0,void 0),tl:{hd:s._4(qL.ur,l.some(O),void 0,void 0,void 0),tl:{hd:s._3(qL.domainTraffic,l.some(O),void 0,void 0),tl:{hd:s._3(qL.referringDomains,l.some(O),void 0,void 0),tl:{hd:s._3(qL.linkedDomains,l.some(O),void 0,void 0),tl:{hd:s._3(qL.externalLinks,l.some(O),void 0,void 0),tl:{hd:s._3(qL.pageTraffic,l.some(O),void 0,void 0),tl:{hd:s._3(qL.keywords,l.some(O),void 0,void 0),tl:{hd:qL.anchor(E,T,q,W,x,void 0,void 0),tl:{hd:qL.dates(void 0,l.some(T),void 0),tl:0}}}}}}}}}}},I=s._5(qL.groupToggle,h.groupingType,P,void 0,(function(e,t){var r=rm(e,t),a=me.mapWithDefault(Ur.get(P.map,r),!0,(function(e){}));return s._2(P.setRow,r,a)}),void 0),G=h.groupingType>=2?$:fo.$at($,{hd:I,tl:0}),Q=z.useRef(new AbortController),j=function(e,t,r,a,o,i,d,c){s._1(e,0),Q.current.abort();var u=new AbortController;Q.current=u;var g=c>=2?function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(Vg,(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)}:function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(Qg,(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,s,l){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)};return Ye.forEach(R(l.some(Q.current),xL.request,{aggregation:c,se_params:{history_mode:0,since:void 0,target:n.Protocolless_url.show(r.url),mode:r.mode,protocol:r.protocol},params:{filter:d,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0}}),(function(t){if(!Ge(u))return s._1(e,{_0:t,_1:de.mapWithDefault(t,Xg(void 0),(function(e){return s._1(g,e)[1]}))})}))},H=z.useMemo((function(){return Gg({hd:{hd:Xu.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.sponsored),h.followType)(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.dofollow)),tl:{hd:Zu.BrokenStatus.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.PageInfo.download_http_code),h.brokenStatus),tl:{hd:Dg.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.content),h.backlinkType),tl:{hd:pa.DR.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.dr),h.dr),tl:{hd:pa.OrgDomainTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Domain.Search.traffic),h.orgDomainTraffic),tl:{hd:Gm(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.is_root_domain),h.excludeSubdomains),tl:{hd:s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.title),h.referringPageTitle),tl:{hd:s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Url.url_plain),h.referringPageUrl),tl:{hd:s._2(fa.RefDomains.DomainName.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.UrlDomain.root_domain_name),h.referringDomainName),tl:{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.powered_by),h.platform),tl:{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.languages),h.language),tl:{hd:pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.refdomains),h.refDomains),tl:{hd:pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.LinkMetrics.linked_domains),h.linkedDomains),tl:{hd:pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Content.external_links),h.externalLinks),tl:{hd:pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.traffic),h.orgPageTraffic),tl:{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Search.positions),h.orgKeywords),tl:{hd:s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor),h.anchor),tl:{hd:s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.Info.right_context),h.anchorWithSurroundingText),tl:{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.url_plain),h.targetUrl),tl:{hd:yg.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.get,ft.Backlinks.BacklinksWithTargetPageFields.TargetPage.Url.non_html_suffix),h.contentType),tl:{hd:Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksWithTargetPageFields.SourcePage.Link.RedirectChain.url),h.redirects),tl:0}}}}}}}}}}}}}}}}}}}}},tl:0})}),[i.stringifyQueryDict(RL(void 0,void 0,h),void 0,void 0)]),X=function(e,a,o,i,n){var s=tm(h.groupingType,i,o),l=h.groupingType;return z.createElement(z.Fragment,{children:null,key:a},z.createElement(te.Row.make,{columns:G,parentData:e}),l>=2?null:z.createElement(OL,{chFilters:H,count:n,expandedRows:P,filters:h,groupKey:s,historyFilter:E,parentLink:a,rowId:a,settings:r,signedEnvironment:de.mapWithDefault(g.remoteData,void 0,(function(e){return e.signedEnvironment})),tableRootRef:e.tableRootRef,target:t,tooltipTarget:T}))},Z=h.groupingType>=2?s._3(Ra.FieldsRequestDescr.customRow,G,(function(e,t,r,a,o){return X(e,t,a,o,ie.one)}),Vg):s._3(Ra.FieldsRequestDescr.customRow,G,(function(e,t,r,a,o,i){return X(e,t,a,o,i)}),Qg),ee=s._1(Ra.FieldsRequestDescr.toRequest,Z),re=z.useCallback((function(e){return s._1(P.closeAll,void 0),j(u,ee,t,C,h.pagination.offset,h.pagination.limit,H,h.groupingType)}),[]);z.useEffect((function(){s._1(P.closeAll,void 0),j(u,ee,t,C,h.pagination.offset,h.pagination.limit,H,h.groupingType)}),[Ve.Safe.toKey(t),s._1(PL.Name.toString,h.sort.name),s._1(PL.Direction.toString,h.sort.direction),h.pagination.offset,h.pagination.limit,H,s._1(ag.Backlinks.Filter.toString,h.groupingType)]);var oe,ne=g.remoteData,se=h.groupingType,le=0,ge=0,fe=0;if(0===b)if("number"==typeof ne)0===ne?fe=5:le=1;else switch(0|ne.TAG){case 0:le=1;break;case 1:case 2:ge=4}else fe=5;if(5===fe){var pe=0;if("number"==typeof ne)pe=6;else switch(0|ne.TAG){case 1:case 2:ge=4;break;default:pe=6}6===pe&&(S>=2?se>=2?ge=4:le=1:se>=2?le=1:ge=4)}switch(4===ge&&(le="number"==typeof ne?1===ne?S>=2?2:3:se>=2?2:3:0===ne.TAG?S>=2?2:3:se>=2?2:3),le){case 1:oe=z.createElement(Y.Icon.make,{size:"sm"});break;case 2:var _e={links:a.s(ae.Float.full(M)),count:0|M};oe=s._2(ke.Message.format_to_s,{id:"f04c48581ba473c1682b4d8ee7783c60",defaultMessage:"{links} {count, plural, zero {backlinks} one {backlink} few {backlinks} other {backlinks}}"},_e);break;case 3:var ve={links:a.s(ae.Float.full(M)),count:0|M};oe=s._2(ke.Message.format_to_s,{id:"f234783dbbbd91c340e141200a290a8e",defaultMessage:"{links} {count, plural, zero {groups} one {group} few {groups} other {groups}} of links"},ve)}var ye,De=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:z.createElement(pt.make,{fontWeight:"bold",children:oe})}),z.createElement(ag.Backlinks.make,{selectedItem:h.groupingType,onChange:function(e){var t=mt.caml_obj_dup(r.settings);s._1(o,(t.backlinksAggregation=e,t));var a=mt.caml_obj_dup(h);return F(void 0,(a.groupingType=e,a))}})),z.createElement(Je.make,{gap:"px10",children:z.createElement(bt,{exportFunc:function(e,r){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-broken-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-broken-backlinks-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode)),void 0,QL.request,{aggregation:h.groupingType,se_params:{history_mode:0,since:void 0,target:t.url,mode:t.mode,protocol:t.protocol},params:{filter:H,size:r,offset:0,order_by:C,shape:ce.map(ee,(function(e){return e[1]})),timeout:void 0}})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|M,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:t,limitsFunc:N})})),Se=g.remoteData;ye="number"==typeof Se||1!==Se.TAG?void 0:Se._0;var Fe={settings:r,children:null};void 0!==ye&&(Fe.error=l.valFromOption(ye));var Ce=h.groupingType;return z.createElement(Po,Fe,z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:d,children:z.createElement(lt.make,{children:s._1(ke.Message.to_s,{id:"b4d791a57348042cf33fbea26a6a0aff",defaultMessage:"Broken backlinks"})})}),z.createElement(co,{showApplyFilters:!BL(y,h),onClearFilters:function(e){return s._1(v,h)},onApplyFilters:function(e){var t=mt.caml_obj_dup(y),r=y.pagination;return t.pagination={limit:r.limit,offset:0},F(void 0,t)},children:z.createElement(GL,{filters:y,onFiltersChange:s.__1(v)})}),z.createElement(te.Table.make,{row:Z,data:A,hasAppliedFilters:!1,header:De,isLoading:de.isLoading(g.remoteData),failureState:te.Table.getFailureState(g.remoteData),renderError:Be(g.remoteData,re,r.isUpgradable),tableId:Ce>=2?"all":"grouped",tooltipTarget:T,totalRowsNumber:0|M,pagination:h.pagination,sortDirection:h.sort.direction,sort:s._1(PL.Name.toString,h.sort.name),stickyHeaderLayer:tt.ZIndex.above(tt.ZIndex.tableExpandableRow),onPaginationChange:function(e){var t=mt.caml_obj_dup(h);return F(void 0,(t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(h);return a.pagination=r,a.sort={name:me.getWithDefault(s._1(PL.Name.ofString,e),s._1(PL.Name.getDefault,void 0)),direction:t},F(void 0,a)},onRefetch:re,onClearFilters:function(e){return F(void 0,ML())}})),z.createElement(ut.make,{singleton:w[0]}))};function HL(e,t){if("number"==typeof t)switch(t){case 0:return{remoteKeywordsByCountry:1,remoteDataTable:1,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:void 0};case 1:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:1,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 2:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:void 0}}else switch(0|t.TAG){case 0:return{remoteKeywordsByCountry:t._0,remoteDataTable:e.remoteDataTable,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 1:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:t._0,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 2:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteKeLists:t._0,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 3:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteKeLists:e.remoteKeLists,remoteRtProjects:t._0,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:e.keywordsSummaries};case 4:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:t._0,keywordsSummaries:e.keywordsSummaries};case 5:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:de.mapWithDefault(t._0,void 0,(function(e){return ce.reduce(e,void 0,(function(e,t){return Ur.set(e,n.Clean_keyword.show(t.keyword),t)}))}))};case 6:var r=t._2,a=t._0;return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteKeLists:de.map(e.remoteKeLists,(function(e){return ce.map(e,(function(e){return e.id===a?{id:e.id,name:e.name,length:r}:e}))})),remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(t._1,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:{hd:a,tl:e.keywordsLists},inRtProjects:e.inRtProjects}}))}))}))};case 7:var o=t._2,i=t._0;return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteKeLists:de.map(e.remoteKeLists,(function(e){return ce.map(e,(function(e){return e.id===i?{id:e.id,name:e.name,length:o}:e}))})),remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(t._1,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:ce.filter(e.keywordsLists,(function(e){return e!==i})),inRtProjects:e.inRtProjects}}))}))}))};case 8:var s=t._2,l=t._1,d=t._0;return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteKeLists:de.map(e.remoteKeLists,(function(e){return ce.concat(e,{hd:{id:d,name:l,length:ce.length(s)},tl:0})})),remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(s,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:{hd:d,tl:e.keywordsLists},inRtProjects:e.inRtProjects}}))}))}))};case 9:return{remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteKeLists:e.remoteKeLists,remoteRtProjects:e.remoteRtProjects,remoteLanguagesByCountry:e.remoteLanguagesByCountry,keywordsSummaries:ce.reduce(t._0,e.keywordsSummaries,(function(e,t){return Ur.update(e,t,(function(e){return me.map(e,(function(e){return{keyword:e.keyword,keywordsLists:e.keywordsLists,inRtProjects:!0}}))}))}))}}}function zL(e,t,r){return Re("string"==typeof e||"Compared"!==e.NAME?Vp.toActualFieldName(t):Vp.toComparedFieldName(t),r)}var YL={contents:gt()},JL={contents:gt()};function XL(e,t,r,a){s._1(e,0);var o=gt();return YL.contents=o,JL.contents=o,Ye.forEach($(void 0,n.Protocolless_url.show(t.url),t.mode,t.protocol,a,r),(function(t){if(YL.contents===o){var r=de.map(t,(function(e){return oe.fromArray(ge.map(ce.toArray(e),(function(e){return[e.country,e.count]})),We)}));return s._1(e,{TAG:0,_0:r})}}))}function ZL(e,t,r,a,o,i,l,d,c,u){s._1(e,1);var g=gt();return JL.contents=g,Ye.forEach(function(e,t,r,a,o,i){return R(void 0,D.request,{args:{mode:t,protocol:r,url:e,reportMode:o,country:a},params:i})}(n.Protocolless_url.show(a.url),a.mode,a.protocol,u,c,{filter:d,size:l,offset:i,order_by:o,shape:ce.map(r,(function(e){return e[1]})),timeout:void 0}),(function(a){if(JL.contents===g)return s._1(e,{TAG:1,_0:a}),de.forEach(a,(function(a){var o=ce.map(r,(function(e){return e[0]})),i=Ra.foldRows(t,(function(e,t){return Fa.getValue(o,e,t)}),(function(e,t,r,a,o){return s._1(t,{hd:o,tl:e})}),0,a.rows);return function(e,t){return s._1(e,2),Ye.forEach(U(t),(function(t){return s._1(e,{TAG:5,_0:t})}))}(e,i)}))}))}function eE(e){return Ye.forEach(Vl.getProjectsAndLocations(void 0),(function(t){return s._1(e,{TAG:3,_0:t})}))}function tE(e,t,r,a,o){return d.performResult(void 0,!1,cy.request,{protocol:r.protocol,target:r.url,mode:r.mode,country:t,keyword:e,dateFrom:a,mainOnly:o})}var rE=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=e.onSettingsUpdated,c=r.limits.isRankTrackerPresent,u=z.useContext(dd).canCreateKeywordList,g=he.useUrl(void 0,void 0),m=g.path,f=i.parseQueryToDict(g.search,void 0,void 0),p=z.useReducer(HL,{remoteKeywordsByCountry:0,remoteDataTable:0,remoteKeLists:0,remoteRtProjects:0,remoteLanguagesByCountry:0,keywordsSummaries:void 0}),_=p[1],h=p[0],k=ya.useMultipleExpandedRows(void 0,void 0),v=uo.useSingleton({overrides:["className"]}),y=v[1],D=ya.useSelectableRows(void 0),S=D[2],F=D[1],C=D[0],T=a.useStateValue(void 0),b=T[1],P=T[0],M=zp(void 0,r,f),A=a.useStateValue(M),R=A[1],E=A[0],B=function(e,t){var r=void 0!==e&&e;s._1(R,t);var a=i.makeStringWithQueryDict(i.makePathname(m),l.some(Yp(void 0,l.some(f),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};Ie(m,Yp(void 0,l.some(f),M)),ai.use(M.country,M.isUserCountry,r.settings.keywordDataSource,h.remoteKeywordsByCountry,(function(e){return B(!0,{sort:M.sort,pagination:M.pagination,country:e,isUserCountry:M.isUserCountry,currentDate:M.currentDate,compareDate:M.compareDate,positions:M.positions,volume:M.volume,kd:M.kd,cpc:M.cpc,orgKeywordTraffic:M.orgKeywordTraffic,serp:M.serp,words:M.words,keyword:M.keyword,url:M.url,isMainOnly:M.isMainOnly,multipleUrls:M.multipleUrls})}));var K,q=Pt.dataToReportMode([M.currentDate,M.compareDate]),x=i.stringifyQueryDict(Yp(a_,void 0,M),void 0,void 0),W=z.useMemo((function(){var e="string"==typeof q||"Compared"!==q.NAME?o_(M):i_(M);return me.map(Da.conjunct(e),Da.makeFilter)}),[x,Te(q)]);z.useEffect((function(){c&&(Ye.forEach(Ql.Lists.$$fetch(void 0),(function(e){return s._1(_,{TAG:2,_0:e})})),eE(_))}),[c]),z.useEffect((function(){var e=M.country;c&&void 0!==e&&!0===e.ke&&Ye.forEach(Vl.getLanguagesByCountry(e),(function(e){return s._1(_,{TAG:4,_0:e})}))}),[M.country,c]);var U=0;if("string"==typeof q||"Compared"!==q.NAME)U=1;else{var N=function(e,t,r,o){var i=s._1(Op.toString,6),n=s._1(ke.Message.to_s,{id:"5d9f4d005bba038194a47653acdc6217",defaultMessage:"Change"}),d={TAG:0,_0:mo.topPageTrafficChange},c=s._1(Op.toString,8),u=s._1(ke.Message.to_s,{id:"503120a12c22a7865fd9c6d66e390abe",defaultMessage:"Position"}),g={TAG:0,_0:mo.position},m=s._1(Op.toString,9),f=s._1(ke.Message.to_s,{id:"a3e42224f06303e830d1bd0c6e1d30f2",defaultMessage:"Change"}),p={TAG:0,_0:mo.positionChange},_={hd:{TAG:0,_0:{NAME:"px",VAL:200}},tl:0},h={hd:{TAG:0,_0:{NAME:"percent",VAL:60}},tl:0},k=l.some(n_),v=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"}),y={TAG:0,_0:mo.url};return{hd:tn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.text)),t,s._1(Op.toString,0),2,{hd:{TAG:0,_0:{NAME:"percent",VAL:40}},tl:0},{hd:{TAG:0,_0:{NAME:"px",VAL:150}},tl:0},Aa.getTerms(o.keyword.rules)),tl:{hd:Ca.makeSfColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.serp_features)),e,s._1(Op.toString,1),void 0),tl:{hd:Ca.makeVolumeColumn(s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.volume),s._1(Op.toString,2),void 0,void 0),tl:{hd:Ca.makeDifficultyColumn(s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.difficulty),s._1(Op.toString,3),void 0),tl:{hd:Ca.makeCpcColumn(s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.cpc),s._1(Op.toString,4),void 0),tl:{hd:Ca.makeCurrentTrafficColumn(s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.sum_traffic),s._1(Op.toString,5),void 0,void 0),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o,i,n){return z.useMemo((function(){var t,d,c=0;if(void 0!==r)if(void 0!==i&&void 0!==n){var u={value:a.s(ae.Int.full(ie.to_int32(i))),date:a.s(ne.dateUtc(void 0,l.valFromOption(n),"dayShortMonthYear"))};t=z.createElement(ut.make,{content:z.createElement(pt.make,{color:"primary",fontSize:"sm",children:s._2(ke.Message.format_to_s,{id:"54ae0943bd89ca1ef946abf7945f2c85",defaultMessage:"Previous: {value} ({date})"},u)}),singleton:e,children:z.createElement(_a.Int.make,_a.Int.makeProps(void 0,ie.to_int32(r),void 0,"md",void 0,void 0))})}else d=r,c=1;else{var g=0;void 0!==i?void 0!==o?g=2:t=z.createElement(_a.Int.make,_a.Int.makeProps(void 0,Math.imul(-1,ie.to_int32(i)),void 0,"md",void 0,void 0)):void 0!==o?g=2:t=null,2===g&&(t=z.createElement(_a.Int.make,_a.Int.makeProps(void 0,ie.to_int32(o),void 0,"md",void 0,void 0)))}return 1===c&&(t=z.createElement(_a.Int.make,_a.Int.makeProps(void 0,ie.to_int32(d),void 0,"md",void 0,void 0))),z.createElement(va.Td.make,{align:"right",children:t})}),[me.map(o,ie.to_int32),me.map(r,ie.to_int32),me.map(i,ie.to_int32),n])}),{renderHeader:function(e,t,r,a,o,s,l,c){return La.makeRenderHeader(d,void 0,n,void 0,i,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,s,l,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.Diff.get,ft.Se_shared.OrganicKeywordsCompared.Diff.traffic_diff)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.sum_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.sum_traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.last_update)),0))))),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r){return z.useMemo((function(){var e=me.map(t,ie.to_int32),o=me.map(r,ie.to_int32),i=z.createElement("div",{className:Wp},z.createElement(Xe.TextArrow.make,s.app(Xe.TextArrow.makeProps,[void 0,void 0,0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]))),n=z.createElement("div",{className:Wp},z.createElement(Xe.Cross.make,s.app(Xe.Cross.makeProps,[void 0,void 0,0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])));return z.createElement(va.Td.make,{align:"right",children:z.createElement(Je.make,{gap:"px2",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:{NAME:"px",VAL:8},tl:{hd:{NAME:"fr",VAL:1},tl:0}}},align:"baseline",children:void 0!==e?void 0!==o?e===o?z.createElement(z.Fragment,void 0,z.createElement("div",void 0,a.s(Gt.nbsp)),z.createElement("div",void 0,a.s(Gt.nbsp)),z.createElement(pt.make,{align:"center",children:a.s(ae.Int.full(e))})):z.createElement(z.Fragment,void 0,z.createElement(pt.make,{color:"secondary",align:"center",children:a.s(ae.Int.full(o))}),i,z.createElement(pt.make,{align:"center",children:a.s(ae.Int.full(e))})):z.createElement(z.Fragment,void 0,n,i,z.createElement(pt.make,{align:"center",children:a.s(ae.Int.full(e))})):void 0!==o?z.createElement(z.Fragment,void 0,z.createElement(pt.make,{color:"secondary",align:"center",children:a.s(ae.Int.full(o))}),i,n):fo.failwith("no position available")})})}),[me.map(t,ie.to_int32),me.map(r,ie.to_int32)])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(g,void 0,u,void 0,c,"Asc","right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position)),0))),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o,i,n){return z.useMemo((function(){var t;if(void 0!==r)if(void 0!==o)if(ie.eq(r,o))t=null;else if(void 0!==i)if(void 0!==n){var d={date:a.s(ne.dateUtc(void 0,l.valFromOption(n),"dayShortMonthYear"))};t=z.createElement(ut.make,{content:z.createElement(pt.make,{color:"primary",fontSize:"sm",children:s._2(ke.Message.format_to_s,{id:"9c321321c9d91d5bdfc079f2c6a683dd",defaultMessage:"Compared to {date}"},d)}),singleton:e,children:z.createElement(_a.Int.make,_a.Int.makeProps(void 0,Math.imul(ie.to_int32(i),-1),"Triangle","md",void 0,void 0))})}else t=void 0!==n?fo.failwith("both positions are present, but no 'position delta'"):fo.failwith("'prev position' is present, but no 'update date'");else t=void 0!==n?fo.failwith("both positions are present, but no 'position delta'"):fo.failwith("'prev position' is present, but no 'update date'");else t=z.createElement(Rp.make,{fontSize:"md",value:"New"});else t=void 0!==o?z.createElement(Rp.make,{fontSize:"md",value:"Lost"}):fo.failwith("no position available");return z.createElement(va.Td.make,{align:"right",children:z.createElement(ct.make,{align:"right",children:t})})}),[me.map(r,ie.to_int32),me.map(o,ie.to_int32),me.map(i,ie.to_int32),n])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(p,void 0,f,void 0,m,"Asc","right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.Diff.get,ft.Se_shared.OrganicKeywordsCompared.Diff.best_position_diff)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.last_update)),0))))),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(i,n,l,d,c,u,g,m,f,p,_,h,k,v,y,D){var S=Aa.getTerms(o.url.rules);return z.useMemo((function(o){var i,F=function(t,r,o){var i=void 0!==r?r:_e.Color.$$Text.link;return void 0!==t&&"Organic"!==t?z.createElement(_d.make,{value:t,color:i,tooltipTarget:e}):z.createElement("span",void 0,a.s(Gt.nbsp))},C=z.createElement(wd,{value:h,onClick:function(e){return s._2(r.setRow,dt.to_string(k),{NAME:"Serp",VAL:[v,y,D,!0]})}}),w=me.map4(n,l,c,u,(function(e,t,r,a){return[e,t,r,a]})),T=me.map4(g,m,p,_,(function(e,t,r,a){return[e,t,r,a]}));if(void 0!==w){var b=w[3],P=w[2],M=w[1],A=w[0];if(void 0!==T){var R=T[3],L=T[2],E=T[1],B=T[0];i=mt.caml_equal(A,B)&&M===E&&mt.caml_equal(d,f)&&P===L&&b===R?z.createElement(Je.make,{gap:"px4",layout:{hd:{NAME:"px",VAL:14},tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},F(f,void 0),z.createElement(vd,{hasThumbnail:L,hasVideo:R,displayLink:B,tkLinkContextInputString:E,tooltipTarget:e,country:t,urlTerms:S,children:C})):z.createElement(ct.make,{gap:"none",children:null},z.createElement(Je.make,{gap:"px4",layout:{hd:{NAME:"px",VAL:14},tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},F(f,void 0),z.createElement(vd,{hasThumbnail:L,hasVideo:R,displayLink:B,tkLinkContextInputString:E,tooltipTarget:e,country:t,urlTerms:S,children:C})),z.createElement(Je.make,{gap:"px4",layout:{hd:{NAME:"px",VAL:14},tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},F(d,_e.Color.$$Text.tertiary),z.createElement(vd,{hasThumbnail:P,hasVideo:b,displayLink:A,tkLinkContextInputString:M,tooltipTarget:e,linkMode:"old",country:t,urlTerms:S})))}else i=void 0!==f?null:z.createElement(Je.make,{gap:"px4",layout:{hd:{NAME:"px",VAL:14},tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},F(d,_e.Color.$$Text.tertiary),z.createElement(vd,{hasThumbnail:P,hasVideo:b,displayLink:A,tkLinkContextInputString:M,tooltipTarget:e,linkMode:"old",country:t,urlTerms:S,children:C}))}else i=void 0!==d||void 0===T?null:z.createElement(Je.make,{gap:"px4",layout:{hd:{NAME:"px",VAL:14},tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},F(f,void 0),z.createElement(vd,{hasThumbnail:T[2],hasVideo:T[3],displayLink:T[0],tkLinkContextInputString:T[1],tooltipTarget:e,country:t,urlTerms:S,children:C}));return z.createElement(va.Td.make,{nowrap:!1,children:i})}),[n,l,d,c,u,g,m,f,p,_,ie.to_int32(h),ie.to_int32(k),v,y,D,r.map,Aa.toKey(S),t.code])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(y,void 0,v,void 0,void 0,void 0,void 0,void 0,void 0,void 0,k,void 0,h,_,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position_tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position_kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position_has_thumbnail)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.get,ft.Se_shared.OrganicKeywordsCompared.PreviousKeyword.best_position_has_video)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position_tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position_kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position_has_thumbnail)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.get,ft.Se_shared.OrganicKeywordsCompared.CurrentKeyword.best_position_has_video)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.serp_target_positions_count)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.text)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.last_update)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.language)),0)))))))))))))))),tl:{hd:rn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.hash)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.text)),r,void 0),tl:{hd:Ca.makeSerpColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.hash)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.text)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.last_update)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.language)),r),tl:{hd:Ca.makeLastUpdatedColumn(s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.last_update),s._1(Op.toString,11),void 0),tl:0}}}}}}}}}}}}}}(y,me.getWithDefault(M.country,Qe),k,M);K=[N,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.get,ft.Se_shared.OrganicKeywordsCompared.MergedKeyword.text)),0))]}if(1===U){var $=function(e,t,r,o){var i={hd:{TAG:0,_0:{NAME:"px",VAL:200}},tl:0},n={hd:{TAG:0,_0:{NAME:"percent",VAL:60}},tl:0},d=l.some(n_),c=s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"}),u={TAG:0,_0:mo.url};return{hd:tn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.text)),t,s._1(Op.toString,0),2,{hd:{TAG:0,_0:{NAME:"percent",VAL:40}},tl:0},{hd:{TAG:0,_0:{NAME:"px",VAL:150}},tl:0},Aa.getTerms(o.keyword.rules)),tl:{hd:Ca.makeSfColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.serp_features)),e,s._1(Op.toString,1),void 0),tl:{hd:Ca.makeVolumeColumn(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.volume),s._1(Op.toString,2),void 0,void 0),tl:{hd:Ca.makeDifficultyColumn(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.difficulty),s._1(Op.toString,3),void 0),tl:{hd:Ca.makeCpcColumn(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.cpc),s._1(Op.toString,4),void 0),tl:{hd:Ca.makeTrafficColumn(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.sum_traffic),s._1(Op.toString,5),void 0,void 0),tl:{hd:Ca.makePositionColumn(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position),void 0,s._1(Op.toString,8),void 0,void 0),tl:{hd:s._3(Ra.FieldsRequestDescr.recordWithRender,(function(i,n,l,d,c,u,g,m,f,p,_){var h=Aa.getTerms(o.url.rules);return z.useMemo((function(o){return z.createElement(va.Td.make,{nowrap:!1,children:z.createElement(Je.make,{gap:"px4",layout:{hd:{NAME:"px",VAL:14},tl:{hd:{NAME:"fr",VAL:1},tl:0}},align:"top",children:null},"Organic"!==d?z.createElement(_d.make,{value:d,color:_e.Color.$$Text.link,tooltipTarget:e}):z.createElement("span",void 0,a.s(Gt.nbsp)),z.createElement(vd,{hasThumbnail:c,hasVideo:u,displayLink:n,tkLinkContextInputString:l,tooltipTarget:e,country:t,urlTerms:h,children:z.createElement(wd,{value:g,onClick:function(e){return s._2(r.setRow,dt.to_string(m),{NAME:"Serp",VAL:[f,p,_,!0]})}})}))})}),[l,d,c,u,ie.to_int32(g),ie.to_int32(m),f,p,r.map,Aa.toKey(h),t.code])}),{renderHeader:function(e,t,r,a,o,s,l,g){return La.makeRenderHeader(u,void 0,c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d,void 0,n,i,void 0,void 0,void 0,e,t,r,a,o,s,l,g)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_kind)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_has_thumbnail)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.best_position_has_video)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.serp_target_positions_count)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.text)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.last_update)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.language)),0))))))))))),tl:{hd:rn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.hash)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.text)),r,void 0),tl:{hd:Ca.makeSerpColumn(s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.hash)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.text)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.last_update)),s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.language)),r),tl:{hd:Ca.makeLastUpdatedColumn(s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.last_update),s._1(Op.toString,11),void 0),tl:0}}}}}}}}}}}}(y,me.getWithDefault(M.country,Qe),k,M);K=[$,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.OrganicKeywordsActual.Keyword.get,ft.Se_shared.OrganicKeywordsActual.Keyword.text)),0))]}var I=K[1],G=K[0],Q=s._3(Ra.FieldsRequestDescr.customRow,G,(function(e,a,o){var i,n=Bo.has(C,e.index),l=ce.filterMap({hd:Ur.get(h.keywordsSummaries,o),tl:0},(function(e){if(void 0!==e&&(e.inRtProjects||ce.length(e.keywordsLists)>0))return e}));if(c){var d=function(e){return s._1(b,a)};i=z.createElement(va.Td.make,{paddingLeft:"none",width:{hd:{TAG:0,_0:{NAME:"px",VAL:26}},tl:0},minWidth:{hd:{TAG:0,_0:{NAME:"px",VAL:26}},tl:0},children:z.createElement("div",{className:Pc},l?z.createElement(_o.make,{onClick:d,children:z.createElement(Xe.Check.make,Xe.Check.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}):z.createElement(_o.make,{onClick:d,children:z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}))})}else i=z.createElement(va.Td.make,{paddingLeft:"none",paddingRight:"none",children:null});var g,m=Ur.get(k.map,dt.to_string(a)),f=M.country;if(void 0!==m&&"string"!=typeof m){var p=m.NAME;if("PositionHistory"===p)if(void 0!==f){var v=M.isMainOnly,y=M.isMainOnly;g=z.createElement(Eo.make,{children:z.createElement(Gv.make,{keyword:m.VAL,country:f,target:Ve.Safe.toUnsafe(t),historicalPermissions:r.chartHistoricalPermissions,isUpgradable:r.isUpgradable,dateResetUsagesMonthly:r.subscription.dateResetUsagesMonthly,dateResetUsagesWeekly:r.subscription.dateResetUsagesWeekly,onPositionsHistoryFetch:function(e){return function(t){var r=function(r,a,o){return tE(e,t,r,a,o)};return function(e){var t=s._1(r,e);return function(e){return s._2(t,e,v)}}}},onCompetitorPositionsHistoryFetch:function(e){return function(t){var r=function(r,a,o){return tE(e,t,r,a,o)};return function(e){var t=s._1(r,e);return function(e){return s._2(t,e,y)}}}},onClose:function(e){return s._2(k.setRow,dt.to_string(a),void 0)}}),tableRootRef:e.tableRootRef,hash:k.hash,onDimensionsChange:k.renewHash})}else g=null;else if("Serp"===p&&void 0!==f){var D=m.VAL,S=D[2],w=D[1],T=D[0];g=z.createElement(Eo.make,{children:z.createElement(id,{settings:r,keyword:T,country:f,target:t,lastUpdate:w,language:S,isOnlyTarget:D[3],onIsOnlyTargetChanged:function(e){return s._2(k.setRow,dt.to_string(a),{NAME:"Serp",VAL:[T,w,S,e]})},onClose:function(e){return s._2(k.setRow,dt.to_string(a),void 0)}}),tableRootRef:e.tableRootRef,hash:k.hash,onDimensionsChange:k.renewHash})}else g=null}else g=null;return z.createElement(z.Fragment,{children:null,key:dt.to_string(a)},z.createElement("div",{className:bc},c?z.createElement(nd.make,nd.makeProps(!(void 0===P||!ie.eq(P,a)),r.limits.batchKeywords,{hd:o,tl:0},l,2,void 0,me.getWithDefault(M.country,Qe),r.isUpgradable,r.limits.lists,h.remoteKeLists,h.remoteRtProjects,h.remoteLanguagesByCountry,u,(function(e){return s._1(b,e?a:void 0)}),(function(e,t,r){return s._1(_,{TAG:6,_0:e,_1:t,_2:r})}),(function(e,t,r){return s._1(_,{TAG:7,_0:e,_1:t,_2:r})}),(function(e){return s._1(_,{TAG:9,_0:e}),eE(_)}),void 0,(function(e,t,r,a){return s._1(_,{TAG:8,_0:t,_1:r,_2:a})}),void 0,void 0,void 0)):null),z.createElement(te.Row.make,{columns:G,parentData:e,isSelected:n,onSelect:function(t){return s._2(F,[e.index],!n)},children:i}),g)}),I),Y=s._1(Ra.FieldsRequestDescr.toRequest,Q),X=ai.shouldLoadSequentially(M.isUserCountry,r.settings.keywordDataSource),Z=Ne(X,h.remoteDataTable,h.remoteKeywordsByCountry),ee=ue.use(t),re=ue.use(W),oe=ue.use(q);z.useEffect((function(e){if(!X){var r=function(e){return s._1(S,void 0),s._1(k.closeAll,void 0)},a=M.pagination.limit,o=M.pagination.offset,i=zL(q,M.sort.name,M.sort.direction),n=function(e){return ZL(_,I,Y,t,i,o,a,W,q,e)},l=function(e){return XL(_,t,W,q)},d=M.country,c=h.remoteKeywordsByCountry,u=!Ve.Safe.equals(ee,t)||mt.caml_notequal(re,W)||!be(oe,q);if(void 0!==d){var g=0;0!==c||u?g=1:(r(),l(),s._1(n,d)),1===g&&(u?(r(),l(),s._1(n,d)):(r(),s._1(n,d)))}}}),[Ve.Safe.toKey(t),W,Te(q),s._1(Vp.Name.toString,M.sort.name),ci.toString(M.sort.direction),M.pagination.offset,M.pagination.limit,me.map(M.country,se.code)]),z.useEffect((function(e){if(X){var r=function(e){return s._1(S,void 0),s._1(k.closeAll,void 0)},a=M.pagination.limit,o=M.pagination.offset,i=zL(q,M.sort.name,M.sort.direction),n=M.country,l=h.remoteKeywordsByCountry,d=!Ve.Safe.equals(ee,t)||mt.caml_notequal(re,W)||!be(oe,q),c=0;void 0===n||"number"==typeof l||2!==l.TAG||d?c=1:(r(),s._1((function(e){return ZL(_,I,Y,t,i,o,a,W,q,e)}),n)),1===c&&(d||0===l)&&(r(),XL(_,t,W,q))}}),[Ve.Safe.toKey(t),W,Te(q),s._1(Vp.Name.toString,M.sort.name),ci.toString(M.sort.direction),M.pagination.offset,M.pagination.limit,me.map(M.country,se.code),de.isSuccess(h.remoteKeywordsByCountry)]);var le,ge=z.useCallback((function(e){return XL(_,t,W,q),me.forEach(M.country,(function(e){return ZL(_,I,Y,t,zL(q,M.sort.name,M.sort.direction),M.pagination.offset,M.pagination.limit,W,q,e)}))}),[]),fe=Ue(M.country,h.remoteKeywordsByCountry),pe=fe[0],ve=z.useMemo((function(){return de.mapWithDefault(h.remoteDataTable,0,(function(e){return e.rows}))}),[h.remoteDataTable]),ye=z.useMemo((function(){if(!be(oe,q))return 0;var e=ce.map(Y,(function(e){return e[0]}));return Ra.foldRows(I,(function(t,r){return Fa.getValue(e,t,r)}),(function(e,t,r,a,o){return s._1(t,Bo.has(C,r)?{hd:o,tl:e}:e)}),0,ve)}),[Te(q),Te(oe),ve,C]);if(ye){var De={selected:a.s(ae.Int.full(ce.length(ye)))};le=z.createElement(z.Fragment,void 0,z.createElement("div",{className:Fc},z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"ab216f638df44cb883cd780cb847cb36",defaultMessage:"{selected} selected"},De)})),c?z.createElement(nd.Controlled.make,{batchKeywords:r.limits.batchKeywords,keywords:ye,keywordsSummaries:ce.reduce(ye,0,(function(e,t){var r=Ur.get(h.keywordsSummaries,t);return void 0!==r?{hd:r,tl:e}:e})),country:me.getWithDefault(M.country,Qe),isUpgradablePlan:r.isUpgradable,listsLimit:r.limits.lists,remoteKeLists:h.remoteKeLists,remoteRtLists:h.remoteRtProjects,remoteRtLanguagesByCountry:h.remoteLanguagesByCountry,canCreateKeywordList:u,onKeKeywordsAdded:function(e,t,r){return s._1(_,{TAG:6,_0:e,_1:t,_2:r})},onKeKeywordsRemoved:function(e,t,r){return s._1(_,{TAG:7,_0:e,_1:t,_2:r})},onRtKeywordsAdded:function(e){return s._1(_,{TAG:9,_0:e}),eE(_)},onKeListCreated:function(e,t,r,a){return s._1(_,{TAG:8,_0:t,_1:r,_2:a})}}):null,z.createElement(sd.Button.make,{value:ce.joinWithNewLine(ce.reverse(ye)),label:s._1(ke.Message.to_s,{id:"92005275389b58285f79fb62a0204001",defaultMessage:"Copy"}),color:"outline"}))}else le=z.createElement(z.Fragment,void 0,z.createElement("div",{className:Fc},fe[1]),z.createElement(Tl.make,{currentDate:M.currentDate,compareDate:M.compareDate,historicalPermissions:r.reportHistoricalPermissions,isUpgradable:r.isUpgradable,onChange:function(e,t){var r=M.pagination,a=M.positions;return B(void 0,{sort:M.sort,pagination:{limit:r.limit,offset:0},country:M.country,isUserCountry:M.isUserCountry,currentDate:e,compareDate:t,positions:{positions:a.positions,changes:"DontCompare"===t?0:M.positions.changes},volume:M.volume,kd:M.kd,cpc:M.cpc,orgKeywordTraffic:M.orgKeywordTraffic,serp:M.serp,words:M.words,keyword:M.keyword,url:M.url,isMainOnly:M.isMainOnly,multipleUrls:M.multipleUrls})},onCompareDateChange:function(e){var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.orgKeywordsCompare=e,t))}}),z.createElement("div",{className:Cc},z.createElement(ct.make,{vAlign:"center",fullHeight:!0,children:z.createElement(xp,{value:M.isMainOnly,onChange:function(e){var t,r=M.pagination;if(go.isFilteringMainOnly(E.serp))t=M.serp;else{var a=M.serp;t={features:ce.filter(M.serp.features,go.Feature.isMainPosition),mode:a.mode}}return B(void 0,{sort:M.sort,pagination:{limit:r.limit,offset:0},country:M.country,isUserCountry:M.isUserCountry,currentDate:M.currentDate,compareDate:M.compareDate,positions:M.positions,volume:M.volume,kd:M.kd,cpc:M.cpc,orgKeywordTraffic:M.orgKeywordTraffic,serp:t,words:M.words,keyword:M.keyword,url:M.url,isMainOnly:e,multipleUrls:M.multipleUrls})}})})),z.createElement("div",{className:Cc},z.createElement(ct.make,{vAlign:"center",fullHeight:!0,children:z.createElement(Bp,{value:M.multipleUrls,onChange:function(e){var t=M.pagination;return B(void 0,{sort:M.sort,pagination:{limit:t.limit,offset:0},country:M.country,isUserCountry:M.isUserCountry,currentDate:M.currentDate,compareDate:M.compareDate,positions:M.positions,volume:M.volume,kd:M.kd,cpc:M.cpc,orgKeywordTraffic:M.orgKeywordTraffic,serp:M.serp,words:M.words,keyword:M.keyword,url:M.url,isMainOnly:M.isMainOnly,multipleUrls:e})}})})),z.createElement("div",{className:Tc},z.createElement(kt.make,{gap:"px10",children:null},z.createElement(Oo,{data:{TAG:7,_0:{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:q,country:me.getWithDefault(M.country,Qe)},params:{filter:W,size:M.pagination.limit,offset:M.pagination.offset,order_by:zL(q,M.sort.name,M.sort.direction),shape:ce.map(Y,(function(e){return e[1]})),timeout:void 0}}}}),z.createElement(bt,{exportFunc:function(e,r){var a=me.getWithDefault(M.country,Qe);return function(e,t,r,a,o,i,n,s){return L(e,t,void 0,w.request,{args:{mode:a,protocol:o,url:r,reportMode:i,country:s},params:n})}(e,s._4(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-organic-keywords-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}}}},_1:"%s-organic-keywords-%s-%s-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode),se.code(a),Te(q)),n.Protocolless_url.show(t.url),t.mode,t.protocol,q,{filter:W,size:r,offset:0,order_by:zL(q,M.sort.name,M.sort.direction),shape:ce.map(Y,(function(e){return e[1]})),timeout:void 0},a)},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:pe,target:t,limitsFunc:O}))));var Se,Fe=z.createElement("div",{className:wc},le),Ce=h.remoteKeywordsByCountry,we=h.remoteDataTable,Pe=0;"number"==typeof Ce||1!==Ce.TAG?Pe=1:Se=Ce._0,1===Pe&&(Se="number"==typeof we||1!==we.TAG?void 0:we._0);var Me={settings:r,children:z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(j.V2.show(7))})}),z.createElement(co,{showApplyFilters:!Zp(E,M),onClearFilters:function(e){return s._1(R,M)},onApplyFilters:function(e){var t=E.pagination;return B(void 0,{sort:E.sort,pagination:{limit:t.limit,offset:0},country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},children:null},z.createElement(ai.make,{selectedItem:E.country,onApply:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:e,isUserCountry:!0,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},remoteCountryMap:h.remoteKeywordsByCountry}),z.createElement(Ty.make,{historicalPermissions:r.reportHistoricalPermissions,data:E.positions,onApply:function(e){var t=M.pagination,r=e.changes;return s._1(R,{sort:E.sort,pagination:{limit:t.limit,offset:0},country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:r?"string"==typeof q?"ActualToday"===q?"PrevMonth":E.compareDate:"Actual"===q.NAME?"PrevMonth":E.compareDate:E.compareDate,positions:e,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},onClear:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:e,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})}}),z.createElement(pa.Volume.make,{value:E.volume,onClear:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:jp().volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},onApply:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:e,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})}}),z.createElement(pa.KD.make,{value:E.kd,onClear:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:jp().kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},onApply:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:e,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})}}),z.createElement(pa.CPC.make,{value:E.cpc,onClear:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:jp().cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},onApply:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:e,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})}}),z.createElement(pa.OrgKeywordTraffic.make,{value:E.orgKeywordTraffic,onClear:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:jp().orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},onApply:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:e,serp:E.serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})}}),z.createElement(go.make,{value:E.serp,onApply:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:e,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:!!go.isFilteringMainOnly(e)&&E.isMainOnly,multipleUrls:E.multipleUrls})},onClear:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:jp().serp,words:E.words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})}}),z.createElement(pa.Words.make,{value:E.words,onClear:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:jp().words,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},onApply:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:e,keyword:E.keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})}}),z.createElement(fa.Keyword.make,{value:E.keyword,onClear:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:jp().keyword,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},onApply:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:e,url:E.url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})}}),z.createElement(fa.$$URL.make,{value:E.url,onClear:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:jp().url,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})},onApply:function(e){return s._1(R,{sort:E.sort,pagination:E.pagination,country:E.country,isUserCountry:E.isUserCountry,currentDate:E.currentDate,compareDate:E.compareDate,positions:E.positions,volume:E.volume,kd:E.kd,cpc:E.cpc,orgKeywordTraffic:E.orgKeywordTraffic,serp:E.serp,words:E.words,keyword:E.keyword,url:e,isMainOnly:E.isMainOnly,multipleUrls:E.multipleUrls})}})),z.createElement("div",void 0,z.createElement(te.Table.make,{row:Q,data:ve,hasAppliedFilters:""!==x||mt.caml_notequal(M.pagination,s._1(ya.Pagination.Filter.getDefault,void 0)),header:Fe,isLoading:Z[0],failureState:Z[1],renderError:qe([h.remoteDataTable,h.remoteKeywordsByCountry],ge,r.isUpgradable),tableId:Mt(q),tooltipTarget:y,totalRowsNumber:pe,rowsSelectionConfig:[C,F,S],pagination:M.pagination,sortDirection:M.sort.direction,sort:s._1(Vp.Name.toString,M.sort.name),onPaginationChange:function(e){return B(void 0,{sort:M.sort,pagination:e,country:M.country,isUserCountry:M.isUserCountry,currentDate:M.currentDate,compareDate:M.compareDate,positions:M.positions,volume:M.volume,kd:M.kd,cpc:M.cpc,orgKeywordTraffic:M.orgKeywordTraffic,serp:M.serp,words:M.words,keyword:M.keyword,url:M.url,isMainOnly:M.isMainOnly,multipleUrls:M.multipleUrls})},onSort:function(e,t,r){var a={name:me.getWithDefault(s._1(Vp.Name.ofString,e),s._1(Vp.Name.getDefault,void 0)),direction:t},o=M.country,i=M.isUserCountry,n=M.currentDate,l=M.compareDate,d=M.positions,c=M.volume,u=M.kd,g=M.cpc,m=M.orgKeywordTraffic,f=M.serp,p=M.words,_=M.keyword,h=M.url,k=M.isMainOnly,v=M.multipleUrls;return B(void 0,{sort:a,pagination:r,country:o,isUserCountry:i,currentDate:n,compareDate:l,positions:d,volume:c,kd:u,cpc:g,orgKeywordTraffic:m,serp:f,words:p,keyword:_,url:h,isMainOnly:k,multipleUrls:v})},onRefetch:ge,onClearFilters:function(e){return B(void 0,jp())}}),z.createElement(ut.make,{singleton:v[0]})))};return void 0!==Se&&(Me.error=l.valFromOption(Se)),z.createElement(Po,Me)},aE=r(43697),oE=It.Make({key:"selectedTab",$$default:0,localStorageKey:void 0,toString:function(e){return e?"internal":"external"},ofString:function(e){if(void 0!==e)switch(e){case"external":return 0;case"internal":return 1;default:return}}}),iE=oE.getDefault,nE=(oE.isApplied,oE.ofQueryWithDefault),sE=oE.toQuery,lE=(oE.key,oE.localStorageKey,oE.toString,oE.ofString,oE.getter,oE.setter,oE.ofQuery,oE.ofQueryWithCustomDefault,function(e){return e?1:0}),dE=function(e){return 0!==e&&1===e?1:0},cE=ya.Pagination.MakeCustomFilter({limitKey:"externalLimit",offsetKey:"externalOffset"}),uE=ya.Pagination.MakeCustomFilter({limitKey:"internalLimit",offsetKey:"internalOffset"}),gE={ExternalLinks:cE,InternalLinks:uE},mE=ya.Sort.MakeCustomFilter({nameKey:"externalSort",directionKey:"externalSortDirection",$$default:1,toString:function(e){switch(e){case 0:return"anchor";case 1:return"linkeddomains";case 2:return"linkedpages";case 3:return"linksfromtarget";case 4:return"dofollowlinks";case 5:return"firstseen"}},ofString:function(e){switch(e){case"anchor":return 0;case"dofollowlinks":return 4;case"firstseen":return 5;case"linkeddomains":return 1;case"linkedpages":return 2;case"linksfromtarget":return 3;default:return}},defaultDirection:"Desc"}),fE=mE.getDefault,pE=mE.isApplied,_E=mE.ofQueryWithDefault,hE=mE.toQuery,kE={Name:mE.Name,Direction:mE.Direction,getDefault:fE,isApplied:pE,ofQueryWithDefault:_E,toQuery:hE,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)))),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.min,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen)))),tl:0}}}},vE=ya.Sort.MakeCustomFilter({nameKey:"internalSort",directionKey:"internalSortDirection",$$default:1,toString:function(e){switch(e){case 0:return"anchor";case 1:return"linkedpages";case 2:return"linksfromtarget";case 3:return"dofollowlinks";case 4:return"firstseen"}},ofString:function(e){switch(e){case"anchor":return 0;case"dofollowlinks":return 3;case"firstseen":return 4;case"linkedpages":return 1;case"linksfromtarget":return 2;default:return}},defaultDirection:"Desc"}),yE=vE.getDefault,DE=vE.isApplied,SE=vE.ofQueryWithDefault,FE=vE.toQuery,CE={ExternalLinks:kE,InternalLinks:{Name:vE.Name,Direction:vE.Direction,getDefault:yE,isApplied:DE,ofQueryWithDefault:SE,toQuery:FE,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)))),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.min,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Crawl.first_seen)))),tl:0}}}}};function wE(e){return{externalLinksSort:s._1(fE,void 0),internalLinksSort:s._1(yE,void 0),externalLinksPagination:s._1(cE.getDefault,void 0),internalLinksPagination:s._1(uE.getDefault,void 0),selectedTab:s._1(iE,void 0),followType:s._1(Xu.Filter.getDefault,void 0),dr:s._1(pa.DR.Filter.getDefault,void 0),anchorsLinkedDomains:s._1(pa.Anchors.LinkedDomains.Filter.getDefault,void 0),linkedPages:s._1(pa.LinkedPages.Filter.getDefault,void 0),linksFromTarget:s._1(pa.LinksFromTarget.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),firstSeen:s._1(Eg.getDefault,void 0)}}var TE={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}}}};function bE(e,t,r){var a=void 0!==e?e:TE,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(hE,e,r.externalLinksSort);case 1:return s._2(FE,e,r.internalLinksSort);case 2:return s._2(cE.toQuery,e,r.externalLinksPagination);case 3:return s._2(uE.toQuery,e,r.internalLinksPagination);case 4:return s._2(sE,e,r.selectedTab);case 5:return s._2(Xu.Filter.toQuery,e,r.followType);case 6:return s._2(pa.DR.Filter.toQuery,e,r.dr);case 7:return s._2(pa.Anchors.LinkedDomains.Filter.toQuery,e,r.anchorsLinkedDomains);case 8:return s._2(pa.LinkedPages.Filter.toQuery,e,r.linkedPages);case 9:return s._2(pa.LinksFromTarget.Filter.toQuery,e,r.linksFromTarget);case 10:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 11:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 12:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 13:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 14:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 15:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 16:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 17:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 18:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 19:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 20:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 21:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 22:return s._2(fa.RefDomains.DomainName.Filter.toQuery,e,r.referringDomainName);case 23:return s._2(pa.OrgDomainTraffic.Filter.toQuery,e,r.orgDomainTraffic);case 24:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 25:return s._2(yg.Filter.toQuery,e,r.contentType);case 26:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 27:return s._2(Eg.toQuery,e,r.firstSeen)}}))}var PE={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:0}}}}}}}}}}}}}}}}}}}}}};function ME(e,t){var r=void 0!==e?l.valFromOption(e):{};return bE(PE,l.some(r),t)}var AE={all:PE,toQuery:ME,equal:function(e,t){return i.stringifyQueryDict(ME(void 0,e),void 0,void 0)===i.stringifyQueryDict(ME(void 0,t),void 0,void 0)}},RE={hd:27,tl:0};function LE(e,t){var r=void 0!==e?l.valFromOption(e):{};return bE(RE,l.some(r),t)}var EE={all:RE,toQuery:LE,equal:function(e,t){return i.stringifyQueryDict(LE(void 0,e),void 0,void 0)===i.stringifyQueryDict(LE(void 0,t),void 0,void 0)}},BE={hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:0}}}}}}}}}}}}}}}}}}}}}}},KE={hd:5,tl:{hd:6,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:{hd:26,tl:{hd:27,tl:0}}}}}}}}}}}}}}}}}}}}}},qE=function(e,t,r){switch(e){case 0:case 1:case 2:case 3:case 4:return 0;case 5:return{hd:Xu.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.sponsored),t.followType)(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)),tl:0};case 6:return{hd:pa.DR.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.dr),t.dr),tl:0};case 7:return{hd:s._2(pa.Anchors.LinkedDomains.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_name),t.anchorsLinkedDomains),tl:0};case 8:return{hd:pa.LinkedPages.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url),t.linkedPages),tl:0};case 9:return{hd:pa.LinksFromTarget.makeOutgoingAnchorsChFilter(r?s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.is_internal):s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.is_external),t.linksFromTarget),tl:0};case 10:return{hd:s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.title),t.referringPageTitle),tl:0};case 11:return{hd:s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url_plain),t.referringPageUrl),tl:0};case 12:return{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.powered_by),t.platform),tl:0};case 13:return{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.languages),t.language),tl:0};case 14:return{hd:pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.refdomains),t.refDomains),tl:0};case 15:return{hd:pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.linked_domains),t.linkedDomains),tl:0};case 16:return{hd:pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.external_links),t.externalLinks),tl:0};case 17:return{hd:pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.traffic),t.orgPageTraffic),tl:0};case 18:return{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.positions),t.orgKeywords),tl:0};case 19:return{hd:Dg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.content),t.backlinkType),tl:0};case 20:return{hd:s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),t.anchor),tl:0};case 21:return{hd:s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.right_context),t.anchorWithSurroundingText),tl:0};case 22:return{hd:s._2(fa.RefDomains.DomainName.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name),t.referringDomainName),tl:0};case 23:return{hd:pa.OrgDomainTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic),t.orgDomainTraffic),tl:0};case 24:return{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url_plain),t.targetUrl),tl:0};case 25:return{hd:yg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.non_html_suffix),t.contentType),tl:0};case 26:return{hd:Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.url),t.redirects),tl:0};case 27:return{hd:Bg(s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen),void 0,t.firstSeen),tl:0}}},xE=ya.Sort.MakeFilter({$$default:7,toString:function(e){switch(e){case 0:return"linkeddomain";case 1:return"dr";case 2:return"refdomains";case 3:return"linkeddomains";case 4:return"traffic";case 5:return"linkedpages";case 6:return"linksfromtarget";case 7:return"dofollowlinks";case 8:return"firstseen"}},ofString:function(e){switch(e){case"dofollowlinks":return 7;case"dr":return 1;case"firstseen":return 8;case"linkeddomain":return 0;case"linkeddomains":return 3;case"linkedpages":return 5;case"linksfromtarget":return 6;case"refdomains":return 2;case"traffic":return 4;default:return}},defaultDirection:"Desc"}),WE=xE.getDefault,UE=xE.isApplied,OE=xE.ofQueryWithDefault,NE=xE.toQuery,$E={Name:xE.Name,Direction:xE.Direction,getDefault:WE,isApplied:UE,ofQueryWithDefault:OE,toQuery:NE,toFieldName:function(e){switch(e){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.get,ft.Backlinks.BacklinksFields.SourcePage.UrlDomain.root_domain_name)))),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Domain.get,ft.Backlinks.BacklinksFields.TargetPage.Domain.dr)))),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Domain.get,ft.Backlinks.BacklinksFields.TargetPage.Domain.refdomains)))),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Domain.get,ft.Backlinks.BacklinksFields.TargetPage.Domain.linked_domains)))),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic)))),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)))),tl:0};case 6:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),tl:0};case 7:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),tl:0};case 8:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen)),tl:0}}}};function IE(e){return{sort:s._1(WE,void 0),pagination:s._1(ya.Pagination.Filter.getDefault,void 0),followType:s._1(Xu.Filter.getDefault,void 0),dr:s._1(pa.DR.Filter.getDefault,void 0),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0),linkedPages:s._1(pa.LinkedPages.Filter.getDefault,void 0),linksFromTarget:s._1(pa.LinksFromTarget.Filter.getDefault,void 0),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0),platform:s._1(Zu.Platform.Filter.getDefault,void 0),language:s._1(Zu.SeLanguage.Filter.getDefault,void 0),refDomains:s._1(pa.RefDomains.Filter.getDefault,void 0),linkedDomains:s._1(pa.LinkedDomains.Filter.getDefault,void 0),externalLinks:s._1(pa.ExternalLinks.Filter.getDefault,void 0),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.getDefault,void 0),orgKeywords:s._1(pa.OrgKeywords.Filter.getDefault,void 0),backlinkType:s._1(Dg.Filter.getDefault,void 0),anchor:s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0),domainName:s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0),dofollowRefDomains:s._1(pa.DofollowRefDomains.Filter.getDefault,void 0),dofollowLinkedDomains:s._1(pa.DofollowLinkedDomains.Filter.getDefault,void 0),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0),contentType:s._1(yg.Filter.getDefault,void 0),redirects:s._1(Zu.Redirects.Filter.getDefault,void 0),firstSeen:s._1(Eg.getDefault,void 0)}}var GE={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:{hd:25,tl:0}}}}}}}}}}}}}}}}}}}}}}}}}};function QE(e,t,r){var a=void 0!==e?e:GE,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(NE,e,r.sort);case 1:return s._2(ya.Pagination.Filter.toQuery,e,r.pagination);case 2:return s._2(Xu.Filter.toQuery,e,r.followType);case 3:return s._2(pa.DR.Filter.toQuery,e,r.dr);case 4:return s._2(pa.OrgDomainTraffic.Filter.toQuery,e,r.orgDomainTraffic);case 5:return s._2(pa.LinkedPages.Filter.toQuery,e,r.linkedPages);case 6:return s._2(pa.LinksFromTarget.Filter.toQuery,e,r.linksFromTarget);case 7:return s._2(fa.Backlinks.ReferringPageTitle.Filter.toQuery,e,r.referringPageTitle);case 8:return s._2(fa.Backlinks.ReferringPageUrl.Filter.toQuery,e,r.referringPageUrl);case 9:return s._2(Zu.Platform.Filter.toQuery,e,r.platform);case 10:return s._2(Zu.SeLanguage.Filter.toQuery,e,r.language);case 11:return s._2(pa.RefDomains.Filter.toQuery,e,r.refDomains);case 12:return s._2(pa.LinkedDomains.Filter.toQuery,e,r.linkedDomains);case 13:return s._2(pa.ExternalLinks.Filter.toQuery,e,r.externalLinks);case 14:return s._2(pa.OrgPageTraffic.Filter.toQuery,e,r.orgPageTraffic);case 15:return s._2(pa.OrgKeywords.Filter.toQuery,e,r.orgKeywords);case 16:return s._2(Dg.Filter.toQuery,e,r.backlinkType);case 17:return s._2(fa.Backlinks.Anchor.Filter.toQuery,e,r.anchor);case 18:return s._2(fa.Backlinks.SurroundingText.Filter.toQuery,e,r.anchorWithSurroundingText);case 19:return s._2(fa.RefDomains.DomainName.Filter.toQuery,e,r.domainName);case 20:return s._2(pa.DofollowRefDomains.Filter.toQuery,e,r.dofollowRefDomains);case 21:return s._2(pa.DofollowLinkedDomains.Filter.toQuery,e,r.dofollowLinkedDomains);case 22:return s._2(fa.Backlinks.TargetUrl.Filter.toQuery,e,r.targetUrl);case 23:return s._2(yg.Filter.toQuery,e,r.contentType);case 24:return s._2(Zu.Redirects.Filter.toQuery,e,r.redirects);case 25:return s._2(Eg.toQuery,e,r.firstSeen)}}))}var VE={hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:{hd:18,tl:{hd:19,tl:{hd:20,tl:{hd:21,tl:{hd:22,tl:{hd:23,tl:{hd:24,tl:0}}}}}}}}}}}}}}}}}}}}}}};function jE(e,t){var r=void 0!==e?l.valFromOption(e):{};return QE(VE,l.some(r),t)}var HE=function(e,t){return i.stringifyQueryDict(jE(void 0,e),void 0,void 0)===i.stringifyQueryDict(jE(void 0,t),void 0,void 0)};function zE(e){return{sort:qA().sort,pagination:qA().pagination,followType:e.followType,targetHttpCode:qA().targetHttpCode,backlinkType:e.backlinkType,orgPageTraffic:e.orgPageTraffic,referringPageTitle:e.referringPageTitle,referringPageUrl:e.referringPageUrl,platform:e.platform,language:e.language,refDomains:e.refDomains,linkedDomains:e.linkedDomains,externalLinks:e.externalLinks,orgKeywords:e.orgKeywords,anchor:e.anchor,anchorWithSurroundingText:e.anchorWithSurroundingText,targetUrl:e.targetUrl,targetDomainName:e.referringDomainName,contentType:e.contentType,redirects:e.redirects,groupingType:2,firstSeen:e.firstSeen}}var YE=sp,JE={makePercentage:YE,barChart:vp,space:yp,anchor:function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:190}},tl:0},r={hd:{TAG:0,_0:{NAME:"percent",VAL:50}},tl:0},a=s._1(CE.ExternalLinks.Name.toString,0),o=s._1(ke.Message.to_s,{id:"dfdaa8c3a662489ecb51e877029ef97e",defaultMessage:"Anchor text"}),i={TAG:0,_0:ug.anchorText};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r){return z.createElement(va.Td.make,{paddingLeft:"none",nowrap:!1,children:z.createElement(pt.make,{inline:!0,wordBreak:"breakWord",children:""!==r?z.createElement(Aa.make,{groupedTerms:e,text:r}):z.createElement(pt.make,{fontStyle:"italic",inline:!0,children:s._1(ke.Message.to_s,{id:"e0b6a8a3014877d5da70bf5d1beba70c",defaultMessage:"Empty anchor"})})})})}),{renderHeader:function(e,n,s,l,d,c,u,g){return La.makeRenderHeader(i,void 0,o,void 0,a,void 0,void 0,"none",void 0,void 0,void 0,void 0,r,t,void 0,void 0,void 0,e,n,s,l,d,c,u,g)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),0))},linkedDomains:function(e,t){var r=s._1(CE.ExternalLinks.Name.toString,1),o=s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),i={TAG:0,_0:sg.linkedDomains};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{contentHeight:"button",paddingRight:"none",width:{hd:{TAG:0,_0:"zero"},tl:0},children:z.createElement(Oi.make,{size:"sm",active:me.mapWithDefault(Ur.get(e.map,o),!1,(function(e){return 0===e})),onClick:function(t){var r=me.mapWithDefault(Ur.get(e.map,o),0,(function(e){return 0===e?void 0:0}));return s._2(e.setRow,o,r)},children:a.s(ae.Float.full(ie.to_float(i)))})}),z.createElement(va.Td.make,{contentHeight:"smallText",paddingLeft:"sm",width:{hd:{TAG:0,_0:"zero"},tl:0},children:z.createElement(pt.make,{color:"secondary",fontSize:"xs",children:a.s(s._2(YE,i,t))})}))}),{renderHeader:function(e,t,a,n,s,l,d,c){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,void 0,void 0,void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,e,t,a,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))),0)))},linkedPages:function(e){var t=s._1(CE.ExternalLinks.Name.toString,2),r=s._1(ke.Message.to_s,{id:"9b3539253ed66a23181745ff3ce7aff2",defaultMessage:"Linked pages"}),o={TAG:0,_0:sg.linkedPages};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.full(ie.to_float(t)))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)))),0))},externalLinksFromTarget:function(e){var t=s._1(CE.ExternalLinks.Name.toString,3),r=s._1(ke.Message.to_s,{id:"d1b6d3f0b2ff6b7573daa738f7b0f386",defaultMessage:"Links from target"}),o={TAG:0,_0:sg.linksFromTarget};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){return z.createElement(va.Td.make,{align:"right",children:z.createElement(Oi.make,{size:"sm",active:me.mapWithDefault(Ur.get(e.map,r),!1,(function(e){return 1===e})),onClick:function(t){var a=me.mapWithDefault(Ur.get(e.map,r),1,(function(e){return 1===e?void 0:1}));return s._2(e.setRow,r,a)},children:a.s(ae.Float.$$default(ie.to_float(o)))})})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0)))},internalLinksFromTarget:function(e){var t=s._1(CE.InternalLinks.Name.toString,2),r=s._1(ke.Message.to_s,{id:"d1b6d3f0b2ff6b7573daa738f7b0f386",defaultMessage:"Links from target"}),o={TAG:0,_0:sg.linksFromTarget};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){return z.createElement(va.Td.make,{align:"right",children:z.createElement(Oi.make,{size:"sm",active:me.mapWithDefault(Ur.get(e.map,r),!1,(function(e){return 2===e})),onClick:function(t){var a=me.mapWithDefault(Ur.get(e.map,r),2,(function(e){return 2===e?void 0:2}));return s._2(e.setRow,r,a)},children:a.s(ae.Float.$$default(ie.to_float(o)))})})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0)))},dofollowLinks:function(e){var t=s._1(CE.ExternalLinks.Name.toString,4),r=s._1(ke.Message.to_s,{id:"b12ea3b7c9125d2a1b2f964ac0d200b6",defaultMessage:"Dofollow"}),o={TAG:0,_0:sg.dofollow};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r){return z.createElement(z.Fragment,void 0,z.createElement(va.Td.make,{align:"right",contentHeight:"button",paddingRight:"none",width:{hd:{TAG:0,_0:"zero"},tl:0},children:a.s(ae.Float.full(ie.to_float(r)))}),z.createElement(va.Td.make,{align:"right",contentHeight:"smallText",paddingLeft:"sm",width:{hd:{TAG:0,_0:"zero"},tl:0},children:z.createElement(pt.make,{color:"secondary",fontSize:"xs",children:a.s(s._2(YE,r,e))})}))}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,!1,void 0,2,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0))},firstSeen:function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:90}},tl:0},r=s._1(CE.ExternalLinks.Name.toString,5),o=s._1(ke.Message.to_s,{id:"fc0bb0000257ff0076d9a54a2ffb01ee",defaultMessage:"First seen"}),i={TAG:0,_0:sg.firstSeen};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){var r=Bt.toMomentUtc(t);return z.createElement(va.Td.make,{children:z.createElement(ut.make,{content:a.s(ne.moment(void 0,r,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,r,"dayShortMonthYear"))})})})}),{renderHeader:function(e,a,n,s,l,d,c,u){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,void 0,void 0,void 0,!1,void 0,void 0,void 0,t,void 0,void 0,void 0,e,a,n,s,l,d,c,u)}},s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen)))}},XE=Pl.Make({all:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:0}}}}}}}}}}}}}}}}}}),ZE=z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),eB=function(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),0),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),1),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),2),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),7),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),8),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"73802c043ea497bfad886cb90a31d78f",defaultMessage:"Links"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"1382ee74d283fc976847b896603be901",defaultMessage:"Link type"}),9),tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),10),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),11),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"df6e815009a3924d0d7ecb933d287c31",defaultMessage:"Linked domain"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"d60252cc9b33603259f681b10fb7e17b",defaultMessage:"Domain name"}),12),tl:{hd:a(s._1(ke.Message.to_s,{id:"434850a40cd8793f18d7bd26156e79f2",defaultMessage:"Domain traffic"}),13),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),14),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),15),tl:{hd:a(s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),16),tl:0}}}}}}}}}}}}}}}}}}}}}}}};return z.createElement(XE.make,{label:ZE,dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.orgPageTraffic,s._1(pa.OrgPageTraffic.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.backlinkType,s._1(Dg.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.referringDomainName,s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0));case 13:return mt.caml_notequal(t.orgDomainTraffic,s._1(pa.OrgDomainTraffic.Filter.getDefault,void 0));case 14:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 15:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 16:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})};function tB(e,t){if("number"==typeof t){if(0===t)return{data:0,oldData:0,error:e.error,offset:0,sort:e.sort,sortDirection:e.sortDirection,rowMap:e.rowMap};var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:e.rowMap}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,sort:t._0,sortDirection:t._1,rowMap:e.rowMap};var o,i,n=t._0;if("number"!=typeof n)switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero,partial:!1}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:{total:ie.zero,partial:!1}})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1}}return{data:e.data,oldData:e.oldData,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1}}var rB=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.rawAnchor,o=e.target,d=e.filters,c=e.settings,u=e.expandedRows,g=e.count,m=z.useReducer(tB,{data:0,oldData:0,error:void 0,offset:0,sort:4,sortDirection:"Desc",rowMap:Xg(void 0)}),f=m[1],p=m[0],_=p.rowMap,h=Ur.get(u.map,a),k=void 0!==h&&1===h,v=ie.to_int32(g),y=mt.caml_obj_dup(d);y.anchor=uf($e(a)),y.sort={name:p.sort,direction:p.sortDirection};var D=Aa.getTerms(y.referringPageTitle.rules),S=Aa.getTerms(y.referringPageUrl.rules),F=Aa.getTerms(y.anchorWithSurroundingText.rules),C=Aa.getTerms(y.anchor.rules),w=Aa.getTerms(y.targetUrl.rules),T=z.useMemo((function(){return me.map(Da.conjunctOpt(ce.flatMap($A,(function(e){return IA(e,y)}))),Da.makeFilter)}),[i.stringifyQueryDict(WA(void 0,void 0,y),void 0,void 0)]),b={hd:jA.referringPage(l.some(_),S,D,void 0,void 0,void 0),tl:{hd:s._4(jA.ur,l.some(_),void 0,void 0,void 0),tl:{hd:jA.referringDomains(l.some(_),void 0,void 0),tl:{hd:jA.linkedDomains(l.some(_),void 0,void 0),tl:{hd:jA.externalLinks(l.some(_),void 0,void 0),tl:{hd:jA.pageTraffic(l.some(_),void 0,void 0),tl:{hd:jA.keywords(l.some(_),void 0,void 0),tl:{hd:jA.anchor(r,C,w,F,void 0,void 0),tl:{hd:jA.dates(void 0,l.some(r),void 0),tl:0}}}}}}}}},P=s._3(Ra.FieldsRequestDescr.customRow,b,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:b,parentData:e,isPadded:!1})}),Hg.rowFieldsNotAgg),M=s._1(Ra.FieldsRequestDescr.toRequest,P),A=z.useMemo((function(){var e=p.oldData;return"number"!=typeof e&&2===e.TAG?de.mapWithDefault(p.oldData,0,(function(e){return e.rows})):de.mapWithDefault(p.data,0,(function(e){return e.rows}))}),[p.data]),L=z.useRef(new AbortController),E=function(e,t,r){var a=void 0!==e?e:u_,i=void 0!==t?t:0;L.current.abort(),L.current=new AbortController,s._1(f,1);var d=KA.toFieldName(p.sort),c=d?ce.map(d,(function(e){return[p.sortDirection,e]})):void 0;return Ye.forEach(R(l.some(L.current),MA.request,{link_kind:1,aggregation:2,se_params:{history_mode:0,since:void 0,target:n.Protocolless_url.show(o.url),mode:o.mode,protocol:o.protocol},params:{filter:T,size:a,offset:i,order_by:c,shape:ce.map(M,(function(e){return e[1]})),timeout:void 0}}),(function(e){var t=Hg.remoteDataToRows(e);return s._1(f,{TAG:0,_0:t,_1:de.mapWithDefault(t,p.rowMap,(function(e){return function(e){var t=ce.map(M,(function(e){return e[0]}));return Ra.foldRows(Hg.rowFieldsNotAgg,(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(l.some(_),void 0),e.rows)}(e)[1]}))})}))};z.useEffect((function(){s._1(f,0)}),[Ve.Safe.toKey(o),i.stringifyQueryDict(WA(void 0,void 0,y),void 0,void 0)]),z.useEffect((function(){var e=p.data;k&&0===e&&E(void 0,void 0)}),[k,p.data]),z.useEffect((function(){k&&E(void 0,void 0)}),[p.sort,p.sortDirection]);var B=function(e){return s._2(u.setRow,a,void 0)},K={_0:function(e){var t={data:p.data,settings:c,offset:p.offset,remainingCount:de.mapWithDefault(p.data,0,(function(e){return v-e.count|0})),rightAddon:null,onClose:B,onMoreDataRequested:function(e,t,r){return E(e,t)}};return void 0!==p.error&&(t.error=l.valFromOption(p.error)),z.createElement(Gl,t)}};return k?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:c,data:p.data,tableData:A,row:P,tooltipTarget:r,isLoading:de.isLoading(p.data),failureState:te.Table.getFailureState(p.data),sort:s._1(KA.Name.toString,p.sort),sortDirection:p.sortDirection,totalRowsNumber:v,reportLink:j.V2.makeUrl(17,{TAG:1,_0:o},WA(void 0,void 0,y)),totalMessage:{id:"e36200b76ff74a4d1b1a36677bc36383",defaultMessage:"{totalDisplay} {total, plural, zero {links} one {link} other {links}}"},customFooter:K,onClose:B,onRefetch:function(e){return E(void 0,void 0)},onSort:function(e,t,r){return s._1(f,{TAG:1,_0:me.getWithDefault(s._1(KA.Name.ofString,e),4),_1:t})}}),tableRootRef:t,hash:u.hash,onDimensionsChange:u.renewHash}):null};function aB(e,t){if("number"==typeof t){if(0===t)return{data:0,oldData:0,error:e.error,offset:0,sort:e.sort,sortDirection:e.sortDirection,rowMap:e.rowMap};var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:e.rowMap}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,sort:t._0,sortDirection:t._1,rowMap:e.rowMap};var o,i,n=t._0;if("number"!=typeof n)switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero,partial:!1}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:{total:ie.zero,partial:!1}})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1}}return{data:e.data,oldData:e.oldData,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1}}var oB=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.rawAnchor,o=e.target,d=e.filters,c=e.settings,u=e.expandedRows,g=e.count,m=z.useReducer(aB,{data:0,oldData:0,error:void 0,offset:0,sort:4,sortDirection:"Desc",rowMap:Xg(void 0)}),f=m[1],p=m[0],_=p.rowMap,h=Ur.get(u.map,a),k=void 0!==h&&h>=2,v=ie.to_int32(g),y=mt.caml_obj_dup(d);y.anchor=uf($e(a)),y.sort={name:p.sort,direction:p.sortDirection};var D=Aa.getTerms(y.referringPageTitle.rules),S=Aa.getTerms(y.referringPageUrl.rules),F=Aa.getTerms(y.anchorWithSurroundingText.rules),C=Aa.getTerms(y.anchor.rules),w=Aa.getTerms(y.targetUrl.rules),T=z.useMemo((function(){return me.map(Da.conjunctOpt(ce.flatMap($A,(function(e){return IA(e,y)}))),Da.makeFilter)}),[i.stringifyQueryDict(WA(void 0,void 0,y),void 0,void 0)]),b={hd:jA.referringPage(l.some(_),S,D,void 0,void 0,void 0),tl:{hd:s._4(jA.ur,l.some(_),void 0,void 0,void 0),tl:{hd:jA.referringDomains(l.some(_),void 0,void 0),tl:{hd:jA.linkedDomains(l.some(_),void 0,void 0),tl:{hd:jA.externalLinks(l.some(_),void 0,void 0),tl:{hd:jA.pageTraffic(l.some(_),void 0,void 0),tl:{hd:jA.keywords(l.some(_),void 0,void 0),tl:{hd:jA.anchor(r,C,w,F,void 0,void 0),tl:{hd:jA.dates(void 0,l.some(r),void 0),tl:0}}}}}}}}},P=s._3(Ra.FieldsRequestDescr.customRow,b,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:b,parentData:e,isPadded:!1})}),Hg.rowFieldsNotAgg),M=s._1(Ra.FieldsRequestDescr.toRequest,P),A=z.useMemo((function(){var e=p.oldData;return"number"!=typeof e&&2===e.TAG?de.mapWithDefault(p.oldData,0,(function(e){return e.rows})):de.mapWithDefault(p.data,0,(function(e){return e.rows}))}),[p.data]),L=z.useRef(new AbortController),E=function(e,t,r){var a=void 0!==e?e:u_,i=void 0!==t?t:0;L.current.abort(),L.current=new AbortController,s._1(f,1);var d=KA.toFieldName(p.sort),c=d?ce.map(d,(function(e){return[p.sortDirection,e]})):void 0;return Ye.forEach(R(l.some(L.current),MA.request,{link_kind:0,aggregation:2,se_params:{history_mode:0,since:void 0,target:n.Protocolless_url.show(o.url),mode:o.mode,protocol:o.protocol},params:{filter:T,size:a,offset:i,order_by:c,shape:ce.map(M,(function(e){return e[1]})),timeout:void 0}}),(function(e){var t=Hg.remoteDataToRows(e);return s._1(f,{TAG:0,_0:t,_1:de.mapWithDefault(t,p.rowMap,(function(e){return function(e){var t=ce.map(M,(function(e){return e[0]}));return Ra.foldRows(Hg.rowFieldsNotAgg,(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(l.some(_),void 0),e.rows)}(e)[1]}))})}))};z.useEffect((function(){s._1(f,0)}),[Ve.Safe.toKey(o),i.stringifyQueryDict(WA(void 0,void 0,y),void 0,void 0)]),z.useEffect((function(){var e=p.data;k&&0===e&&E(void 0,void 0)}),[k,p.data]),z.useEffect((function(){k&&E(void 0,void 0)}),[p.sort,p.sortDirection]);var B=function(e){return s._2(u.setRow,a,void 0)},K={_0:function(e){var t={data:p.data,settings:c,offset:p.offset,remainingCount:de.mapWithDefault(p.data,0,(function(e){return v-e.count|0})),rightAddon:null,onClose:B,onMoreDataRequested:function(e,t,r){return E(e,t)}};return void 0!==p.error&&(t.error=l.valFromOption(p.error)),z.createElement(Gl,t)}};return k?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:c,data:p.data,tableData:A,row:P,tooltipTarget:r,isLoading:de.isLoading(p.data),failureState:te.Table.getFailureState(p.data),sort:s._1(KA.Name.toString,p.sort),sortDirection:p.sortDirection,totalRowsNumber:v,totalMessage:{id:"e36200b76ff74a4d1b1a36677bc36383",defaultMessage:"{totalDisplay} {total, plural, zero {links} one {link} other {links}}"},customFooter:K,onClose:B,onRefetch:function(e){return E(void 0,void 0)},onSort:function(e,t,r){return s._1(f,{TAG:1,_0:me.getWithDefault(s._1(KA.Name.ofString,e),4),_1:t})}}),tableRootRef:t,hash:u.hash,onDimensionsChange:u.renewHash}):null},iB=r(72770);function nB(e,t){return{sort:qA().sort,pagination:qA().pagination,followType:t.followType,targetHttpCode:qA().targetHttpCode,backlinkType:t.backlinkType,orgPageTraffic:t.orgPageTraffic,referringPageTitle:t.referringPageTitle,referringPageUrl:t.referringPageUrl,platform:t.platform,language:t.language,refDomains:t.refDomains,linkedDomains:t.linkedDomains,externalLinks:t.externalLinks,orgKeywords:t.orgKeywords,anchor:t.anchor,anchorWithSurroundingText:t.anchorWithSurroundingText,targetUrl:t.targetUrl,targetDomainName:{matchType:0,rules:{hd:[0,e,0],tl:0}},contentType:t.contentType,redirects:t.redirects,groupingType:2,firstSeen:t.firstSeen}}function sB(e){return Gg({hd:{hd:Xu.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.nofollow),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.ugc),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.sponsored),e.followType)(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)),tl:{hd:pa.DR.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Domain.get,ft.Backlinks.BacklinksFields.TargetPage.Domain.dr),e.dr),tl:{hd:pa.OrgDomainTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic),e.orgDomainTraffic),tl:{hd:pa.LinkedPages.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url),e.linkedPages),tl:{hd:pa.LinksFromTarget.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id),e.linksFromTarget),tl:{hd:s._2(fa.Backlinks.ReferringPageTitle.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.title),e.referringPageTitle),tl:{hd:s._2(fa.Backlinks.ReferringPageUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url_plain),e.referringPageUrl),tl:{hd:Zu.Platform.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.powered_by),e.platform),tl:{hd:Zu.SeLanguage.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.languages),e.language),tl:{hd:pa.RefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.refdomains),e.refDomains),tl:{hd:pa.LinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.get,ft.Backlinks.BacklinksFields.SourcePage.LinkMetrics.linked_domains),e.linkedDomains),tl:{hd:pa.ExternalLinks.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Content.get,ft.Backlinks.BacklinksFields.SourcePage.Content.external_links),e.externalLinks),tl:{hd:pa.OrgPageTraffic.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.traffic),e.orgPageTraffic),tl:{hd:pa.OrgKeywords.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Search.positions),e.orgKeywords),tl:{hd:Dg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.type_),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.content),e.backlinkType),tl:{hd:s._2(fa.Backlinks.Anchor.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),e.anchor),tl:{hd:s._4(fa.Backlinks.SurroundingText.makeChFilter,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.left_context),s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.right_context),e.anchorWithSurroundingText),tl:{hd:s._2(fa.RefDomains.DomainName.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_name),e.domainName),tl:{hd:pa.DofollowRefDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Domain.get,ft.Backlinks.BacklinksFields.TargetPage.Domain.refdomains),e.dofollowRefDomains),tl:{hd:pa.DofollowLinkedDomains.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Domain.get,ft.Backlinks.BacklinksFields.TargetPage.Domain.linked_domains),e.dofollowLinkedDomains),tl:{hd:s._2(fa.Backlinks.TargetUrl.makeChFilter,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url_plain),e.targetUrl),tl:{hd:yg.makeChFilter(s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.non_html_suffix),e.contentType),tl:{hd:Zu.Redirects.makeChFilter(s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.get,ft.Backlinks.BacklinksFields.SourcePage.Link.RedirectChain.url),e.redirects),tl:{hd:Bg(s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen),void 0,e.firstSeen),tl:0}}}}}}}}}}}}}}}}}}}}}}}},tl:0})}var lB=function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:150}},tl:0},r={hd:{TAG:0,_0:{NAME:"percent",VAL:55}},tl:0},a=s._1($E.Name.toString,0),o=s._1(ke.Message.to_s,{id:"df6e815009a3924d0d7ecb933d287c31",defaultMessage:"Linked domain"}),i={TAG:0,_0:ig.linkedDomain};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,a,o){var i=on.fromString(a);return z.createElement(va.Td.make,{paddingLeft:"none",children:z.createElement(vn.make,{displayLink:s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:2,_0:0,_1:0}},_1:"%s%s"}),443===ie.to_int32(o)?"https://":"http://",r),tkLinkContextInput:i,color:"blue",label:r,highlightAnywhereTerms:e.contain,highlightStartTerms:e.startWith,highlightEndTerms:e.endWith})})}),{renderHeader:function(e,n,s,l,d,c,u,g){return La.makeRenderHeader(i,void 0,o,void 0,a,void 0,"left","none",void 0,void 0,void 0,void 0,r,t,void 0,void 0,void 0,e,n,s,l,d,c,u,g)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_name)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_tkLinkContext_input)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.port)))),0))))},dB=function(e){var t=s._1($E.Name.toString,1),r=s._1(ke.Message.to_s,{id:"7d582c9dcc009877cf05410d75e63f12",defaultMessage:"DR"}),o={TAG:0,_0:gg.dr};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.full(t))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Domain.get,ft.Backlinks.BacklinksFields.TargetPage.Domain.dr)))))},cB=function(e,t){var r={hd:{TAG:0,_0:{NAME:"px",VAL:100}},tl:0},o=s._1($E.Name.toString,2),i=s._1(ke.Message.to_s,{id:"1b5fc907034778d516e616001b7d71f2",defaultMessage:"Dofollow ref. domains"}),n={TAG:0,_0:ig.dofollowRefDomains};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){var n,s=ie.to_float(i),l=a.s(ae.Float.full(s));if(s>0){var d=mt.caml_obj_dup(function(e){return{sort:Yf().sort,pagination:Yf().pagination,followType:e.followType,dr:e.dr,orgDomainTraffic:e.orgDomainTraffic,linksToTarget:Yf().linksToTarget,excludeSubdomains:Yf().excludeSubdomains,referringDomainName:Yf().referringDomainName,dofollowRefDomains:Yf().dofollowRefDomains,dofollowLinkedDomains:Yf().dofollowLinkedDomains,referringPageTitle:e.referringPageTitle,referringPageUrl:e.referringPageUrl,platform:e.platform,language:e.language,refDomains:e.refDomains,linkedDomains:e.linkedDomains,externalLinks:e.externalLinks,orgPageTraffic:e.orgPageTraffic,orgKeywords:e.orgKeywords,backlinkType:e.backlinkType,anchor:e.anchor,anchorWithSurroundingText:e.anchorWithSurroundingText,targetUrl:e.targetUrl,contentType:e.contentType,redirects:e.redirects,linkStatus:0,highlightChanges:0,newLostStatusDateRange:7,newLinks:Yf().newLinks,lostLinks:Yf().lostLinks,newStatus:void 0,lostStatus:void 0}}(t));n=z.createElement(ta.make,{href:j.V2.makeUrl(5,{TAG:0,_0:Ve.make(e.protocol,o,e.mode,void 0)},Zf(void 0,void 0,(d.followType=1,d))),mode:0,children:l})}else n=l;return z.createElement(va.Td.make,{align:"right",children:n})}),{renderHeader:function(e,t,a,s,l,d,c,u){return La.makeRenderHeader(n,void 0,i,void 0,o,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,r,void 0,void 0,void 0,e,t,a,s,l,d,c,u)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_name)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Domain.get,ft.Backlinks.BacklinksFields.TargetPage.Domain.refdomains)))),0)))},uB=function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:115}},tl:0},r=s._1($E.Name.toString,3),o=s._1(ke.Message.to_s,{id:"ef879770e9b98090b2d5e1f8ad188138",defaultMessage:"Dofollow linked domains"}),i={TAG:0,_0:ig.dofollowLinkedDomains};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){var i,n=ie.to_float(r),s=a.s(ae.Float.full(n));if(n>0){var l=mt.caml_obj_dup(e);i=z.createElement(ta.make,{href:j.V2.makeUrl(15,{TAG:0,_0:Ve.make(0,o,3,void 0)},QE(void 0,void 0,(l.followType=1,l))),mode:0,children:s})}else i=s;return z.createElement(va.Td.make,{align:"right",children:i})}),{renderHeader:function(e,a,n,s,l,d,c,u){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,t,void 0,void 0,void 0,e,a,n,s,l,d,c,u)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Domain.get,ft.Backlinks.BacklinksFields.TargetPage.Domain.linked_domains)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_name)))),0)))},gB=function(e){var t=s._1($E.Name.toString,4),r=s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),o={TAG:0,_0:ig.traffic};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.tableAbbr(ie.to_float(t)))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.get,ft.Backlinks.BacklinksFields.SourcePage.Domain.Search.traffic)))))},mB=function(e){var t=s._1($E.Name.toString,5),r=s._1(ke.Message.to_s,{id:"9b3539253ed66a23181745ff3ce7aff2",defaultMessage:"Linked pages"}),o={TAG:0,_0:ig.linkedPages};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){var i=Ur.get(e.map,dt.to_string(r));return z.createElement(va.Td.make,{align:"right",children:z.createElement(Oi.make,{size:"sm",active:void 0!==i&&!i,onClick:function(t){var a=Ur.get(e.map,dt.to_string(r)),o=void 0===a||a?0:void 0;return s._2(e.setRow,dt.to_string(r),o)},children:a.s(ae.Float.$$default(ie.to_float(o)))})})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)))),0)))},fB=function(e){var t=s._1($E.Name.toString,5),r=s._1(ke.Message.to_s,{id:"9b3539253ed66a23181745ff3ce7aff2",defaultMessage:"Linked pages"}),o={TAG:0,_0:ig.linkedPages};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.$$default(ie.to_float(t)))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)))),0))},pB=function(e){var t=s._1($E.Name.toString,6),r=s._1(ke.Message.to_s,{id:"d1b6d3f0b2ff6b7573daa738f7b0f386",defaultMessage:"Links from target"}),o={TAG:0,_0:ig.linksFromTarget};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(t,r,o){var i=Ur.get(e.map,dt.to_string(r));return z.createElement(va.Td.make,{align:"right",children:z.createElement(Oi.make,{size:"sm",active:!(void 0===i||!i),onClick:function(t){var a=Ur.get(e.map,dt.to_string(r)),o=void 0!==a&&a?void 0:1;return s._2(e.setRow,dt.to_string(r),o)},children:a.s(ae.Int.$$default(ie.to_int32(o)))})})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0)))},_B=function(e,t){var r=s._1($E.Name.toString,6),o=s._1(ke.Message.to_s,{id:"d1b6d3f0b2ff6b7573daa738f7b0f386",defaultMessage:"Links from target"}),i={TAG:0,_0:ig.linksFromTarget};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,o,i){return z.createElement(va.Td.make,{align:"right",children:z.createElement(ta.make,{href:j.V2.makeUrl(17,{TAG:1,_0:e},WA(void 0,void 0,nB(o,t))),mode:0,children:a.s(ae.Float.$$default(ie.to_float(i)))})})}),{renderHeader:function(e,t,a,n,s,l,d,c){return La.makeRenderHeader(i,void 0,o,void 0,r,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,a,n,s,l,d,c)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_name)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),0)))},hB=function(e){var t=s._1($E.Name.toString,7),r=s._1(ke.Message.to_s,{id:"b12ea3b7c9125d2a1b2f964ac0d200b6",defaultMessage:"Dofollow"}),o={TAG:0,_0:ig.dofollow};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.full(ie.to_float(t)))})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))))},kB=function(e){var t={hd:{TAG:0,_0:{NAME:"px",VAL:60}},tl:0};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(t,r){return z.createElement(va.Td.make,{align:"left",children:z.createElement(tg,{total:e,value:ie.to_float(r)})})}),{renderHeader:function(e,r,a,o,i,n,s,l){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,"left",void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,e,r,a,o,i,n,s,l)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))))},vB=function(e){var t={hd:{TAG:0,_0:{NAME:"percent",VAL:100}},tl:0};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.createElement(va.Td.make,{children:null})}),{renderHeader:function(e,r,a,o,i,n,s,l){return La.makeRenderHeader(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,void 0,e,r,a,o,i,n,s,l)}},s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))))},yB=function(e){var t=s._1($E.Name.toString,8),r=s._1(ke.Message.to_s,{id:"fc0bb0000257ff0076d9a54a2ffb01ee",defaultMessage:"First seen"}),o={TAG:0,_0:ig.firstSeen};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){var r=Bt.toMomentUtc(t);return z.createElement(va.Td.make,{children:z.createElement(ut.make,{content:a.s(ne.moment(void 0,r,"dayShortMonthYearWithTime")),children:z.createElement(pt.make,{children:a.s(ne.moment(void 0,r,"dayShortMonthYear"))})})})}),{renderHeader:function(e,a,i,n,s,l,d,c){return La.makeRenderHeader(o,void 0,r,void 0,t,void 0,void 0,void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,a,i,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.get,ft.Backlinks.BacklinksFields.SourcePage.Grouped.Crawl.first_seen)))},DB=s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_name)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.count,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.Url.get,ft.Backlinks.BacklinksFields.TargetPage.Url.url)))),0))));function SB(e,t){if("number"==typeof t){if(0===t)return{data:0,oldData:0,error:e.error,offset:0,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:e.totalDofollowLinks};var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:e.totalDofollowLinks}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,sort:t._0,sortDirection:t._1,totalDofollowLinks:e.totalDofollowLinks};var o,i,n=t._0;if("number"==typeof n)return e;switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:e.totalDofollowLinks};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:i.stats})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,sort:e.sort,sortDirection:e.sortDirection,totalDofollowLinks:t._1};default:return e}}var FB=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.rawAnchor,o=e.target,d=e.filters,c=e.settings,u=e.expandedRows,g=e.count,m=z.useReducer(SB,{data:0,oldData:0,error:void 0,offset:0,sort:7,sortDirection:"Desc",totalDofollowLinks:0}),f=m[1],p=m[0],_=Ur.get(u.map,a),h=void 0!==_&&0===_,k=ie.to_int32(g),v=mt.caml_obj_dup(d);v.anchor=uf($e(a)),v.sort={name:p.sort,direction:p.sortDirection};var y=z.useMemo((function(){return sB(v)}),[a,i.stringifyQueryDict(QE(void 0,void 0,v),void 0,void 0)]),D=Aa.getTerms(v.domainName.rules),S={hd:lB(D),tl:{hd:dB(void 0),tl:{hd:cB(o,v),tl:{hd:uB(v),tl:{hd:gB(void 0),tl:{hd:fB(void 0),tl:{hd:_B(o,v),tl:{hd:hB(void 0),tl:{hd:kB(p.totalDofollowLinks),tl:{hd:vB(void 0),tl:{hd:yB(void 0),tl:0}}}}}}}}}}},F=s._3(Ra.FieldsRequestDescr.customRow,S,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:S,parentData:e,isPadded:!1})}),DB),C=s._1(Ra.FieldsRequestDescr.toRequest,F),w=z.useMemo((function(){var e=p.oldData;return"number"!=typeof e&&2===e.TAG?de.mapWithDefault(p.oldData,0,(function(e){return e.rows})):de.mapWithDefault(p.data,0,(function(e){return e.rows}))}),[p.data]),T=z.useMemo((function(){return{TAG:0,_0:{highlightChanges:8}}}),[]),b=Re($E.toFieldName(p.sort),p.sortDirection),P=z.useRef(new AbortController),M=function(e,t,r){var a=void 0!==e?e:u_,i=void 0!==t?t:0;P.current.abort();var n=new AbortController;P.current=n,s._1(f,1);var l=function(e){var t=ce.map(C,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0),(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a){var o=ie.to_float(a);return s._1(t,o>e?o:e)}),0,e.rows)};return Ye.forEach(R(void 0,iB.request,{se_params:{history_mode:dm.toHistoryMode(T),since:dm.toSince(T),target:o.url,mode:o.mode,protocol:o.protocol},params:{filter:y,size:a,offset:i,order_by:b,shape:ce.map(C,(function(e){return e[1]})),timeout:void 0}}),(function(e){if(!Ge(n))return s._1(f,{TAG:0,_0:e,_1:de.mapWithDefault(e,0,l)})}))};z.useEffect((function(){s._1(f,0)}),[Ve.Safe.toKey(o),i.stringifyQueryDict(QE(void 0,void 0,v),void 0,void 0)]),z.useEffect((function(){var e=p.data;h&&0===e&&M(void 0,void 0)}),[h,p.data]),z.useEffect((function(){h&&M(void 0,void 0)}),[p.sort,p.sortDirection]);var A=function(e){return s._2(u.setRow,a,void 0)},E={_0:function(e){var t={data:p.data,settings:c,offset:p.offset,remainingCount:de.mapWithDefault(p.data,0,(function(e){return k-e.count|0})),rightAddon:z.createElement(bt,{exportFunc:function(e,t){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-outgoing-domains-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-outgoing-domains-%s"}),n.Protocolless_url.show(o.url),V.toExportName(o.mode)),void 0,SA.request,{se_params:{history_mode:dm.toHistoryMode(T),since:dm.toSince(T),target:n.Protocolless_url.show(o.url),mode:o.mode,protocol:o.protocol,ref_target:void 0},params:{filter:y,size:t,offset:0,order_by:b,shape:ce.map(C,(function(e){return e[1]})),timeout:void 0},links:"Links_external"})},isTrial:c.subscription.isTrial,limitResetDate:c.subscription.dateResetUsagesMonthly,totalResults:k,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:o,limitsFunc:N}),onClose:A,onMoreDataRequested:function(e,t,r){return M(e,t)}};return void 0!==p.error&&(t.error=l.valFromOption(p.error)),z.createElement(Gl,t)}};return h?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:c,data:p.data,tableData:w,row:F,tooltipTarget:r,isLoading:de.isLoading(p.data),failureState:te.Table.getFailureState(p.data),sort:s._1($E.Name.toString,p.sort),sortDirection:p.sortDirection,totalRowsNumber:k,reportLink:j.V2.makeUrl(15,{TAG:1,_0:o},QE(void 0,void 0,v)),totalMessage:{id:"de56ef4abee91719375ef6b128cdd796",defaultMessage:"{totalDisplay} {total, plural, zero {domains} one {domain} other {domains}}"},customFooter:E,onClose:A,onRefetch:function(e){return M(void 0,void 0)},onSort:function(e,t,r){return s._1(f,{TAG:1,_0:me.getWithDefault(s._1($E.Name.ofString,e),s._1($E.getDefault,void 0).name),_1:t})}}),tableRootRef:t,hash:u.hash,onDimensionsChange:u.renewHash}):null},CB=(zu(St.caml_string_compare),{remoteExternalLinks:0,remoteInternalLinks:0,totalExternalLinkedDomains:0,totalExternalDofollowLinks:0,totalInternalDofollowLinks:0});function wB(e,t){if("number"!=typeof t){if(0!==t.TAG)return{remoteExternalLinks:e.remoteExternalLinks,remoteInternalLinks:t._0,totalExternalLinkedDomains:e.totalExternalLinkedDomains,totalExternalDofollowLinks:e.totalExternalDofollowLinks,totalInternalDofollowLinks:t._1.dofollowLinks};var r=t._1;return{remoteExternalLinks:t._0,remoteInternalLinks:e.remoteInternalLinks,totalExternalLinkedDomains:r.linkedDomains,totalExternalDofollowLinks:r.dofollowLinks,totalInternalDofollowLinks:e.totalInternalDofollowLinks}}switch(t){case 0:var a=e.remoteExternalLinks;return"number"!=typeof a&&2===a.TAG?{remoteExternalLinks:{TAG:0,_0:a._0},remoteInternalLinks:e.remoteInternalLinks,totalExternalLinkedDomains:e.totalExternalLinkedDomains,totalExternalDofollowLinks:e.totalExternalDofollowLinks,totalInternalDofollowLinks:e.totalInternalDofollowLinks}:{remoteExternalLinks:1,remoteInternalLinks:e.remoteInternalLinks,totalExternalLinkedDomains:e.totalExternalLinkedDomains,totalExternalDofollowLinks:e.totalExternalDofollowLinks,totalInternalDofollowLinks:e.totalInternalDofollowLinks};case 1:var o=e.remoteInternalLinks;return"number"!=typeof o&&2===o.TAG?{remoteExternalLinks:e.remoteExternalLinks,remoteInternalLinks:{TAG:0,_0:o._0},totalExternalLinkedDomains:e.totalExternalLinkedDomains,totalExternalDofollowLinks:e.totalExternalDofollowLinks,totalInternalDofollowLinks:e.totalInternalDofollowLinks}:{remoteExternalLinks:e.remoteExternalLinks,remoteInternalLinks:1,totalExternalLinkedDomains:e.totalExternalLinkedDomains,totalExternalDofollowLinks:e.totalExternalDofollowLinks,totalInternalDofollowLinks:e.totalInternalDofollowLinks};case 2:return{remoteExternalLinks:0,remoteInternalLinks:e.remoteInternalLinks,totalExternalLinkedDomains:e.totalExternalLinkedDomains,totalExternalDofollowLinks:e.totalExternalDofollowLinks,totalInternalDofollowLinks:e.totalInternalDofollowLinks};case 3:return{remoteExternalLinks:e.remoteExternalLinks,remoteInternalLinks:0,totalExternalLinkedDomains:e.totalExternalLinkedDomains,totalExternalDofollowLinks:e.totalExternalDofollowLinks,totalInternalDofollowLinks:e.totalInternalDofollowLinks};case 4:return CB}}var TB={contents:gt()},bB={contents:gt()},PB={contents:new AbortController},MB={contents:new AbortController};function AB(e,t,r,a,o,i,s,d){return R(l.some(e),aE.request,{link_kind:d,se_params:{history_mode:2,since:void 0,target:n.Protocolless_url.show(r.url),mode:r.mode,protocol:r.protocol},params:{filter:s,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0}})}La.makeRenderHeader;var RB=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,n=z.useReducer(wB,CB),d=n[1],c=n[0],u=he.useUrl(void 0,void 0),g=u.search,m=u.path,f=z.useMemo((function(){return i.parseQueryToDict(g,void 0,void 0)}),[g]),p=function(e,t){var r=e.reportHistoricalPermissions,a=s._1(Eg.ofQueryWithDefault,t),o=me.mapWithDefault(a,!0,(function(e){return Mm.isFirstSeenDateRangeItemAllowed(e,r)})),i=o?a:void 0;return{externalLinksSort:s._1(_E,t),internalLinksSort:s._1(SE,t),externalLinksPagination:s._1(cE.ofQueryWithDefault,t),internalLinksPagination:s._1(uE.ofQueryWithDefault,t),selectedTab:s._1(nE,t),followType:s._1(Xu.Filter.ofQueryWithDefault,t),dr:s._1(pa.DR.Filter.ofQueryWithDefault,t),anchorsLinkedDomains:s._1(pa.Anchors.LinkedDomains.Filter.ofQueryWithDefault,t),linkedPages:s._1(pa.LinkedPages.Filter.ofQueryWithDefault,t),linksFromTarget:s._1(pa.LinksFromTarget.Filter.ofQueryWithDefault,t),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,t),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,t),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,t),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,t),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,t),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,t),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,t),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,t),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,t),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,t),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,t),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,t),referringDomainName:s._1(fa.RefDomains.DomainName.Filter.ofQueryWithDefault,t),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.ofQueryWithDefault,t),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,t),contentType:s._1(yg.Filter.ofQueryWithDefault,t),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,t),firstSeen:i}}(r,f),_=a.useStateValue(p),h=_[1],k=_[0],v=function(e,t){var r=void 0!==e&&e;s._1(h,t);var a=i.makeStringWithQueryDict(i.makePathname(m),l.some(bE(void 0,l.some(f),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};z.useEffect((function(){v(!0,p)}),[i.stringifyQueryDict(bE(void 0,void 0,p),void 0,void 0)]);var y=Re(s._1(CE.ExternalLinks.toFieldName,p.externalLinksSort.name),p.externalLinksSort.direction),D=Re(s._1(CE.InternalLinks.toFieldName,p.internalLinksSort.name),p.internalLinksSort.direction),S=Yu(c.remoteExternalLinks,(function(e){return ie.to_float(e.stats.total)})),F=Yu(c.remoteInternalLinks,(function(e){return ie.to_float(e.stats.total)})),C=uo.useSingleton({overrides:["className"]}),w=C[1],T=ya.useMultipleExpandedRows(void 0,void 0),b=Aa.getTerms(p.anchor.rules),P=p.selectedTab?{hd:JE.anchor(b),tl:{hd:JE.linkedPages(void 0),tl:{hd:JE.internalLinksFromTarget(T),tl:{hd:JE.dofollowLinks(c.totalInternalDofollowLinks),tl:{hd:s._2(JE.barChart,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),c.totalInternalDofollowLinks),tl:{hd:s._1(JE.space,void 0),tl:{hd:JE.firstSeen(void 0),tl:0}}}}}}}:{hd:JE.anchor(b),tl:{hd:JE.linkedDomains(T,c.totalExternalLinkedDomains),tl:{hd:s._2(JE.barChart,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))),c.totalExternalLinkedDomains),tl:{hd:JE.linkedPages(void 0),tl:{hd:JE.externalLinksFromTarget(T),tl:{hd:JE.dofollowLinks(c.totalExternalDofollowLinks),tl:{hd:s._2(JE.barChart,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),c.totalExternalDofollowLinks),tl:{hd:s._1(JE.space,void 0),tl:{hd:JE.firstSeen(void 0),tl:0}}}}}}}}},M=z.useMemo((function(){return[Gg(ce.map(BE,(function(e){return qE(e,p,0)}))),Gg(ce.map(KE,(function(e){return qE(e,p,1)})))]}),[i.stringifyQueryDict(bE(void 0,void 0,p),void 0,void 0)]),A=M[1],R=M[0],L=s._3(Ra.FieldsRequestDescr.customRow,P,(function(e,a,o,i,n){var s,l=p.selectedTab?bB.contents:TB.contents,d=mt.caml_obj_dup(zE(p));return z.createElement(z.Fragment,{children:null,key:a+l},z.createElement(te.Row.make,{columns:P,parentData:e}),z.createElement(FB,{tableRootRef:e.tableRootRef,tooltipTarget:w,rawAnchor:a,target:t,filters:(s=p,{sort:IE().sort,pagination:IE().pagination,followType:s.followType,dr:s.dr,orgDomainTraffic:s.orgDomainTraffic,linkedPages:s.linkedPages,linksFromTarget:s.linksFromTarget,referringPageTitle:s.referringPageTitle,referringPageUrl:s.referringPageUrl,platform:s.platform,language:s.language,refDomains:s.refDomains,linkedDomains:s.linkedDomains,externalLinks:s.externalLinks,orgPageTraffic:s.orgPageTraffic,orgKeywords:s.orgKeywords,backlinkType:s.backlinkType,anchor:s.anchor,anchorWithSurroundingText:s.anchorWithSurroundingText,domainName:s.referringDomainName,dofollowRefDomains:IE().dofollowRefDomains,dofollowLinkedDomains:IE().dofollowLinkedDomains,targetUrl:s.targetUrl,contentType:s.contentType,redirects:s.redirects,firstSeen:s.firstSeen}),settings:r,expandedRows:T,count:o}),z.createElement(oB,{tableRootRef:e.tableRootRef,tooltipTarget:w,rawAnchor:a,target:t,filters:(d.linkedDomains=qA().linkedDomains,d),settings:r,expandedRows:T,count:i}),z.createElement(rB,{tableRootRef:e.tableRootRef,tooltipTarget:w,rawAnchor:a,target:t,filters:zE(p),settings:r,expandedRows:T,count:n}))}),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.any,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.anchor)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.is_internal)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.is_external)))),0))))),E=z.useMemo((function(){return s._1(Ra.FieldsRequestDescr.toRequest,L)}),[]),B=function(e){return function(e,t,r,a,o,i,n){PB.contents.abort();var l=new AbortController,d=gt();PB.contents=l,TB.contents=d,s._1(e,0);var c=function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0)),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o){var i=ie.to_float(a),n=i>e.linkedDomains?i:e.linkedDomains,l=ie.to_float(o),d=l>e.dofollowLinks?l:e.dofollowLinks;return s._1(t,{linkedDomains:n,dofollowLinks:d})}),{linkedDomains:0,dofollowLinks:0},e.rows)};return Ye.forEach(AB(l,t,r,a,o,i,n,1),(function(t){if(!Ge(l))return s._1(e,{TAG:0,_0:t,_1:de.mapWithDefault(t,{linkedDomains:0,dofollowLinks:0},c)})}))}(d,E,t,y,p.externalLinksPagination.offset,p.externalLinksPagination.limit,R)},K=function(e){return function(e,t,r,a,o,i,n){MB.contents.abort();var l=new AbortController,d=gt();MB.contents=l,bB.contents=d,s._1(e,1);var c=function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.uniq,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.get,ft.Backlinks.BacklinksFields.TargetPage.UrlDomain.root_domain_hash)))),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0)),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o){var i=ie.to_float(a),n=i>e.linkedDomains?i:e.linkedDomains,l=ie.to_float(o),d=l>e.dofollowLinks?l:e.dofollowLinks;return s._1(t,{linkedDomains:n,dofollowLinks:d})}),{linkedDomains:0,dofollowLinks:0},e.rows)};return Ye.forEach(AB(l,t,r,a,o,i,n,0),(function(t){if(!Ge(l))return s._1(e,{TAG:1,_0:t,_1:de.mapWithDefault(t,{linkedDomains:0,dofollowLinks:0},c)})}))}(d,E,t,D,p.internalLinksPagination.offset,p.internalLinksPagination.limit,A)};z.useEffect((function(){p.selectedTab?de.hasNotBeenAsked(c.remoteInternalLinks)&&K():de.hasNotBeenAsked(c.remoteExternalLinks)&&B()}),[p.selectedTab]),z.useEffect((function(e){s._1(T.closeAll,void 0),p.selectedTab?de.hasNotBeenAsked(c.remoteInternalLinks)||K():de.hasNotBeenAsked(c.remoteExternalLinks)||B()}),[s._1(CE.ExternalLinks.Name.toString,p.externalLinksSort.name),s._1(CE.ExternalLinks.Direction.toString,p.externalLinksSort.direction),p.externalLinksPagination.offset,p.externalLinksPagination.limit,s._1(CE.InternalLinks.Name.toString,p.internalLinksSort.name),s._1(CE.InternalLinks.Direction.toString,p.internalLinksSort.direction),p.internalLinksPagination.offset,p.internalLinksPagination.limit]),z.useEffect((function(){s._1(T.closeAll,void 0),p.selectedTab?de.hasNotBeenAsked(c.remoteInternalLinks)||(s._1(d,2),K()):de.hasNotBeenAsked(c.remoteExternalLinks)||(s._1(d,3),B())}),[Ve.Safe.toKey(t),i.stringifyQueryDict(AE.toQuery(void 0,p),void 0,void 0),i.stringifyQueryDict(EE.toQuery(void 0,p),void 0,void 0)]);var q,x=function(e){return s._1(T.closeAll,void 0),B()},W=c.remoteExternalLinks;if("number"==typeof W)q=0!==W?z.createElement(Y.Icon.make,{size:"sm"}):null;else{var U={resultsStr:a.s(ae.Float.full(S)),results:0|S};q=z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"030a7f35f205561e9e2d724a0c16cc6c",defaultMessage:"{resultsStr} {results, plural, zero {anchors} one {anchor} few {anchors} other {anchors}}"},U)})}var O,N=z.createElement(te.Table.make,{row:L,data:de.mapWithDefault(c.remoteExternalLinks,0,(function(e){return e.rows})),hasAppliedFilters:""!==i.stringifyQueryDict(AE.toQuery(void 0,p),void 0,void 0)||""!==i.stringifyQueryDict(EE.toQuery(void 0,p),void 0,void 0)||mt.caml_notequal(p.externalLinksPagination,s._1(gE.ExternalLinks.getDefault,void 0)),header:z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},q,z.createElement(Kg,{selectedItem:p.firstSeen,items:Lg,onChange:function(e){var t=mt.caml_obj_dup(p);return v(void 0,(t.firstSeen=e,t))},onReset:function(e){var t=mt.caml_obj_dup(p);return v(void 0,(t.firstSeen=void 0,t))}})),z.createElement(Je.make,{gap:"px10",children:null})),isLoading:de.isLoading(c.remoteExternalLinks),failureState:te.Table.getFailureState(c.remoteExternalLinks),renderError:Ke(c.remoteExternalLinks,(function(e){var t=mt.caml_obj_dup(p);return v(void 0,(t.externalLinksPagination={limit:p.externalLinksPagination.limit,offset:0},t))}),x,r.isUpgradable),tooltipTarget:w,totalRowsNumber:0|S,pagination:p.externalLinksPagination,sortDirection:p.externalLinksSort.direction,sort:s._1(CE.ExternalLinks.Name.toString,p.externalLinksSort.name),onPaginationChange:function(e){var t=mt.caml_obj_dup(p);return v(void 0,(t.externalLinksPagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(p);return a.externalLinksPagination=r,a.externalLinksSort={name:me.getWithDefault(s._1(CE.ExternalLinks.Name.ofString,e),s._1(CE.ExternalLinks.Name.getDefault,void 0)),direction:t},v(void 0,a)},onRefetch:x,onClearFilters:function(e){var t=mt.caml_obj_dup(wE());return v(void 0,(t.internalLinksSort=p.internalLinksSort,t.externalLinksSort=p.externalLinksSort,t))}}),$=function(e){return s._1(T.closeAll,void 0),K()},I=c.remoteInternalLinks;if("number"==typeof I)O=0!==I?z.createElement(Y.Icon.make,{size:"sm"}):null;else{var G={resultsStr:a.s(ae.Float.full(F)),results:0|F};O=z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"030a7f35f205561e9e2d724a0c16cc6c",defaultMessage:"{resultsStr} {results, plural, zero {anchors} one {anchor} few {anchors} other {anchors}}"},G)})}var Q,V=z.createElement(te.Table.make,{row:L,data:de.mapWithDefault(c.remoteInternalLinks,0,(function(e){return e.rows})),hasAppliedFilters:""!==i.stringifyQueryDict(AE.toQuery(void 0,p),void 0,void 0)||""!==i.stringifyQueryDict(EE.toQuery(void 0,p),void 0,void 0)||mt.caml_notequal(p.internalLinksPagination,s._1(gE.InternalLinks.getDefault,void 0)),header:z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},O,z.createElement(Kg,{selectedItem:p.firstSeen,items:Lg,onChange:function(e){var t=mt.caml_obj_dup(p);return v(void 0,(t.firstSeen=e,t))},onReset:function(e){var t=mt.caml_obj_dup(p);return v(void 0,(t.firstSeen=void 0,t))}})),z.createElement(Je.make,{gap:"px10",children:null})),isLoading:de.isLoading(c.remoteInternalLinks),failureState:te.Table.getFailureState(c.remoteInternalLinks),renderError:Ke(c.remoteInternalLinks,(function(e){var t=mt.caml_obj_dup(p);return v(void 0,(t.internalLinksPagination={limit:p.internalLinksPagination.limit,offset:0},t))}),$,r.isUpgradable),tooltipTarget:w,totalRowsNumber:0|F,pagination:p.internalLinksPagination,sortDirection:p.internalLinksSort.direction,sort:s._1(CE.InternalLinks.Name.toString,p.internalLinksSort.name),onPaginationChange:function(e){var t=mt.caml_obj_dup(p);return v(void 0,(t.internalLinksPagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(p);return a.internalLinksPagination=r,a.internalLinksSort={name:me.getWithDefault(s._1(CE.InternalLinks.Name.ofString,e),s._1(CE.InternalLinks.Name.getDefault,void 0)),direction:t},v(void 0,a)},onRefetch:$,onClearFilters:function(e){var t=mt.caml_obj_dup(wE());return v(void 0,(t.internalLinksSort=p.internalLinksSort,t.externalLinksSort=p.externalLinksSort,t))}}),j={hd:eh.Tab.make("External links",void 0,void 0,l.some(N),void 0,void 0,void 0),tl:{hd:eh.Tab.make("Internal links",void 0,void 0,l.some(V),void 0,void 0,void 0),tl:0}},J=p.selectedTab,X=c.remoteExternalLinks,Z=c.remoteInternalLinks;Q=J?"number"==typeof Z||1!==Z.TAG?void 0:Z._0:"number"==typeof X||1!==X.TAG?void 0:X._0;var ee={settings:r,children:null};return void 0!==Q&&(ee.error=l.valFromOption(Q)),z.createElement(Po,ee,z.createElement(ct.make,{children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(s._1(ke.Message.to_s,{id:"b8c2853ec268eb6103b7948d349d5db2",defaultMessage:"Outgoing anchors"}))})}),z.createElement(co,{showApplyFilters:!AE.equal(k,p),onClearFilters:function(e){return s._1(h,p)},onApplyFilters:function(e){var t=mt.caml_obj_dup(k),r=k.internalLinksPagination;t.internalLinksPagination={limit:r.limit,offset:0};var a=k.externalLinksPagination;return t.externalLinksPagination={limit:a.limit,offset:0},v(void 0,t)},children:null},z.createElement(Xu.make,{value:k.followType,onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.followType=e,t))}}),z.createElement(pa.DR.make,{value:k.dr,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.dr=wE().dr,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.dr=e,t))}}),z.createElement(pa.Anchors.LinkedDomains.make,{value:k.anchorsLinkedDomains,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.anchorsLinkedDomains=wE().anchorsLinkedDomains,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.anchorsLinkedDomains=e,t))}}),z.createElement(pa.LinkedPages.make,{value:k.linkedPages,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.linkedPages=wE().linkedPages,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.linkedPages=e,t))}}),z.createElement(pa.LinksFromTarget.make,{value:k.linksFromTarget,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.linksFromTarget=wE().linksFromTarget,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.linksFromTarget=e,t))}}),z.createElement(T_,{items:ce.map(w_,(function(e){return 0!==e?y_(e):{label:s._1(ke.Message.to_s,{id:"4a63a61567018094b5288357d52c786e",defaultMessage:"Linked domain name"}),value:0,disabled:!1}})),initialSelected:3,onApply:function(e){var t=D_(e[1]);switch(e[0]){case 0:var r=mt.caml_obj_dup(k);return s._1(h,(r.referringDomainName=t,r));case 1:var a=mt.caml_obj_dup(k);return s._1(h,(a.referringPageUrl=t,a));case 2:var o=mt.caml_obj_dup(k);return s._1(h,(o.referringPageTitle=t,o));case 3:var i=mt.caml_obj_dup(k);return s._1(h,(i.anchor=t,i));case 4:var n=mt.caml_obj_dup(k);return s._1(h,(n.anchorWithSurroundingText=t,n));case 5:return;case 6:var l=mt.caml_obj_dup(k);return s._1(h,(l.targetUrl=t,l))}}}),z.createElement(eB,{filters:k,render:function(e,t,r,a){var o=function(t){return s._1(a,e)},i=function(e){switch(e){case 0:return"RefPageTitle";case 1:return"RefPageUrl";case 2:return"Platform";case 3:return"Language";case 4:return"RefpageRefDomains";case 5:return"RefpageLinkedDomains";case 6:return"RefPageExternalLinks";case 7:return"RefpageTraffic";case 8:return"KeywordsInTop100";case 9:return"BacklinkType";case 10:return"Anchor";case 11:return"SurroundingText";case 12:return"DomainName";case 13:return"DomainTraffic";case 14:return"TargetUrl";case 15:return"ContentType";case 16:return"Redirects"}}(e);switch(e){case 0:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:k.referringPageTitle,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.referringPageTitle=wE().referringPageTitle,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.referringPageTitle=e,t))},key:i});case 1:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:k.referringPageUrl,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.referringPageUrl=wE().referringPageUrl,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.referringPageUrl=e,t))},key:i});case 2:return z.createElement(Zu.Platform.make,{autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.platform=wE().platform,t))},label:Zu.Platform.refPageLabel,onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.platform=e,t))},value:k.platform,key:i});case 3:return z.createElement(Zu.SeLanguage.make,{autoOpen:t,label:Zu.SeLanguage.refPageLabel,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.language=kf().language,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.language=me.getWithDefault(e,kf().language),t))},value:k.language,key:i});case 4:return z.createElement(pa.RefDomains.make,{value:k.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.refDomains=wE().refDomains,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.refDomains=e,t))},key:i});case 5:return z.createElement(pa.LinkedDomains.make,{value:k.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.linkedDomains=wE().linkedDomains,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.linkedDomains=e,t))},key:i});case 6:return z.createElement(pa.ExternalLinks.make,{value:k.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.externalLinks=wE().externalLinks,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.externalLinks=e,t))},key:i});case 7:return z.createElement(pa.OrgPageTraffic.make,{value:k.orgPageTraffic,label:pa.OrgPageTraffic.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.orgPageTraffic=wE().orgPageTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.orgPageTraffic=e,t))},key:i});case 8:return z.createElement(pa.OrgKeywords.make,{value:k.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.orgKeywords=wE().orgKeywords,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.orgKeywords=e,t))},key:i});case 9:return z.createElement(Dg.make,{autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.backlinkType=wE().backlinkType,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.backlinkType=e,t))},selectedItem:k.backlinkType,key:i});case 10:return z.createElement(fa.Backlinks.Anchor.make,{value:k.anchor,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.anchor=wE().anchor,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.anchor=e,t))},key:i});case 11:return z.createElement(fa.Backlinks.SurroundingText.make,{value:k.anchorWithSurroundingText,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.anchorWithSurroundingText=wE().anchorWithSurroundingText,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.anchorWithSurroundingText=e,t))},key:i});case 12:return z.createElement(fa.RefDomains.DomainName.make,{value:k.referringDomainName,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.referringDomainName=wE().referringDomainName,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.referringDomainName=e,t))},key:i});case 13:return z.createElement(pa.OrgDomainTraffic.make,{value:k.orgDomainTraffic,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.orgDomainTraffic=wE().orgDomainTraffic,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.orgDomainTraffic=e,t))},key:i});case 14:return z.createElement(fa.Backlinks.TargetUrl.make,{value:k.targetUrl,autoOpen:t,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.targetUrl=wE().targetUrl,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.targetUrl=e,t))},key:i});case 15:return z.createElement(yg.make,{autoOpen:t,label:yg.targetLabel,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.contentType=wE().contentType,t))},onHidden:o,onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.contentType=e,t))},selectedItem:k.contentType,key:i});case 16:return z.createElement(Zu.Redirects.make,{autoOpen:t,label:Zu.Redirects.targetLabel,onHidden:o,onClear:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.redirects=wE().redirects,t))},onApply:function(e){var t=mt.caml_obj_dup(k);return s._1(h,(t.redirects=e,t))},value:k.redirects,key:i})}}})),z.createElement(eh.make,{name:"tabs",onSelected:function(e){s._1(T.closeAll,void 0);var t=mt.caml_obj_dup(p);return v(void 0,(t.selectedTab=dE(e),t))},selectedTabIndex:lE(p.selectedTab),data:j,fullHeight:!1,theme:1,contentPadding:1})),z.createElement(ut.make,{singleton:C[0]}))},LB=Pl.Make({all:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:{hd:13,tl:{hd:14,tl:{hd:15,tl:{hd:16,tl:{hd:17,tl:0}}}}}}}}}}}}}}}}}}}),EB=z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),BB=function(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),0),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),1),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),2),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"db4faceb26bc45838df1242b1198658a",defaultMessage:"Traffic"}),7),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),8),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"10e8d9d2ff8b63f160f8a9c073f0fdd0",defaultMessage:"Link"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"1382ee74d283fc976847b896603be901",defaultMessage:"Link type"}),9),tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),10),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),11),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"df6e815009a3924d0d7ecb933d287c31",defaultMessage:"Linked domain"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"d60252cc9b33603259f681b10fb7e17b",defaultMessage:"Domain name"}),12),tl:{hd:a(s._1(ke.Message.to_s,{id:"1b5fc907034778d516e616001b7d71f2",defaultMessage:"Dofollow ref. domains"}),13),tl:{hd:a(s._1(ke.Message.to_s,{id:"ef879770e9b98090b2d5e1f8ad188138",defaultMessage:"Dofollow linked domains"}),14),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),15),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),16),tl:{hd:a(s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),17),tl:0}}}}}}}}}}}}}}}}}}}}}}}}};return z.createElement(LB.make,{label:EB,dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.orgPageTraffic,s._1(pa.OrgPageTraffic.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.backlinkType,s._1(Dg.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.domainName,s._1(fa.RefDomains.DomainName.Filter.getDefault,void 0));case 13:return mt.caml_notequal(t.dofollowRefDomains,s._1(pa.DofollowRefDomains.Filter.getDefault,void 0));case 14:return mt.caml_notequal(t.dofollowLinkedDomains,s._1(pa.DofollowLinkedDomains.Filter.getDefault,void 0));case 15:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 16:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 17:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})},KB=function(e){var t=e.onFiltersChange,r=e.filters;return z.createElement(z.Fragment,void 0,z.createElement(Xu.make,{value:r.followType,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.followType=e,a))}}),z.createElement(pa.DR.make,{value:r.dr,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dr=IE().dr,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dr=e,a))}}),z.createElement(pa.OrgDomainTraffic.make,{value:r.orgDomainTraffic,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgDomainTraffic=IE().orgDomainTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgDomainTraffic=e,a))}}),z.createElement(pa.LinkedPages.make,{value:r.linkedPages,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedPages=IE().linkedPages,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedPages=e,a))}}),z.createElement(pa.LinksFromTarget.make,{value:r.linksFromTarget,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linksFromTarget=IE().linksFromTarget,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linksFromTarget=e,a))}}),z.createElement(T_,{items:ce.map(w_,(function(e){return 0!==e?y_(e):{label:s._1(ke.Message.to_s,{id:"4a63a61567018094b5288357d52c786e",defaultMessage:"Linked domain name"}),value:0,disabled:!1}})),initialSelected:0,onApply:function(e){var a=D_(e[1]);switch(e[0]){case 0:var o=mt.caml_obj_dup(r);return s._1(t,(o.domainName=a,o));case 1:var i=mt.caml_obj_dup(r);return s._1(t,(i.referringPageUrl=a,i));case 2:var n=mt.caml_obj_dup(r);return s._1(t,(n.referringPageTitle=a,n));case 3:var l=mt.caml_obj_dup(r);return s._1(t,(l.anchor=a,l));case 4:var d=mt.caml_obj_dup(r);return s._1(t,(d.anchorWithSurroundingText=a,d));case 5:return;case 6:var c=mt.caml_obj_dup(r);return s._1(t,(c.targetUrl=a,c))}}}),z.createElement(BB,{filters:r,render:function(e,a,o,i){var n=function(t){return s._1(i,e)},l=function(e){switch(e){case 0:return"RefPageTitle";case 1:return"RefPageUrl";case 2:return"Platform";case 3:return"Language";case 4:return"RefpageRefDomains";case 5:return"RefpageLinkedDomains";case 6:return"ExternalLinks";case 7:return"RefpageTraffic";case 8:return"KeywordsInTop100";case 9:return"BacklinkType";case 10:return"Anchor";case 11:return"SurroundingText";case 12:return"DomainName";case 13:return"DofollowRefDomains";case 14:return"DofollowLinkedDomains";case 15:return"TargetUrl";case 16:return"ContentType";case 17:return"Redirects"}}(e);switch(e){case 0:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:r.referringPageTitle,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=IE().referringPageTitle,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=e,a))},key:l});case 1:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:r.referringPageUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=IE().referringPageUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=e,a))},key:l});case 2:return z.createElement(Zu.Platform.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=IE().platform,a))},label:Zu.Platform.refPageLabel,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=e,a))},value:r.platform,key:l});case 3:return z.createElement(Zu.SeLanguage.make,{autoOpen:a,label:Zu.SeLanguage.refPageLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=IE().language,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=me.getWithDefault(e,IE().language),a))},value:r.language,key:l});case 4:return z.createElement(pa.RefDomains.make,{value:r.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=IE().refDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=e,a))},key:l});case 5:return z.createElement(pa.LinkedDomains.make,{value:r.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=IE().linkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=e,a))},key:l});case 6:return z.createElement(pa.ExternalLinks.make,{value:r.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=IE().externalLinks,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=e,a))},key:l});case 7:return z.createElement(pa.OrgPageTraffic.make,{value:r.orgPageTraffic,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=IE().orgPageTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=e,a))},key:l});case 8:return z.createElement(pa.OrgKeywords.make,{value:r.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=IE().orgKeywords,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=e,a))},key:l});case 9:return z.createElement(Dg.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=IE().backlinkType,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=e,a))},selectedItem:r.backlinkType,key:l});case 10:return z.createElement(fa.Backlinks.Anchor.make,{value:r.anchor,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=IE().anchor,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=e,a))},key:l});case 11:return z.createElement(fa.Backlinks.SurroundingText.make,{value:r.anchorWithSurroundingText,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=IE().anchorWithSurroundingText,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=e,a))},key:l});case 12:return z.createElement(fa.RefDomains.DomainName.make,{value:r.domainName,autoOpen:a,label:fa.RefDomains.DomainName.outgoingDomainsLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.domainName=IE().domainName,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.domainName=e,a))},key:l});case 13:return z.createElement(pa.DofollowRefDomains.make,{value:r.dofollowRefDomains,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowRefDomains=IE().dofollowRefDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowRefDomains=e,a))},key:l});case 14:return z.createElement(pa.DofollowLinkedDomains.make,{value:r.dofollowLinkedDomains,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowLinkedDomains=IE().dofollowLinkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.dofollowLinkedDomains=e,a))},key:l});case 15:return z.createElement(fa.Backlinks.TargetUrl.make,{value:r.targetUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=IE().targetUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=e,a))},key:l});case 16:return z.createElement(yg.make,{autoOpen:a,label:yg.targetLabel,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=IE().contentType,a))},onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=e,a))},selectedItem:r.contentType,key:l});case 17:return z.createElement(Zu.Redirects.make,{autoOpen:a,label:Zu.Redirects.targetLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=IE().redirects,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=e,a))},value:r.redirects,key:l})}}}))};function qB(e,t){if("number"==typeof t){if(0===t)return{data:0,oldData:0,error:e.error,offset:0,sort:e.sort,sortDirection:e.sortDirection};var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,sort:t._0,sortDirection:t._1};var o,i,n=t._0;if("number"==typeof n)return e;switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero,partial:!1}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:i.stats})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,sort:e.sort,sortDirection:e.sortDirection};default:return e}}var xB=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.refTarget,o=e.rootDomainHash,d=e.target,c=e.filters,u=e.settings,g=e.expandedRows,m=e.count,f=z.useReducer(qB,{data:0,oldData:0,error:void 0,offset:0,sort:5,sortDirection:"Desc"}),p=f[1],_=f[0],h=Ur.get(g.map,dt.to_string(o)),k=void 0!==h&&!h,v=ie.to_int32(m),y=mt.caml_obj_dup(c);y.externalLinksSort={name:_.sort,direction:_.sortDirection};var D=Aa.getTerms(y.targetPageTitle.rules),S=Aa.getTerms(y.targetUrl.rules),F=z.useMemo((function(){return Gg(UM(y))}),[Ve.toKey(a),i.stringifyQueryDict(TM(void 0,void 0,y),void 0,void 0)]),C={hd:VM(D,S,void 0,void 0),tl:{hd:HM(l.some(r),void 0),tl:{hd:XM(d,y),tl:{hd:tA(d,y,0),tl:{hd:rA(d,y,0),tl:{hd:aA(d,y,0),tl:{hd:sA(void 0),tl:{hd:iA(l.some(r),void 0),tl:0}}}}}}}},w=s._3(Ra.FieldsRequestDescr.customRow,C,(function(e,t,r,a){return z.createElement(te.Row.make,{columns:C,parentData:e,isPadded:!1})}),lA),T=s._1(Ra.FieldsRequestDescr.toRequest,w),b=z.useMemo((function(){var e=_.oldData;return"number"!=typeof e&&2===e.TAG?de.mapWithDefault(_.oldData,0,(function(e){return e.rows})):de.mapWithDefault(_.data,0,(function(e){return e.rows}))}),[_.data]),P=BM.makeHistoryFilter(y),M=Re(s._1(SM.ExternalLinks.toFieldName,_.sort),_.sortDirection),A=z.useRef(new AbortController),E=function(e,t,r){var o=void 0!==e?e:u_,i=void 0!==t?t:0;return A.current.abort(),A.current=new AbortController,s._1(p,1),Ye.forEach(R(l.some(A.current),mA.request,{se_params:{history_mode:0,since:void 0,target:n.Protocolless_url.show(d.url),mode:d.mode,protocol:d.protocol,ref_target:{target:a.url,mode:a.mode,protocol:a.protocol}},params:{filter:F,size:o,offset:i,order_by:M,shape:ce.map(T,(function(e){return e[1]})),timeout:void 0},links:"Links_external"}),(function(e){return s._1(p,{TAG:0,_0:e})}))};z.useEffect((function(){s._1(p,0)}),[Ve.Safe.toKey(d),i.stringifyQueryDict(TM(void 0,void 0,y),void 0,void 0)]),z.useEffect((function(){var e=_.data;k&&0===e&&E(void 0,void 0)}),[k,_.data]),z.useEffect((function(){k&&E(void 0,void 0)}),[_.sort,_.sortDirection]);var B=function(e){return s._2(g.setRow,dt.to_string(o),void 0)},K={_0:function(e){var t={data:_.data,settings:u,offset:_.offset,remainingCount:de.mapWithDefault(_.data,0,(function(e){return v-e.count|0})),rightAddon:z.createElement(bt,{exportFunc:function(e,t){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-bbl-external-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-bbl-external-%s"}),n.Protocolless_url.show(d.url),V.toExportName(d.mode)),void 0,SA.request,{se_params:{history_mode:dm.toHistoryMode(P),since:dm.toSince(P),target:n.Protocolless_url.show(d.url),mode:d.mode,protocol:d.protocol,ref_target:{target:a.url,mode:a.mode,protocol:a.protocol}},params:{filter:F,size:t,offset:0,order_by:M,shape:ce.map(T,(function(e){return e[1]})),timeout:void 0},links:"Links_external"})},isTrial:u.subscription.isTrial,limitResetDate:u.subscription.dateResetUsagesMonthly,totalResults:v,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:d,limitsFunc:N}),onClose:B,onMoreDataRequested:function(e,t,r){return E(e,t)}};return void 0!==_.error&&(t.error=l.valFromOption(_.error)),z.createElement(Gl,t)}};return k?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:u,data:_.data,tableData:b,row:w,tooltipTarget:r,isLoading:de.isLoading(_.data),failureState:te.Table.getFailureState(_.data),sort:s._1(SM.ExternalLinks.Name.toString,_.sort),sortDirection:_.sortDirection,totalRowsNumber:v,totalMessage:{id:"a0a4ac3ffeb250b92de76726cbb59dbd",defaultMessage:"{totalDisplay} {total, plural, zero {pages} one {page} other {pages}}"},customFooter:K,onClose:B,onRefetch:function(e){return E(void 0,void 0)},onSort:function(e,t,r){return s._1(p,{TAG:1,_0:me.getWithDefault(s._1(SM.ExternalLinks.Name.ofString,e),s._1(SM.ExternalLinks.getDefault,void 0).name),_1:t})}}),tableRootRef:t,hash:g.hash,onDimensionsChange:g.renewHash}):null};function WB(e,t){if("number"==typeof t){if(0===t)return{data:0,oldData:0,error:e.error,offset:0,sort:e.sort,sortDirection:e.sortDirection,rowMap:e.rowMap};var r,a=e.data;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{data:r,oldData:e.data,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:e.rowMap}}if(0!==t.TAG)return{data:1,oldData:1,error:e.error,offset:0,sort:t._0,sortDirection:t._1,rowMap:e.rowMap};var o,i,n=t._0;if("number"!=typeof n)switch(0|n.TAG){case 1:return{data:de.hasNotBeenAsked(e.oldData)?n:e.oldData,oldData:e.oldData,error:n._0,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1};case 2:var s=n._0,l={TAG:2,_0:(o=de.getWithDefault(e.oldData,{count:0,rows:0,stats:{total:ie.zero,partial:!1}}),i=s,{count:o.count+i.count|0,rows:fo.$at(o.rows,i.rows),stats:{total:ie.zero,partial:!1}})};return{data:l,oldData:l,error:e.error,offset:e.offset+s.count|0,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1}}return{data:e.data,oldData:e.oldData,error:e.error,offset:e.offset,sort:e.sort,sortDirection:e.sortDirection,rowMap:t._1}}var UB=function(e){var t=e.tableRootRef,r=e.tooltipTarget,a=e.rootDomainHash,o=e.target,d=e.filters,c=e.settings,u=e.expandedRows,g=e.count,m=z.useReducer(WB,{data:0,oldData:0,error:void 0,offset:0,sort:4,sortDirection:"Desc",rowMap:Xg(void 0)}),f=m[1],p=m[0],_=p.rowMap,h=Ur.get(u.map,dt.to_string(a)),k=!(void 0===h||!h),v=ie.to_int32(g),y=mt.caml_obj_dup(d);y.sort={name:p.sort,direction:p.sortDirection};var D=Aa.getTerms(y.referringPageTitle.rules),S=Aa.getTerms(y.referringPageUrl.rules),F=Aa.getTerms(y.anchorWithSurroundingText.rules),C=Aa.getTerms(y.anchor.rules),w=Aa.getTerms(y.targetUrl.rules),T=z.useMemo((function(){return me.map(Da.conjunctOpt(ce.flatMap($A,(function(e){return IA(e,y)}))),Da.makeFilter)}),[i.stringifyQueryDict(WA(void 0,void 0,y),void 0,void 0)]),b={hd:jA.referringPage(l.some(_),S,D,void 0,void 0,void 0),tl:{hd:s._4(jA.ur,l.some(_),void 0,void 0,void 0),tl:{hd:jA.referringDomains(l.some(_),void 0,void 0),tl:{hd:jA.linkedDomains(l.some(_),void 0,void 0),tl:{hd:jA.externalLinks(l.some(_),void 0,void 0),tl:{hd:jA.pageTraffic(l.some(_),void 0,void 0),tl:{hd:jA.keywords(l.some(_),void 0,void 0),tl:{hd:jA.anchor(r,C,w,F,void 0,void 0),tl:{hd:jA.dates(void 0,l.some(r),void 0),tl:0}}}}}}}}},P=s._3(Ra.FieldsRequestDescr.customRow,b,(function(e,t,r,a,o){return z.createElement(te.Row.make,{columns:b,parentData:e,isPadded:!1})}),Hg.rowFieldsNotAgg),M=s._1(Ra.FieldsRequestDescr.toRequest,P),A=z.useMemo((function(){var e=p.oldData;return"number"!=typeof e&&2===e.TAG?de.mapWithDefault(p.oldData,0,(function(e){return e.rows})):de.mapWithDefault(p.data,0,(function(e){return e.rows}))}),[p.data]),L=z.useRef(new AbortController),E=function(e,t,r){var a=void 0!==e?e:u_,i=void 0!==t?t:0;L.current.abort(),L.current=new AbortController,s._1(f,1);var d=KA.toFieldName(p.sort),c=d?ce.map(d,(function(e){return[p.sortDirection,e]})):void 0;return Ye.forEach(R(l.some(L.current),MA.request,{link_kind:1,aggregation:2,se_params:{history_mode:0,since:void 0,target:n.Protocolless_url.show(o.url),mode:o.mode,protocol:o.protocol},params:{filter:T,size:a,offset:i,order_by:c,shape:ce.map(M,(function(e){return e[1]})),timeout:void 0}}),(function(e){var t=Hg.remoteDataToRows(e);return s._1(f,{TAG:0,_0:t,_1:de.mapWithDefault(t,p.rowMap,(function(e){return function(e){var t=ce.map(M,(function(e){return e[0]}));return Ra.foldRows(Hg.rowFieldsNotAgg,(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(l.some(_),void 0),e.rows)}(e)[1]}))})}))};z.useEffect((function(){s._1(f,0)}),[Ve.Safe.toKey(o),i.stringifyQueryDict(WA(void 0,void 0,y),void 0,void 0)]),z.useEffect((function(){var e=p.data;k&&0===e&&E(void 0,void 0)}),[k,p.data]),z.useEffect((function(){k&&E(void 0,void 0)}),[p.sort,p.sortDirection]);var B=function(e){return s._2(u.setRow,dt.to_string(a),void 0)},K={_0:function(e){var t={data:p.data,settings:c,offset:p.offset,remainingCount:de.mapWithDefault(p.data,0,(function(e){return v-e.count|0})),rightAddon:null,onClose:B,onMoreDataRequested:function(e,t,r){return E(e,t)}};return void 0!==p.error&&(t.error=l.valFromOption(p.error)),z.createElement(Gl,t)}};return k?z.createElement(Eo.make,{children:z.createElement(Lo,{settings:c,data:p.data,tableData:A,row:P,tooltipTarget:r,isLoading:de.isLoading(p.data),failureState:te.Table.getFailureState(p.data),sort:s._1(KA.Name.toString,p.sort),sortDirection:p.sortDirection,totalRowsNumber:v,reportLink:j.V2.makeUrl(17,{TAG:1,_0:o},WA(void 0,void 0,y)),totalMessage:{id:"25352c31d5ddd9656cacb77946a4f9e8",defaultMessage:"{totalDisplay} {total, plural, zero {links} one {link} other {links}}"},customFooter:K,onClose:B,onRefetch:function(e){return E(void 0,void 0)},onSort:function(e,t,r){return s._1(f,{TAG:1,_0:me.getWithDefault(s._1(KA.Name.ofString,e),4),_1:t})}}),tableRootRef:t,hash:u.hash,onDimensionsChange:u.renewHash}):null};function OB(e,t){return t?{remoteData:t._0,totalDofollowLinks:t._1}:{remoteData:1,totalDofollowLinks:e.totalDofollowLinks}}var NB={contents:new AbortController};function $B(e,t,r,a,o,i,n,d){NB.contents.abort();var c=new AbortController;NB.contents=c,s._1(e,0);var u=function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.make,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Aggregations.countif,s._1(Ra.FieldsRequestDescr.DSL.Field_dsl.Modifiers.id,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.Info.get,ft.Backlinks.BacklinksFields.SourcePage.Link.Info.dofollow)))),0),(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a){var o=ie.to_float(a);return s._1(t,o>e?o:e)}),0,e.rows)};return Ye.forEach(R(l.some(c),iB.request,{se_params:{history_mode:dm.toHistoryMode(d),since:dm.toSince(d),target:r.url,mode:r.mode,protocol:r.protocol},params:{filter:n,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0}}),(function(t){if(!Ge(c))return s._1(e,{_0:t,_1:de.mapWithDefault(t,0,u)})}))}La.makeRenderHeader;var IB=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=z.useReducer(OB,{remoteData:0,totalDofollowLinks:0}),c=d[1],u=d[0],g=he.useUrl(void 0,void 0),m=g.search,f=g.path,p=z.useMemo((function(){return i.parseQueryToDict(m,void 0,void 0)}),[m]),_=function(e,t){var r=e.reportHistoricalPermissions,a=s._1(Eg.ofQueryWithDefault,t),o=me.mapWithDefault(a,!0,(function(e){return Mm.isFirstSeenDateRangeItemAllowed(e,r)})),i=o?a:void 0;return{sort:s._1(OE,t),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,t),followType:s._1(Xu.Filter.ofQueryWithDefault,t),dr:s._1(pa.DR.Filter.ofQueryWithDefault,t),orgDomainTraffic:s._1(pa.OrgDomainTraffic.Filter.ofQueryWithDefault,t),linkedPages:s._1(pa.LinkedPages.Filter.ofQueryWithDefault,t),linksFromTarget:s._1(pa.LinksFromTarget.Filter.ofQueryWithDefault,t),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,t),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,t),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,t),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,t),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,t),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,t),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,t),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,t),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,t),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,t),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,t),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,t),domainName:s._1(fa.RefDomains.DomainName.Filter.ofQueryWithDefault,t),dofollowRefDomains:s._1(pa.DofollowRefDomains.Filter.ofQueryWithDefault,t),dofollowLinkedDomains:s._1(pa.DofollowLinkedDomains.Filter.ofQueryWithDefault,t),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,t),contentType:s._1(yg.Filter.ofQueryWithDefault,t),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,t),firstSeen:i}}(r,p),h=a.useStateValue(_),k=h[1],v=h[0],y=function(e,t){var r=void 0!==e&&e;s._1(k,t);var a=i.makeStringWithQueryDict(i.makePathname(f),l.some(QE(void 0,l.some(p),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};z.useEffect((function(){y(!0,_)}),[i.stringifyQueryDict(QE(void 0,void 0,_),void 0,void 0)]);var D=Re($E.toFieldName(_.sort.name),_.sort.direction),S=Yu(u.remoteData,(function(e){return ie.to_float(e.stats.total)})),F=uo.useSingleton({overrides:["className"]}),C=F[1],w=ya.useMultipleExpandedRows(void 0,void 0),T=z.useMemo((function(){return{TAG:0,_0:{highlightChanges:8}}}),[]),b=z.useMemo((function(){return sB(_)}),[i.stringifyQueryDict(QE(void 0,void 0,_),void 0,void 0)]),P=Aa.getTerms(_.domainName.rules),M={hd:lB(P),tl:{hd:dB(void 0),tl:{hd:cB(t,_),tl:{hd:uB(_),tl:{hd:gB(void 0),tl:{hd:mB(w),tl:{hd:pB(w),tl:{hd:hB(void 0),tl:{hd:kB(u.totalDofollowLinks),tl:{hd:vB(void 0),tl:{hd:yB(void 0),tl:0}}}}}}}}}}},A=s._3(Ra.FieldsRequestDescr.customRow,M,(function(e,a,o,i,l){return z.createElement(z.Fragment,void 0,z.createElement(te.Row.make,{columns:M,parentData:e}),z.createElement(xB,{tableRootRef:e.tableRootRef,tooltipTarget:C,refTarget:Ve.Safe.toUnsafe(t),rootDomainHash:a,target:Ve.Safe.make(0,n.Protocolless_url.wrap(o),3),filters:(d=_,{externalLinksSort:s._1(SM.ExternalLinks.getDefault,void 0),internalLinksSort:s._1(SM.InternalLinks.getDefault,void 0),externalLinksPagination:s._1(nM.ExternalLinks.getDefault,void 0),internalLinksPagination:s._1(nM.InternalLinks.getDefault,void 0),selectedTab:s._1(aM.getDefault,void 0),followType:d.followType,httpCode:CM().httpCode,dr:CM().dr,linksToTarget:CM().linksToTarget,excludeSubdomains:!1,referringDomainName:CM().referringDomainName,orgDomainTraffic:CM().orgDomainTraffic,referringPageTitle:d.referringPageTitle,referringPageUrl:CM().referringPageUrl,platform:d.platform,language:d.language,refDomains:d.refDomains,linkedDomains:d.linkedDomains,externalLinks:d.externalLinks,orgPageTraffic:d.orgPageTraffic,orgKeywords:d.orgKeywords,backlinkType:d.backlinkType,anchor:d.anchor,anchorWithSurroundingText:d.anchorWithSurroundingText,targetPageTitle:CM().targetPageTitle,targetUrl:d.targetUrl,targetPlatform:CM().targetPlatform,targetLanguage:CM().targetLanguage,targetRefDomains:CM().targetRefDomains,contentType:d.contentType,redirects:d.redirects,linkStatus:0,highlightChanges:0,newLostStatusDateRange:7,newStatus:void 0,lostStatus:void 0,newLinks:CM().newLinks,lostLinks:CM().lostLinks}),settings:r,expandedRows:w,count:l}),z.createElement(UB,{tableRootRef:e.tableRootRef,tooltipTarget:C,rootDomainHash:a,target:t,filters:nB(o,_),settings:r,expandedRows:w,count:i}));var d}),DB),R=s._1(Ra.FieldsRequestDescr.toRequest,A),L=z.useCallback((function(e){return s._1(w.closeAll,void 0),$B(c,R,t,D,_.pagination.offset,_.pagination.limit,b,T)}),[]);z.useEffect((function(){s._1(w.closeAll,void 0),$B(c,R,t,D,_.pagination.offset,_.pagination.limit,b,T)}),[Ve.Safe.toKey(t),T,s._1($E.Name.toString,_.sort.name),s._1($E.Direction.toString,_.sort.direction),_.pagination.offset,_.pagination.limit,b]);var E,B=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Ju,{remoteData:u.remoteData,getter:function(e){return ie.to_float(e.stats.total)},message:{id:"4a4a1a4fa56fcb1cc3ba729152efb411",defaultMessage:"{totalStr} {total, plural, zero {domains} one {domain} other {domains}}"}}),z.createElement(Kg,{selectedItem:_.firstSeen,items:Lg,onChange:function(e){var t=mt.caml_obj_dup(_);return y(void 0,(t.firstSeen=e,t))},onReset:function(e){var t=mt.caml_obj_dup(_);return y(void 0,(t.firstSeen=void 0,t))}})),z.createElement(Je.make,{gap:"px10",children:z.createElement(bt,{exportFunc:function(e,r){return I(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-linked-domains-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-linked-domains-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode)),t.url,t.mode,dm.toSince(T),t.protocol,dm.toHistoryMode(T),{filter:b,size:r,offset:0,order_by:D,shape:ce.map(R,(function(e){return e[1]})),timeout:void 0},dm.showExportNewLostColumns(T))},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|S,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:t,limitsFunc:N})})),K=u.remoteData;E="number"==typeof K||1!==K.TAG?void 0:K._0;var q={settings:r,children:null};return void 0!==E&&(q.error=l.valFromOption(E)),z.createElement(Po,q,z.createElement(ct.make,{children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}))})}),z.createElement(co,{showApplyFilters:!HE(v,_),onClearFilters:function(e){return s._1(k,_)},onApplyFilters:function(e){var t=mt.caml_obj_dup(v),r=v.pagination;return t.pagination={limit:r.limit,offset:0},y(void 0,t)},children:z.createElement(KB,{onFiltersChange:s.__1(k),filters:v})}),z.createElement(te.Table.make,{row:A,data:de.mapWithDefault(u.remoteData,0,(function(e){return e.rows})),hasAppliedFilters:!1,header:B,isLoading:de.isLoading(u.remoteData),failureState:te.Table.getFailureState(u.remoteData),renderError:Be(u.remoteData,L,r.isUpgradable),totalRowsNumber:0|S,pagination:_.pagination,sortDirection:_.sort.direction,sort:s._1($E.Name.toString,_.sort.name),onPaginationChange:function(e){var t=mt.caml_obj_dup(_);return y(void 0,(t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(_);return a.pagination=r,a.sort={name:me.getWithDefault(s._1($E.Name.ofString,e),s._1($E.Name.getDefault,void 0)),direction:t},y(void 0,a)},onRefetch:L,onClearFilters:function(e){return y(void 0,IE())}})),z.createElement(ut.make,{singleton:F[0]}))},GB=r(4955),QB=function(e){var t=e.chFilters,r=e.count,o=e.expandedRows,c=e.filters,u=e.groupKey,g=e.parentLink,m=e.rowId,f=e.settings,p=e.signedEnvironment,_=e.tableRootRef,h=e.target,k=e.tooltipTarget,v=Bm(void 0),y=v[1],D=v[0],S=me.isSome(Ur.get(o.map,rm(m,u))),F=ie.to_int32(r),C=Re(RP.toFieldName(c.sort.name),c.sort.direction),w=Km(_),T=Aa.getTerms(c.referringPageTitle.rules),b=Aa.getTerms(c.referringPageUrl.rules),P=Aa.getTerms(c.anchorWithSurroundingText.rules),M=Aa.getTerms(c.anchor.rules),A=Aa.getTerms(c.targetUrl.rules),E={hd:IP.referringPage(void 0,b,T,void 0,ge.get(w,1),void 0),tl:{hd:c_.ur(void 0,ge.get(w,2),void 0,void 0),tl:{hd:IP.referringDomains(void 0,ge.get(w,3),void 0),tl:{hd:IP.linkedDomains(void 0,ge.get(w,4),void 0),tl:{hd:IP.externalLinks(void 0,ge.get(w,5),void 0),tl:{hd:IP.pageTraffic(void 0,ge.get(w,6),void 0),tl:{hd:IP.keywords(void 0,ge.get(w,7),void 0),tl:{hd:IP.anchor(k,M,A,P,ge.get(w,8),void 0),tl:{hd:IP.dates(ge.get(w,9),l.some(k),void 0),tl:{hd:s._2(IP.empty,ge.get(w,10),void 0),tl:0}}}}}}}}}},B=s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Link.get,ft.Backlinks.BacklinksFields.SourcePage.Link.id)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Backlinks.BacklinksFields.SourcePage.Url.get,ft.Backlinks.BacklinksFields.SourcePage.Url.url)),0)),K=s._3(Ra.FieldsRequestDescr.customRow,E,(function(e,t,r){return z.createElement(te.Row.make,{columns:E,parentData:e,key:"groupedTableRow"+rm(t,u)})}),B),q=z.useMemo((function(){return s._1(Ra.FieldsRequestDescr.toRequest,K)}),[]),x=function(e,r,a){var o=void 0!==e?e:u_,i=void 0!==r?r:0;return s._1(y,1),Ye.forEach(R(void 0,GB.request,{se_params:{se_params:{history_mode:2,since:void 0,target:h.url,mode:h.mode,protocol:h.protocol},group_key:u,group_witness:g},params:{filter:t,size:o,offset:i,order_by:C,shape:ce.map(q,(function(e){return e[1]})),timeout:void 0},signedEnvironment:p}),(function(e){return s._1(y,{_0:e})}))};if(z.useEffect((function(){s._1(y,0)}),[Ve.Safe.toKey(h),i.stringifyQueryDict(BP(void 0,void 0,c),void 0,void 0)]),z.useEffect((function(){var e=D.data;S&&0===e&&x(void 0,void 0)}),[S,D.data]),!S)return null;var W,U=D.data,O=0;if("number"==typeof U)W=0===U?null:z.createElement(Y.Box.make,{size:"md"});else switch(0|U.TAG){case 1:W=z.createElement(le.make,{reqId:d.getRequestId(U._0),noIcon:!0,paddings:!0,onClick:function(e){return x(void 0,void 0)}});break;case 0:case 2:O=1}if(1===O){var N=Fa.getValueLocalCache(ce.map(q,(function(e){return e[0]})));W=z.createElement(z.Fragment,void 0,a.list(ce.mapWithIndex(U._0.rows,(function(e,t){return Ra.renderRowField(K,{getValue:s._1(N,t),tableRootRef:_,index:e})}))),z.createElement(eP,{data:D.data,target:h,settings:f,columns:E,totalCount:F,exportFunc:function(e,r){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-internal-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-internal-backlinks-%s"}),n.Protocolless_url.show(h.url),V.toExportName(h.mode)),void 0,zA.request,{se_params:{se_params:{history_mode:2,since:void 0,target:h.url,mode:h.mode,protocol:h.protocol},group_key:u,group_witness:void 0},params:{filter:t,size:r,offset:0,order_by:C,shape:ce.map(q,(function(e){return e[1]})),timeout:void 0}})},onShowMoreClick:function(e){return x(e,D.offset)},onClose:function(e){return s._2(o.setRow,rm(m,u),void 0)}}))}var $={settings:f,hasPadding:!0,onClose:function(e){return s._2(o.setRow,rm(m,u),void 0)},children:W},I=de.getError(D.data);return void 0!==I&&($.error=l.valFromOption(I)),z.createElement(Eo.make,{children:z.createElement(Ao,$),tableRootRef:_,hash:o.hash,onDimensionsChange:o.renewHash})},VB=Pl.Make({all:{hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:{hd:12,tl:0}}}}}}}}}}}}}}),jB=function(e){var t=e.filters,r=e.render,a=function(e,t){return Pl.makeDropdownItem(e,t,void 0,void 0,void 0)},o={hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"d40dd212f3f7b145654ebba8364dee5c",defaultMessage:"Referring page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"b00fd624c47d7797c04975e6368bdbc4",defaultMessage:"Title"}),0),tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),1),tl:{hd:a(s._1(ke.Message.to_s,{id:"0610dcca40d789cca0e8594cb8590640",defaultMessage:"Platform"}),2),tl:{hd:a(s._1(ke.Message.to_s,{id:"23c2f9cc394f63932543b8bf18585b04",defaultMessage:"Language"}),3),tl:{hd:a(s._1(ke.Message.to_s,{id:"93b0d3555ed2b47ae32e072aadabd08c",defaultMessage:"Referring domains"}),4),tl:{hd:a(s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),5),tl:{hd:a(s._1(ke.Message.to_s,{id:"48e0f7fa2707688ca1b181700f14c925",defaultMessage:"External links"}),6),tl:{hd:a(s._1(ke.Message.to_s,{id:"608f86320e5d50b2ec00e9c5008e23b8",defaultMessage:"Keywords in top 100"}),7),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"45bd3c42f979a78085c4343a3f4e7f7f",defaultMessage:"Backlink"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"5f34a4bb917ea0dba5f34d547a7243a0",defaultMessage:"Anchor"}),8),tl:{hd:a(s._1(ke.Message.to_s,{id:"e69a6eb68c93db9067295095a6fa3146",defaultMessage:"Anchor with surrounding text"}),9),tl:{hd:0,tl:{hd:{TAG:1,_0:s._1(ke.Message.to_s,{id:"224ad3b9310442174d14519895891abc",defaultMessage:"Target page"})},tl:{hd:a(s._1(ke.Message.to_s,{id:"fdbc18020eaf30edc62eb17501095d0f",defaultMessage:"URL"}),10),tl:{hd:a(s._1(ke.Message.to_s,{id:"4d54786435c590294297bef0656f707f",defaultMessage:"Content type"}),11),tl:{hd:a(s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),12),tl:0}}}}}}}}}}}}}}}}}};return z.createElement(VB.make,{label:z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"2efbf49c6595dd1ba0fbd063ca492767",defaultMessage:"More filters"})),dropdownItems:o,isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.referringPageTitle,s._1(fa.Backlinks.ReferringPageTitle.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.referringPageUrl,s._1(fa.Backlinks.ReferringPageUrl.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.platform,s._1(Zu.Platform.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.language,s._1(Zu.SeLanguage.Filter.getDefault,void 0));case 4:return mt.caml_notequal(t.refDomains,s._1(pa.RefDomains.Filter.getDefault,void 0));case 5:return mt.caml_notequal(t.linkedDomains,s._1(pa.LinkedDomains.Filter.getDefault,void 0));case 6:return mt.caml_notequal(t.externalLinks,s._1(pa.ExternalLinks.Filter.getDefault,void 0));case 7:return mt.caml_notequal(t.orgKeywords,s._1(pa.OrgKeywords.Filter.getDefault,void 0));case 8:return mt.caml_notequal(t.anchor,s._1(fa.Backlinks.Anchor.Filter.getDefault,void 0));case 9:return mt.caml_notequal(t.anchorWithSurroundingText,s._1(fa.Backlinks.SurroundingText.Filter.getDefault,void 0));case 10:return mt.caml_notequal(t.targetUrl,s._1(fa.Backlinks.TargetUrl.Filter.getDefault,void 0));case 11:return mt.caml_notequal(t.contentType,s._1(yg.Filter.getDefault,void 0));case 12:return mt.caml_notequal(t.redirects,s._1(Zu.Redirects.Filter.getDefault,void 0))}},render:r})},HB=function(e){var t=e.onFiltersChange,r=e.filters;return z.createElement(z.Fragment,void 0,z.createElement(Xu.make,{value:r.followType,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.followType=e,a))}}),z.createElement(Zu.TargetHttpCode.make,{onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetHttpCode=LP().targetHttpCode,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetHttpCode=e,a))},value:r.targetHttpCode}),z.createElement(Dg.make,{onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=e,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.backlinkType=e,a))},selectedItem:r.backlinkType}),z.createElement(pa.OrgPageTraffic.make,{value:r.orgPageTraffic,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=LP().orgPageTraffic,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgPageTraffic=e,a))}}),z.createElement(T_,{items:ce.map(C_,y_),initialSelected:1,onApply:function(e){var a=D_(e[1]);switch(e[0]){case 1:var o=mt.caml_obj_dup(r);return s._1(t,(o.referringPageUrl=a,o));case 2:var i=mt.caml_obj_dup(r);return s._1(t,(i.referringPageTitle=a,i));case 3:var n=mt.caml_obj_dup(r);return s._1(t,(n.anchor=a,n));case 4:var l=mt.caml_obj_dup(r);return s._1(t,(l.anchorWithSurroundingText=a,l));case 0:case 5:return;case 6:var d=mt.caml_obj_dup(r);return s._1(t,(d.targetUrl=a,d))}}}),z.createElement(jB,{filters:r,render:function(e,a,o,i){var n=function(t){return s._1(i,e)};switch(e){case 0:return z.createElement(fa.Backlinks.ReferringPageTitle.make,{value:r.referringPageTitle,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=LP().referringPageTitle,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageTitle=e,a))}});case 1:return z.createElement(fa.Backlinks.ReferringPageUrl.make,{value:r.referringPageUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=LP().referringPageUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.referringPageUrl=e,a))}});case 2:return z.createElement(Zu.Platform.make,{autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=LP().platform,a))},label:Zu.Platform.refPageLabel,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.platform=e,a))},value:r.platform});case 3:return z.createElement(Zu.SeLanguage.make,{autoOpen:a,label:Zu.SeLanguage.refPageLabel,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=LP().language,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.language=me.getWithDefault(e,LP().language),a))},value:r.language});case 4:return z.createElement(pa.RefDomains.make,{value:r.refDomains,label:pa.RefDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=LP().refDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.refDomains=e,a))}});case 5:return z.createElement(pa.LinkedDomains.make,{value:r.linkedDomains,label:pa.LinkedDomains.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=LP().linkedDomains,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.linkedDomains=e,a))}});case 6:return z.createElement(pa.ExternalLinks.make,{value:r.externalLinks,label:pa.ExternalLinks.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=LP().externalLinks,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.externalLinks=e,a))}});case 7:return z.createElement(pa.OrgKeywords.make,{value:r.orgKeywords,label:pa.OrgKeywords.refPageLabel,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=LP().orgKeywords,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.orgKeywords=e,a))}});case 8:return z.createElement(fa.Backlinks.Anchor.make,{value:r.anchor,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=LP().anchor,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchor=e,a))}});case 9:return z.createElement(fa.Backlinks.SurroundingText.make,{value:r.anchorWithSurroundingText,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=LP().anchorWithSurroundingText,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.anchorWithSurroundingText=e,a))}});case 10:return z.createElement(fa.Backlinks.TargetUrl.make,{value:r.targetUrl,autoOpen:a,onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=LP().targetUrl,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.targetUrl=e,a))}});case 11:return z.createElement(yg.make,{autoOpen:a,label:yg.targetLabel,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=LP().contentType,a))},onHidden:n,onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.contentType=e,a))},selectedItem:r.contentType});case 12:return z.createElement(Zu.Redirects.make,{autoOpen:a,label:s._1(ke.Message.to_s,{id:"e97b08d73ecc71e6b7d76dafcf934e61",defaultMessage:"No. of redirects"}),onHidden:n,onClear:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=LP().redirects,a))},onApply:function(e){var a=mt.caml_obj_dup(r);return s._1(t,(a.redirects=e,a))},value:r.redirects})}}}))};function zB(e,t){return t?{remoteData:t._0,rowMap:t._1}:{remoteData:1,rowMap:Xg(void 0)}}var YB={contents:gt()};La.makeRenderHeader;var JB=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=z.useReducer(zB,{remoteData:0,rowMap:Xg(void 0)}),c=d[1],u=d[0],g=he.useUrl(void 0,void 0),m=g.search,f=g.path,p=z.useMemo((function(){return i.parseQueryToDict(m,void 0,void 0)}),[m]),_=function(e,t){var r=e.settings.backlinksAggregation,a=s._2(ag.InternalBacklinks.Filter.ofQueryWithCustomDefault,t,r>=2?1:0);return{sort:s._1(PP,t),pagination:s._1(ya.Pagination.Filter.ofQueryWithDefault,t),followType:s._1(Xu.Filter.ofQueryWithDefault,t),targetHttpCode:s._1(Zu.TargetHttpCode.Filter.ofQueryWithDefault,t),backlinkType:s._1(Dg.Filter.ofQueryWithDefault,t),referringPageTitle:s._1(fa.Backlinks.ReferringPageTitle.Filter.ofQueryWithDefault,t),referringPageUrl:s._1(fa.Backlinks.ReferringPageUrl.Filter.ofQueryWithDefault,t),platform:s._1(Zu.Platform.Filter.ofQueryWithDefault,t),language:s._1(Zu.SeLanguage.Filter.ofQueryWithDefault,t),refDomains:s._1(pa.RefDomains.Filter.ofQueryWithDefault,t),linkedDomains:s._1(pa.LinkedDomains.Filter.ofQueryWithDefault,t),externalLinks:s._1(pa.ExternalLinks.Filter.ofQueryWithDefault,t),orgPageTraffic:s._1(pa.OrgPageTraffic.Filter.ofQueryWithDefault,t),orgKeywords:s._1(pa.OrgKeywords.Filter.ofQueryWithDefault,t),anchor:s._1(fa.Backlinks.Anchor.Filter.ofQueryWithDefault,t),anchorWithSurroundingText:s._1(fa.Backlinks.SurroundingText.Filter.ofQueryWithDefault,t),targetUrl:s._1(fa.Backlinks.TargetUrl.Filter.ofQueryWithDefault,t),contentType:s._1(yg.Filter.ofQueryWithDefault,t),redirects:s._1(Zu.Redirects.Filter.ofQueryWithDefault,t),groupingType:a}}(r,p),h=a.useStateValue(_),k=h[1],v=h[0],y=ue.use(_.groupingType),D=z.useMemo((function(){return y}),[i.stringifyQueryDict(BP(void 0,void 0,_),void 0,void 0)]),S=function(e,t){var r=void 0!==e&&e;s._1(k,t);var a=i.makeStringWithQueryDict(i.makePathname(f),l.some(BP(void 0,l.some(p),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};z.useEffect((function(){S(!0,_)}),[i.stringifyQueryDict(BP(void 0,void 0,_),void 0,void 0)]);var F=Re(RP.toFieldName(_.sort.name),_.sort.direction),C=uo.useSingleton({overrides:["className"]}),w=C[1],T=ue.use(u.remoteData),b=ya.useMultipleExpandedRows(void 0,void 0),P=Yu(u.remoteData,(function(e){return ie.to_float(e.stats.total)})),M=z.useMemo((function(){return de.mapLoadingWithDefault(u.remoteData,0,(function(e){return e.rows}))}),[u.remoteData]),A=Aa.getTerms(_.referringPageTitle.rules),E=Aa.getTerms(_.referringPageUrl.rules),B=Aa.getTerms(_.anchor.rules),K=Aa.getTerms(_.anchorWithSurroundingText.rules),q=Aa.getTerms(_.targetUrl.rules),x=u.rowMap,W={hd:IP.referringPage(l.some(x),E,A,void 0,void 0,void 0),tl:{hd:s._4(IP.ur,l.some(x),void 0,void 0,void 0),tl:{hd:IP.referringDomains(l.some(x),void 0,void 0),tl:{hd:IP.linkedDomains(l.some(x),void 0,void 0),tl:{hd:IP.externalLinks(l.some(x),void 0,void 0),tl:{hd:IP.pageTraffic(l.some(x),void 0,void 0),tl:{hd:IP.keywords(l.some(x),void 0,void 0),tl:{hd:IP.anchor(w,B,q,K,void 0,void 0),tl:{hd:IP.dates(void 0,l.some(w),void 0),tl:0}}}}}}}}},U=IP.groupToggle(_.groupingType,b,void 0,(function(e,t){var r=rm(e,t),a=me.mapWithDefault(Ur.get(b.map,r),!0,(function(e){}));return s._2(b.setRow,r,a)}),void 0),O=_.groupingType?W:fo.$at(W,{hd:U,tl:0}),$=function(e,t,r,a,o,i,l,d){s._1(e,0);var c=gt();YB.contents=c;var u=d?function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(zg.rowFieldsNotAgg,(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,s){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)}:function(e){var r=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(zg.rowFieldsAgg,(function(e,t){return Fa.getValue(r,e,t)}),(function(e,t,r,a,o,i,s,l){return em(t,e[0],e[1],n.Url.show(o),a)}),Zg(void 0,void 0),e.rows)};return Ye.forEach(R(void 0,kA.request,{aggregation:d,se_params:{history_mode:2,since:void 0,target:n.Protocolless_url.show(r.url),mode:r.mode,protocol:r.protocol},params:{filter:l,size:i,offset:o,order_by:a,shape:ce.map(t,(function(e){return e[1]})),timeout:void 0}}),(function(t){if(YB.contents===c)return s._1(e,{_0:t,_1:de.mapWithDefault(t,Xg(void 0),(function(e){return s._1(u,e)[1]}))})}))},I=z.useMemo((function(){return Gg(ce.map(WP,(function(e){return UP(e,_)})))}),[i.stringifyQueryDict(BP(void 0,void 0,_),void 0,void 0)]),G=function(e,a,o,i,n){var s=tm(zg.toBacklinksAgg(_.groupingType),i,o),l=_.groupingType;return z.createElement(z.Fragment,{children:null,key:a},z.createElement(te.Row.make,{columns:O,parentData:e}),l?null:z.createElement(QB,{chFilters:I,count:n,expandedRows:b,filters:_,groupKey:s,parentLink:a,rowId:a,settings:r,signedEnvironment:de.mapWithDefault(u.remoteData,void 0,(function(e){return e.signedEnvironment})),tableRootRef:e.tableRootRef,target:t,tooltipTarget:w}))},Q=_.groupingType?s._3(Ra.FieldsRequestDescr.customRow,O,(function(e,t,r,a,o){return G(e,t,a,o,ie.one)}),zg.rowFieldsNotAgg):s._3(Ra.FieldsRequestDescr.customRow,O,(function(e,t,r,a,o,i){return G(e,t,a,o,i)}),zg.rowFieldsAgg),j=s._1(Ra.FieldsRequestDescr.toRequest,Q),H=z.useCallback((function(e){return s._1(b.closeAll,void 0),$(c,j,t,F,_.pagination.offset,_.pagination.limit,I,_.groupingType)}),[]);z.useEffect((function(){s._1(b.closeAll,void 0),$(c,j,t,F,_.pagination.offset,_.pagination.limit,I,_.groupingType)}),[Ve.Safe.toKey(t),s._1(RP.Name.toString,_.sort.name),s._1(RP.Direction.toString,_.sort.direction),_.pagination.offset,_.pagination.limit,I,s._1(ag.InternalBacklinks.Filter.toString,_.groupingType)]);var X,Z=u.remoteData,ee=_.groupingType,re=0,oe=0,ne=0;if(0===T)if("number"==typeof Z)0===Z?ne=5:re=1;else switch(0|Z.TAG){case 0:re=1;break;case 1:case 2:oe=4}else ne=5;if(5===ne){var se=0;if("number"==typeof Z)se=6;else switch(0|Z.TAG){case 1:case 2:oe=4;break;default:se=6}6===se&&(D?ee?oe=4:re=1:ee?re=1:oe=4)}switch(4===oe&&(re="number"==typeof Z?1===Z?D?2:3:ee?2:3:0===Z.TAG?D?2:3:ee?2:3),re){case 1:X=z.createElement(Y.Icon.make,{size:"sm"});break;case 2:var le={links:a.s(ae.Float.full(P)),count:0|P};X=s._2(ke.Message.format_to_s,{id:"f04c48581ba473c1682b4d8ee7783c60",defaultMessage:"{links} {count, plural, zero {backlinks} one {backlink} few {backlinks} other {backlinks}}"},le);break;case 3:var ge={links:a.s(ae.Float.full(P)),count:0|P};X=s._2(ke.Message.format_to_s,{id:"f234783dbbbd91c340e141200a290a8e",defaultMessage:"{links} {count, plural, zero {groups} one {group} few {groups} other {groups}} of links"},ge)}var fe,pe=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Je.make,{gap:"px16",fitToContent:!0,children:null},z.createElement(Je.make,{gap:"px10",fitToContent:!0,children:z.createElement(pt.make,{fontWeight:"bold",children:X})}),z.createElement(ag.InternalBacklinks.make,{selectedItem:_.groupingType,onChange:function(e){var t=mt.caml_obj_dup(_);return S(void 0,(t.groupingType=e,t))}})),z.createElement(Je.make,{gap:"px10",children:z.createElement(bt,{exportFunc:function(e,r){return L(e,s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-internal-backlinks-",_1:{TAG:2,_0:0,_1:0}}},_1:"%s-internal-backlinks-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode)),void 0,vA.request,{aggregation:_.groupingType,se_params:{history_mode:2,since:void 0,target:t.url,mode:t.mode,protocol:t.protocol},params:{filter:I,size:r,offset:0,order_by:F,shape:ce.map(j,(function(e){return e[1]})),timeout:void 0}})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|P,maxRowsAllowed:15e4,limitedByMaxRows:s._1(ke.Message.to_s,{id:"afe4be5c7deb4d12800dbacf5b8b2a30",defaultMessage:"(limited in this report)"}),target:t,limitsFunc:N})})),_e=u.remoteData;fe="number"==typeof _e||1!==_e.TAG?void 0:_e._0;var ve={settings:r,children:null};void 0!==fe&&(ve.error=l.valFromOption(fe));var ye=_.groupingType;return z.createElement(Po,ve,z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:s._1(ke.Message.to_s,{id:"c2c5ccf8ab8be416f8afbde22f5fb785",defaultMessage:"Internal backlinks"})})}),z.createElement(co,{showApplyFilters:!xP(v,_),onClearFilters:function(e){return s._1(k,_)},onApplyFilters:function(e){var t=mt.caml_obj_dup(v),r=v.pagination;return t.pagination={limit:r.limit,offset:0},S(void 0,t)},children:z.createElement(HB,{onFiltersChange:s.__1(k),filters:v})}),z.createElement(te.Table.make,{row:Q,data:M,hasAppliedFilters:!1,header:pe,isLoading:de.isLoading(u.remoteData),failureState:te.Table.getFailureState(u.remoteData),renderError:Be(u.remoteData,H,r.isUpgradable),tableId:ye?"all":"grouped",tooltipTarget:w,totalRowsNumber:0|P,pagination:_.pagination,sortDirection:_.sort.direction,sort:s._1(RP.Name.toString,_.sort.name),stickyHeaderLayer:tt.ZIndex.above(tt.ZIndex.tableExpandableRow),onPaginationChange:function(e){var t=mt.caml_obj_dup(_);return S(void 0,(t.pagination=e,t))},onSort:function(e,t,r){var a=mt.caml_obj_dup(_);return a.pagination=r,a.sort={name:me.getWithDefault(s._1(RP.Name.ofString,e),s._1(RP.Name.getDefault,void 0)),direction:t},S(void 0,a)},onRefetch:H,onClearFilters:function(e){return S(void 0,LP())}})),z.createElement(ut.make,{singleton:C[0]}))},XB=r(14082),ZB=(r(36292),r(73458),r(74039));function eK(e,t){return t?{remoteProjects:t._0}:{remoteProjects:1}}et.style([et.label("modeDropdown"),et.width({NAME:"pxFloat",VAL:230}),et.padding2(tt.NewSize.px4,"zero"),et.backgroundColor(_e.Color.Background.box)]),et.style([et.label("modeOption"),et.padding2(tt.NewSize.px4,tt.NewSize.px8),et.unsafe("cursor","pointer"),et.selector("&:hover",[et.backgroundColor(_e.Color.Background.sidebarItemSelected)])]);var tK={remoteProjects:0},rK=tt.Media.minWidth(1921),aK={hd:{TAG:0,_0:{NAME:"percent",VAL:60}},tl:{hd:{TAG:1,_0:[rK,{NAME:"percent",VAL:35}]},tl:0}},oK={hd:{TAG:0,_0:{NAME:"px",VAL:200}},tl:{hd:{TAG:1,_0:[rK,{NAME:"px",VAL:600}]},tl:0}},iK={hd:{TAG:0,_0:{NAME:"px",VAL:400}},tl:{hd:{TAG:1,_0:[rK,{NAME:"px",VAL:600}]},tl:0}},nK=et.style([et.label("progressBarChartWrapper"),et.lineHeight(tt.NewSize.px16)]),sK={hd:{TAG:0,_0:{NAME:"px",VAL:100}},tl:0},lK={hd:{TAG:0,_0:{NAME:"percent",VAL:100}},tl:0};function dK(e,t,r){return r?{TAG:1,_0:t}:{TAG:0,_0:e}}function cK(e){return 0===e.TAG?n.Protocolless_url.show(e._0):n.Url.show(e._0)}function uK(e){var t;return t=0===e.TAG?3:0,{url:cK(e),mode:t}}var gK=cK,mK=function(e){return{url:0===e.TAG?e._0:n.Protocolless_url.wrap(n.Url.show(e._0)),mode:0===e.TAG?3:0}},fK=It.Make({key:"chartMode",$$default:0,localStorageKey:void 0,toString:function(e){return e?"custom":"top5"},ofString:function(e){if(void 0!==e)switch(e){case"custom":return 1;case"top5":return 0;default:return}}}),pK={toLabel:function(e){return e?"Custom":"Top 5"},getMaxNumberOfCompetitors:function(e){return e?10:5},key:fK.key,localStorageKey:fK.localStorageKey,getDefault:fK.getDefault,toString:fK.toString,ofString:fK.ofString,getter:fK.getter,setter:fK.setter,isApplied:fK.isApplied,ofQuery:fK.ofQuery,ofQueryWithDefault:fK.ofQueryWithDefault,ofQueryWithCustomDefault:fK.ofQueryWithCustomDefault,toQuery:fK.toQuery},_K={hd:0,tl:{hd:1,tl:{hd:2,tl:0}}},hK=function(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"ab89f2050f2b6252730728b859e7d222",defaultMessage:"Organic traffic"});case 1:return s._1(ke.Message.to_s,{id:"263c4b447c4e98677b0ea287ff60e92b",defaultMessage:"Organic traffic value"});case 2:return s._1(ke.Message.to_s,{id:"9921cc0c7008f2fa95bec2aa96989c10",defaultMessage:"Organic pages"})}},kK=function(e,t){switch(t){case 0:return"Average"===e?"traffic_avg":"traffic_mth";case 1:return"Average"===e?"value_avg":"value_mth";case 2:return"pages"}},vK=function(e){return 1!==e?ae.Float.$$default:function(e){return"$"+ae.Float.$$default(e)}},yK=function(e){return 1!==e?ae.Float.full:function(e){return"$"+ae.Float.full(Math.round(e))}};function DK(e,t,r){switch(e){case 0:return"Average"===t?[r.trafficPrevAvg,r.trafficCurrAvg]:[r.trafficPrevMth,r.trafficCurrMth];case 1:return"Average"===t?[r.valuePrevAvg,r.valueCurrAvg]:[r.valuePrevMth,r.valueCurrMth];case 2:return[r.pagesPrev,r.pagesCurr]}}var SK=function(e){return e?s._1(ke.Message.to_s,{id:"2e04a6fb177dd75079258a2a36ee7b84",defaultMessage:"Top competing pages"}):s._1(ke.Message.to_s,{id:"bb8519c2a1cbf34d76d74b27bea8d7c9",defaultMessage:"Top competing domains"})},FK=function(e){return e?{TAG:1,_0:z.createElement(ct.make,{gap:"px4",children:null},z.createElement(pt.make,{fontSize:"sm",children:s._1(ke.Message.to_s,{id:"6a161b12454ce2568132586fc735dbfd",defaultMessage:"A list of pages that rank in the top 100 organic search results for the same keywords that your target gets the most traffic from in the top 10 results."})}),z.createElement(pt.make,{fontSize:"sm",children:s._1(ke.Message.to_s,{id:"53d309a5167021b835517c75c16855e9",defaultMessage:"To see competing domains instead, use the “domain” and “subdomain” target modes, or “path” target mode if your target has multiple pages."})}))}:{TAG:1,_0:z.createElement(ct.make,{gap:"px4",children:null},z.createElement(pt.make,{fontSize:"sm",children:s._1(ke.Message.to_s,{id:"dd77422e3a95b6957c8f546b1efabe06",defaultMessage:"A list of domains that rank in the top 10 organic search results for the same keywords that your target gets the most traffic from."})}),z.createElement(pt.make,{fontSize:"sm",children:s._1(ke.Message.to_s,{id:"f6b7c0325415bc028a8d5748ceacb487",defaultMessage:"To see competing pages instead, use the “exact URL” target mode or “path” target mode if your target doesn't have multiple pages."})}))}},CK={keywordsTotal:dt.zero},wK=ya.Sort.MakeFilter({$$default:3,toString:function(e){switch(e){case 0:return"url";case 1:return"keywordCompetitor";case 2:return"keywordCommon";case 3:return"share";case 4:return"keywordTarget";case 5:return"dr";case 6:return"traffic";case 7:return"trafficChanges";case 8:return"value";case 9:return"valueChanges";case 10:return"pages";case 11:return"pagesChanges"}},ofString:function(e){switch(e){case"dr":return 5;case"keywordCommon":return 2;case"keywordCompetitor":return 1;case"keywordTarget":return 4;case"pages":return 10;case"pagesChanges":return 11;case"share":return 3;case"traffic":return 6;case"trafficChanges":return 7;case"url":return 0;case"value":return 8;case"valueChanges":return 9;default:return}},defaultDirection:"Desc"}),TK=wK.Name,bK=wK.getDefault,PK=wK.isApplied,MK=wK.ofQueryWithDefault,AK=wK.toQuery,RK=wK.Direction,LK={Name:TK,Direction:RK,getDefault:bK,isApplied:PK,ofQueryWithDefault:MK,toQuery:AK,toActualFieldName:function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.url)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_competitor)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_common)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_common_percent)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_target)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.dr)),tl:0};case 6:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.traffic)),tl:0};case 8:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.cost)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.pages)),tl:0};case 7:case 9:case 11:return 0}},toComparedFieldName:function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.url)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_competitor)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_common)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_common_percent)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_target)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.dr)),tl:0};case 6:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.traffic)),tl:0};case 8:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.cost)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.pages)),tl:0};case 7:case 9:case 11:return 0}}};function EK(e){return{chartMode:s._1(pK.getDefault,void 0),competitors:s._1(OD.Raw.CompetitorsFilter.getDefault,void 0),volumeMode:s._1(Pa.getDefault,void 0),sort:s._1(bK,void 0),country:s._1(Sa.WithoutAll.Filter.Country.getDefault,void 0),isUserCountry:s._1(Sa.WithoutAll.Filter.IsUserCountry.getDefault,void 0),currentDate:s._1(Pt.CurrentDate.getDefault,void 0),compareDate:s._1(Pt.CompareDate.getDefault,void 0),volume:s._1(pa.Volume.Filter.getDefault,void 0),kd:s._1(pa.KD.Filter.getDefault,void 0),cpc:s._1(pa.CPC.Filter.getDefault,void 0),words:s._1(pa.Words.Filter.getDefault,void 0)}}var BK={hd:0,tl:{hd:1,tl:{hd:2,tl:{hd:3,tl:{hd:4,tl:{hd:5,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:0}}}}}}}}}}}};function KK(e,t){var r=Pt.CurrentDate.ofQueryWithDefault,a=s._2(r,e.reportHistoricalPermissions,t);return{chartMode:s._1(pK.ofQueryWithDefault,t),competitors:s._1(OD.Raw.CompetitorsFilter.ofQueryWithDefault,t),volumeMode:s._2(Pa.ofQueryWithCustomDefault,t,e.settings.topPagesVolumeMode),sort:s._1(MK,t),country:s._1(Sa.WithoutAll.Filter.Country.ofQueryWithDefault,t),isUserCountry:s._1(Sa.WithoutAll.Filter.IsUserCountry.ofQueryWithDefault,t),currentDate:a,compareDate:Pt.CompareDate.ofQueryWithDefault(e.reportHistoricalPermissions,a,e.settings.orgKeywordsCompare,t,void 0),volume:s._1(pa.Volume.Filter.ofQueryWithDefault,t),kd:s._1(pa.KD.Filter.ofQueryWithDefault,t),cpc:s._1(pa.CPC.Filter.ofQueryWithDefault,t),words:s._1(pa.Words.Filter.ofQueryWithDefault,t)}}function qK(e,t,r){var a=void 0!==e?e:BK,o=void 0!==t?l.valFromOption(t):{};return ce.reduce(a,o,(function(e,t){switch(t){case 0:return s._2(pK.toQuery,e,r.chartMode);case 1:return s._2(OD.Raw.CompetitorsFilter.toQuery,e,r.competitors);case 2:return s._2(Pa.toQuery,e,r.volumeMode);case 3:return s._2(AK,e,r.sort);case 4:return s._2(Sa.WithoutAll.Filter.Country.toQuery,e,r.country);case 5:return s._2(Sa.WithoutAll.Filter.IsUserCountry.toQuery,e,r.isUserCountry);case 6:return s._2(Pt.CurrentDate.toQuery,e,r.currentDate);case 7:return s._2(Pt.CompareDate.toQuery,e,r.compareDate);case 8:return s._2(pa.Volume.Filter.toQuery,e,r.volume);case 9:return s._2(pa.KD.Filter.toQuery,e,r.kd);case 10:return s._2(pa.CPC.Filter.toQuery,e,r.cpc);case 11:return s._2(pa.Words.Filter.toQuery,e,r.words)}}))}var xK={hd:2,tl:{hd:4,tl:{hd:6,tl:{hd:7,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:0}}}}}}}};function WK(e,t){var r=void 0!==e?l.valFromOption(e):{};return qK(xK,l.some(r),t)}var UK=function(e,t){return i.stringifyQueryDict(WK(void 0,e),void 0,void 0)===i.stringifyQueryDict(WK(void 0,t),void 0,void 0)},OK={hd:2,tl:{hd:8,tl:{hd:9,tl:{hd:10,tl:{hd:11,tl:0}}}}};function NK(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return 0;case 8:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.CompetitorsActual.TargetPositionFilter.get,ft.Se_shared.CompetitorsActual.TargetPositionFilter.volume),t.volume),tl:{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.CompetitorsActual.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsActual.CompetitorPositionFilter.volume),t.volume),tl:0}};case 9:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.CompetitorsActual.TargetPositionFilter.get,ft.Se_shared.CompetitorsActual.TargetPositionFilter.difficulty),t.kd),tl:{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.CompetitorsActual.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsActual.CompetitorPositionFilter.difficulty),t.kd),tl:0}};case 10:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.CompetitorsActual.TargetPositionFilter.get,ft.Se_shared.CompetitorsActual.TargetPositionFilter.cpc),t.cpc),tl:{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.CompetitorsActual.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsActual.CompetitorPositionFilter.cpc),t.cpc),tl:0}};case 11:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.CompetitorsActual.TargetPositionFilter.get,ft.Se_shared.CompetitorsActual.TargetPositionFilter.words),t.words),tl:{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.CompetitorsActual.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsActual.CompetitorPositionFilter.words),t.words),tl:0}}}}function $K(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return 0;case 8:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.CompetitorsCompared.TargetPositionFilter.get,ft.Se_shared.CompetitorsCompared.TargetPositionFilter.volume),t.volume),tl:{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.CompetitorsCompared.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsCompared.CompetitorPositionFilter.volume),t.volume),tl:0}};case 9:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.CompetitorsCompared.TargetPositionFilter.get,ft.Se_shared.CompetitorsCompared.TargetPositionFilter.difficulty),t.kd),tl:{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.CompetitorsCompared.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsCompared.CompetitorPositionFilter.difficulty),t.kd),tl:0}};case 10:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.CompetitorsCompared.TargetPositionFilter.get,ft.Se_shared.CompetitorsCompared.TargetPositionFilter.cpc),t.cpc),tl:{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.CompetitorsCompared.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsCompared.CompetitorPositionFilter.cpc),t.cpc),tl:0}};case 11:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.CompetitorsCompared.TargetPositionFilter.get,ft.Se_shared.CompetitorsCompared.TargetPositionFilter.words),t.words),tl:{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.CompetitorsCompared.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsCompared.CompetitorPositionFilter.words),t.words),tl:0}}}}var IK=OK,GK=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(OK,(function(t){return NK(t,e)})))),(function(e){return e}))},QK=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(OK,(function(t){return $K(t,e)})))),(function(e){return e}))};function VK(e){switch(e){case 0:return mo.seOcCompetitorsKeywords;case 1:return mo.seOcCommonKeywords;case 2:return mo.seOcTargetKeywords}}function jK(e,t,r,a,o){var i=sK,n=s._1(ke.Message.to_s,{id:"0a94f8aa21590fe153636864a86bda75",defaultMessage:"Keyword overlap"});return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r,o){return z.useMemo((function(){return z.createElement(va.Td.make,{align:"left",minWidth:sK,children:z.createElement("div",{className:nK},z.createElement(PD.make,{max:ie.to_float(a),items:{hd:{value:ie.to_float(t),color:_e.Color.Chart.blueSoftMuted,title:s._1(ke.Message.to_s,{id:"08c0a8a8fec08a4bb43be6304c584aec",defaultMessage:"Competitor’s unique keywords"})},tl:{hd:{value:ie.to_float(r),color:_e.Color.Chart.violetContrast,title:s._1(ke.Message.to_s,{id:"416b03e6bc52ab4dcdaf079ed75b716d",defaultMessage:"Common keywords"})},tl:{hd:{value:ie.to_float(o),color:_e.Color.Chart.melon,title:s._1(ke.Message.to_s,{id:"8a9efc9062b517c82776ae880dca1a2e",defaultMessage:"Target’s unique keywords"})},tl:0}}},title:s._1(ke.Message.to_s,{id:"0a94f8aa21590fe153636864a86bda75",defaultMessage:"Keyword overlap"})}))})}),[t,r,o])}),{renderHeader:function(e,t,r,a,o,s,l,d){return La.makeRenderHeader(void 0,void 0,n,void 0,void 0,void 0,"left",void 0,void 0,!1,void 0,void 0,void 0,i,void 0,void 0,void 0,e,t,r,a,o,s,l,d)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,t),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,r),0))))}function HK(e,t,r,o,i,l,d){var c=function(e){switch(e){case 0:return s._1(TK.toString,1);case 1:return s._1(TK.toString,2);case 2:return s._1(TK.toString,4)}}(e),u=function(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"8ea0f8f4e161e56857fa6b726a02aaac",defaultMessage:"Competitor's keywords"});case 1:return s._1(ke.Message.to_s,{id:"416b03e6bc52ab4dcdaf079ed75b716d",defaultMessage:"Common keywords"});case 2:return s._1(ke.Message.to_s,{id:"bc5734c242b21abb18e653857f43aeef",defaultMessage:"Target's keywords"})}}(e),g=function(e){switch(e){case 0:return _e.Color.Chart.blueSoftMuted;case 1:return _e.Color.Chart.violetContrast;case 2:return _e.Color.Chart.melon}}(e),m={TAG:0,_0:VK(e)};return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,r,o){var d=0!==i.mode?n.Protocolless_url.show(r):n.Url.show(o);return z.useMemo((function(){var e=a.s(ae.Int.full(ie.to_int32(t)));return z.createElement(va.Td.make,{align:"right",children:z.createElement(ta.make,{href:s._1(l,d),mode:3,children:e})})}),[ie.to_int32(t),d])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(m,g,u,void 0,c,void 0,"right",void 0,void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,t),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,r),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,o),0))))}function zK(e,t,r){var o=s._1(ke.Message.to_s,{id:"d4732e34be6637a45574ac44daabaff3",defaultMessage:"Share"}),i={TAG:0,_0:mo.seOcShare};return s._3(Ra.FieldsRequestDescr.fieldCustom,(function(e,t){return z.useMemo((function(){return z.createElement(va.Td.make,{align:"right",children:a.s(ae.Float.custom(ie.to_float(t)/1e4,"0,0.0%"))})}),[])}),{renderHeader:function(e,r,a,n,s,l,d,c){return La.makeRenderHeader(i,void 0,o,void 0,t,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,r,a,n,s,l,d,c)}},s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e))}function YK(e,t,r,a,o,i,l,d){var c=e?iK:oK,u=aK,g=e?s._1(ke.Message.to_s,{id:"bcdc7654b0c09a57f0eb551331dee11e",defaultMessage:"URL"}):s._1(ke.Message.to_s,{id:"182eb98acda8913da9e031b6614cca72",defaultMessage:"Domain"});return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(r,a,o,i,s){var l;if(e)l=[n.Url.show(o),n.Url.show(o),s];else{var d=n.Protocolless_url.show(a);l=["http://"+d,d,i]}var c=l[2],u=l[1],g=l[0];return z.useMemo((function(){var e=on.fromString(c);return z.createElement(va.Td.make,{paddingLeft:"none",nowrap:!1,children:z.createElement(vn.make,{displayLink:g,tkLinkContextInput:e,color:"blue",label:u,boldDomain:!1,country:t})})}),[g,u,se.code(t),c])}),{renderHeader:function(e,t,r,a,o,i,n,s){return La.makeRenderHeader(void 0,void 0,g,void 0,l,void 0,void 0,"none",void 0,void 0,void 0,void 0,u,c,void 0,void 0,void 0,e,t,r,a,o,i,n,s)}},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,r),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,a),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,o),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,i),0)))))}function JK(e,t,r,a){return j.V1.makeOrganicContentGapUrl(t,[{protocol:e.protocol,url:a,mode:e.mode}],e,void 0,e,void 0,void 0,r.volume,r.kd,r.cpc,r.words,void 0)}function XK(e,t,r,a){return j.V1.makeOrganicContentGapUrl(t,[{protocol:e.protocol,url:a,mode:e.mode},e],{protocol:0,url:"",mode:3},void 0,e,void 0,{hd:2,tl:0},r.volume,r.kd,r.cpc,r.words,void 0)}function ZK(e,t,r,a){return j.V1.makeOrganicContentGapUrl(t,[e],{protocol:e.protocol,url:a,mode:e.mode},void 0,e,void 0,{hd:1,tl:0},r.volume,r.kd,r.cpc,r.words,void 0)}function eq(e,t,r,o,i,l){var d;if(r){var c=s._1(ke.Message.to_s,{id:"9cad30402d2f3a4eadda4d5be0b6434c",defaultMessage:"Pages"}),u={TAG:0,_0:mo.seOcPages};d=function(e,t,r,a,o,n,s,l){return La.makeRenderHeader(u,void 0,c,void 0,i,void 0,"right",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,t,r,a,o,n,s,l)}}else d=La.makeNullHeader;return s._3(Ra.FieldsRequestDescr.recordWithRender,(function(e,t,i){return z.useMemo((function(){var e=me.isSome(Ur.get(o.map,n.Protocolless_url.show(t)));return r?z.createElement(va.Td.make,{align:"right",contentHeight:"button",children:z.createElement(Oi.make,{size:"sm",active:e,onClick:function(r){return s._2(o.setRow,n.Protocolless_url.show(t),e?void 0:ie.to_int32(i))},children:a.s(ae.Int.tableAbbr(ie.to_int32(i)))})}):null}),[r,n.Protocolless_url.show(t),i])}),{renderHeader:d},s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,e),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,t),0)))}La.makeNullHeader,La.makeRenderHeader;var tq=function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.url)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_competitor)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_common)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_common_percent)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_target)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.dr)),tl:0};case 6:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.traffic)),tl:0};case 8:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.cost)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.pages)),tl:0};case 7:case 9:case 11:return 0}},rq=function(e,t){switch(t){case 0:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.url)),tl:0};case 1:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_competitor)),tl:0};case 2:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_common)),tl:0};case 3:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_common_percent)),tl:0};case 4:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_target)),tl:0};case 5:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.dr)),tl:0};case 6:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.traffic_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.traffic)),tl:0};case 8:return"Average"===e?{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.cost_avg)),tl:0}:{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.cost)),tl:0};case 10:return{hd:s._1(Ra.FieldsRequestDescr.DSL.Order.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.pages)),tl:0};case 7:case 9:case 11:return 0}},aq=IK;function oq(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return 0;case 8:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.CompetitorsChartActual.TargetPositionFilter.get,ft.Se_shared.CompetitorsChartActual.TargetPositionFilter.volume),t.volume),tl:{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.CompetitorsChartActual.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsChartActual.CompetitorPositionFilter.volume),t.volume),tl:0}};case 9:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.CompetitorsChartActual.TargetPositionFilter.get,ft.Se_shared.CompetitorsChartActual.TargetPositionFilter.difficulty),t.kd),tl:{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.CompetitorsChartActual.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsChartActual.CompetitorPositionFilter.difficulty),t.kd),tl:0}};case 10:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.CompetitorsChartActual.TargetPositionFilter.get,ft.Se_shared.CompetitorsChartActual.TargetPositionFilter.cpc),t.cpc),tl:{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.CompetitorsChartActual.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsChartActual.CompetitorPositionFilter.cpc),t.cpc),tl:0}};case 11:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.CompetitorsChartActual.TargetPositionFilter.get,ft.Se_shared.CompetitorsChartActual.TargetPositionFilter.words),t.words),tl:{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.CompetitorsChartActual.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsChartActual.CompetitorPositionFilter.words),t.words),tl:0}}}}function iq(e,t){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return 0;case 8:return{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.CompetitorsChartCompared.TargetPositionFilter.get,ft.Se_shared.CompetitorsChartCompared.TargetPositionFilter.volume),t.volume),tl:{hd:pa.Volume.makeChFilter(s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPositionFilter.volume),t.volume),tl:0}};case 9:return{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.CompetitorsChartCompared.TargetPositionFilter.get,ft.Se_shared.CompetitorsChartCompared.TargetPositionFilter.difficulty),t.kd),tl:{hd:pa.KD.makeChFilter(s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPositionFilter.difficulty),t.kd),tl:0}};case 10:return{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.CompetitorsChartCompared.TargetPositionFilter.get,ft.Se_shared.CompetitorsChartCompared.TargetPositionFilter.cpc),t.cpc),tl:{hd:pa.CPC.makeChFilter(s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPositionFilter.cpc),t.cpc),tl:0}};case 11:return{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.CompetitorsChartCompared.TargetPositionFilter.get,ft.Se_shared.CompetitorsChartCompared.TargetPositionFilter.words),t.words),tl:{hd:pa.Words.makeChFilter(s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPositionFilter.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPositionFilter.words),t.words),tl:0}}}}var nq=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(aq,(function(t){return oq(t,e)})))),(function(e){return e}))},sq=function(e){return ce.filterMap(ce.concatMany(ce.toArray(ce.map(aq,(function(t){return iq(t,e)})))),(function(e){return e}))},lq=r(58323),dq=r(78486),cq=r(25597),uq=r(88927),gq=r(69014),mq=r(24795),fq=r(92732),pq=r(11196),_q=r(144),hq=r(64846),kq=r(74606),vq=r(78052),yq=et.style([et.label("circle"),et.display("inlineBlock"),et.marginRight(tt.NewSize.px6)]),Dq=et.style([et.label("content"),et.minHeight({NAME:"pxFloat",VAL:334})]),Sq=s._1(Rt.css,{hd:Rt.label("chart"),tl:{hd:Rt.userSelect("none"),tl:{hd:Rt.selector(".recharts-cartesian-grid-horizontal",{hd:Rt.selector("line:nth-last-child(1), line:nth-last-child(2)",{hd:Rt.unsafe("stroke-opacity","0"),tl:0}),tl:0}),tl:{hd:Rt.selector(".recharts-scatter .recharts-scatter-symbol .recharts-symbols",{hd:Rt.opacity(.8),tl:{hd:Rt.selector("&:hover",{hd:Rt.opacity(1),tl:0}),tl:0}}),tl:0}}}}),Fq=et.style([et.label("tooltipCompareMode")]),Cq=et.style([et.label("tooltip"),et.backgroundColor(_e.Color.Background.box),et.boxShadows(tt.BoxShadow.CssJs.elevation2),et.borderRadius(tt.NewSize.px2),et.padding(tt.NewSize.px10),et.maxWidth({NAME:"pxFloat",VAL:240}),et.selector("&."+Fq,[et.minWidth({NAME:"pxFloat",VAL:240}),et.maxWidth({NAME:"pxFloat",VAL:460})]),et.selector("& thead",[et.borderBottom({NAME:"pxFloat",VAL:1},"solid",_e.Color.Border.line)]),et.selector("& th",[et.padding2(tt.NewSize.px4,tt.NewSize.px8)]),et.selector("& td",[et.padding4(tt.NewSize.px6,tt.NewSize.px8,"zero",tt.NewSize.px8)]),et.selector("& td, & th",[et.selector("&:first-child",[et.paddingLeft("zero")]),et.selector("&:last-child",[et.paddingRight("zero")])])]);function wq(e){var t=e.stroke,r=e.fill,a=void 0!==t?t:"transparent",o=void 0!==r?r:"transparent";return z.createElement("div",{className:yq},z.createElement("svg",{height:"12",width:"12"},z.createElement("circle",{cx:"6",cy:"6",fill:o,r:"5",stroke:a,strokeDasharray:"3, 1",strokeWidth:"1"})))}var Tq=function(e){var t,r=e.filters,o=e.remoteData,i=e.onChange,n=0;if("number"==typeof o)n=1;else switch(0|o.TAG){case 1:t=z.createElement(le.make,{reqId:d.getRequestId(o._0),height:"stretch",paddings:!0});break;case 2:var c=o._0;if(0!==c.length){var u=ge.every(c,(function(e){var t=e.pagesCurr;return void 0===t||1===t}));t=z.createElement("div",{className:Sq},z.createElement(Et.Horizontal.make,{renderItem:function(e,t,o){var i,n=t.name,d=me.flatMap(ge.get(c,e),(function(e){return e.tkLinkContextInput}));if(void 0!==d){var u={displayLink:n,tkLinkContextInput:on.fromString(d),color:"black",prettifyUrl:!1};void 0!==r.country&&(u.country=l.valFromOption(r.country)),i=z.createElement($D.make,u)}else i=a.s(vt.safeDecodeURIComponent(n));return z.createElement(Je.make,{gap:"px8",fitToContent:!0,align:"top",children:null},z.createElement(Nt.make,{color:t.color,checked:t.show,onChange:function(e){return s._1(o,void 0)}}),z.createElement(pt.make,{children:i}))},spec:ce.map(ce.fromArray(c),(function(e){return Et.ChartSpec.makeSpecItem(void 0,OD.Raw.toKey(e.urlAndMode),void 0,e.urlAndMode.url,void 0,OD.Raw.toKey(e.urlAndMode),void 0,e.color,void 0,e.show,void 0,void 0,void 0,void 0)})),onClick:function(e){return s._1(i,ge.map(c,(function(t){return e===OD.Raw.toKey(t.urlAndMode)?{urlAndMode:t.urlAndMode,tkLinkContextInput:t.tkLinkContextInput,color:t.color,show:!t.show,trafficCurrMth:t.trafficCurrMth,trafficCurrAvg:t.trafficCurrAvg,trafficPrevMth:t.trafficPrevMth,trafficPrevAvg:t.trafficPrevAvg,valueCurrMth:t.valueCurrMth,valueCurrAvg:t.valueCurrAvg,valuePrevMth:t.valuePrevMth,valuePrevAvg:t.valuePrevAvg,pagesCurr:t.pagesCurr,pagesPrev:t.pagesPrev}:t})))}}),z.createElement(dq.ResponsiveContainer,s._3(vq.makeProps({TAG:0,_0:319},void 0)(void 0,void 0,void 0,void 0,void 0),z.createElement(cq.ScatterChart,{margin:{top:32,right:32,bottom:17,left:4},children:null},z.createElement(uq.CartesianGrid,{horizontal:!0,stroke:Rt.colorToString(_e.Color.Border.lineAlpha),vertical:!0}),z.createElement(Lt.YAxis,s.app(Zr.makeProps({_0:0})("number",void 0,void 0,void 0,!1,void 0,kK(r.volumeMode,0),void 0,void 0,void 0),[{value:hK(0),angle:-90,position:"left",offset:-2,fill:Rt.colorToString(_e.Color.$$Text.tertiary),fontSize:11,style:{textAnchor:"middle"}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"left",{top:1,bottom:1},void 0,void 0,{fill:Rt.colorToString(_e.Color.$$Text.tertiary),fontSize:11,transform:"translate(-8, 0)"},void 0,vK(0),!1,0,void 0,0,void 0,void 0,void 0,void 0,void 0])),z.createElement(gq.XAxis,s.app(_q.makeProps(void 0)("number",void 0,void 0,void 0,!1,void 0,kK(r.volumeMode,1),void 0,void 0,void 0),[{value:hK(1),position:"bottom",offset:0,fill:Rt.colorToString(_e.Color.$$Text.tertiary),fontSize:11},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,{fill:Rt.colorToString(_e.Color.$$Text.tertiary),fontSize:11,transform:"translate(0,2)"},void 0,vK(1),!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])),z.createElement(mq.ZAxis,s.app(hq.makeProps(void 0)("number",void 0,void 0,void 0,void 0,void 0,kK(r.volumeMode,2),void 0,void 0,void 0),[void 0,void 0,void 0,void 0,u?[804,804]:[201,3217],void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])),z.createElement(fq.Scatter,{data:[{traffic_mth:0,traffic_avg:0,value_mth:0,value_avg:0,pages:0,data:{}}],hide:!0,key:"stub"}),ge.map(c,(function(e){return z.createElement(fq.Scatter,{data:[{name:OD.Raw.toKey(e.urlAndMode),color:e.color,traffic_mth:e.trafficPrevMth,traffic_avg:e.trafficPrevAvg,value_mth:e.valuePrevMth,value_avg:e.valuePrevAvg,pages:e.pagesPrev,data:e}],fill:"transparent",stroke:Rt.colorToString(e.color),strokeDasharray:"3 1",hide:!e.show,isAnimationActive:!1,key:OD.Raw.toKey(e.urlAndMode)+"prev"})})),ge.map(c,(function(e){return z.createElement(fq.Scatter,{data:[{name:OD.Raw.toKey(e.urlAndMode),color:e.color,traffic_mth:e.trafficCurrMth,traffic_avg:e.trafficCurrAvg,value_mth:e.valueCurrMth,value_avg:e.valueCurrAvg,pages:e.pagesCurr,data:e}],fill:Rt.colorToString(e.color),hide:!e.show,isAnimationActive:!1,key:OD.Raw.toKey(e.urlAndMode)+"curr"})})),z.createElement(pq.Tooltip,s.app(kq.makeProps({TAG:0,_0:!1})(void 0,void 0,void 0,void 0,void 0,void 0,(function(e){return me.mapWithDefault(ge.get(me.getWithDefault(l.nullable_to_opt(e.payload),[]),0),null,(function(e){var t=e.payload.data,o=Tl.dataToDate([r.currentDate,r.compareDate]),i=o[1];return z.createElement("div",{className:ra.$plus$plus$plus(Cq,ea.ifSome(Fq,i))},z.createElement(ct.make,{gap:"px2",children:null},z.createElement(gi.make,{whiteSpace:"normal",wordBreak:"breakWord",children:a.s(vt.safeDecodeURIComponent(t.urlAndMode.url))}),z.createElement("table",void 0,void 0!==i?z.createElement("thead",void 0,z.createElement("tr",void 0,z.createElement("th",void 0,a.s(Gt.nbsp)),z.createElement("th",void 0,z.createElement(Je.make,{gap:"none",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement("div",void 0,a.s(Gt.nbsp)),z.createElement(pt.make,{color:"secondary",fontSize:"xs",fontWeight:"regular",whiteSpace:"nowrap",children:null},z.createElement(wq,{stroke:Rt.colorToString(t.color)}),a.s(ne.moment(void 0,l.valFromOption(i),"dayShortMonthYear"))))),z.createElement("th",void 0,z.createElement(Je.make,{gap:"none",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement("div",void 0,a.s(Gt.nbsp)),z.createElement(pt.make,{color:"secondary",fontSize:"xs",fontWeight:"regular",whiteSpace:"nowrap",children:null},z.createElement(wq,{fill:Rt.colorToString(t.color)}),a.s(ne.moment(void 0,o[0],"dayShortMonthYear"))))),z.createElement("th",void 0,z.createElement(Je.make,{gap:"none",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement("div",void 0,a.s(Gt.nbsp)),z.createElement(pt.make,{color:"secondary",fontSize:"xs",fontWeight:"regular",whiteSpace:"nowrap",children:s._1(ke.Message.to_s,{id:"cefafd45a79b8d944773955e699dcd86",defaultMessage:"Change"})}))))):null,z.createElement("tbody",void 0,a.list(ce.filterMap(_K,(function(e){if(!(e>=2&&u)){var o=DK(e,r.volumeMode,t),n=o[1],s=o[0];return l.some(z.createElement("tr",{key:kK(r.volumeMode,e)},z.createElement("td",void 0,z.createElement(pt.make,{fontSize:"sm",children:a.s(hK(e))})),void 0!==i?z.createElement("td",void 0,z.createElement(pt.make,{fontSize:"sm",align:"right",whiteSpace:"nowrap",children:a.s(yK(e)(me.getWithDefault(s,0)))})):null,z.createElement("td",void 0,z.createElement(pt.make,{fontSize:"sm",align:"right",children:a.s(me.mapWithDefault(n,"",yK(e)))})),void 0!==i?z.createElement("td",void 0,z.createElement(pt.make,{fontSize:"sm",align:"right",children:z.createElement(_a.Float.make,_a.Float.makeProps(vK(e),me.getWithDefault(n,0)-me.getWithDefault(s,0),void 0,"sm",void 0,void 0))})):null))}})))))))}))}),void 0),[void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,{zIndex:tt.ZIndex.tooltip},void 0,void 0]))),void 0,void 0)))}else t=z.createElement(ct.make,{fullHeight:!0,children:z.createElement(Yl.make,{})});break;default:n=1}return 1===n&&(t=z.createElement(Y.Box.make,{size:"md",background:0,fullHeight:!0})),z.createElement("div",{className:Dq},t)},bq=r(6164),Pq=et.style([et.label("controllButton"),et.display("flex"),et.margin2({NAME:"pxFloat",VAL:-3},{NAME:"pxFloat",VAL:-10}),et.padding2({NAME:"pxFloat",VAL:3},{NAME:"pxFloat",VAL:10})]),Mq=et.style([et.label("footer"),et.display("flex"),et.height({NAME:"pxFloat",VAL:34}),et.borderTop({NAME:"pxFloat",VAL:1},"solid",_e.Color.Border.lineAlpha)]),Aq=pK.getMaxNumberOfCompetitors(1),Rq=OD.Raw.make(void 0,3,void 0);function Lq(e){return ce.filter(e,(function(e){return _i.isNotBlank(e.url)}))}function Eq(e){return Lq(e)||{hd:Rq,tl:0}}function Bq(e,t){if("number"!=typeof e)switch(0|e.TAG){case 1:return{TAG:1,_0:1};case 2:var r=e._0.urlValidationResults,a=ce.some(r,(function(e){return 0===e}));return t?a?{TAG:1,_0:{_0:r}}:{TAG:0,_0:r}:{TAG:1,_0:0};default:return}}function Kq(e,t){return ce.filterMap(ce.map(ce.zip(t,e),(function(e){var t=e[1];return"number"==typeof t?void 0:{url:t._0,mode:e[0].mode}})),(function(e){return e}))}function qq(e,t){if("number"==typeof t)return 0===t?{isOpen:e.isOpen,competitors:fo.$at(e.competitors,{hd:Rq,tl:0}),remoteParseUrls:e.remoteParseUrls,formValidationResult:e.formValidationResult}:{isOpen:e.isOpen,competitors:e.competitors,remoteParseUrls:1,formValidationResult:void 0};switch(0|t.TAG){case 0:case 1:break;case 2:var r=t._0;return{isOpen:e.isOpen,competitors:ce.filterWithIndex(e.competitors,(function(e,t){return t!==r})),remoteParseUrls:e.remoteParseUrls,formValidationResult:e.formValidationResult};case 3:return{isOpen:e.isOpen,competitors:e.competitors,remoteParseUrls:0,formValidationResult:t._0};case 4:var a=t._0,o=Bq(a,e.competitors);return{isOpen:void 0!==o&&0!==o.TAG,competitors:e.competitors,remoteParseUrls:a,formValidationResult:o};case 5:return{isOpen:t._0,competitors:Eq(e.competitors),remoteParseUrls:e.remoteParseUrls,formValidationResult:e.formValidationResult}}return{isOpen:e.isOpen,competitors:t._0,remoteParseUrls:e.remoteParseUrls,formValidationResult:e.formValidationResult}}function xq(e,t,r){var a=Bq(e,t);if(void 0!==a){if(0===a.TAG)return s._1(r,Kq(a._0,t));var o=a._0;return"number"==typeof o?s._1(r,0):s._1(r,Kq(o._0,t))}}var Wq={contents:gt()};function Uq(e,t,r){var a=ce.map(t,(function(e){return e.url}));if(ce.every(a,_i.isBlank))return s._1(e,{TAG:3,_0:{TAG:1,_0:0}}),s._1(r,0);s._1(e,1);var o=gt();return Wq.contents=o,Ye.forEach(d.performNew(void 0,void 0,void 0,void 0,void 0,bq.request,{urls:a}),(function(a){if(Wq.contents===o)return s._1(e,{TAG:4,_0:a}),xq(a,t,r)}))}var Oq=function(e){var t=e.state,r=e.dispatch,o=e.filters,i=e.disabled,n=e.onApply,d=void 0!==i&&i,c=z.useRef(null);z.useEffect((function(){Uq(r,o.competitors,s._1(n,0))}),[]),z.useEffect((function(){xq(t.remoteParseUrls,o.competitors,(function(e){return OD.Validated.listToKey(e)===OD.Raw.listToKey(o.competitors)?s._2(n,1,e):Uq(r,o.competitors,s._1(n,1))}))}),[OD.Raw.listToKey(Lq(o.competitors))]),z.useEffect((function(){s._1(r,{TAG:0,_0:Eq(o.competitors)})}),[t.isOpen]);var u=Lq(o.competitors);return z.createElement(LC.make,{isOpen:t.isOpen,placement:"bottomStart",content:z.createElement("div",void 0,z.createElement(po.make,{padding:"blockSm",children:z.createElement(ct.make,{gap:"px8",children:null},a.list(ce.mapWithIndex(t.competitors,(function(e,a){var o=e>=0&&ce.length(t.competitors)>1,i=0===me.flatMap(t.formValidationResult,(function(t){if(0!==t.TAG){var r=t._0;return"number"==typeof r?void 0:ce.get(r._0,e)}}))?[!0,l.some(z.createElement(pt.make,{color:"danger",children:s._1(ke.Message.to_s,{id:"c645cb8f5ce0a10891a4710c5e148c0d",defaultMessage:"URL is not valid"})}))]:[!1,void 0],d=ce.length(t.competitors)-1|0,u={target:a,hasError:i[0],hasLoader:!1,hideRemoveButton:!o,onSubmit:function(a,o){var i=function(e,t,r){return ce.mapWithIndex(e,(function(e,a){return t===e?s._1(r,a):a}))}(t.competitors,e,(function(e){return o}));if(s._1(r,{TAG:1,_0:i}),a>=2)return Uq(r,i,s._1(n,3))},onRemove:function(t){return s._1(r,{TAG:2,_0:e})},key:String(e)},g=i[1];void 0!==g&&(u.message=l.valFromOption(g));var m=e===d?c:void 0;return void 0!==m&&(u.domRef=l.valFromOption(m)),z.createElement(WC.make,u)}))),ce.length(t.competitors)<Aq?z.createElement(ht.make,{color:"ghost",onClick:function(e){return s._1(r,0)},children:null},z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"c85156677e6c8c6c1147a67b2e769944",defaultMessage:"Add competitor"})):null)}),z.createElement("div",{className:Mq},z.createElement(ht.make,{color:"ghost",roundness:"bottomOnly",width:"stretch",height:"stretch",onClick:function(e){return Uq(r,t.competitors,s._1(n,2))},children:z.createElement(RC.make,{children:s._1(ke.Message.to_s,{id:"b461a989b660dd62c9b9f655c54b7aae",defaultMessage:"Apply"})})})),de.isLoading(t.remoteParseUrls)?z.createElement(Y.Opaque.make,{size:"md"}):null),maxWidth:{NAME:"px",VAL:460},onClickOutside:function(e){return s._1(r,{TAG:5,_0:!1})},onShown:function(e){return Sg.focus(c)},offset:[-10,4],fullWidth:!0,onKeyDown:function(e){return 4!==p_.$$KeyboardEvent.keyFromEventKey(e.key)?void 0:s._1(r,{TAG:5,_0:!1})},children:z.createElement("div",{className:Pq,onClick:function(e){return d?void 0:s._1(r,{TAG:5,_0:!t.isOpen})}},z.createElement(Je.make,{gap:"px10",layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:u?z.createElement(z.Fragment,void 0,z.createElement(pt.make,{children:a.s(pK.toLabel(1)+": "+String(ce.length(u)))}),z.createElement(_o.make,{onClick:function(e){return s._1(r,{TAG:5,_0:!1}),e.stopPropagation(),s._2(n,5,0)},children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))})):z.createElement(z.Fragment,void 0,a.s(pK.toLabel(1)),z.createElement(Xe.Triangle.make,s.app(Xe.Triangle.makeProps,[void 0,void 0,0,t.isOpen?0:1,void 0,void 0,void 0,void 0,void 0,void 0,void 0])))}))})};function Nq(e,t){if("number"==typeof t)return{isOpen:e.isOpen,remoteDataTop5:e.remoteDataTop5,remoteDataCustom:1,cmpFormState:e.cmpFormState};switch(0|t.TAG){case 0:return{isOpen:t._0,remoteDataTop5:e.remoteDataTop5,remoteDataCustom:e.remoteDataCustom,cmpFormState:e.cmpFormState};case 1:return{isOpen:e.isOpen,remoteDataTop5:t._0,remoteDataCustom:e.remoteDataCustom,cmpFormState:e.cmpFormState};case 2:case 3:break;case 4:return{isOpen:e.isOpen,remoteDataTop5:e.remoteDataTop5,remoteDataCustom:e.remoteDataCustom,cmpFormState:qq(e.cmpFormState,t._0)}}return{isOpen:e.isOpen,remoteDataTop5:e.remoteDataTop5,remoteDataCustom:t._0,cmpFormState:e.cmpFormState}}var $q=function(e){var t,r=e.filters,o=e.target,d=e.remoteDataTop5,c=e.onFiltersChange,u=e.validatedCompetitors,g=e.onCompetitorsChanged,m=z.useReducer(Nq,{isOpen:!0,remoteDataTop5:d,remoteDataCustom:0,cmpFormState:(t=r.competitors,{isOpen:!1,competitors:Eq(t),remoteParseUrls:0,formValidationResult:void 0})}),f=m[1],p=m[0];z.useEffect((function(){s._1(f,{TAG:1,_0:d})}),[d]);var _,h=z.useMemo((function(){return Pt.dataToReportMode([r.currentDate,r.compareDate])}),[r.currentDate,r.compareDate]),k=i.stringifyQueryDict(qK(IK,void 0,r),void 0,void 0),v=z.useMemo((function(){return me.map(Da.conjunct("string"==typeof h||"Compared"!==h.NAME?nq(r):sq(r)),Da.makeFilter)}),[k,Te(h)]),y="string"==typeof h||"Compared"!==h.NAME?(_=Ra.Props.defaultProps,{hd:s._2(Ra.FieldsRequestDescr.field,_,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.protocol)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,_,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.url)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,_,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.mode)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,_,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.traffic)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,_,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.traffic_avg)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,_,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.cost)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,_,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.cost_avg)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,_,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.pages)),tl:0}}}}}}}}):function(e){var t=Ra.Props.defaultProps;return{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.protocol)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.url)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.mode)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.traffic)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.traffic_avg)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.traffic)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.traffic_avg)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.cost)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.cost_avg)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.cost)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.cost_avg)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.pages)),tl:{hd:s._2(Ra.FieldsRequestDescr.field,t,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.pages)),tl:0}}}}}}}}}}}}}}(),D=s._3(Ra.FieldsRequestDescr.customRow,y,(function(e){return null}),0),S=s._1(Ra.FieldsRequestDescr.toRequest,D),F=function(e,t,r,a){return Re("string"==typeof t||"Compared"!==t.NAME?tq(e,r):rq(e,r),a)}(r.volumeMode,h,r.sort.name,r.sort.direction),C={contents:new AbortController};z.useEffect((function(){var e=r.chartMode,t=r.country;return e&&void 0!==t&&u&&function(e,t,r,a,o,i,d,c,u,g){t.contents.abort(),t.contents=new AbortController,s._1(e,0),Ye.forEach(R(l.some(t.contents),lq.request,{args:{mode:a.mode,protocol:a.protocol,url:n.Protocolless_url.show(a.url),reportMode:d,country:c},params:{filter:i,size:20,offset:0,order_by:o,shape:ce.map(r,(function(e){return e[1]})),timeout:void 0},competitors:ce.map(u,(function(e){return{protocol:0,url:e.url,mode:e.mode}}))}),(function(o){if(!Ge(t.contents))return s._1(e,{TAG:3,_0:de.map(o,(function(e){var t=oe.fromList(ce.map(e.tkLinkContexts,(function(e){return[OD.Validated.ofTarget(e.target),e.tkLinkContext_input]})),OD.Validated.Comparable),o=function(e,t,r){var a=function(e){return Math.round(ie.to_float(e)/100)},o=function(e,t,r){return OD.Raw.make(Ji.toUrlString(me.getWithDefault(Ji.of_string_opt(e),0))+t,me.getWithDefault(V.fromStr(r),3),void 0)};if("string"!=typeof e&&"Compared"===e.NAME){var i=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.protocol)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsChartCompared.CompetitorMerged.mode)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsChartCompared.CompetitorCurrent.pages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsChartCompared.CompetitorPrevious.pages)),0))))))))))))),(function(e,t){return Fa.getValue(i,e,t)}),(function(e,t,r,i,n,l,d,c,u,g,m,f,p,_,h,k){return s._1(t,ge.concat(e,[{urlAndMode:o(i,n,l),tkLinkContextInput:void 0,color:At.getChartColor(void 0,r,void 0),show:!0,trafficCurrMth:me.map(d,ie.to_float),trafficCurrAvg:me.map(c,ie.to_float),trafficPrevMth:me.map(u,ie.to_float),trafficPrevAvg:me.map(g,ie.to_float),valueCurrMth:me.map(m,a),valueCurrAvg:me.map(f,a),valuePrevMth:me.map(p,a),valuePrevAvg:me.map(_,a),pagesCurr:me.map(h,ie.to_float),pagesPrev:me.map(k,ie.to_float)}]))}),[],r)}var n=ce.map(t,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.protocol)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.mode)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsChartActual.Competitor.get,ft.Se_shared.CompetitorsChartActual.Competitor.pages)),0)))))))),(function(e,t){return Fa.getValue(n,e,t)}),(function(e,t,r,i,n,l,d,c,u,g,m){return s._1(t,ge.concat(e,[{urlAndMode:o(i,n,l),tkLinkContextInput:void 0,color:At.getChartColor(void 0,r,void 0),show:!0,trafficCurrMth:ie.to_float(d),trafficCurrAvg:ie.to_float(c),trafficPrevMth:void 0,trafficPrevAvg:void 0,valueCurrMth:me.map(u,a),valueCurrAvg:me.map(g,a),valuePrevMth:void 0,valuePrevAvg:void 0,pagesCurr:ie.to_float(m),pagesPrev:void 0}]))}),[],r)}(d,r,e.rows.rows),i={hd:OD.Validated.ofTarget(a),tl:u};return ce.toArray(ce.mapWithIndex(i,(function(e,r){var a=oe.get(t,r),i=At.getChartColor(void 0,e,void 0);return me.mapWithDefault(ge.getBy(o,(function(e){return OD.Raw.toKey(e.urlAndMode)===OD.Validated.toKey(r)})),{urlAndMode:OD.Validated.toRaw(r),tkLinkContextInput:a,color:i,show:!0,trafficCurrMth:void 0,trafficCurrAvg:void 0,trafficPrevMth:void 0,trafficPrevAvg:void 0,valueCurrMth:void 0,valueCurrAvg:void 0,valuePrevMth:void 0,valuePrevAvg:void 0,pagesCurr:void 0,pagesPrev:void 0},(function(e){return{urlAndMode:e.urlAndMode,tkLinkContextInput:a,color:i,show:e.show,trafficCurrMth:e.trafficCurrMth,trafficCurrAvg:e.trafficCurrAvg,trafficPrevMth:e.trafficPrevMth,trafficPrevAvg:e.trafficPrevAvg,valueCurrMth:e.valueCurrMth,valueCurrAvg:e.valueCurrAvg,valuePrevMth:e.valuePrevMth,valuePrevAvg:e.valuePrevAvg,pagesCurr:e.pagesCurr,pagesPrev:e.pagesPrev}}))})))}))})}))}(f,C,S,o,F,v,h,t,u),function(e){C.contents.abort()}}),[OD.Validated.listToKey(u),me.getWithDefault(s._1(pK.toString,r.chartMode),""),v,Te(h),me.map(r.country,se.code)]);var w,T=r.chartMode?p.remoteDataCustom:p.remoteDataTop5,b=z.createElement(z.Fragment,void 0,z.createElement(Xe.Export.make,Xe.Export.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"601e96c14cea6af2259a933caeca884d",defaultMessage:"Export"})),P=0;if("number"==typeof T||2!==T.TAG)P=1;else{var M=T._0;0!==M.length?w=z.createElement(ht.make,{onClick:function(e){return function(e,t,r){var a=Pt.dataToReportMode([t.currentDate,t.compareDate]),o="string"==typeof a||"Compared"!==a.NAME,i="Competitor, Mode, "+ce.joinWith(ce.map(_K,(function(e){switch(e){case 0:return o?"Traffic":ce.joinWith({hd:"Previous traffic",tl:{hd:"Current traffic",tl:{hd:"Traffic change",tl:0}}},", ");case 1:return o?"Traffic value":ce.joinWith({hd:"Previous traffic value",tl:{hd:"Current traffic value",tl:{hd:"Traffic value change",tl:0}}},", ");case 2:return o?"Pages":ce.joinWith({hd:"Previous # of pages",tl:{hd:"Current # of pages",tl:{hd:"Pages change",tl:0}}},", ")}})),", ")+"\n",l=ge.joinWithNewLine(ge.filterMap(e,(function(e){if(e.show)return vt.safeDecodeURIComponent(e.urlAndMode.url)+", "+V.toPair(e.urlAndMode.mode)[0]+", "+ce.joinWith(ce.map(_K,(function(r){var a=DK(r,t.volumeMode,e),i=me.getWithDefault(a[0],0),n=me.getWithDefault(a[1],0);return o?n.toString():i.toString()+", "+n.toString()+", "+(n-i).toString()})),", ")}))),d=i+l,c=t.chartMode,u=Se({hd:vt.safeDecodeURIComponent(n.Protocolless_url.show(r.url)),tl:{hd:"orgcompetitors-map",tl:{hd:c?"custom":void 0,tl:{hd:V.toExportName(r.mode),tl:{hd:me.map(t.country,se.code),tl:0}}}}});return js.string(s._2(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:12,_0:95,_1:{TAG:2,_0:0,_1:{TAG:11,_0:".csv",_1:0}}}},_1:"%s_%s.csv"}),u,ne.moment(void 0,Z(),"timestamp")),"application/octet-stream",d)}(M,r,o)},children:b}):P=1}1===P&&(w=z.createElement(ht.make,{disabled:!0,children:b}));var A=r.chartMode;return z.createElement(po.make,{padding:"none",background:1,children:z.createElement(ND.make,{title:s._1(ke.Message.to_s,{id:"028972c5f9363ee5c283721e829e0630",defaultMessage:"Competitive map"}),controls:z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement(Qt.make,{children:null},z.createElement(Qt.Button.make,{isSelected:0===r.chartMode,onClick:function(e){return s._1(c,{chartMode:0,competitors:r.competitors,volumeMode:r.volumeMode,sort:r.sort,country:r.country,isUserCountry:r.isUserCountry,currentDate:r.currentDate,compareDate:r.compareDate,volume:r.volume,kd:r.kd,cpc:r.cpc,words:r.words})},wrap:!1,children:a.s(pK.toLabel(0))}),z.createElement(Qt.Button.make,{isSelected:1===r.chartMode,wrap:!1,children:z.createElement(Oq,{state:p.cmpFormState,dispatch:function(e){return s._1(f,{TAG:4,_0:e})},filters:r,onApply:g})})),w),hideTitleIfOpened:!0,isOpen:p.isOpen,onToggle:function(e){return s._1(f,{TAG:0,_0:e})},children:A?z.createElement(Tq,{filters:r,remoteData:p.remoteDataCustom,onChange:function(e){return s._1(f,{TAG:2,_0:{TAG:2,_0:e}})}}):z.createElement(Tq,{filters:r,remoteData:p.remoteDataTop5,onChange:function(e){return s._1(f,{TAG:1,_0:{TAG:2,_0:e}})}})})})},Iq=et.style([et.label("headerRightSection"),et.display("flex"),et.unsafe("justifyContent","flex-end"),et.flexGrow(1),et.unsafe("alignItems","center"),et.media(tt.Media.mobileDown,[et.unsafe("justifyContent","flex-start")])]),Gq=r(70131),Qq=[0,1,2,3];function Vq(e){switch(e){case 0:return s._1(ke.Message.to_s,{id:"e35d1596f2eecba8004e0589cd9a484e",defaultMessage:"Volume"});case 1:return s._1(ke.Message.to_s,{id:"f63f2cd95bd1c765c0517dc19fc50cfb",defaultMessage:"KD"});case 2:return s._1(ke.Message.to_s,{id:"15abccc61b619875f773b1ca64651d0a",defaultMessage:"CPC"});case 3:return s._1(ke.Message.to_s,{id:"f7dec7436f53b91413df86f8787aca9f",defaultMessage:"Words in keyword"})}}var jq=ce.fromArray(Qq),Hq=Pl.Make({all:jq}),zq=function(e){var t=e.filters,r=e.onFiltersChange;return z.createElement(Hq.make,{label:z.createElement(z.Fragment,void 0,z.createElement(Xe.Add.make,Xe.Add.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"c585d36482a6bfce90d2c4a6a0139f10",defaultMessage:"Keyword filters"})),dropdownItems:ce.map(ce.fromArray(Qq),(function(e){return Pl.makeDropdownItem(Vq(e),e,void 0,void 0,void 0)})),isFilterApplied:function(e){switch(e){case 0:return mt.caml_notequal(t.volume,s._1(pa.Volume.Filter.getDefault,void 0));case 1:return mt.caml_notequal(t.kd,s._1(pa.KD.Filter.getDefault,void 0));case 2:return mt.caml_notequal(t.cpc,s._1(pa.CPC.Filter.getDefault,void 0));case 3:return mt.caml_notequal(t.words,s._1(pa.Words.Filter.getDefault,void 0))}},render:function(e,a,o,i){var n=function(t){return s._1(i,e)},l=Vq(e);switch(e){case 0:return z.createElement(pa.Volume.make,{value:t.volume,label:l,autoOpen:a,onHidden:n,onClear:function(e){return s._1(r,{chartMode:t.chartMode,competitors:t.competitors,volumeMode:t.volumeMode,sort:t.sort,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,volume:EK().volume,kd:t.kd,cpc:t.cpc,words:t.words})},onApply:function(e){return s._1(r,{chartMode:t.chartMode,competitors:t.competitors,volumeMode:t.volumeMode,sort:t.sort,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,volume:e,kd:t.kd,cpc:t.cpc,words:t.words})}});case 1:return z.createElement(pa.KD.make,{value:t.kd,label:l,autoOpen:a,onHidden:n,onClear:function(e){return s._1(r,{chartMode:t.chartMode,competitors:t.competitors,volumeMode:t.volumeMode,sort:t.sort,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,volume:t.volume,kd:EK().kd,cpc:t.cpc,words:t.words})},onApply:function(e){return s._1(r,{chartMode:t.chartMode,competitors:t.competitors,volumeMode:t.volumeMode,sort:t.sort,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,volume:t.volume,kd:e,cpc:t.cpc,words:t.words})}});case 2:return z.createElement(pa.CPC.make,{value:t.cpc,label:l,autoOpen:a,onHidden:n,onClear:function(e){return s._1(r,{chartMode:t.chartMode,competitors:t.competitors,volumeMode:t.volumeMode,sort:t.sort,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,volume:t.volume,kd:t.kd,cpc:EK().cpc,words:t.words})},onApply:function(e){return s._1(r,{chartMode:t.chartMode,competitors:t.competitors,volumeMode:t.volumeMode,sort:t.sort,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,volume:t.volume,kd:t.kd,cpc:e,words:t.words})}});case 3:return z.createElement(pa.Words.make,{value:t.words,label:l,autoOpen:a,onHidden:n,onClear:function(e){return s._1(r,{chartMode:t.chartMode,competitors:t.competitors,volumeMode:t.volumeMode,sort:t.sort,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,volume:t.volume,kd:t.kd,cpc:t.cpc,words:EK().words})},onApply:function(e){return s._1(r,{chartMode:t.chartMode,competitors:t.competitors,volumeMode:t.volumeMode,sort:t.sort,country:t.country,isUserCountry:t.isUserCountry,currentDate:t.currentDate,compareDate:t.compareDate,volume:t.volume,kd:t.kd,cpc:t.cpc,words:e})}})}}})},Yq=r(60844);function Jq(e,t){if("number"==typeof t){if(0===t)return{remotePagesByCountry:1,remoteDataTable:1,oldRemoteDataTable:e.oldRemoteDataTable,error:e.error,offset:e.offset,sort:e.sort};var r,a=e.remoteDataTable;if("number"==typeof a)r=1;else switch(0|a.TAG){case 0:case 2:r={TAG:0,_0:a._0};break;default:r=1}return{remotePagesByCountry:e.remotePagesByCountry,remoteDataTable:r,oldRemoteDataTable:e.remoteDataTable,error:e.error,offset:e.offset,sort:e.sort}}switch(0|t.TAG){case 0:return{remotePagesByCountry:t._0,remoteDataTable:e.remoteDataTable,oldRemoteDataTable:e.oldRemoteDataTable,error:e.error,offset:e.offset,sort:e.sort};case 1:var o=t._0;if("number"==typeof o)return e;switch(0|o.TAG){case 1:return{remotePagesByCountry:e.remotePagesByCountry,remoteDataTable:de.hasNotBeenAsked(e.oldRemoteDataTable)?o:e.oldRemoteDataTable,oldRemoteDataTable:e.oldRemoteDataTable,error:o._0,offset:e.offset,sort:e.sort};case 2:var i=o._0,n=de.mapWithDefault(e.oldRemoteDataTable,{TAG:2,_0:i},(function(e){return{TAG:2,_0:{totalTraffic:i.totalTraffic,tableData:(t=e.tableData,r=i.tableData,{count:t.count+r.count|0,rows:fo.$at(t.rows,r.rows)}),signedEnvironment:i.signedEnvironment}};var t,r}));return{remotePagesByCountry:e.remotePagesByCountry,remoteDataTable:n,oldRemoteDataTable:n,error:e.error,offset:e.offset+i.tableData.count|0,sort:e.sort};default:return e}case 2:return{remotePagesByCountry:e.remotePagesByCountry,remoteDataTable:1,oldRemoteDataTable:1,error:e.error,offset:0,sort:t._0}}}var Xq=function(e){var t=e.target,r=e.settings,o=e.onClose,c=he.useUrl(void 0,void 0),u=i.parseQueryToDict(c.search,void 0,void 0),g=z.useReducer(Jq,{remotePagesByCountry:0,remoteDataTable:0,oldRemoteDataTable:0,error:void 0,offset:0,sort:s._1(vw.getDefault,void 0)}),m=g[1],f=g[0],p=uo.useSingleton({overrides:["className"]}),_=p[1],h=KK(r,u),k=h.country,v=mt.caml_obj_dup(yw());v.compareDate=h.compareDate,v.currentDate=h.currentDate,v.words=h.words,v.cpc=h.cpc,v.kd=h.kd,v.volume=h.volume,v.country=void 0!==k?{_0:k}:0,v.volumeMode=h.volumeMode;var y,D=Pt.dataToReportMode([v.currentDate,v.compareDate]),S=i.stringifyQueryDict(Fw(Aw,void 0,v),void 0,void 0),F=z.useMemo((function(){var e="string"==typeof D||"Compared"!==D.NAME?Rw(v):Lw(v);return me.map(Da.conjunct(e),Da.makeFilter)}),[S,Te(D),v.volumeMode]),C=Ub(v),w=z.useMemo((function(){return de.mapWithDefault(f.remoteDataTable,0,(function(e){return e.tableData.rows}))}),[f.remoteDataTable]),T=ue.use(f.remoteDataTable),b=z.useMemo((function(){var e,t=f.remoteDataTable,r=0;if("number"==typeof t||2!==t.TAG?r=2:e=t._0.totalTraffic,2===r){if("number"==typeof T)return;if(2!==T.TAG)return;e=T._0.totalTraffic}return me.map(e,(function(e){return"Average"===v.volumeMode?e.traffic_avg:e.traffic}))}),[f.remoteDataTable,v.volumeMode]),P=0;if("string"==typeof D||"Compared"!==D.NAME)P=1;else{var M=D.VAL;y=[Bw(M.actual,M.comparedWith,_,0,uw,b,v),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesCompared.MergedPage.get,ft.Se_shared.TopPagesCompared.MergedPage.url)),0))]}1===P&&(y=[Ew(_,b,v),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.hash)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.TopPagesActual.Page.get,ft.Se_shared.TopPagesActual.Page.url)),0))]);var A,E=wl(y[1],y[0],void 0,(function(e,t){}),0,!1),B=E[1],K=Le(F,C,Hb(v.volumeMode,D,f.sort.name,f.sort.direction),Ve.Safe.toUnsafe(t),Sa.Item.toCountryOpt(v.country),D),q={contents:new AbortController},W=Hb(v.volumeMode,D,f.sort.name,f.sort.direction),U=function(e,r,a,o,i,d){return function(e,t,r,a,o,i,d,c,u,g,m){return e.contents.abort(),e.contents=new AbortController,s._1(t,1),Ye.forEach(R(l.some(e.contents),Nb.request,{args:{mode:a.mode,protocol:a.protocol,url:n.Protocolless_url.show(a.url),reportMode:u,country:Sa.Item.toCountryOpt(g)},params:{filter:c,size:d,offset:i,order_by:o,shape:ce.map(r,(function(e){return e[1]})),timeout:void 0},environment:m}),(function(r){if(!Ge(e.contents))return s._1(t,{TAG:1,_0:r})}))}(q,m,B,t,W,e,r,a,o,i,d)},N=v.country,$=function(e){var t=s._1(U,e);return function(e){return s._5(t,e,F,D,N,K)}},I={contents:new AbortController},G=function(e){return function(e,t,r,a,o,i){return e.contents.abort(),e.contents=new AbortController,s._1(t,0),Ye.forEach(x(l.some(e.contents),n.Protocolless_url.show(r.url),r.mode,r.protocol,o,a),(function(r){if(!Ge(e.contents)){var a=de.map(r,(function(e){var t=oe.fromArray(ge.map(ce.toArray(e.countries),(function(e){return[{_0:e.country},e.count]})),di.CountryCmp);return oe.set(t,0,e.all)}));return s._1(t,{TAG:0,_0:a})}}))}(I,m,t,F,D)},Q=f.sort.name,Y=0;Q>=8?12!==Q?A=s._1(vw.Name.toString,Q):Y=1:Q>=2?Y=1:A=s._1(vw.Name.toString,Q),1===Y&&(A=s._1(vw.Name.toString,Q)+Pa.VolumeMode.show(v.volumeMode)),z.useEffect((function(){return G(),function(e){I.contents.abort()}}),[Ve.Safe.toKey(t),F,Te(D)]),z.useEffect((function(){return $(0)(10),function(e){q.contents.abort()}}),[A,ci.toString(f.sort.direction)]);var X,Z=yl(f.remotePagesByCountry,v.country),ee={resultsStr:a.s(ae.Float.full(Z)),results:0|Z},re=z.createElement("div",{className:ml},z.createElement("div",{className:gl},z.createElement(H.make,{children:s._2(ke.Message.format_to_s,{id:"4e6fa78ac5d9381342dae76d0ca4e502",defaultMessage:"{resultsStr} {results, plural, zero {pages} one {page} few {pages} other {pages}}"},ee)})),z.createElement("div",{className:fl}),z.createElement(Je.make,{fitToContent:!0,align:"center",children:null},z.createElement("div",void 0,z.createElement(ht.make,{color:"ghost",onClick:function(e){var r=mt.caml_obj_dup(v);return Fo.openInNewTab(j.V2.makeTopPagesUrlDict(Ve.Safe.toUnsafe(t),l.some(Fw(void 0,void 0,(r.sort=f.sort,r))),void 0))},children:z.createElement(Je.make,{gap:"px8",fitToContent:!0,children:null},z.createElement(Xe.OpenInNew.make,Xe.OpenInNew.makeProps(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)),s._1(ke.Message.to_s,{id:"56d4c3c37ddca89436fbc5254f3aee6b",defaultMessage:"Open in a new tab"}))}),z.createElement(bt,{exportFunc:function(e,r){return L(e,s._4(J.sprintf({_0:{TAG:2,_0:0,_1:{TAG:11,_0:"-top-pages-",_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:{TAG:12,_0:45,_1:{TAG:2,_0:0,_1:0}}}}}}},_1:"%s-top-pages-%s-%s-%s"}),n.Protocolless_url.show(t.url),V.toExportName(t.mode),Sa.Item.toCode(v.country),Te(D)),void 0,jb.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:D,country:Sa.Item.toCountryOpt(v.country)},params:{filter:F,size:r,offset:0,order_by:Hb(v.volumeMode,D,f.sort.name,f.sort.direction),shape:void 0,timeout:void 0},environment:K,volumeMode:v.volumeMode,withTitles:v.showTitles})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:0|Z,target:t,limitsFunc:O,color:"ghost"})),z.createElement(_o.make,{onClick:o,children:z.createElement(Xe.Close.make,Xe.Close.makeProps(void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0))}))),ie=function(e){return G(),$(0)(10)},ne=f.remotePagesByCountry,se=f.error;X="number"==typeof ne?void 0!==se?se:void 0:1===ne.TAG?ne._0:void 0!==se?se:void 0;var le={_0:function(e){var t={data:f.remoteDataTable,settings:r,offset:f.offset,remainingCount:de.mapWithDefault(f.remoteDataTable,0,(function(e){return(0|Z)-e.tableData.count|0})),onClose:o,onMoreDataRequested:function(e,t,r){return $(t)(e)}};return void 0!==X&&(t.error=l.valFromOption(X)),z.createElement(Gl,t)}},fe={settings:r,children:null};return void 0!==X&&(fe.error=l.valFromOption(X)),z.createElement(po.make,{padding:"pageHorizontal",children:z.createElement(Po,fe,z.createElement(te.Table.make,{row:E[0],data:w,hasAppliedFilters:!1,header:re,isLoading:de.isLoading(f.remoteDataTable)||de.isLoading(f.remotePagesByCountry),loadingMode:1,failureState:void 0!==X?{_0:d.getRequestId(X)}:0,isNestedTable:!0,renderError:qe([f.remoteDataTable,f.remotePagesByCountry],ie,r.isUpgradable),tableId:Mt(D),tooltipTarget:_,totalRowsNumber:0|Z,customFooter:le,sortDirection:f.sort.direction,sort:s._1(vw.Name.toString,f.sort.name),onSort:function(e,t,r){return s._1(m,{TAG:2,_0:{name:me.getWithDefault(s._1(vw.Name.ofString,e),s._1(vw.Name.getDefault,void 0)),direction:t}})},onRefetch:ie,onClearFilters:function(e){console.log("TODO")}}),z.createElement(ut.make,{singleton:p[0]}))})};function Zq(e,t){if("number"==typeof t)return 0===t?{maxPerPage:e.maxPerPage,competitorsGroupMode:e.competitorsGroupMode,remoteKeywordsByCountry:1,remoteDataTable:1,remoteDataChart:e.remoteDataChart,addToProjectState:e.addToProjectState,validatedCompetitors:e.validatedCompetitors}:{maxPerPage:e.maxPerPage,competitorsGroupMode:e.competitorsGroupMode,remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:1,remoteDataChart:1,addToProjectState:e.addToProjectState,validatedCompetitors:e.validatedCompetitors};switch(0|t.TAG){case 0:return{maxPerPage:e.maxPerPage,competitorsGroupMode:e.competitorsGroupMode,remoteKeywordsByCountry:t._0,remoteDataTable:e.remoteDataTable,remoteDataChart:e.remoteDataChart,addToProjectState:e.addToProjectState,validatedCompetitors:e.validatedCompetitors};case 1:return{maxPerPage:t._1,competitorsGroupMode:t._2,remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:t._0,remoteDataChart:t._3,addToProjectState:e.addToProjectState,validatedCompetitors:e.validatedCompetitors};case 2:return{maxPerPage:e.maxPerPage,competitorsGroupMode:e.competitorsGroupMode,remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteDataChart:e.remoteDataChart,addToProjectState:eK(e.addToProjectState,t._0),validatedCompetitors:e.validatedCompetitors};case 3:return{maxPerPage:e.maxPerPage,competitorsGroupMode:e.competitorsGroupMode,remoteKeywordsByCountry:e.remoteKeywordsByCountry,remoteDataTable:e.remoteDataTable,remoteDataChart:e.remoteDataChart,addToProjectState:e.addToProjectState,validatedCompetitors:t._0}}}function ex(e,t,r,a){return Re("string"==typeof t||"Compared"!==t.NAME?LK.toActualFieldName(e,r):LK.toComparedFieldName(e,r),a)}var tx=function(e){var t=e.target,r=e.settings,o=e.onToggleSidebar,d=e.onSettingsUpdated,c=he.useUrl(void 0,void 0),u=c.path,g=i.parseQueryToDict(c.search,void 0,void 0),m=z.useReducer(Zq,{maxPerPage:CK,competitorsGroupMode:0,remoteKeywordsByCountry:0,remoteDataTable:0,remoteDataChart:0,addToProjectState:tK,validatedCompetitors:0}),f=m[1],p=m[0],_=ya.useMultipleExpandedRows(void 0,void 0),h=uo.useSingleton({overrides:["className"]}),k=h[1],v=ya.useSelectableRows(void 0),y=v[2],D=v[1],S=v[0],F=KK(r,g),C=a.useStateValue(F),w=C[1],T=C[0],b=function(e,t){var r=void 0!==e&&e;s._1(w,t);var a=i.makeStringWithQueryDict(i.makePathname(u),l.some(qK(void 0,l.some(g),t)),void 0,void 0,void 0);return r?he.replace(a):he.push(a)};Ie(u,qK(void 0,l.some(g),F)),ai.use(F.country,F.isUserCountry,r.settings.keywordDataSource,p.remoteKeywordsByCountry,(function(e){return b(!0,{chartMode:F.chartMode,competitors:F.competitors,volumeMode:F.volumeMode,sort:F.sort,country:e,isUserCountry:F.isUserCountry,currentDate:F.currentDate,compareDate:F.compareDate,volume:F.volume,kd:F.kd,cpc:F.cpc,words:F.words})}));var P,M=z.useMemo((function(){return Pt.dataToReportMode([F.currentDate,F.compareDate])}),[F.currentDate,F.compareDate]),E=i.stringifyQueryDict(qK(IK,void 0,F),void 0,void 0),B=z.useMemo((function(){return me.map(Da.conjunct("string"==typeof M||"Compared"!==M.NAME?GK(F):QK(F)),Da.makeFilter)}),[E,Te(M)]),K=0;if("string"==typeof M||"Compared"!==M.NAME)K=1;else{var q=function(e,t,r,a,o,i,n){var l=!t,d=Ve.Safe.toUnsafe(e),c=Ve.Safe.toUnsafe(e),u=Ve.Safe.toUnsafe(e);return{hd:YK(t,a,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.domain),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.url),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.tkLinkContext_input_domain),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.tkLinkContext_input),void 0),tl:{hd:jK(s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_competitor),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_common),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_target),n.keywordsTotal),tl:{hd:HK(0,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_competitor),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.domain),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.url),e,(function(e){return JK(d,a,i,e)})),tl:{hd:HK(1,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_common),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.domain),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.url),e,(function(e){return XK(c,a,i,e)})),tl:{hd:zK(s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_common_percent),s._1(TK.toString,3)),tl:{hd:HK(2,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_target),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.domain),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.url),e,(function(e){return ZK(u,a,i,e)})),tl:{hd:Ca.makeDrColumn(s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.dr),s._1(TK.toString,5),{TAG:0,_0:mo.seOcDomainRating},void 0),tl:{hd:Ca.makeTrafficColumnWithVolumeMode(s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.traffic),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.traffic_avg),i.volumeMode,s._1(TK.toString,6),{TAG:0,_0:mo.seOcTraffic},ae.Int.tableAbbr,void 0),tl:{hd:Ca.makeChangesColumnWithVolumeModeInAbsoluteMode(s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.traffic),s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.traffic),s._1(ft.Se_shared.CompetitorsCompared.Diff.get,ft.Se_shared.CompetitorsCompared.Diff.traffic),s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.traffic_avg),s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.traffic_avg),s._1(ft.Se_shared.CompetitorsCompared.Diff.get,ft.Se_shared.CompetitorsCompared.Diff.traffic_avg),i.volumeMode,(function(e){return ae.Int.tableAbbr(e)}),s._1(TK.toString,7),void 0,void 0,void 0),tl:{hd:Ca.makeValueColumnWithVolumeMode(s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.cost),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.cost_avg),i.volumeMode,s._1(TK.toString,8),{TAG:0,_0:mo.seOcValue},void 0),tl:{hd:Ca.makeChangesColumnWithVolumeModeInAbsoluteMode(s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.cost),s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.cost),s._1(ft.Se_shared.CompetitorsCompared.Diff.get,ft.Se_shared.CompetitorsCompared.Diff.cost),s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.cost_avg),s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.cost_avg),s._1(ft.Se_shared.CompetitorsCompared.Diff.get,ft.Se_shared.CompetitorsCompared.Diff.cost_avg),i.volumeMode,(function(e){return s._1(J.sprintf({_0:{TAG:12,_0:36,_1:{TAG:2,_0:0,_1:0}},_1:"$%s"}),ae.Int.tableAbbr(e/100|0))}),s._1(TK.toString,9),void 0,void 0,void 0),tl:{hd:eq(s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.domain),s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.pages),l,o,s._1(TK.toString,10)),tl:{hd:Ca.makeChangesColumnInAbsoluteMode(s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.pages),s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.pages),s._1(ft.Se_shared.CompetitorsCompared.Diff.get,ft.Se_shared.CompetitorsCompared.Diff.pages),(function(e){return ae.Int.tableAbbr(e)}),s._1(TK.toString,11),void 0,l,void 0),tl:{hd:Ca.makeSpacerColumn(s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.domain),lK),tl:0}}}}}}}}}}}}}}}(t,p.competitorsGroupMode,0,me.getWithDefault(F.country,Qe),_,F,p.maxPerPage);P=[q,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.domain)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.url)),0))]}if(1===K){var x=function(e,t,r,a,o,i,n){var l=!t,d=Ve.Safe.toUnsafe(e),c=Ve.Safe.toUnsafe(e),u=Ve.Safe.toUnsafe(e);return{hd:YK(t,a,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.domain),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.url),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.tkLinkContext_input_domain),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.tkLinkContext_input),void 0),tl:{hd:jK(s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_competitor),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_common),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_target),n.keywordsTotal),tl:{hd:HK(0,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_competitor),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.domain),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.url),e,(function(e){return JK(d,a,i,e)})),tl:{hd:HK(1,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_common),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.domain),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.url),e,(function(e){return XK(c,a,i,e)})),tl:{hd:zK(s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_common_percent),s._1(TK.toString,3)),tl:{hd:HK(2,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_target),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.domain),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.url),e,(function(e){return ZK(u,a,i,e)})),tl:{hd:Ca.makeDrColumn(s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.dr),s._1(TK.toString,5),{TAG:0,_0:mo.seOcDomainRating},void 0),tl:{hd:Ca.makeTrafficColumnWithVolumeMode(s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.traffic),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.traffic_avg),i.volumeMode,s._1(TK.toString,6),{TAG:0,_0:mo.seOcTraffic},ae.Int.tableAbbr,void 0),tl:{hd:Ca.makeValueColumnWithVolumeMode(s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.cost),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.cost_avg),i.volumeMode,s._1(TK.toString,8),{TAG:0,_0:mo.seOcValue},void 0),tl:{hd:eq(s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.domain),s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.pages),l,o,s._1(TK.toString,10)),tl:{hd:Ca.makeSpacerColumn(s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.domain),lK),tl:0}}}}}}}}}}}}(t,p.competitorsGroupMode,0,me.getWithDefault(F.country,Qe),_,F,p.maxPerPage);P=[x,s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.domain)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.url)),0))]}var W=P[1],U=P[0],N=s._3(Ra.FieldsRequestDescr.customRow,U,(function(e,a,o){var i,l=Bo.has(S,e.index);if(void 0!==Ur.get(_.map,n.Protocolless_url.show(a))){var d=p.competitorsGroupMode;i=z.createElement(Eo.make,{children:z.createElement(Xq,{target:{protocol:t.protocol,url:a,mode:d?0:3},settings:r,onClose:function(e){return s._2(_.setRow,n.Protocolless_url.show(a),void 0)}}),tableRootRef:e.tableRootRef,hash:_.hash,onDimensionsChange:_.renewHash})}else i=null;return z.createElement(z.Fragment,{children:null,key:n.Url.show(o)},z.createElement(te.Row.make,{columns:U,parentData:e,isSelected:l,onSelect:function(t){return s._2(D,[e.index],!l)}}),i)}),W),I=s._1(Ra.FieldsRequestDescr.toRequest,N),G=Ne(!1,p.remoteDataTable,p.remoteKeywordsByCountry),Q=zp(void 0,r,g),Y=i.stringifyQueryDict(Yp(a_,void 0,Q),void 0,void 0),X=z.useMemo((function(){var e="string"==typeof M||"Compared"!==M.NAME?o_(Q):i_(Q);return me.map(Da.conjunct(e),Da.makeFilter)}),[Y,Te(M)]),Z={contents:new AbortController},ee=function(e){return function(e,t,r,a,o,i){return t.contents.abort(),t.contents=new AbortController,s._1(e,0),Ye.forEach($(l.some(t.contents),n.Protocolless_url.show(r.url),r.mode,r.protocol,o,a),(function(r){if(!Ge(t.contents)){var a=de.map(r,(function(e){return oe.fromArray(ge.map(ce.toArray(e),(function(e){return[e.country,e.count]})),We)}));return s._1(e,{TAG:0,_0:a})}}))}(f,Z,t,X,M)};z.useEffect((function(){return ee(),function(e){Z.contents.abort()}}),[Ve.Safe.toKey(t),X,Te(M)]);var re={contents:new AbortController},ne=ex(F.volumeMode,M,F.sort.name,F.sort.direction),le=function(e,r){return function(e,t,r,a,o,i,d,c,u){return t.contents.abort(),t.contents=new AbortController,s._1(e,1),Ye.forEach(R(l.some(t.contents),Gq.request,{args:{mode:a.mode,protocol:a.protocol,url:n.Protocolless_url.show(a.url),reportMode:d,country:c},params:{filter:i,size:20,offset:0,order_by:o,shape:ce.map(r,(function(e){return e[1]})),timeout:void 0}}),(function(a){if(!Ge(t.contents)){var o,i=0;return"string"==typeof d||"Compared"!==d.NAME?i=1:o=de.mapWithDefault(a,CK,(function(e){var t=ce.map(r,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_competitor)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_common)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.keywords_target)),0))),(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i){var n=ie.add(ie.add(a,o),i);return s._1(t,{keywordsTotal:ie.max(e.keywordsTotal,n)})}),CK,e.rows.rows)})),1===i&&(o=de.mapWithDefault(a,CK,(function(e){var t=ce.map(r,(function(e){return e[0]}));return Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_competitor)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_common)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.keywords_target)),0))),(function(e,r){return Fa.getValue(t,e,r)}),(function(e,t,r,a,o,i){var n=ie.add(ie.add(a,o),i);return s._1(t,{keywordsTotal:ie.max(e.keywordsTotal,n)})}),CK,e.rows.rows)}))),s._1(e,{TAG:1,_0:a,_1:o,_2:de.mapWithDefault(a,0,(function(e){return e.groupMode})),_3:de.map(a,(function(e){return function(e,t,r,a){var o,i=function(e){return Math.round(ie.to_float(e)/100)},n=0;if("string"==typeof e||"Compared"!==e.NAME)n=1;else{var l=ce.map(t,(function(e){return e[0]}));o=Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.domain)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.tkLinkContext_input_domain)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorMerged.get,ft.Se_shared.CompetitorsCompared.CompetitorMerged.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorCurrent.get,ft.Se_shared.CompetitorsCompared.CompetitorCurrent.pages)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsCompared.CompetitorPrevious.get,ft.Se_shared.CompetitorsCompared.CompetitorPrevious.pages)),0)))))))))))))),(function(e,t){return Fa.getValue(l,e,t)}),(function(e,t,r,o,n,l,d,c,u,g,m,f,p,_,h,k,v){return s._1(t,ge.concat(e,[{urlAndMode:uK(dK(o,n,a)),tkLinkContextInput:a?d:l,color:At.getChartColor(void 0,r,void 0),show:!0,trafficCurrMth:me.map(c,ie.to_float),trafficCurrAvg:me.map(u,ie.to_float),trafficPrevMth:me.map(g,ie.to_float),trafficPrevAvg:me.map(m,ie.to_float),valueCurrMth:me.map(f,i),valueCurrAvg:me.map(p,i),valuePrevMth:me.map(_,i),valuePrevAvg:me.map(h,i),pagesCurr:me.map(k,ie.to_float),pagesPrev:me.map(v,ie.to_float)}]))}),[],r)}if(1===n){var d=ce.map(t,(function(e){return e[0]}));o=Ra.foldRows(s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.domain)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.url)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.tkLinkContext_input_domain)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.tkLinkContext_input)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.traffic)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.traffic_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.cost)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.cost_avg)),s._2(Ra.FieldsRequestDescr.CustomRecord.$at$great,s._1(Ra.FieldsRequestDescr.DSL.Field.simple,s._1(ft.Se_shared.CompetitorsActual.Competitor.get,ft.Se_shared.CompetitorsActual.Competitor.pages)),0))))))))),(function(e,t){return Fa.getValue(d,e,t)}),(function(e,t,r,o,n,l,d,c,u,g,m,f){return s._1(t,ge.concat(e,[{urlAndMode:uK(dK(o,n,a)),tkLinkContextInput:a?d:l,color:At.getChartColor(void 0,r,void 0),show:!0,trafficCurrMth:ie.to_float(c),trafficCurrAvg:ie.to_float(u),trafficPrevMth:void 0,trafficPrevAvg:void 0,valueCurrMth:me.map(g,i),valueCurrAvg:me.map(m,i),valuePrevMth:void 0,valuePrevAvg:void 0,pagesCurr:ie.to_float(f),pagesPrev:void 0}]))}),[],r)}return ge.slice(o,0,6)}(d,r,me.mapWithDefault(e.target,e.rows.rows,(function(t){return{hd:t,tl:e.rows.rows}})),e.groupMode)}))})}}))}(f,re,I,t,ne,B,M,e)};z.useEffect((function(e){var t=F.country;return void 0!==t&&(s._1(y,void 0),s._1(_.closeAll,void 0),s._2(le,t,void 0)),function(e){re.contents.abort()}}),[Ve.Safe.toKey(t),B,Te(M),s._1(LK.Name.toString,F.sort.name),ci.toString(F.sort.direction),me.map(F.country,se.code)]),function(e){var t={contents:new AbortController};z.useEffect((function(){return function(e,t,r){t.contents.abort(),t.contents=new AbortController,s._1(e,0),Ye.forEach(A(l.some(t.contents),ZB.request,void 0),(function(r){if(!Ge(t.contents))return s._1(e,{_0:r})}))}(e,t),function(e){t.contents.abort()}}),[])}((function(e){return s._1(f,{TAG:2,_0:e})}));var fe,pe=z.useCallback((function(e){return ee(),me.forEach(F.country,(function(e){return s._2(le,e,void 0)}))}),[]),_e=z.useMemo((function(){return de.mapWithDefault(p.remoteDataTable,0,(function(e){return e.rows.rows}))}),[p.remoteDataTable]),ve=ce.length(_e),ye=ue.use(M),De=z.useMemo((function(){if(!be(ye,M))return 0;var e=ce.map(I,(function(e){return e[0]}));return ce.reverse(Ra.foldRows(W,(function(t,r){return Fa.getValue(e,t,r)}),(function(e,t,r,a,o){var i=p.competitorsGroupMode?{TAG:1,_0:o}:{TAG:0,_0:a};return s._1(t,Bo.has(S,r)?{hd:i,tl:e}:e)}),0,_e))}),[Te(M),Te(ye),_e,S,p.competitorsGroupMode]),Fe=function(e,t){s._1(f,{TAG:3,_0:t});var r=ce.map(t,OD.Validated.toRaw);return 0===ce.size(r)?b(void 0,{chartMode:0,competitors:0,volumeMode:F.volumeMode,sort:F.sort,country:F.country,isUserCountry:F.isUserCountry,currentDate:F.currentDate,compareDate:F.compareDate,volume:F.volume,kd:F.kd,cpc:F.cpc,words:F.words}):b(void 0,{chartMode:e>=2?e>=5?0:1:F.chartMode,competitors:r,volumeMode:F.volumeMode,sort:F.sort,country:F.country,isUserCountry:F.isUserCountry,currentDate:F.currentDate,compareDate:F.compareDate,volume:F.volume,kd:F.kd,cpc:F.cpc,words:F.words})};if(De){var Ce={selected:a.s(ae.Int.full(ce.length(De)))};fe=z.createElement(Je.make,{fitToContent:!0,children:null},z.createElement(XB.make,{fontSize:"md",fontWeight:"bold",tagType:"h4",whiteSpace:"nowrap",children:s._2(ke.Message.format_to_s,{id:"ab216f638df44cb883cd780cb847cb36",defaultMessage:"{selected} selected"},Ce)}),z.createElement(Je.make,{gap:"px8",fitToContent:!0,children:null},z.createElement(ht.make,{onClick:function(e){var t=pK.getMaxNumberOfCompetitors(1),r=ce.map(De,mK),a=me.getWithDefault(ce.splitAt(r,t),[r,0]);return Uq((function(e){}),ce.map(ce.concat(p.validatedCompetitors,a[0]),OD.Validated.toRaw),(function(e){var t=me.getWithDefault(ce.splitAt(e,ce.length(e)-10|0),[0,e]);return Fe(4,t[1])})),s._1(y,void 0)},children:s._1(ke.Message.to_s,{id:"0881807edeedc77949a694759f90d2a4",defaultMessage:"Add to chart"})}),z.createElement(sd.Button.make,{value:ce.joinWithNewLine(ce.map(De,gK)),label:s._1(ke.Message.to_s,{id:"92005275389b58285f79fb62a0204001",defaultMessage:"Copy"}),color:"outline"})))}else fe=z.createElement(Je.make,{layout:{hd:{NAME:"fr",VAL:1},tl:{hd:"auto",tl:0}},children:null},z.createElement("div",void 0,z.createElement(Je.make,{gap:"none",fitToContent:!0,children:null},z.createElement(H.make,{children:a.s(SK(p.competitorsGroupMode))}),z.createElement(Ot.make,{appendTo:1,content:FK(p.competitorsGroupMode),layer:{_0:1}}))),z.createElement("div",{className:Iq},z.createElement(kt.make,{gap:"px10",children:z.createElement(bt,{exportFunc:function(e,r){var a=me.getWithDefault(F.country,Qe);return L(e,Se({hd:n.Protocolless_url.show(t.url),tl:{hd:"orgcompetitors",tl:{hd:V.toExportName(t.mode),tl:{hd:se.code(a),tl:0}}}}),void 0,Yq.request,{args:{mode:t.mode,protocol:t.protocol,url:n.Protocolless_url.show(t.url),reportMode:M,country:a},params:{filter:B,size:r,offset:0,order_by:ex(F.volumeMode,M,F.sort.name,F.sort.direction),shape:ce.map(I,(function(e){return e[1]})),timeout:void 0},volumeMode:F.volumeMode})},isTrial:r.subscription.isTrial,limitResetDate:r.subscription.dateResetUsagesMonthly,totalResults:ve,target:t,limitsFunc:O})})));var we,Pe=p.remoteKeywordsByCountry,Me=p.remoteDataTable,Ae=0;"number"==typeof Pe||1!==Pe.TAG?Ae=1:we=Pe._0,1===Ae&&(we="number"==typeof Me||1!==Me.TAG?void 0:Me._0);var Re={settings:r,children:z.createElement(ct.make,{layout:{hd:"auto",tl:{hd:"auto",tl:{hd:{NAME:"fr",VAL:1},tl:0}}},children:null},z.createElement(oo,{onToggleSidebar:o,children:z.createElement(lt.make,{children:a.s(j.V2.show(8))})}),z.createElement(co,{showApplyFilters:!UK(T,F),onClearFilters:function(e){return s._1(w,F)},onApplyFilters:function(e){return b(void 0,T)},children:null},z.createElement(Pa.make,{data:T.volumeMode,onSelect:function(e){s._1(w,{chartMode:T.chartMode,competitors:T.competitors,volumeMode:e,sort:T.sort,country:T.country,isUserCountry:T.isUserCountry,currentDate:T.currentDate,compareDate:T.compareDate,volume:T.volume,kd:T.kd,cpc:T.cpc,words:T.words});var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.topPagesVolumeMode=e,t))}}),z.createElement(ai.make,{selectedItem:T.country,onApply:function(e){return s._1(w,{chartMode:T.chartMode,competitors:T.competitors,volumeMode:T.volumeMode,sort:T.sort,country:e,isUserCountry:!0,currentDate:T.currentDate,compareDate:T.compareDate,volume:T.volume,kd:T.kd,cpc:T.cpc,words:T.words})},remoteCountryMap:p.remoteKeywordsByCountry,listHeader:z.createElement(po.make,{padding:"control",children:z.createElement(Je.make,{children:null},z.createElement(pt.make,{color:"secondary",fontSize:"sm",children:s._1(ke.Message.to_s,{id:"6d310233c26f4625a6ec20b00e3885bf",defaultMessage:"Country"})}),z.createElement(pt.make,{color:"secondary",fontSize:"sm",align:"right",children:s._1(ke.Message.to_s,{id:"7990d3fd20df8e6adf5d86cd3c21efd4",defaultMessage:"Keywords"})}))})}),z.createElement(Tl.make,{currentDate:T.currentDate,compareDate:T.compareDate,historicalPermissions:r.reportHistoricalPermissions,isUpgradable:r.isUpgradable,onChange:function(e,t){return s._1(w,{chartMode:T.chartMode,competitors:T.competitors,volumeMode:T.volumeMode,sort:T.sort,country:T.country,isUserCountry:T.isUserCountry,currentDate:e,compareDate:t,volume:T.volume,kd:T.kd,cpc:T.cpc,words:T.words})},onCompareDateChange:function(e){var t=mt.caml_obj_dup(r.settings);return s._1(d,(t.orgKeywordsCompare=e,t))}}),z.createElement(zq,{filters:T,onFiltersChange:s.__1(w)})),z.createElement($q,{filters:F,target:t,remoteDataTop5:p.remoteDataChart,onFiltersChange:function(e){return b(void 0,e)},validatedCompetitors:p.validatedCompetitors,onCompetitorsChanged:Fe}),z.createElement(te.Table.make,{row:N,data:_e,hasAppliedFilters:""!==E,header:fe,isLoading:G[0],failureState:G[1],renderError:qe([p.remoteDataTable,p.remoteKeywordsByCountry],pe,r.isUpgradable),tableId:Mt(M),tooltipTarget:k,totalRowsNumber:ve,rowsSelectionConfig:[S,D,y],customFooter:0,sortDirection:F.sort.direction,sort:s._1(LK.Name.toString,F.sort.name),onSort:function(e,t,r){var a=F.chartMode,o=F.competitors,i=F.volumeMode,n={name:me.getWithDefault(s._1(LK.Name.ofString,e),s._1(LK.Name.getDefault,void 0)),direction:t},l=F.country,d=F.isUserCountry,c=F.currentDate,u=F.compareDate,g=F.volume,m=F.kd,f=F.cpc,p=F.words;return b(void 0,{chartMode:a,competitors:o,volumeMode:i,sort:n,country:l,isUserCountry:d,currentDate:c,compareDate:u,volume:g,kd:m,cpc:f,words:p})},onRefetch:pe,onClearFilters:function(e){return b(void 0,EK())}}),z.createElement(ut.make,{singleton:h[0]}))};return void 0!==we&&(Re.error=l.valFromOption(we)),z.createElement(Po,Re)},rx=r(7309);function ax(e,t){if("number"==typeof t)switch(t){case 0:return{isUnloading:e.isUnloading,isSidebarOpen:!e.isSidebarOpen,isSettingsModalOpen:e.isSettingsModalOpen,remoteSettings:e.remoteSettings,remoteValidatedTarget:e.remoteValidatedTarget};case 1:return{isUnloading:e.isUnloading,isSidebarOpen:e.isSidebarOpen,isSettingsModalOpen:!e.isSettingsModalOpen,remoteSettings:e.remoteSettings,remoteValidatedTarget:e.remoteValidatedTarget};case 2:return{isUnloading:e.isUnloading,isSidebarOpen:e.isSidebarOpen,isSettingsModalOpen:e.isSettingsModalOpen,remoteSettings:1,remoteValidatedTarget:e.remoteValidatedTarget};case 3:return{isUnloading:!0,isSidebarOpen:e.isSidebarOpen,isSettingsModalOpen:e.isSettingsModalOpen,remoteSettings:e.remoteSettings,remoteValidatedTarget:e.remoteValidatedTarget};case 4:return{isUnloading:!1,isSidebarOpen:e.isSidebarOpen,isSettingsModalOpen:e.isSettingsModalOpen,remoteSettings:e.remoteSettings,remoteValidatedTarget:e.remoteValidatedTarget};case 5:return{isUnloading:e.isUnloading,isSidebarOpen:e.isSidebarOpen,isSettingsModalOpen:e.isSettingsModalOpen,remoteSettings:e.remoteSettings,remoteValidatedTarget:1}}else switch(0|t.TAG){case 0:return{isUnloading:e.isUnloading,isSidebarOpen:e.isSidebarOpen,isSettingsModalOpen:e.isSettingsModalOpen,remoteSettings:t._0,remoteValidatedTarget:e.remoteValidatedTarget};case 1:var r=t._0;return{isUnloading:e.isUnloading,isSidebarOpen:e.isSidebarOpen,isSettingsModalOpen:!1,remoteSettings:de.map(e.remoteSettings,(function(e){return{settings:r,limits:e.limits,reportHistoricalPermissions:e.reportHistoricalPermissions,chartHistoricalPermissions:e.chartHistoricalPermissions,historicalPermissionsRelaxed:e.historicalPermissionsRelaxed,subscription:e.subscription,isUpgradable:e.isUpgradable}})),remoteValidatedTarget:e.remoteValidatedTarget};case 2:return{isUnloading:e.isUnloading,isSidebarOpen:e.isSidebarOpen,isSettingsModalOpen:e.isSettingsModalOpen,remoteSettings:e.remoteSettings,remoteValidatedTarget:t._0};case 3:var a=t._0;return{isUnloading:e.isUnloading,isSidebarOpen:e.isSidebarOpen,isSettingsModalOpen:e.isSettingsModalOpen,remoteSettings:e.remoteSettings,remoteValidatedTarget:de.map(e.remoteValidatedTarget,(function(e){return{protocol:e.protocol,url:e.url,mode:a}}))}}}function ox(e,t){return s._1(e,5),Ye.forEach(d.performResult(void 0,void 0,FP.request,{target:Ve.toUrl(t)}),(function(r){return s._1(e,{TAG:2,_0:de.map(r,(function(e){return{protocol:t.protocol,url:e.url,mode:t.mode}}))})}))}var ix=r(63111),nx=r(21777),sx=r(58079),lx=r(70766);0===o.env&&(r(28234),r(22077));var dx=me.getWithDefault(nx.get(lx.read_domPayload),ld);a.renderToElementWithId(z.createElement(sx.make,{}),ix.userMenuDropdown),a.renderToElementWithId(z.createElement((function(e){var t=e.limits,r=he.useUrl(void 0,void 0),o=r.search,d=r.hash,c=r.path,u=i.parseQuery(o,void 0,void 0,void 0),m=z.useReducer(ax,{isUnloading:!1,isSidebarOpen:!0,isSettingsModalOpen:!1,remoteSettings:0,remoteValidatedTarget:0}),f=m[1],p=m[0],_=p.remoteValidatedTarget,h=p.remoteSettings,k=z.useMemo((function(){return He(c,o)[0]}),[ce.toArray(c).join(""),Ve.Deprecated.getter(u)]),v=He(c,o)[1];z.useEffect((function(){ox(f,v)}),[Ve.toKey(v)]),z.useEffect((function(){de.forEach(_,(function(e){return he.replace(i.makeStringWithQueryDict(i.makePathname(c),l.some(s._2(Ve.Filter.toQuery,i.parseQueryToDict(o,void 0,void 0),Ve.Safe.toUiString(e))),void 0,void 0,void 0))}))}),[de.mapWithDefault(_,"",Ve.Safe.toKey)]);var y=function(e){return s._1(f,1)},D=function(e){return s._1(f,0)},S=function(e){return s._1(f,2),Ye.forEach(A(void 0,g.request,void 0),(function(e){return s._1(f,{TAG:0,_0:e})}))};z.useEffect((function(){S()}),[]);var F,C=function(e){s._1(f,{TAG:1,_0:e}),ju.setSettings(e)},w=function(e){return s._1(f,3)};z.useEffect((function(){return s._1(f,4),window.addEventListener("beforeunload",w),function(e){window.removeEventListener("beforeunload",w)}}),[r]),z.useEffect((function(){void 0!==k&&"number"!=typeof _&&2===_.TAG&&function(e,t){var r=Vu.asHtmlDocument(document);void 0===r||(l.valFromOption(r).title=j.V2.show(e)+": "+t)}(k,n.Protocolless_url.show(_._0.url))}),[k,_]),z.useEffect((function(){window.scrollTo(0,0)}),[k]);var T,b=0,P=0,M=0;if("number"==typeof h||2!==h.TAG)M=4;else{var R=h._0;if("number"==typeof _)M=4;else switch(0|_.TAG){case 1:var L=_._0;0===L.TAG?(T=L._0.reqId,b=2):F=z.createElement(yo.make,{});break;case 2:var E,B=_._0;if(void 0!==k)switch(k){case 0:E=z.createElement(Fb,{target:B,settings:R,onToggleSidebar:D,onSettingsUpdated:C});break;case 1:E=z.createElement(dP,{target:B,settings:R,onSettingsUpdated:C,onToggleSidebar:D});break;case 2:E=z.createElement(JB,{target:B,settings:R,onToggleSidebar:D});break;case 3:E=R.limits.isBrokenBacklinksAvailable?z.createElement(jL,{target:B,settings:R,onSettingsUpdated:C,onToggleSidebar:D}):z.createElement("div",{className:Uu},z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"425243f181fdd3c3fdf648a08b24f430",defaultMessage:"Broken Backlinks"}),text:s._1(ke.Message.to_s,{id:"fd3dcd444fdbd2b4c2b8270fb41e1df9",defaultMessage:"See whether a target website or URL has “broken” backlinks pointing to it."}),imageType:{TAG:2,_0:"ys3gvxy856"},imageGap:"px40"}));break;case 4:E=z.createElement(bA,{target:B,settings:R,onToggleSidebar:D});break;case 5:E=z.createElement(SP,{target:B,settings:R,onToggleSidebar:D});break;case 6:E=z.createElement(X_,{target:B,settings:R,onToggleSidebar:D});break;case 7:E=z.createElement(rE,{target:B,settings:R,onToggleSidebar:D,onSettingsUpdated:C});break;case 8:E=z.createElement(tx,{target:B,settings:R,onToggleSidebar:D,onSettingsUpdated:C});break;case 9:E=z.createElement(zc,{target:B,settings:R,onToggleSidebar:D,onSettingsUpdated:C});break;case 10:E=z.createElement(Jb,{target:B,settings:R,onToggleSidebar:D,onSettingsUpdated:C});break;case 11:E=R.limits.isSiteStructureAvailable?z.createElement(yL,{target:B,settings:R,onToggleSidebar:D,onSettingsUpdated:C}):z.createElement("div",{className:Uu},z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"5a4ff10ad3048f938ec9331efa11533f",defaultMessage:"Upgrade to unlock Site Structure"}),text:s._1(ke.Message.to_s,{id:"14a29af1f02b4cb28ceb8b00289b057c",defaultMessage:"See a breakdown of the parts of a site that contribute to its SEO performance for both traffic and backlinks data."}),imageType:{TAG:1,_0:z.cloneElement(z.createElement("iframe",{className:Ou,allowFullScreen:!0,src:"https://fast.wistia.com/embed/medias/y78d6suysz"}),{})},imageGap:"px40"}));break;case 12:E=z.createElement(Ol,{target:B,settings:R,onToggleSidebar:D,onSettingsUpdated:C});break;case 13:E=R.limits.isCalendarAvailable||R.limits.isCalendarLiteAvailable?z.createElement(bD,{target:B,settings:R,onToggleSidebar:D}):z.createElement(Nv,{});break;case 14:E=z.createElement(Bu,{target:B,settings:R,onToggleSidebar:D,onSettingsUpdated:C});break;case 15:E=De(15)&&R.limits.isOutgoingLinksAvailable?z.createElement(IB,{target:B,settings:R,onToggleSidebar:D}):De(15)&&!R.limits.isOutgoingLinksAvailable?z.createElement("div",{key:"upgradeOutgoingDomains",className:Uu},z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"e30a9dee4392699f8930fc42af7283f0",defaultMessage:"Linked domains"}),text:s._1(ke.Message.to_s,{id:"48aba2f6058ba8d3ed60358a05cc0910",defaultMessage:"See the unique domains that your target website links to."}),imageType:{TAG:2,_0:"r781y50eip"},imageGap:"px40"})):z.createElement(Hu.make,{});break;case 16:E=De(16)&&R.limits.isOutgoingLinksAvailable?z.createElement(RB,{target:B,settings:R,onToggleSidebar:D}):De(16)&&!R.limits.isOutgoingLinksAvailable?z.createElement("div",{key:"upgradeOutgoingAnchors",className:Uu},z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"b8c2853ec268eb6103b7948d349d5db2",defaultMessage:"Outgoing anchors"}),text:s._1(ke.Message.to_s,{id:"3a27b60eee9064d8243ab0b64a2d936d",defaultMessage:"See the anchor text of all internal and external links on your target website."}),imageType:{TAG:2,_0:"pcco33cspt"},imageGap:"px40"})):z.createElement(Hu.make,{});break;case 17:E=De(17)&&R.limits.isOutgoingLinksAvailable?z.createElement(rR,{target:B,settings:R,onToggleSidebar:D}):De(17)&&!R.limits.isOutgoingLinksAvailable?z.createElement("div",{key:"upgradeOutgoingLinks",className:Uu},z.createElement(Yi.make,{title:s._1(ke.Message.to_s,{id:"1bea63c5c5bc34626dc0a4cd2dc0bd40",defaultMessage:"Outgoing links"}),text:s._1(ke.Message.to_s,{id:"399ad21631af6836aef9e4a2388f0a00",defaultMessage:"Look at and search across all external links on your target website."}),imageType:{TAG:1,_0:z.createElement("img",{height:"506",src:rx,width:"898"})},imageGap:"px40"})):z.createElement(Hu.make,{})}else E=z.createElement(Hu.make,{});F=z.createElement(z.Fragment,void 0,z.createElement(Qu,{target:B,page:k,settings:h,isOpen:p.isSidebarOpen}),z.createElement("main",{className:xu},E),z.createElement(_P,{data:R.settings,onSaved:function(e){s._1(f,{TAG:1,_0:e});var t=s._1(ya.Pagination.Deprecated.clearOffset,Zo.clear(i.parseQuery(o,void 0,void 0,void 0)));return he.push(i.makeString(i.makePathname(c),l.some(t),d,void 0,void 0))},isOpen:p.isSettingsModalOpen,onClose:y}));break;default:M=4}}if(4===M)if("number"==typeof _)b=1;else switch(0|_.TAG){case 1:case 2:P=3;break;default:b=1}switch(3===P&&("number"==typeof h||1!==h.TAG?b=1:(T=h._0.reqId,b=2)),b){case 1:F=z.createElement(Ct.make,{size:"xl",isCenter:!0});break;case 2:F=z.createElement(le.make,{reqId:T,onClick:function(e){S();var t=He(c,o);return ox(f,t[1])}})}return z.createElement(ud,{limits:t,children:z.createElement(Z_.Provider.make,{search:o,children:z.createElement("div",{className:Ku},p.isUnloading?z.createElement("div",{className:Wu}):null,a.renderDefaultNull(k,(function(e){var t=He(c,o);return z.createElement(st,{target:t[1],onChangeTarget:function(t){var r=de.mapWithDefault(_,"",(function(e){return Ve.toUrl(Ve.Safe.toUnsafe(e))}));r!==Ve.toUrl(t)?ox(f,t):s._1(f,{TAG:3,_0:t.mode});var a,n=s._1(ya.Pagination.Deprecated.clearOffset,i.parseQuery(o,void 0,void 0,void 0));switch(e){case 0:a=j.V2.makeOverviewUrl(t,void 0,l.some(n),void 0);break;case 1:a=j.V2.makeBacklinksUrl(t,void 0,void 0,l.some(n),void 0);break;case 2:a=j.V2.makeInternalBacklinksUrl(t,void 0,l.some(n),void 0);break;case 3:a=j.V2.makeBrokenBacklinksUrl(t,void 0,void 0,l.some(n),void 0);break;case 4:a=j.V2.makeBestByLinksUrl(t,l.some(n),void 0);break;case 5:a=j.V2.makeRefdomainsUrl(t,void 0,l.some(n),void 0);break;case 6:a=j.V2.makeAnchorsUrl(t,l.some(n),void 0);break;case 7:a=j.V2.makeOrganicKeywordsUrl(t,void 0,l.some(n),void 0);break;case 8:a=j.V2.makeOrganicCompetitorsUrl(t,void 0,l.some(n),void 0);break;case 9:a=j.V2.makePaidKeywordsUrl(t,void 0,l.some(n),void 0);break;case 10:a=j.V2.makeTopPagesUrl(t,l.some(n),void 0);break;case 11:a=j.V2.makeSiteStructureUrl(t,l.some(n),void 0);break;case 12:a=j.V2.makePaidPagesUrl(t,void 0,l.some(n),void 0);break;case 13:a=j.V2.makeCalendarUrl(t,l.some(n),void 0);break;case 14:a=j.V2.makeAdsUrl(t,void 0,l.some(n),void 0);break;case 15:a=j.V2.makeOutgoingDomainsUrl(t,l.some(n),void 0);break;case 16:a=j.V2.makeOutgoingAnchorsUrl(t,l.some(n),void 0);break;case 17:a=j.V2.makeOutgoingLinksUrl(t,l.some(n),void 0)}return he.push(a)},onToggleSettingsModal:y})})),z.createElement(PA.make,{tool:1}),z.createElement("div",{className:qu},F),z.createElement(ze.make,{}))})})}),{limits:dx}),ix.appContainerId),a.enableHotReload(void 0)},88083:function(e,t,r){"use strict";e.exports=r.p+"9b5900c77f83fb121f7b.png"},38707:function(e,t,r){"use strict";e.exports=r.p+"9e3828ee74d49c7fb03e.png"},29701:function(e,t,r){"use strict";e.exports=r.p+"3f6797cf12c22b9e0706.png"},58119:function(e,t,r){"use strict";e.exports=r.p+"662955bf0db6df3cada5.png"},7309:function(e,t,r){"use strict";e.exports=r.p+"ec00e90f6afd35ad8700.png"},96553:function(){}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,l),r.loaded=!0,r.exports}l.m=n,e=[],l.O=function(t,r,a,o){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],o=e[c][2];for(var n=!0,s=0;s<r.length;s++)(!1&o||i>=o)&&Object.keys(l.O).every((function(e){return l.O[e](r[s])}))?r.splice(s--,1):(n=!1,o<i&&(i=o));if(n){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var o=Object.create(null);l.r(o);var i={};t=t||[null,r({}),r([]),r(r)];for(var n=2&a&&e;"object"==typeof n&&!~t.indexOf(n);n=r(n))Object.getOwnPropertyNames(n).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},l.d(o,i),o},l.d=function(e,t){for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,r){return l.f[r](e,t),t}),[]))},l.u=function(e){return"js/"+{58:"1c1dbf2b",102:"4487e4d3",141:"d1a6b5a4",196:"bc5a18f5",263:"848f27db",376:"db2ce06c",461:"7901b2ee",471:"67fd6ab6",530:"b6752406",646:"975985e8",668:"eaf8868c",712:"cecaa1b8",753:"f049e66e",783:"800ed5fb",815:"ada96116",1014:"cbd26731",1115:"96a3bf4f",1173:"4a7b6c95",1261:"197d2fe0",1359:"10eda227",1402:"3bdb5b96",1622:"122a2674",1684:"66ed1675",1791:"633c914f",1810:"e9f27df7",1824:"739cff2b",1909:"9495d79d",1977:"9eec05a9",2021:"679faa6e",2108:"d8121e4b",2339:"a2853168",2432:"dbb609fb",2610:"8c05d701",2683:"9a1f6a8d",2701:"af8d7fc6",2762:"f78eb7e2",2942:"7fc01137",2948:"8667009f",3e3:"a54eb65a",3012:"a44ae033",3107:"33d3ce13",3158:"212dc225",3262:"dc919583",3271:"e449880c",3272:"93d32080",3273:"82137593",3286:"f8c3a8f2",3310:"d384d5f8",3410:"f83c0463",3566:"47803f6e",3607:"02071d18",3832:"13571d7d",3910:"46e78737",3923:"eb132494",3989:"b66cadd5",4016:"6b082853",4029:"7c4e67e9",4036:"d352c0c1",4053:"2bbb8a7d",4083:"82bffc57",4103:"730fa80e",4144:"6dc06375",4170:"6584dfdd",4172:"a57f45e7",4316:"aca29c63",4326:"998eb4a0",4540:"350a41c6",4663:"781b09d9",4784:"f884d363",4835:"529747ea",4846:"11b89631",4877:"406c447a",5149:"03884199",5297:"fdc9897f",5304:"2af18d39",5525:"940d9a00",5566:"a5fc602f",5694:"df26bdc2",5759:"8f6ff98c",5903:"b1708883",5992:"4372183f",6228:"6676a634",6271:"b4b393c3",6336:"77baa62a",6373:"dbc78254",6548:"48fa4e90",6566:"02dade44",6699:"25f8cdab",6722:"a8949db1",6729:"f8ea261c",6753:"684e98c3",6830:"fc65a781",6844:"84ac452f",6942:"8553abb2",7022:"de1b8a33",7023:"81db5eaf",7265:"db8d9b1d",7549:"803b0905",7561:"2d120589",7612:"8110e468",7643:"ea26c83e",7709:"7369016a",7768:"3e11c8c0",7842:"f8e2919e",7877:"5fb1627d",8074:"74256879",8117:"a700fb35",8200:"7c9db8ff",8336:"441c7246",8364:"5ddb6449",8370:"1b1e59fc",8380:"c4f4d15c",8406:"fb1c6c69",8428:"81216bc1",8447:"68cba8ab",8505:"566346ce",8547:"35ea9c4d",8575:"33e1b187",8633:"076de978",8881:"18d2fa2d",9038:"862912d1",9092:"aeeb6809",9173:"7fc1de40",9235:"8fab3aa2",9286:"4e849c53",9356:"d9d86139",9472:"f53e9153",9504:"7261d87d",9549:"8f5f3d3c",9551:"07479bac",9634:"f8a3cbea",9827:"3eccc3e2",9848:"f78601e9",9874:"16db4080",9964:"029c9ce4",9983:"5507c0cc"}[e]+".chunk.js"},l.miniCssF=function(e){return e+"."+l.h()+".css"},l.h=function(){return"ba65cc3bc6d57f6e3f16"},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a={},l.l=function(e,t,r,o){if(a[e])a[e].push(t);else{var i,n;if(void 0!==r)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var c=s[d];if(c.getAttribute("src")==e){i=c;break}}i||(n=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.src=e),a[e]=[t];var u=function(t,r){i.onerror=i.onload=null,clearTimeout(g);var o=a[e];if(delete a[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(r)})),t)return t(r)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),n&&document.head.appendChild(i)}},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},l.p="/app/tools/assets/",o=function(e){return new Promise((function(t,r){var a=l.miniCssF(e),o=l.p+a;if(function(e,t){for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var o=(n=r[a]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(o===e||o===t))return n}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){var n;if((o=(n=i[a]).getAttribute("data-href"))===e||o===t)return n}}(a,o))return t();!function(e,t,r,a){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(i){if(o.onerror=o.onload=null,"load"===i.type)r();else{var n=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=s,o.parentNode.removeChild(o),a(l)}},o.href=t,document.head.appendChild(o)}(e,o,t,r)}))},i={3509:0,4090:0},l.f.miniCss=function(e,t){i[e]?t.push(i[e]):0!==i[e]&&{8505:1}[e]&&t.push(i[e]=o(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))},function(){l.b=document.baseURI||self.location.href;var e={3509:0,4090:0};l.f.j=function(t,r){var a=l.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(r,o){a=e[t]=[r,o]}));r.push(a[2]=o);var i=l.p+l.u(t),n=new Error;l.l(i,(function(r){if(l.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;n.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",n.name="ChunkLoadError",n.type=o,n.request=i,a[1](n)}}),"chunk-"+t,t)}},l.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],n=r[1],s=r[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)l.o(n,a)&&(l.m[a]=n[a]);if(s)var c=s(l)}for(t&&t(r);d<i.length;d++)o=i[d],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(c)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var d=l.O(void 0,[4858,8644,7499,878,38,6506,9093,1105,4082,4556,9248,4142,9775,2080,5773,188,2134,2096,3442,372,7419,5504,7867,8593,5233,7657,1536,6229,302,3711,4868,4538,2452,5113,6924,8661],(function(){return l(15379)}));d=l.O(d)}();